(self.webpackChunkget_started_angular=self.webpackChunkget_started_angular||[]).push([[179],{5957:(hc,$e,j)=>{"use strict";function x(t){return"function"==typeof t}function G(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const se=G(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function $(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class w{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const p of e)p.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(x(r))try{r()}catch(p){n=p instanceof se?p.errors:[p]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const p of i)try{L(p)}catch(S){n=null!=n?n:[],S instanceof se?n=[...n,...S.errors]:n.push(S)}}if(n)throw new se(n)}}add(n){var e;if(n&&n!==this)if(this.closed)L(n);else{if(n instanceof w){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&$(e,n)}remove(n){const{_teardowns:e}=this;e&&$(e,n),n instanceof w&&n._removeParent(this)}}w.EMPTY=(()=>{const t=new w;return t.closed=!0,t})();const F=w.EMPTY;function R(t){return t instanceof w||t&&"closed"in t&&x(t.remove)&&x(t.add)&&x(t.unsubscribe)}function L(t){x(t)?t():t.unsubscribe()}const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},T={setTimeout(...t){const{delegate:n}=T;return((null==n?void 0:n.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:n}=T;return((null==n?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function C(t){T.setTimeout(()=>{const{onUnhandledError:n}=m;if(!n)throw t;n(t)})}function y(){}const h=d("C",void 0,void 0);function d(t,n,e){return{kind:t,value:n,error:e}}let u=null;function a(t){if(m.useDeprecatedSynchronousErrorHandling){const n=!u;if(n&&(u={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=u;if(u=null,e)throw r}}else t()}class s extends w{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,R(n)&&n.add(this)):this.destination=D}static create(n,e,r){return new l(n,e,r)}next(n){this.isStopped?M(function f(t){return d("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?M(function v(t){return d("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?M(h,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class l extends s{constructor(n,e,r){let i;if(super(),x(n))i=n;else if(n){let p;({next:i,error:e,complete:r}=n),this&&m.useDeprecatedNextContext?(p=Object.create(n),p.unsubscribe=()=>this.unsubscribe()):p=n,i=null==i?void 0:i.bind(p),e=null==e?void 0:e.bind(p),r=null==r?void 0:r.bind(p)}this.destination={next:i?c(i):y,error:c(null!=e?e:b),complete:r?c(r):y}}}function c(t,n){return(...e)=>{try{t(...e)}catch(r){m.useDeprecatedSynchronousErrorHandling?function o(t){m.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=t)}(r):C(r)}}}function b(t){throw t}function M(t,n){const{onStoppedNotification:e}=m;e&&T.setTimeout(()=>e(t,n))}const D={closed:!0,next:y,error:b,complete:y},g="function"==typeof Symbol&&Symbol.observable||"@@observable";function P(t){return t}let Z=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){const p=function E(t){return t&&t instanceof s||function H(t){return t&&x(t.next)&&x(t.error)&&x(t.complete)}(t)&&R(t)}(e)?e:new l(e,r,i);return a(()=>{const{operator:S,source:W}=this;p.add(S?S.call(p,W):W?this._subscribe(p):this._trySubscribe(p))}),p}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=re(r))((i,p)=>{let S;S=this.subscribe(W=>{try{e(W)}catch(K){p(K),null==S||S.unsubscribe()}},p,i)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[g](){return this}pipe(...e){return function k(t){return 0===t.length?P:1===t.length?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}(e)(this)}toPromise(e){return new(e=re(e))((r,i)=>{let p;this.subscribe(S=>p=S,S=>i(S),()=>r(p))})}}return t.create=n=>new t(n),t})();function re(t){var n;return null!==(n=null!=t?t:m.Promise)&&void 0!==n?n:Promise}const B=G(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let U=(()=>{class t extends Z{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new ae(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new B}next(e){a(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(e)}})}error(e){a(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){a(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:p}=this;return r||i?F:(p.push(e),new w(()=>$(p,e)))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:p}=this;r?e.error(i):p&&e.complete()}asObservable(){const e=new Z;return e.source=this,e}}return t.create=(n,e)=>new ae(n,e),t})();class ae extends U{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:F}}function Pe(t){return x(null==t?void 0:t.lift)}function je(t){return n=>{if(Pe(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class ft extends s{constructor(n,e,r,i,p){super(n),this.onFinalize=p,this._next=e?function(S){try{e(S)}catch(W){n.error(W)}}:super._next,this._error=i?function(S){try{i(S)}catch(W){n.error(W)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(S){n.error(S)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}function gt(t,n){return je((e,r)=>{let i=0;e.subscribe(new ft(r,p=>{r.next(t.call(n,p,i++))}))})}function Li(t){return this instanceof Li?(this.v=t,this):new Li(t)}function bs(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(t,n||[]),p=[];return i={},S("next"),S("throw"),S("return"),i[Symbol.asyncIterator]=function(){return this},i;function S(Ae){r[Ae]&&(i[Ae]=function(We){return new Promise(function(dt,Qt){p.push([Ae,We,dt,Qt])>1||W(Ae,We)})})}function W(Ae,We){try{!function K(Ae){Ae.value instanceof Li?Promise.resolve(Ae.value.v).then(ne,de):be(p[0][2],Ae)}(r[Ae](We))}catch(dt){be(p[0][3],dt)}}function ne(Ae){W("next",Ae)}function de(Ae){W("throw",Ae)}function be(Ae,We){Ae(We),p.shift(),p.length&&W(p[0][0],p[0][1])}}function bo(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Ci(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(p){e[p]=t[p]&&function(S){return new Promise(function(W,K){!function i(p,S,W,K){Promise.resolve(K).then(function(ne){p({value:ne,done:W})},S)}(W,K,(S=t[p](S)).done,S.value)})}}}const _t=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Mn(t){return x(null==t?void 0:t.then)}function Tr(t){return x(t[g])}function Pr(t){return Symbol.asyncIterator&&x(null==t?void 0:t[Symbol.asyncIterator])}function si(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Oi=function gi(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function qi(t){return x(null==t?void 0:t[Oi])}function $i(t){return bs(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:i}=yield Li(e.read());if(i)return yield Li(void 0);yield yield Li(r)}}finally{e.releaseLock()}})}function ko(t){return x(null==t?void 0:t.getReader)}function Fi(t){if(t instanceof Z)return t;if(null!=t){if(Tr(t))return function ls(t){return new Z(n=>{const e=t[g]();if(x(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(_t(t))return function Xt(t){return new Z(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(Mn(t))return function ta(t){return new Z(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,C)})}(t);if(Pr(t))return qo(t);if(qi(t))return function Ko(t){return new Z(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(ko(t))return function xa(t){return qo($i(t))}(t)}throw si(t)}function qo(t){return new Z(n=>{(function Mo(t,n){var e,r,i,p;return function nr(t,n,e,r){return new(e||(e=Promise))(function(p,S){function W(de){try{ne(r.next(de))}catch(be){S(be)}}function K(de){try{ne(r.throw(de))}catch(be){S(be)}}function ne(de){de.done?p(de.value):function i(p){return p instanceof e?p:new e(function(S){S(p)})}(de.value).then(W,K)}ne((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=bo(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(S){i={error:S}}finally{try{r&&!r.done&&(p=e.return)&&(yield p.call(e))}finally{if(i)throw i.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function bi(t,n,e,r=0,i=!1){const p=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(p),!i)return p}function wi(t,n,e=1/0){return x(n)?wi((r,i)=>gt((p,S)=>n(r,p,i,S))(Fi(t(r,i))),e):("number"==typeof n&&(e=n),je((r,i)=>function Zl(t,n,e,r,i,p,S,W){const K=[];let ne=0,de=0,be=!1;const Ae=()=>{be&&!K.length&&!ne&&n.complete()},We=Qt=>ne<r?dt(Qt):K.push(Qt),dt=Qt=>{p&&n.next(Qt),ne++;let an=!1;Fi(e(Qt,de++)).subscribe(new ft(n,on=>{null==i||i(on),p?We(on):n.next(on)},()=>{an=!0},void 0,()=>{if(an)try{for(ne--;K.length&&ne<r;){const on=K.shift();S?bi(n,S,()=>dt(on)):dt(on)}Ae()}catch(on){n.error(on)}}))};return t.subscribe(new ft(n,We,()=>{be=!0,Ae()})),()=>{null==W||W()}}(r,i,t,e)))}function Ns(t=1/0){return wi(P,t)}const mi=new Z(t=>t.complete());function Ps(t){return t[t.length-1]}function js(t){return x(Ps(t))?t.pop():void 0}function na(t){return function vl(t){return t&&x(t.schedule)}(Ps(t))?t.pop():void 0}function Hs(t,n=0){return je((e,r)=>{e.subscribe(new ft(r,i=>bi(r,t,()=>r.next(i),n),()=>bi(r,t,()=>r.complete(),n),i=>bi(r,t,()=>r.error(i),n)))})}function Lu(t,n=0){return je((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function Us(t,n){if(!t)throw new Error("Iterable cannot be null");return new Z(e=>{bi(e,n,()=>{const r=t[Symbol.asyncIterator]();bi(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function yi(t,n){return n?function oa(t,n){if(null!=t){if(Tr(t))return function pc(t,n){return Fi(t).pipe(Lu(n),Hs(n))}(t,n);if(_t(t))return function Cl(t,n){return new Z(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(Mn(t))return function So(t,n){return Fi(t).pipe(Lu(n),Hs(n))}(t,n);if(Pr(t))return Us(t,n);if(qi(t))return function ra(t,n){return new Z(e=>{let r;return bi(e,n,()=>{r=t[Oi](),bi(e,n,()=>{let i,p;try{({value:i,done:p}=r.next())}catch(S){return void e.error(S)}p?e.complete():e.next(i)},0,!0)}),()=>x(null==r?void 0:r.return)&&r.return()})}(t,n);if(ko(t))return function ia(t,n){return Us($i(t),n)}(t,n)}throw si(t)}(t,n):Fi(t)}function gs(t){return t<=0?()=>mi:je((n,e)=>{let r=0;n.subscribe(new ft(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function yf(t,n,...e){return!0===n?(t(),null):!1===n?null:n(...e).pipe(gs(1)).subscribe(()=>t())}function kr(t){for(let n in t)if(t[n]===kr)return n;throw Error("Could not find renamed property on target object.")}function bl(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function $r(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map($r).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function _n(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Fu=kr({__forward_ref__:kr});function zn(t){return t.__forward_ref__=zn,t.toString=function(){return $r(this())},t}function lr(t){return Nu(t)?t():t}function Nu(t){return"function"==typeof t&&t.hasOwnProperty(Fu)&&t.__forward_ref__===zn}class wr extends Error{constructor(n,e){super(function Bu(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function Yn(t){return"string"==typeof t?t:null==t?"":String(t)}function Gi(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Yn(t)}function Ji(t,n){const e=n?` in ${n}`:"";throw new wr(-201,`No provider for ${Gi(t)} found${e}`)}function lo(t,n){null==t&&function Jr(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function Zn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Nr(t){return{providers:t.providers||[],imports:t.imports||[]}}function ju(t){return qa(t,Po)||qa(t,_s)}function qa(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ta(t){return t&&(t.hasOwnProperty(yc)||t.hasOwnProperty(Uh))?t[yc]:null}const Po=kr({\u0275prov:kr}),yc=kr({\u0275inj:kr}),_s=kr({ngInjectableDef:kr}),Uh=kr({ngInjectorDef:kr});var ur=(()=>((ur=ur||{})[ur.Default=0]="Default",ur[ur.Host=1]="Host",ur[ur.Self=2]="Self",ur[ur.SkipSelf=4]="SkipSelf",ur[ur.Optional=8]="Optional",ur))();let Ef;function Xr(t){const n=Ef;return Ef=t,n}function Mi(t,n,e){const r=ju(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&ur.Optional?null:void 0!==n?n:void Ji($r(t),"Injector")}function $a(t){return{toString:t}.toString()}var us=(()=>((us=us||{})[us.OnPush=0]="OnPush",us[us.Default=1]="Default",us))(),sa=(()=>{return(t=sa||(sa={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",sa;var t})();const Wh="undefined"!=typeof globalThis&&globalThis,Tf="undefined"!=typeof window&&window,bd="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Mr=Wh||"undefined"!=typeof global&&global||Tf||bd,Eo={},jr=[],zs=kr({\u0275cmp:kr}),wa=kr({\u0275dir:kr}),Ga=kr({\u0275pipe:kr}),Wi=kr({\u0275mod:kr}),ce=kr({\u0275fac:kr}),Tn=kr({__NG_ELEMENT_ID__:kr});let El=0;function Wt(t){return $a(()=>{const e={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===us.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||jr,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||sa.Emulated,id:"c",styles:t.styles||jr,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,p=t.features,S=t.pipes;return r.id+=El++,r.inputs=Td(t.inputs,e),r.outputs=Td(t.outputs),p&&p.forEach(W=>W(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(yn):null,r.pipeDefs=S?()=>("function"==typeof S?S():S).map(Lt):null,r})}function yn(t){return Di(t)||function xl(t){return t[wa]||null}(t)}function Lt(t){return function Da(t){return t[Ga]||null}(t)}const Hu={};function $o(t){return $a(()=>{const n={type:t.type,bootstrap:t.bootstrap||jr,declarations:t.declarations||jr,imports:t.imports||jr,exports:t.exports||jr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Hu[t.id]=t.type),n})}function Td(t,n){if(null==t)return Eo;const e={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],p=i;Array.isArray(i)&&(p=i[1],i=i[0]),e[i]=r,n&&(n[i]=p)}return e}const qn=Wt;function wn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Di(t){return t[zs]||null}function cs(t,n){const e=t[Wi]||null;if(!e&&!0===n)throw new Error(`Type ${$r(t)} does not have '\u0275mod' property.`);return e}function la(t){return Array.isArray(t)&&"object"==typeof t[1]}function Es(t){return Array.isArray(t)&&!0===t[1]}function bc(t){return 0!=(8&t.flags)}function _u(t){return 2==(2&t.flags)}function zu(t){return 1==(1&t.flags)}function Fo(t){return null!==t.template}function zh(t){return 0!=(512&t[2])}function Re(t,n){return t.hasOwnProperty(ce)?t[ce]:null}class qe{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ie(){return ze}function ze(t){return t.type.prototype.ngOnChanges&&(t.setInput=Et),at}function at(){const t=Yt(this),n=null==t?void 0:t.current;if(n){const e=t.previous;if(e===Eo)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function Et(t,n,e,r){const i=Yt(t)||function wt(t,n){return t[Ft]=n}(t,{previous:Eo,current:null}),p=i.current||(i.current={}),S=i.previous,W=this.declaredInputs[e],K=S[W];p[W]=new qe(K&&K.currentValue,n,S===Eo),t[r]=n}Ie.ngInherit=!0;const Ft="__ngSimpleChanges__";function Yt(t){return t[Ft]||null}let Mt;function Dt(){return void 0!==Mt?Mt:"undefined"!=typeof document?document:void 0}function St(t){return!!t.listen}const In={createRenderer:(t,n)=>Dt()};function Ue(t){for(;Array.isArray(t);)t=t[0];return t}function pt(t,n){return Ue(n[t])}function vt(t,n){return Ue(n[t.index])}function Rt(t,n){return t.data[n]}function cn(t,n){return t[n]}function nn(t,n){const e=n[t];return la(e)?e:e[0]}function Sn(t){return 4==(4&t[2])}function An(t){return 128==(128&t[2])}function Bt(t,n){return null==n?null:t[n]}function Je(t){t[18]=0}function hr(t,n){t[5]+=n;let e=t,r=t[3];for(;null!==r&&(1===n&&1===e[5]||-1===n&&0===e[5]);)r[5]+=n,e=r,r=r[3]}const tn={lFrame:ku(null),bindingsEnabled:!0};function pr(){return tn.bindingsEnabled}function Vt(){return tn.lFrame.lView}function Un(){return tn.lFrame.tView}function Nt(t){return tn.lFrame.contextLView=t,t[8]}function kn(){let t=On();for(;null!==t&&64===t.type;)t=t.parent;return t}function On(){return tn.lFrame.currentTNode}function Ir(t,n){const e=tn.lFrame;e.currentTNode=t,e.isParent=n}function ks(){return tn.lFrame.isParent}function li(){tn.lFrame.isParent=!1}function Hr(){const t=tn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Ei(){return tn.lFrame.bindingIndex++}function er(t){const n=tn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function Go(t,n){const e=tn.lFrame;e.bindingIndex=e.bindingRootIndex=t,ua(n)}function ua(t){tn.lFrame.currentDirectiveIndex=t}function ca(){return tn.lFrame.currentQueryIndex}function fa(t){tn.lFrame.currentQueryIndex=t}function xs(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function co(t,n,e){if(e&ur.SkipSelf){let i=n,p=t;for(;!(i=i.parent,null!==i||e&ur.Host||(i=xs(p),null===i||(p=p[15],10&i.type))););if(null===i)return!1;n=i,t=p}const r=tn.lFrame=Ts();return r.currentTNode=n,r.lView=t,!0}function ki(t){const n=Ts(),e=t[1];tn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Ts(){const t=tn.lFrame,n=null===t?null:t.child;return null===n?ku(t):n}function ku(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function rl(){const t=tn.lFrame;return tn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const da=rl;function ws(){const t=rl();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ii(){return tn.lFrame.selectedIndex}function Jo(t){tn.lFrame.selectedIndex=t}function ci(){const t=tn.lFrame;return Rt(t.tView,t.selectedIndex)}function Er(){tn.lFrame.currentNamespace="svg"}function Sa(){!function Ec(){tn.lFrame.currentNamespace=null}()}function xc(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const p=t.data[e].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:W,ngAfterViewInit:K,ngAfterViewChecked:ne,ngOnDestroy:de}=p;S&&(t.contentHooks||(t.contentHooks=[])).push(-e,S),W&&((t.contentHooks||(t.contentHooks=[])).push(e,W),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,W)),K&&(t.viewHooks||(t.viewHooks=[])).push(-e,K),ne&&((t.viewHooks||(t.viewHooks=[])).push(e,ne),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,ne)),null!=de&&(t.destroyHooks||(t.destroyHooks=[])).push(e,de)}}function Tl(t,n,e){Tc(t,n,3,e)}function Ku(t,n,e,r){(3&t[2])===e&&Tc(t,n,e,r)}function wf(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function Tc(t,n,e,r){const p=null!=r?r:-1,S=n.length-1;let W=0;for(let K=void 0!==r?65535&t[18]:0;K<S;K++)if("number"==typeof n[K+1]){if(W=n[K],null!=r&&W>=r)break}else n[K]<0&&(t[18]+=65536),(W<p||-1==p)&&(kh(t,e,n,K),t[18]=(4294901760&t[18])+K+2),K++}function kh(t,n,e,r){const i=e[r]<0,p=e[r+1],W=t[i?-e[r]:e[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{p.call(W)}finally{}}}else try{p.call(W)}finally{}}class qu{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Ds(t,n,e){const r=St(t);let i=0;for(;i<e.length;){const p=e[i];if("number"==typeof p){if(0!==p)break;i++;const S=e[i++],W=e[i++],K=e[i++];r?t.setAttribute(n,W,K,S):n.setAttributeNS(S,W,K)}else{const S=p,W=e[++i];fs(S)?r&&t.setProperty(n,S,W):r?t.setAttribute(n,S,W):n.setAttribute(S,W),i++}}return i}function $u(t){return 3===t||4===t||6===t}function fs(t){return 64===t.charCodeAt(0)}function su(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?e=i:0===e||Df(t,e,i,null,-1===e||2===e?n[++r]:null)}}return t}function Df(t,n,e,r,i){let p=0,S=t.length;if(-1===n)S=-1;else for(;p<t.length;){const W=t[p++];if("number"==typeof W){if(W===n){S=-1;break}if(W>n){S=p-1;break}}}for(;p<t.length;){const W=t[p];if("number"==typeof W)break;if(W===e){if(null===r)return void(null!==i&&(t[p+1]=i));if(r===t[p+1])return void(t[p+2]=i)}p++,null!==r&&p++,null!==i&&p++}-1!==S&&(t.splice(S,0,n),p=S+1),t.splice(p++,0,e),null!==r&&t.splice(p++,0,r),null!==i&&t.splice(p++,0,i)}function Vd(t){return-1!==t}function wl(t){return 32767&t}function Dl(t,n){let e=function qh(t){return t>>16}(t),r=n;for(;e>0;)r=r[15],e--;return r}let If=!0;function au(t){const n=If;return If=t,n}let Il=0;function ol(t,n){const e=No(t,n);if(-1!==e)return e;const r=n[1];r.firstCreatePass&&(t.injectorIndex=n.length,Oc(r.data,t),Oc(n,null),Oc(r.blueprint,null));const i=Mc(t,n),p=t.injectorIndex;if(Vd(i)){const S=wl(i),W=Dl(i,n),K=W[1].data;for(let ne=0;ne<8;ne++)n[p+ne]=W[S+ne]|K[S+ne]}return n[p+8]=i,p}function Oc(t,n){t.push(0,0,0,0,0,0,0,0,n)}function No(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Mc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;null!==i;){const p=i[1],S=p.type;if(r=2===S?p.declTNode:1===S?i[6]:null,null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function Gu(t,n,e){!function Ic(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Tn)&&(r=e[Tn]),null==r&&(r=e[Tn]=Il++);const i=255&r;n.data[t+(i>>5)]|=1<<i}(t,n,e)}function Nd(t,n,e){if(e&ur.Optional)return t;Ji(n,"NodeInjector")}function Bd(t,n,e,r){if(e&ur.Optional&&void 0===r&&(r=null),0==(e&(ur.Self|ur.Host))){const i=t[9],p=Xr(void 0);try{return i?i.get(n,r,e&ur.Optional):Mi(n,r,e&ur.Optional)}finally{Xr(p)}}return Nd(r,n,e)}function Aa(t,n,e,r=ur.Default,i){if(null!==t){const p=function $h(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Tn)?t[Tn]:void 0;return"number"==typeof n?n>=0?255&n:jd:n}(e);if("function"==typeof p){if(!co(n,t,r))return r&ur.Host?Nd(i,e,r):Bd(n,e,r,i);try{const S=p(r);if(null!=S||r&ur.Optional)return S;Ji(e)}finally{da()}}else if("number"==typeof p){let S=null,W=No(t,n),K=-1,ne=r&ur.Host?n[16][6]:null;for((-1===W||r&ur.SkipSelf)&&(K=-1===W?Mc(t,n):n[W+8],-1!==K&&Rc(r,!1)?(S=n[1],W=wl(K),n=Dl(K,n)):W=-1);-1!==W;){const de=n[1];if(Hd(p,W,de.data)){const be=Sc(W,n,e,S,r,ne);if(be!==Of)return be}K=n[W+8],-1!==K&&Rc(r,n[1].data[W+8]===ne)&&Hd(p,W,n)?(S=de,W=wl(K),n=Dl(K,n)):W=-1}}}return Bd(n,e,r,i)}const Of={};function jd(){return new ha(kn(),Vt())}function Sc(t,n,e,r,i,p){const S=n[1],W=S.data[t+8],de=lu(W,S,e,null==r?_u(W)&&If:r!=S&&0!=(3&W.type),i&ur.Host&&p===W);return null!==de?Ju(n,S,de,W):Of}function lu(t,n,e,r,i){const p=t.providerIndexes,S=n.data,W=1048575&p,K=t.directiveStart,de=p>>20,Ae=i?W+de:t.directiveEnd;for(let We=r?W:W+de;We<Ae;We++){const dt=S[We];if(We<K&&e===dt||We>=K&&dt.type===e)return We}if(i){const We=S[K];if(We&&Fo(We)&&We.type===e)return K}return null}function Ju(t,n,e,r){let i=t[e];const p=n.data;if(function wc(t){return t instanceof qu}(i)){const S=i;S.resolving&&function gc(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new wr(-200,`Circular dependency in DI detected for ${t}${e}`)}(Gi(p[e]));const W=au(S.canSeeViewProviders);S.resolving=!0;const K=S.injectImpl?Xr(S.injectImpl):null;co(t,r,ur.Default);try{i=t[e]=S.factory(void 0,p,t,r),n.firstCreatePass&&e>=r.directiveStart&&function Qh(t,n,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:p}=n.type.prototype;if(r){const S=ze(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,S),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,S)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,i),p&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,p),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,p))}(e,p[e],n)}finally{null!==K&&Xr(K),au(W),S.resolving=!1,da()}}return i}function Hd(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function Rc(t,n){return!(t&ur.Self||t&ur.Host&&n)}class ha{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return Aa(this._tNode,this._lView,n,r,e)}}function rn(t){return $a(()=>{const n=t.prototype.constructor,e=n[ce]||Mf(n),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const p=i[ce]||Mf(i);if(p&&p!==e)return p;i=Object.getPrototypeOf(i)}return p=>new p})}function Mf(t){return Nu(t)?()=>{const n=Mf(lr(t));return n&&n()}:Re(t)}const La="__parameters__";function Ml(t,n,e){return $a(()=>{const r=function Ac(t){return function(...e){if(t){const r=t(...e);for(const i in r)this[i]=r[i]}}}(n);function i(...p){if(this instanceof i)return r.apply(this,p),this;const S=new i(...p);return W.annotation=S,W;function W(K,ne,de){const be=K.hasOwnProperty(La)?K[La]:Object.defineProperty(K,La,{value:[]})[La];for(;be.length<=de;)be.push(null);return(be[de]=be[de]||[]).push(S),K}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Cr{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Zn({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const fu=new Cr("AnalyzeForEntryComponents");function Is(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let r=t[e];Array.isArray(r)?(n===t&&(n=t.slice(0,e)),Is(r,n)):n!==t&&n.push(r)}return n}function ms(t,n){t.forEach(e=>Array.isArray(e)?ms(e,n):n(e))}function hu(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function pu(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function pa(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function At(t,n,e){let r=En(t,n);return r>=0?t[1|r]=e:(r=~r,function ve(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(1===i)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;)t[i]=t[i-2],i--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function sn(t,n){const e=En(t,n);if(e>=0)return t[1|e]}function En(t,n){return function mr(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){const p=r+(i-r>>1),S=t[p<<e];if(n===S)return p<<e;S>n?i=p:r=p+1}return~(i<<e)}(t,n,1)}const Ks={},Fc="__NG_DI_FLAG__",gu="ngTempTokenPath",Nc=/\n/gm,Bc="__source",jc=kr({provide:String,useValue:kr});let Bo;function Yu(t){const n=Bo;return Bo=t,n}function Hc(t,n=ur.Default){if(void 0===Bo)throw new wr(203,"");return null===Bo?Mi(t,void 0,n):Bo.get(t,n&ur.Optional?null:void 0,n)}function Nn(t,n=ur.Default){return(function Ui(){return Ef}()||Hc)(lr(t),n)}const Ms=Nn;function Lf(t){const n=[];for(let e=0;e<t.length;e++){const r=lr(t[e]);if(Array.isArray(r)){if(0===r.length)throw new wr(900,"");let i,p=ur.Default;for(let S=0;S<r.length;S++){const W=r[S],K=Qd(W);"number"==typeof K?-1===K?i=W.token:p|=K:i=W}n.push(Nn(i,p))}else n.push(Nn(r))}return n}function Al(t,n){return t[Fc]=n,t.prototype[Fc]=n,t}function Qd(t){return t[Fc]}const Wc=Al(Ml("Inject",t=>({token:t})),-1),ll=Al(Ml("Optional"),8),ds=Al(Ml("SkipSelf"),4);var Lr=(()=>((Lr=Lr||{})[Lr.Important=1]="Important",Lr[Lr.DashCase=2]="DashCase",Lr))();const Jh="__ngContext__";function Zo(t,n){t[Jh]=n}function kd(t){const n=function Kc(t){return t[Jh]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function Hf(t,n){return undefined(t,n)}function Xu(t){const n=t[3];return Es(n)?n[3]:n}function Zh(t){return ep(t[13])}function Xh(t){return ep(t[4])}function ep(t){for(;null!==t&&!Es(t);)t=t[4];return t}function $c(t,n,e,r,i){if(null!=r){let p,S=!1;Es(r)?p=r:la(r)&&(S=!0,r=r[0]);const W=Ue(r);0===t&&null!==e?null==i?Gs(n,e,W):Ss(n,e,W,i||null,!0):1===t&&null!==e?Ss(n,e,W,i||null,!0):2===t?function Jd(t,n,e){const r=zf(t,n);r&&function Ey(t,n,e,r){St(t)?t.removeChild(n,e,r):n.removeChild(e)}(t,r,n,e)}(n,W,S):3===t&&n.destroyNode(W),null!=p&&function Ty(t,n,e,r,i){const p=e[7];p!==Ue(e)&&$c(n,t,r,p,i);for(let W=10;W<e.length;W++){const K=e[W];kf(K[1],K,t,n,r,p)}}(n,t,p,e,i)}}function Wf(t,n,e){if(St(t))return t.createElement(n,e);{const r=null!==e?function Ht(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(e):null;return null===r?t.createElement(n):t.createElementNS(r,n)}}function Og(t,n){const e=t[9],r=e.indexOf(n),i=n[3];1024&n[2]&&(n[2]&=-1025,hr(i,-1)),e.splice(r,1)}function rp(t,n){if(t.length<=10)return;const e=10+n,r=t[e];if(r){const i=r[17];null!==i&&i!==t&&Og(i,r),n>0&&(t[e-1][4]=r[4]);const p=pu(t,10+n);!function np(t,n){kf(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const S=p[19];null!==S&&S.detachView(p[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Mg(t,n){if(!(256&n[2])){const e=n[11];St(e)&&e.destroyNode&&kf(t,n,e,3,null,null),function by(t){let n=t[13];if(!n)return cl(t[1],t);for(;n;){let e=null;if(la(n))e=n[13];else{const r=n[10];r&&(e=r)}if(!e){for(;n&&!n[4]&&n!==t;)la(n)&&cl(n[1],n),n=n[3];null===n&&(n=t),la(n)&&cl(n[1],n),e=n&&n[4]}n=e}}(n)}}function cl(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function jl(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const i=n[e[r]];if(!(i instanceof qu)){const p=e[r+1];if(Array.isArray(p))for(let S=0;S<p.length;S+=2){const W=i[p[S]],K=p[S+1];try{K.call(W)}finally{}}else try{p.call(i)}finally{}}}}(t,n),function Ha(t,n){const e=t.cleanup,r=n[7];let i=-1;if(null!==e)for(let p=0;p<e.length-1;p+=2)if("string"==typeof e[p]){const S=e[p+1],W="function"==typeof S?S(n):Ue(n[S]),K=r[i=e[p+2]],ne=e[p+3];"boolean"==typeof ne?W.removeEventListener(e[p],K,ne):ne>=0?r[i=ne]():r[i=-ne].unsubscribe(),p+=2}else{const S=r[i=e[p+1]];e[p].call(S)}if(null!==r){for(let p=i+1;p<r.length;p++)r[p]();n[7]=null}}(t,n),1===n[1].type&&St(n[11])&&n[11].destroy();const e=n[17];if(null!==e&&Es(n[3])){e!==n[3]&&Og(e,n);const r=n[19];null!==r&&r.detachView(t)}}}function Sg(t,n,e){return function ip(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===sa.None||i===sa.Emulated)return null}return vt(r,e)}(t,n.parent,e)}function Ss(t,n,e,r,i){St(t)?t.insertBefore(n,e,r,i):n.insertBefore(e,r,i)}function Gs(t,n,e){St(t)?t.appendChild(n,e):n.appendChild(e)}function Rg(t,n,e,r,i){null!==r?Ss(t,n,e,r,i):Gs(t,n,e)}function zf(t,n){return St(t)?t.parentNode(n):n.parentNode}function op(t,n,e){return Vg(t,n,e)}let Yd,ye,Vg=function sp(t,n,e){return 40&t.type?vt(t,e):null};function Cu(t,n,e,r){const i=Sg(t,r,n),p=n[11],W=op(r.parent||n[6],r,n);if(null!=i)if(Array.isArray(e))for(let K=0;K<e.length;K++)Rg(p,i,e[K],W,!1);else Rg(p,i,e,W,!1)}function Jc(t,n){if(null!==n){const e=n.type;if(3&e)return vt(n,t);if(4&e)return lp(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return Jc(t,r);{const i=t[n.index];return Es(i)?lp(-1,i):Ue(i)}}if(32&e)return Hf(n,t)()||Ue(t[n.index]);{const r=ap(t,n);return null!==r?Array.isArray(r)?r[0]:Jc(Xu(t[16]),r):Jc(t,n.next)}}return null}function ap(t,n){return null!==n?t[16][6].projection[n.projection]:null}function lp(t,n){const e=10+t+1;if(e<n.length){const r=n[e],i=r[1].firstChild;if(null!==i)return Jc(r,i)}return n[7]}function up(t,n,e,r,i,p,S){for(;null!=e;){const W=r[e.index],K=e.type;if(S&&0===n&&(W&&Zo(Ue(W),r),e.flags|=4),64!=(64&e.flags))if(8&K)up(t,n,e.child,r,i,p,!1),$c(n,t,i,W,p);else if(32&K){const ne=Hf(e,r);let de;for(;de=ne();)$c(n,t,i,de,p);$c(n,t,i,W,p)}else 16&K?Lg(t,n,r,e,i,p):$c(n,t,i,W,p);e=S?e.projectionNext:e.next}}function kf(t,n,e,r,i,p){up(e,r,t.firstChild,n,i,p,!1)}function Lg(t,n,e,r,i,p){const S=e[16],K=S[6].projection[r.projection];if(Array.isArray(K))for(let ne=0;ne<K.length;ne++)$c(n,t,i,K[ne],p);else up(t,n,K,S[3],i,p,!0)}function cp(t,n,e){St(t)?t.setAttribute(n,"style",e):n.style.cssText=e}function Yc(t,n,e){St(t)?""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e):n.className=e}function bu(t){var n;return(null===(n=function fp(){if(void 0===Yd&&(Yd=null,Mr.trustedTypes))try{Yd=Mr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Yd}())||void 0===n?void 0:n.createHTML(t))||t}function Ee(){if(void 0===ye&&(ye=null,Mr.trustedTypes))try{ye=Mr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return ye}function xe(t){var n;return(null===(n=Ee())||void 0===n?void 0:n.createHTML(t))||t}function Me(t){var n;return(null===(n=Ee())||void 0===n?void 0:n.createScriptURL(t))||t}class Ne{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class st extends Ne{getTypeName(){return"HTML"}}class Ct extends Ne{getTypeName(){return"Style"}}class bt extends Ne{getTypeName(){return"Script"}}class ht extends Ne{getTypeName(){return"URL"}}class Jt extends Ne{getTypeName(){return"ResourceURL"}}function It(t){return t instanceof Ne?t.changingThisBreaksApplicationSecurity:t}function nt(t,n){const e=ct(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}function ct(t){return t instanceof Ne&&t.getTypeName()||null}class xn{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(bu(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class ei{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=bu(n),e;const r=this.inertDocument.createElement("body");return r.innerHTML=bu(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(n){const e=n.attributes;for(let i=e.length-1;0<i;i--){const S=e.item(i).name;("xmlns:ns1"===S||0===S.indexOf("ns1:"))&&n.removeAttribute(S)}let r=n.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Gr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,xi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yr(t){return(t=String(t)).match(Gr)||t.match(xi)?t:"unsafe:"+t}function di(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function jo(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const io=di("area,br,col,hr,img,wbr"),ys=di("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oi=di("rp,rt"),Do=jo(io,jo(ys,di("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jo(oi,di("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jo(oi,ys)),es=di("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rs=di("srcset"),fl=jo(es,Rs,di("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),di("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ec=di("script,style,template");class Zc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!Do.hasOwnProperty(e))return this.sanitizedSomething=!0,!ec.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let i=0;i<r.length;i++){const p=r.item(i),S=p.name,W=S.toLowerCase();if(!fl.hasOwnProperty(W)){this.sanitizedSomething=!0;continue}let K=p.value;es[W]&&(K=Yr(K)),Rs[W]&&(t=K,K=(t=String(t)).split(",").map(n=>Yr(n.trim())).join(", ")),this.buf.push(" ",S,'="',Zd(K),'"')}var t;return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();Do.hasOwnProperty(e)&&!io.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(Zd(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const Pu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eo=/([^\#-~ |!])/g;function Zd(t){return t.replace(/&/g,"&amp;").replace(Pu,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(eo,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kf;function dp(t,n){let e=null;try{Kf=Kf||function Gn(t){const n=new ei(t);return function fi(){try{return!!(new window.DOMParser).parseFromString(bu(""),"text/html")}catch(t){return!1}}()?new xn(n):n}(t);let r=n?String(n):"";e=Kf.getInertBodyElement(r);let i=5,p=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=p,p=e.innerHTML,e=Kf.getInertBodyElement(r)}while(r!==p);return bu((new Zc).sanitizeChildren(Xc(e)||e))}finally{if(e){const r=Xc(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Xc(t){return"content"in t&&function qf(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var hi=(()=>((hi=hi||{})[hi.NONE=0]="NONE",hi[hi.HTML=1]="HTML",hi[hi.STYLE=2]="STYLE",hi[hi.SCRIPT=3]="SCRIPT",hi[hi.URL=4]="URL",hi[hi.RESOURCE_URL=5]="RESOURCE_URL",hi))();function Ho(t){const n=$f();return n?xe(n.sanitize(hi.HTML,t)||""):nt(t,"HTML")?xe(It(t)):dp(Dt(),Yn(t))}function ns(t){const n=$f();return n?n.sanitize(hi.URL,t)||"":nt(t,"URL")?It(t):Yr(Yn(t))}function Xd(t){const n=$f();if(n)return Me(n.sanitize(hi.RESOURCE_URL,t)||"");if(nt(t,"ResourceURL"))return Me(It(t));throw new wr(904,"")}function $f(){const t=Vt();return t&&t[12]}function pp(t){return t.ngOriginalError}function Ng(t,...n){t.error(...n)}class xu{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n),r=function Iy(t){return t&&t.ngErrorLogger||Ng}(n);r(this._console,"ERROR",n),e&&r(this._console,"ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&pp(n);for(;e&&pp(e);)e=pp(e);return e||null}}const Oy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Mr))();function Ua(t){return t instanceof Function?t():t}function Wg(t,n,e){let r=t.length;for(;;){const i=t.indexOf(n,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const p=n.length;if(i+p===r||t.charCodeAt(i+p)<=32)return i}e=i+1}}const _g="ng-template";function zg(t,n,e){let r=0;for(;r<t.length;){let i=t[r++];if(e&&"class"===i){if(i=t[r],-1!==Wg(i.toLowerCase(),n,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===n)return!0;return!1}}return!1}function Qg(t){return 4===t.type&&t.value!==_g}function Zf(t,n,e){return n===(4!==t.type||e?t.value:_g)}function vp(t,n,e){let r=4;const i=t.attrs||[],p=function sh(t){for(let n=0;n<t.length;n++)if($u(t[n]))return n;return t.length}(i);let S=!1;for(let W=0;W<n.length;W++){const K=n[W];if("number"!=typeof K){if(!S)if(4&r){if(r=2|1&r,""!==K&&!Zf(t,K,e)||""===K&&1===n.length){if(As(r))return!1;S=!0}}else{const ne=8&r?K:n[++W];if(8&r&&null!==t.attrs){if(!zg(t.attrs,ne,e)){if(As(r))return!1;S=!0}continue}const be=Ul(8&r?"class":K,i,Qg(t),e);if(-1===be){if(As(r))return!1;S=!0;continue}if(""!==ne){let Ae;Ae=be>p?"":i[be+1].toLowerCase();const We=8&r?Ae:null;if(We&&-1!==Wg(We,ne,0)||2&r&&ne!==Ae){if(As(r))return!1;S=!0}}}}else{if(!S&&!As(r)&&!As(K))return!1;if(S&&As(K))continue;S=!1,r=K|1&r}}return As(r)||S}function As(t){return 0==(1&t)}function Ul(t,n,e,r){if(null===n)return-1;let i=0;if(r||!e){let p=!1;for(;i<n.length;){const S=n[i];if(S===t)return i;if(3===S||6===S)p=!0;else{if(1===S||2===S){let W=n[++i];for(;"string"==typeof W;)W=n[++i];continue}if(4===S)break;if(0===S){i+=4;continue}}i+=p?1:2}return-1}return function Cp(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function Wl(t,n,e=!1){for(let r=0;r<n.length;r++)if(vp(t,n[r],e))return!0;return!1}function kg(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Kg(t,n){return t?":not("+n.trim()+")":n}function bp(t){let n=t[0],e=1,r=2,i="",p=!1;for(;e<t.length;){let S=t[e];if("string"==typeof S)if(2&r){const W=t[++e];i+="["+S+(W.length>0?'="'+W+'"':"")+"]"}else 8&r?i+="."+S:4&r&&(i+=" "+S);else""!==i&&!As(S)&&(n+=Kg(p,i),i=""),r=S,p=p||!As(r);e++}return""!==i&&(n+=Kg(p,i)),n}const xr={};function oe(t){jb(Un(),Vt(),Ii()+t,!1)}function jb(t,n,e,r){if(!r)if(3==(3&n[2])){const p=t.preOrderCheckHooks;null!==p&&Tl(n,p,e)}else{const p=t.preOrderHooks;null!==p&&Ku(n,p,0,e)}Jo(e)}function qg(t,n){return t<<17|n<<2}function _l(t){return t>>17&32767}function Ry(t){return 2|t}function tc(t){return(131068&t)>>2}function Ay(t,n){return-131069&t|n<<2}function Vy(t){return 1|t}function Gb(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r],p=e[r+1];if(-1!==p){const S=t.data[p];fa(i),S.contentQueries(2,n[p],p)}}}function Ep(t,n,e,r,i,p,S,W,K,ne){const de=n.blueprint.slice();return de[0]=i,de[2]=140|r,Je(de),de[3]=de[15]=t,de[8]=e,de[10]=S||t&&t[10],de[11]=W||t&&t[11],de[12]=K||t&&t[12]||null,de[9]=ne||t&&t[9]||null,de[6]=p,de[16]=2==n.type?t[16]:de,de}function ah(t,n,e,r,i){let p=t.data[n];if(null===p)p=function _y(t,n,e,r,i){const p=On(),S=ks(),K=t.data[n]=function Ow(t,n,e,r,i,p){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?p:p&&p.parent,e,n,r,i);return null===t.firstChild&&(t.firstChild=K),null!==p&&(S?null==p.child&&null!==K.parent&&(p.child=K):null===p.next&&(p.next=K)),K}(t,n,e,r,i),function ii(){return tn.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=e,p.value=r,p.attrs=i;const S=function uo(){const t=tn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();p.injectorIndex=null===S?-1:S.injectorIndex}return Ir(p,!0),p}function lh(t,n,e,r){if(0===e)return-1;const i=n.length;for(let p=0;p<e;p++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function xp(t,n,e){ki(n);try{const r=t.viewQuery;null!==r&&Yy(1,r,e);const i=t.template;null!==i&&Jb(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Gb(t,n),t.staticViewQueries&&Yy(2,t.viewQuery,e);const p=t.components;null!==p&&function ww(t,n){for(let e=0;e<n.length;e++)Kw(t,n[e])}(n,p)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[2]&=-5,ws()}}function uh(t,n,e,r){const i=n[2];if(256!=(256&i)){ki(n);try{Je(n),function tl(t){return tn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&Jb(t,n,e,2,r);const S=3==(3&i);if(S){const ne=t.preOrderCheckHooks;null!==ne&&Tl(n,ne,null)}else{const ne=t.preOrderHooks;null!==ne&&Ku(n,ne,0,null),wf(n,0)}if(function Qw(t){for(let n=Zh(t);null!==n;n=Xh(n)){if(!n[2])continue;const e=n[9];for(let r=0;r<e.length;r++){const i=e[r],p=i[3];0==(1024&i[2])&&hr(p,1),i[2]|=1024}}}(n),function zw(t){for(let n=Zh(t);null!==n;n=Xh(n))for(let e=10;e<n.length;e++){const r=n[e],i=r[1];An(r)&&uh(i,r,i.template,r[8])}}(n),null!==t.contentQueries&&Gb(t,n),S){const ne=t.contentCheckHooks;null!==ne&&Tl(n,ne)}else{const ne=t.contentHooks;null!==ne&&Ku(n,ne,1),wf(n,1)}!function xw(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)Jo(~i);else{const p=i,S=e[++r],W=e[++r];Go(S,p),W(2,n[p])}}}finally{Jo(-1)}}(t,n);const W=t.components;null!==W&&function Tw(t,n){for(let e=0;e<n.length;e++)kw(t,n[e])}(n,W);const K=t.viewQuery;if(null!==K&&Yy(2,K,r),S){const ne=t.viewCheckHooks;null!==ne&&Tl(n,ne)}else{const ne=t.viewHooks;null!==ne&&Ku(n,ne,2),wf(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-73,1024&n[2]&&(n[2]&=-1025,hr(n[3],-1))}finally{ws()}}}function Dw(t,n,e,r){const i=n[10],S=Sn(n);try{!S&&i.begin&&i.begin(),S&&xp(t,n,r),uh(t,n,e,r)}finally{!S&&i.end&&i.end()}}function Jb(t,n,e,r,i){const p=Ii(),S=2&r;try{Jo(-1),S&&n.length>20&&jb(t,n,20,!1),e(r,i)}finally{Jo(p)}}function Yb(t,n,e){if(bc(n)){const i=n.directiveEnd;for(let p=n.directiveStart;p<i;p++){const S=t.data[p];S.contentQueries&&S.contentQueries(1,e[p],p)}}}function zy(t,n,e){!pr()||(function Fw(t,n,e,r){const i=e.directiveStart,p=e.directiveEnd;t.firstCreatePass||ol(e,n),Zo(r,n);const S=e.initialInputs;for(let W=i;W<p;W++){const K=t.data[W],ne=Fo(K);ne&&Uw(n,e,K);const de=Ju(n,t,W,e);Zo(de,n),null!==S&&Ww(0,W-i,de,K,0,S),ne&&(nn(e.index,n)[8]=de)}}(t,n,e,vt(e,n)),128==(128&e.flags)&&function Nw(t,n,e){const r=e.directiveStart,i=e.directiveEnd,S=e.index,W=function nl(){return tn.lFrame.currentDirectiveIndex}();try{Jo(S);for(let K=r;K<i;K++){const ne=t.data[K],de=n[K];ua(K),(null!==ne.hostBindings||0!==ne.hostVars||null!==ne.hostAttrs)&&s0(ne,de)}}finally{Jo(-1),ua(W)}}(t,n,e))}function Qy(t,n,e=vt){const r=n.localNames;if(null!==r){let i=n.index+1;for(let p=0;p<r.length;p+=2){const S=r[p+1],W=-1===S?e(n,t):t[S];t[i++]=W}}}function Zb(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Jg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Jg(t,n,e,r,i,p,S,W,K,ne){const de=20+r,be=de+i,Ae=function Iw(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:xr);return e}(de,be),We="function"==typeof ne?ne():ne;return Ae[1]={type:t,blueprint:Ae,template:e,queries:null,viewQuery:W,declTNode:n,data:Ae.slice().fill(null,de),bindingStartIndex:de,expandoStartIndex:be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:K,consts:We,incompleteFirstPass:!1}}function t0(t,n,e,r){const i=d0(n);null===e?i.push(r):(i.push(e),t.firstCreatePass&&h0(t).push(r,i.length-1))}function n0(t,n,e){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(n,i):e[r]=[n,i]}return e}function Wa(t,n,e,r,i,p,S,W){const K=vt(n,e);let de,ne=n.inputs;!W&&null!=ne&&(de=ne[r])?(m0(t,e,de,r,i),_u(n)&&function Rw(t,n){const e=nn(n,t);16&e[2]||(e[2]|=64)}(e,n.index)):3&n.type&&(r=function Sw(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=S?S(i,n.value||"",r):i,St(p)?p.setProperty(K,r,i):fs(r)||(K.setProperty?K.setProperty(r,i):K[r]=i))}function ky(t,n,e,r){let i=!1;if(pr()){const p=function Bw(t,n,e){const r=t.directiveRegistry;let i=null;if(r)for(let p=0;p<r.length;p++){const S=r[p];Wl(e,S.selectors,!1)&&(i||(i=[]),Gu(ol(e,n),t,S.type),Fo(S)?(a0(t,e),i.unshift(S)):i.push(S))}return i}(t,n,e),S=null===r?null:{"":-1};if(null!==p){i=!0,l0(e,t.data.length,p.length);for(let de=0;de<p.length;de++){const be=p[de];be.providersResolver&&be.providersResolver(be)}let W=!1,K=!1,ne=lh(t,n,p.length,null);for(let de=0;de<p.length;de++){const be=p[de];e.mergedAttrs=su(e.mergedAttrs,be.hostAttrs),u0(t,e,n,ne,be),Hw(ne,be,S),null!==be.contentQueries&&(e.flags|=8),(null!==be.hostBindings||null!==be.hostAttrs||0!==be.hostVars)&&(e.flags|=128);const Ae=be.type.prototype;!W&&(Ae.ngOnChanges||Ae.ngOnInit||Ae.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),W=!0),!K&&(Ae.ngOnChanges||Ae.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),K=!0),ne++}!function Mw(t,n){const r=n.directiveEnd,i=t.data,p=n.attrs,S=[];let W=null,K=null;for(let ne=n.directiveStart;ne<r;ne++){const de=i[ne],be=de.inputs,Ae=null===p||Qg(n)?null:_w(be,p);S.push(Ae),W=n0(be,ne,W),K=n0(de.outputs,ne,K)}null!==W&&(W.hasOwnProperty("class")&&(n.flags|=16),W.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=S,n.inputs=W,n.outputs=K}(t,e)}S&&function jw(t,n,e){if(n){const r=t.localNames=[];for(let i=0;i<n.length;i+=2){const p=e[n[i+1]];if(null==p)throw new wr(-301,!1);r.push(n[i],p)}}}(e,r,S)}return e.mergedAttrs=su(e.mergedAttrs,e.attrs),i}function o0(t,n,e,r,i,p){const S=p.hostBindings;if(S){let W=t.hostBindingOpCodes;null===W&&(W=t.hostBindingOpCodes=[]);const K=~n.index;(function Lw(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(W)!=K&&W.push(K),W.push(r,i,S)}}function s0(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function a0(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function Hw(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;Fo(n)&&(e[""]=t)}}function l0(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function u0(t,n,e,r,i){t.data[r]=i;const p=i.factory||(i.factory=Re(i.type)),S=new qu(p,Fo(i),null);t.blueprint[r]=S,e[r]=S,o0(t,n,0,r,lh(t,e,i.hostVars,xr),i)}function Uw(t,n,e){const r=vt(n,t),i=Zb(e),p=t[10],S=Yg(t,Ep(t,i,null,e.onPush?64:16,r,n,p,p.createRenderer(r,e),null,null));t[n.index]=S}function wu(t,n,e,r,i,p){const S=vt(t,n);!function Ky(t,n,e,r,i,p,S){if(null==p)St(t)?t.removeAttribute(n,i,e):n.removeAttribute(i);else{const W=null==S?Yn(p):S(p,r||"",i);St(t)?t.setAttribute(n,i,W,e):e?n.setAttributeNS(e,i,W):n.setAttribute(i,W)}}(n[11],S,p,t.value,e,r,i)}function Ww(t,n,e,r,i,p){const S=p[n];if(null!==S){const W=r.setInput;for(let K=0;K<S.length;){const ne=S[K++],de=S[K++],be=S[K++];null!==W?r.setInput(e,be,ne,de):e[de]=be}}}function _w(t,n){let e=null,r=0;for(;r<n.length;){const i=n[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,t[i],n[r+1])),r+=2}else r+=2;else r+=4}return e}function c0(t,n,e,r){return new Array(t,!0,!1,n,null,0,r,e,null,null)}function kw(t,n){const e=nn(n,t);if(An(e)){const r=e[1];80&e[2]?uh(r,e,r.template,e[8]):e[5]>0&&qy(e)}}function qy(t){for(let r=Zh(t);null!==r;r=Xh(r))for(let i=10;i<r.length;i++){const p=r[i];if(1024&p[2]){const S=p[1];uh(S,p,S.template,p[8])}else p[5]>0&&qy(p)}const e=t[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=nn(e[r],t);An(i)&&i[5]>0&&qy(i)}}function Kw(t,n){const e=nn(n,t),r=e[1];(function qw(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(r,e),xp(r,e,e[8])}function Yg(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function $y(t){for(;t;){t[2]|=64;const n=Xu(t);if(zh(t)&&!n)return t;t=n}return null}function f0(t){!function Gy(t){for(let n=0;n<t.components.length;n++){const e=t.components[n],r=kd(e),i=r[1];Dw(i,r,i.template,e)}}(t[8])}function Yy(t,n,e){fa(0),n(t,e)}const Gw=(()=>Promise.resolve(null))();function d0(t){return t[7]||(t[7]=[])}function h0(t){return t.cleanup||(t.cleanup=[])}function g0(t,n){const e=t[9],r=e?e.get(xu,null):null;r&&r.handleError(n)}function m0(t,n,e,r,i){for(let p=0;p<e.length;){const S=e[p++],W=e[p++],K=n[S],ne=t.data[S];null!==ne.setInput?ne.setInput(K,i,r,W):K[W]=i}}function nc(t,n,e){const r=pt(n,t);!function Dg(t,n,e){St(t)?t.setValue(n,e):n.textContent=e}(t[11],r,e)}function Zg(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,p=0;if(null!==n)for(let S=0;S<n.length;S++){const W=n[S];"number"==typeof W?p=W:1==p?i=_n(i,W):2==p&&(r=_n(r,W+": "+n[++S]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}const Zy=new Cr("INJECTOR",-1);class y0{get(n,e=Ks){if(e===Ks){const r=new Error(`NullInjectorError: No provider for ${$r(n)}!`);throw r.name="NullInjectorError",r}return e}}const Xy=new Cr("Set Injector scope."),Tp={},Zw={};let ev;function v0(){return void 0===ev&&(ev=new y0),ev}function C0(t,n=null,e=null,r){const i=b0(t,n,e,r);return i._resolveInjectorDefTypes(),i}function b0(t,n=null,e=null,r){return new Xw(t,e,n||v0(),r)}class Xw{constructor(n,e,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];e&&ms(e,W=>this.processProvider(W,n,e)),ms([n],W=>this.processInjectorType(W,[],p)),this.records.set(Zy,ch(void 0,this));const S=this.records.get(Xy);this.scope=null!=S?S.value:null,this.source=i||("object"==typeof n?null:$r(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,e=Ks,r=ur.Default){this.assertNotDestroyed();const i=Yu(this),p=Xr(void 0);try{if(!(r&ur.SkipSelf)){let W=this.records.get(n);if(void 0===W){const K=function aD(t){return"function"==typeof t||"object"==typeof t&&t instanceof Cr}(n)&&ju(n);W=K&&this.injectableDefInScope(K)?ch(tv(n),Tp):null,this.records.set(n,W)}if(null!=W)return this.hydrate(n,W)}return(r&ur.Self?v0():this.parent).get(n,e=r&ur.Optional&&e===Ks?null:e)}catch(S){if("NullInjectorError"===S.name){if((S[gu]=S[gu]||[]).unshift($r(n)),i)throw S;return function Fa(t,n,e,r){const i=t[gu];throw n[Bc]&&i.unshift(n[Bc]),t.message=function Ff(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=$r(n);if(Array.isArray(n))i=n.map($r).join(" -> ");else if("object"==typeof n){let p=[];for(let S in n)if(n.hasOwnProperty(S)){let W=n[S];p.push(S+":"+("string"==typeof W?JSON.stringify(W):$r(W)))}i=`{${p.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(Nc,"\n  ")}`}("\n"+t.message,i,e,r),t.ngTokenPath=i,t[gu]=null,t}(S,n,"R3InjectorError",this.source)}throw S}finally{Xr(p),Yu(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((r,i)=>n.push($r(i))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new wr(205,!1)}processInjectorType(n,e,r){if(!(n=lr(n)))return!1;let i=Ta(n);const p=null==i&&n.ngModule||void 0,S=void 0===p?n:p,W=-1!==r.indexOf(S);if(void 0!==p&&(i=Ta(p)),null==i)return!1;if(null!=i.imports&&!W){let de;r.push(S);try{ms(i.imports,be=>{this.processInjectorType(be,e,r)&&(void 0===de&&(de=[]),de.push(be))})}finally{}if(void 0!==de)for(let be=0;be<de.length;be++){const{ngModule:Ae,providers:We}=de[be];ms(We,dt=>this.processProvider(dt,Ae,We||jr))}}this.injectorDefTypes.add(S);const K=Re(S)||(()=>new S);this.records.set(S,ch(K,Tp));const ne=i.providers;if(null!=ne&&!W){const de=n;ms(ne,be=>this.processProvider(be,de,ne))}return void 0!==p&&void 0!==n.providers}processProvider(n,e,r){let i=fh(n=lr(n))?n:lr(n&&n.provide);const p=function tD(t,n,e){return E0(t)?ch(void 0,t.useValue):ch(P0(t),Tp)}(n);if(fh(n)||!0!==n.multi)this.records.get(i);else{let S=this.records.get(i);S||(S=ch(void 0,Tp,!0),S.factory=()=>Lf(S.multi),this.records.set(i,S)),i=n,S.multi.push(n)}this.records.set(i,p)}hydrate(n,e){return e.value===Tp&&(e.value=Zw,e.value=e.factory()),"object"==typeof e.value&&e.value&&function sD(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=lr(n.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function tv(t){const n=ju(t),e=null!==n?n.factory:Re(t);if(null!==e)return e;if(t instanceof Cr)throw new wr(204,!1);if(t instanceof Function)return function eD(t){const n=t.length;if(n>0)throw pa(n,"?"),new wr(204,!1);const e=function nu(t){const n=t&&(t[Po]||t[_s]);if(n){const e=function fr(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new wr(204,!1)}function P0(t,n,e){let r;if(fh(t)){const i=lr(t);return Re(i)||tv(i)}if(E0(t))r=()=>lr(t.useValue);else if(function rD(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Lf(t.deps||[]));else if(function nD(t){return!(!t||!t.useExisting)}(t))r=()=>Nn(lr(t.useExisting));else{const i=lr(t&&(t.useClass||t.provide));if(!function oD(t){return!!t.deps}(t))return Re(i)||tv(i);r=()=>new i(...Lf(t.deps))}return r}function ch(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function E0(t){return null!==t&&"object"==typeof t&&jc in t}function fh(t){return"function"==typeof t}let hs=(()=>{class t{static create(e,r){var i;if(Array.isArray(e))return C0({name:""},r,e,"");{const p=null!==(i=e.name)&&void 0!==i?i:"";return C0({name:p},e.parent,e.providers,p)}}}return t.THROW_IF_NOT_FOUND=Ks,t.NULL=new y0,t.\u0275prov=Zn({token:t,providedIn:"any",factory:()=>Nn(Zy)}),t.__NG_ELEMENT_ID__=-1,t})();function gD(t,n){xc(kd(t)[1],kn())}function Zt(t){let n=function L0(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let i;if(Fo(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new wr(903,"");i=n.\u0275dir}if(i){if(e){r.push(i);const S=t;S.inputs=iv(t.inputs),S.declaredInputs=iv(t.declaredInputs),S.outputs=iv(t.outputs);const W=i.hostBindings;W&&CD(t,W);const K=i.viewQuery,ne=i.contentQueries;if(K&&yD(t,K),ne&&vD(t,ne),bl(t.inputs,i.inputs),bl(t.declaredInputs,i.declaredInputs),bl(t.outputs,i.outputs),Fo(i)&&i.data.animation){const de=t.data;de.animation=(de.animation||[]).concat(i.data.animation)}}const p=i.features;if(p)for(let S=0;S<p.length;S++){const W=p[S];W&&W.ngInherit&&W(t),W===Zt&&(e=!1)}}n=Object.getPrototypeOf(n)}!function mD(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=su(i.hostAttrs,e=su(e,i.hostAttrs))}}(r)}function iv(t){return t===Eo?{}:t===jr?[]:t}function yD(t,n){const e=t.viewQuery;t.viewQuery=e?(r,i)=>{n(r,i),e(r,i)}:n}function vD(t,n){const e=t.contentQueries;t.contentQueries=e?(r,i,p)=>{n(r,i,p),e(r,i,p)}:n}function CD(t,n){const e=t.hostBindings;t.hostBindings=e?(r,i)=>{n(r,i),e(r,i)}:n}let Xg=null;function dh(){if(!Xg){const t=Mr.Symbol;if(t&&t.iterator)Xg=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const r=n[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Xg=r)}}}return Xg}function wp(t){return!!function ov(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&dh()in t)}function Du(t,n,e){return t[n]=e}function Vs(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Xf(t,n,e,r){const i=Vs(t,n,e);return Vs(t,n+1,r)||i}function mn(t,n,e,r){const i=Vt();return Vs(i,Ei(),n)&&(Un(),wu(ci(),i,t,n,e,r)),mn}function ge(t,n,e,r,i,p,S,W){const K=Vt(),ne=Un(),de=t+20,be=ne.firstCreatePass?function DD(t,n,e,r,i,p,S,W,K){const ne=n.consts,de=ah(n,t,4,S||null,Bt(ne,W));ky(n,e,de,Bt(ne,K)),xc(n,de);const be=de.tViews=Jg(2,de,r,i,p,n.directiveRegistry,n.pipeRegistry,null,n.schemas,ne);return null!==n.queries&&(n.queries.template(n,de),be.queries=n.queries.embeddedTView(de)),de}(de,ne,K,n,e,r,i,p,S):ne.data[de];Ir(be,!1);const Ae=K[11].createComment("");Cu(ne,K,Ae,be),Zo(Ae,K),Yg(K,K[de]=c0(Ae,K,Ae,be)),zu(be)&&zy(ne,K,be),null!=S&&Qy(K,be,W)}function oo(t){return cn(function Xa(){return tn.lFrame.contextLView}(),20+t)}function kt(t,n=ur.Default){const e=Vt();return null===e?Nn(t,n):Aa(kn(),e,lr(t),n)}function cv(){throw new Error("invalid")}function ie(t,n,e){const r=Vt();return Vs(r,Ei(),n)&&Wa(Un(),ci(),r,t,n,r[11],e,!1),ie}function fv(t,n,e,r,i){const S=i?"class":"style";m0(t,e,n.inputs[S],S,r)}function Ve(t,n,e,r){const i=Vt(),p=Un(),S=20+t,W=i[11],K=i[S]=Wf(W,n,function Md(){return tn.lFrame.currentNamespace}()),ne=p.firstCreatePass?function qD(t,n,e,r,i,p,S){const W=n.consts,ne=ah(n,t,2,i,Bt(W,p));return ky(n,e,ne,Bt(W,S)),null!==ne.attrs&&Zg(ne,ne.attrs,!1),null!==ne.mergedAttrs&&Zg(ne,ne.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,ne),ne}(S,p,i,0,n,e,r):p.data[S];Ir(ne,!0);const de=ne.mergedAttrs;null!==de&&Ds(W,K,de);const be=ne.classes;null!==be&&Yc(W,K,be);const Ae=ne.styles;return null!==Ae&&cp(W,K,Ae),64!=(64&ne.flags)&&Cu(p,i,K,ne),0===function Rn(){return tn.lFrame.elementDepthCount}()&&Zo(K,i),function Dn(){tn.lFrame.elementDepthCount++}(),zu(ne)&&(zy(p,i,ne),Yb(p,ne,i)),null!==r&&Qy(i,ne),Ve}function He(){let t=kn();ks()?li():(t=t.parent,Ir(t,!1));const n=t;!function Qn(){tn.lFrame.elementDepthCount--}();const e=Un();return e.firstCreatePass&&(xc(e,t),bc(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Sd(t){return 0!=(16&t.flags)}(n)&&fv(e,n,Vt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Rd(t){return 0!=(32&t.flags)}(n)&&fv(e,n,Vt(),n.stylesWithoutHost,!1),He}function ut(t,n,e,r){return Ve(t,n,e,r),He(),ut}function dn(t,n,e){const r=Vt(),i=Un(),p=t+20,S=i.firstCreatePass?function $D(t,n,e,r,i){const p=n.consts,S=Bt(p,r),W=ah(n,t,8,"ng-container",S);return null!==S&&Zg(W,S,!0),ky(n,e,W,Bt(p,i)),null!==n.queries&&n.queries.elementStart(n,W),W}(p,i,r,n,e):i.data[p];Ir(S,!0);const W=r[p]=r[11].createComment("");return Cu(i,r,W,S),Zo(W,r),zu(S)&&(zy(i,r,S),Yb(i,S,r)),null!=e&&Qy(r,S),dn}function hn(){let t=kn();const n=Un();return ks()?li():(t=t.parent,Ir(t,!1)),n.firstCreatePass&&(xc(n,t),bc(t)&&n.queries.elementEnd(t)),hn}function to(t,n,e){return dn(t,n,e),hn(),to}function or(){return Vt()}function Ip(t){return!!t&&"function"==typeof t.then}const dv=function e1(t){return!!t&&"function"==typeof t.subscribe};function un(t,n,e,r){const i=Vt(),p=Un(),S=kn();return function n1(t,n,e,r,i,p,S,W){const K=zu(r),de=t.firstCreatePass&&h0(t),be=n[8],Ae=d0(n);let We=!0;if(3&r.type||W){const an=vt(r,n),on=W?W(an):an,Ut=Ae.length,Wn=W?Or=>W(Ue(Or[r.index])):r.index;if(St(e)){let Or=null;if(!W&&K&&(Or=function GD(t,n,e,r){const i=t.cleanup;if(null!=i)for(let p=0;p<i.length-1;p+=2){const S=i[p];if(S===e&&i[p+1]===r){const W=n[7],K=i[p+2];return W.length>K?W[K]:null}"string"==typeof S&&(p+=2)}return null}(t,n,i,r.index)),null!==Or)(Or.__ngLastListenerFn__||Or).__ngNextListenerFn__=p,Or.__ngLastListenerFn__=p,We=!1;else{p=hv(r,n,be,p,!1);const ti=e.listen(on,i,p);Ae.push(p,ti),de&&de.push(i,Wn,Ut,Ut+1)}}else p=hv(r,n,be,p,!0),on.addEventListener(i,p,S),Ae.push(p),de&&de.push(i,Wn,Ut,S)}else p=hv(r,n,be,p,!1);const dt=r.outputs;let Qt;if(We&&null!==dt&&(Qt=dt[i])){const an=Qt.length;if(an)for(let on=0;on<an;on+=2){const Qa=n[Qt[on]][Qt[on+1]].subscribe(p),yd=Ae.length;Ae.push(p,Qa),de&&de.push(i,r.index,yd,-(yd+1))}}}(p,i,i[11],S,t,n,!!e,r),un}function r1(t,n,e,r){try{return!1!==e(r)}catch(i){return g0(t,i),!1}}function hv(t,n,e,r,i){return function p(S){if(S===Function)return r;const W=2&t.flags?nn(t.index,n):n;0==(32&n[2])&&$y(W);let K=r1(n,0,r,S),ne=p.__ngNextListenerFn__;for(;ne;)K=r1(n,0,ne,S)&&K,ne=ne.__ngNextListenerFn__;return i&&!1===K&&(S.preventDefault(),S.returnValue=!1),K}}function he(t=1){return function Ma(t){return(tn.lFrame.contextLView=function il(t,n){for(;t>0;)n=n[15],t--;return n}(t,tn.lFrame.contextLView))[8]}(t)}function JD(t,n){let e=null;const r=function Tu(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let i=0;i<n.length;i++){const p=n[i];if("*"!==p){if(null===r?Wl(t,p,!0):kg(r,p))return i}else e=i}return e}function Op(t){const n=Vt()[16][6];if(!n.projection){const r=n.projection=pa(t?t.length:1,null),i=r.slice();let p=n.child;for(;null!==p;){const S=t?JD(p,t):0;null!==S&&(i[S]?i[S].projectionNext=p:r[S]=p,i[S]=p),p=p.next}}}function Mp(t,n=0,e){const r=Vt(),i=Un(),p=ah(i,20+t,16,null,e||null);null===p.projection&&(p.projection=n),li(),64!=(64&p.flags)&&function xy(t,n,e){Lg(n[11],0,n,e,Sg(t,e,n),op(e.parent||n[6],e,n))}(i,r,p)}function h1(t,n,e,r,i){const p=t[e+1],S=null===n;let W=r?_l(p):tc(p),K=!1;for(;0!==W&&(!1===K||S);){const de=t[W+1];XD(t[W],n)&&(K=!0,t[W+1]=r?Vy(de):Ry(de)),W=r?_l(de):tc(de)}K&&(t[e+1]=r?Ry(p):Vy(p))}function XD(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&En(t,n)>=0}const rs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function p1(t){return t.substring(rs.key,rs.keyEnd)}function eI(t){return t.substring(rs.value,rs.valueEnd)}function g1(t,n){const e=rs.textEnd;return e===n?-1:(n=rs.keyEnd=function rI(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,rs.key=n,e),xh(t,n,e))}function m1(t,n){const e=rs.textEnd;let r=rs.key=xh(t,n,e);return e===r?-1:(r=rs.keyEnd=function iI(t,n,e){let r;for(;n<e&&(45===(r=t.charCodeAt(n))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)n++;return n}(t,r,e),r=v1(t,r,e),r=rs.value=xh(t,r,e),r=rs.valueEnd=function oI(t,n,e){let r=-1,i=-1,p=-1,S=n,W=S;for(;S<e;){const K=t.charCodeAt(S++);if(59===K)return W;34===K||39===K?W=S=C1(t,K,S,e):n===S-4&&85===p&&82===i&&76===r&&40===K?W=S=C1(t,41,S,e):K>32&&(W=S),p=i,i=r,r=-33&K}return W}(t,r,e),v1(t,r,e))}function y1(t){rs.key=0,rs.keyEnd=0,rs.value=0,rs.valueEnd=0,rs.textEnd=t.length}function xh(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function v1(t,n,e,r){return(n=xh(t,n,e))<e&&n++,n}function C1(t,n,e,r){let i=-1,p=e;for(;p<r;){const S=t.charCodeAt(p++);if(S==n&&92!==i)return p;i=92==S&&92===i?0:S}throw new Error}function so(t,n,e){return Ql(t,n,e,!1),so}function nm(t,n){return Ql(t,n,null,!0),nm}function Fr(t){kl(E1,sI,t,!1)}function sI(t,n){for(let e=function nI(t){return y1(t),m1(t,xh(t,0,rs.textEnd))}(n);e>=0;e=m1(n,e))E1(t,p1(n),eI(n))}function Se(t){kl(At,Iu,t,!0)}function Iu(t,n){for(let e=function tI(t){return y1(t),g1(t,xh(t,0,rs.textEnd))}(n);e>=0;e=g1(n,e))At(t,p1(n),!0)}function Ql(t,n,e,r){const i=Vt(),p=Un(),S=er(2);p.firstUpdatePass&&P1(p,t,S,r),n!==xr&&Vs(i,S,n)&&x1(p,p.data[Ii()],i,i[11],t,i[S+1]=function hI(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=$r(It(t)))),t}(n,e),r,S)}function kl(t,n,e,r){const i=Un(),p=er(2);i.firstUpdatePass&&P1(i,null,p,r);const S=Vt();if(e!==xr&&Vs(S,p,e)){const W=i.data[Ii()];if(w1(W,r)&&!b1(i,p)){let K=r?W.classesWithoutHost:W.stylesWithoutHost;null!==K&&(e=_n(K,e||"")),fv(i,W,S,e,r)}else!function dI(t,n,e,r,i,p,S,W){i===xr&&(i=jr);let K=0,ne=0,de=0<i.length?i[0]:null,be=0<p.length?p[0]:null;for(;null!==de||null!==be;){const Ae=K<i.length?i[K+1]:void 0,We=ne<p.length?p[ne+1]:void 0;let Qt,dt=null;de===be?(K+=2,ne+=2,Ae!==We&&(dt=be,Qt=We)):null===be||null!==de&&de<be?(K+=2,dt=de):(ne+=2,dt=be,Qt=We),null!==dt&&x1(t,n,e,r,dt,Qt,S,W),de=K<i.length?i[K]:null,be=ne<p.length?p[ne]:null}}(i,W,S,S[11],S[p+1],S[p+1]=function fI(t,n,e){if(null==e||""===e)return jr;const r=[],i=It(e);if(Array.isArray(i))for(let p=0;p<i.length;p++)t(r,i[p],!0);else if("object"==typeof i)for(const p in i)i.hasOwnProperty(p)&&t(r,p,i[p]);else"string"==typeof i&&n(r,i);return r}(t,n,e),r,p)}}function b1(t,n){return n>=t.expandoStartIndex}function P1(t,n,e,r){const i=t.data;if(null===i[e+1]){const p=i[Ii()],S=b1(t,e);w1(p,r)&&null===n&&!S&&(n=!1),n=function aI(t,n,e,r){const i=function tr(t){const n=tn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let p=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(e=Sp(e=gv(null,t,n,e,r),n.attrs,r),p=null);else{const S=n.directiveStylingLast;if(-1===S||t[S]!==i)if(e=gv(i,t,n,e,r),null===p){let K=function lI(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==tc(r))return t[_l(r)]}(t,n,r);void 0!==K&&Array.isArray(K)&&(K=gv(null,t,n,K[1],r),K=Sp(K,n.attrs,r),function uI(t,n,e,r){t[_l(e?n.classBindings:n.styleBindings)]=r}(t,n,r,K))}else p=function cI(t,n,e){let r;const i=n.directiveEnd;for(let p=1+n.directiveStylingLast;p<i;p++)r=Sp(r,t[p].hostAttrs,e);return Sp(r,n.attrs,e)}(t,n,r)}return void 0!==p&&(r?n.residualClasses=p:n.residualStyles=p),e}(i,p,n,r),function YD(t,n,e,r,i,p){let S=p?n.classBindings:n.styleBindings,W=_l(S),K=tc(S);t[r]=e;let de,ne=!1;if(Array.isArray(e)){const be=e;de=be[1],(null===de||En(be,de)>0)&&(ne=!0)}else de=e;if(i)if(0!==K){const Ae=_l(t[W+1]);t[r+1]=qg(Ae,W),0!==Ae&&(t[Ae+1]=Ay(t[Ae+1],r)),t[W+1]=function hw(t,n){return 131071&t|n<<17}(t[W+1],r)}else t[r+1]=qg(W,0),0!==W&&(t[W+1]=Ay(t[W+1],r)),W=r;else t[r+1]=qg(K,0),0===W?W=r:t[K+1]=Ay(t[K+1],r),K=r;ne&&(t[r+1]=Ry(t[r+1])),h1(t,de,r,!0),h1(t,de,r,!1),function ZD(t,n,e,r,i){const p=i?t.residualClasses:t.residualStyles;null!=p&&"string"==typeof n&&En(p,n)>=0&&(e[r+1]=Vy(e[r+1]))}(n,de,t,r,p),S=qg(W,K),p?n.classBindings=S:n.styleBindings=S}(i,p,n,e,S,r)}}function gv(t,n,e,r,i){let p=null;const S=e.directiveEnd;let W=e.directiveStylingLast;for(-1===W?W=e.directiveStart:W++;W<S&&(p=n[W],r=Sp(r,p.hostAttrs,i),p!==t);)W++;return null!==t&&(e.directiveStylingLast=W),r}function Sp(t,n,e){const r=e?1:2;let i=-1;if(null!==n)for(let p=0;p<n.length;p++){const S=n[p];"number"==typeof S?i=S:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),At(t,S,!!e||n[++p]))}return void 0===t?null:t}function E1(t,n,e){At(t,n,It(e))}function x1(t,n,e,r,i,p,S,W){if(!(3&n.type))return;const K=t.data,ne=K[W+1];rm(function Wb(t){return 1==(1&t)}(ne)?T1(K,n,e,i,tc(ne),S):void 0)||(rm(p)||function Ub(t){return 2==(2&t)}(ne)&&(p=T1(K,null,e,i,W,S)),function wy(t,n,e,r,i){const p=St(t);if(n)i?p?t.addClass(e,r):e.classList.add(r):p?t.removeClass(e,r):e.classList.remove(r);else{let S=-1===r.indexOf("-")?void 0:Lr.DashCase;if(null==i)p?t.removeStyle(e,r,S):e.style.removeProperty(r);else{const W="string"==typeof i&&i.endsWith("!important");W&&(i=i.slice(0,-10),S|=Lr.Important),p?t.setStyle(e,r,i,S):e.style.setProperty(r,i,W?"important":"")}}}(r,S,pt(Ii(),e),i,p))}function T1(t,n,e,r,i,p){const S=null===n;let W;for(;i>0;){const K=t[i],ne=Array.isArray(K),de=ne?K[1]:K,be=null===de;let Ae=e[i+1];Ae===xr&&(Ae=be?jr:void 0);let We=be?sn(Ae,r):de===r?Ae:void 0;if(ne&&!rm(We)&&(We=sn(K,r)),rm(We)&&(W=We,S))return W;const dt=t[i+1];i=S?_l(dt):tc(dt)}if(null!==n){let K=p?n.residualClasses:n.residualStyles;null!=K&&(W=sn(K,r))}return W}function rm(t){return void 0!==t}function w1(t,n){return 0!=(t.flags&(n?16:32))}function Bn(t,n=""){const e=Vt(),r=Un(),i=t+20,p=r.firstCreatePass?ah(r,i,1,n,null):r.data[i],S=e[i]=function tp(t,n){return St(t)?t.createText(n):t.createTextNode(n)}(e[11],n);Cu(r,e,S,p),Ir(p,!1)}function Jn(t){return ed("",t,""),Jn}function ed(t,n,e){const r=Vt(),i=function ph(t,n,e,r){return Vs(t,Ei(),e)?n+Yn(e)+r:xr}(r,t,n,e);return i!==xr&&nc(r,Ii(),i),ed}function mv(t,n,e){const r=Vt();return Vs(r,Ei(),n)&&Wa(Un(),ci(),r,t,n,r[11],e,!0),mv}const im="en-US";let K1=im;function Cv(t,n,e,r,i){if(t=lr(t),Array.isArray(t))for(let p=0;p<t.length;p++)Cv(t[p],n,e,r,i);else{const p=Un(),S=Vt();let W=fh(t)?t:lr(t.provide),K=P0(t);const ne=kn(),de=1048575&ne.providerIndexes,be=ne.directiveStart,Ae=ne.providerIndexes>>20;if(fh(t)||!t.multi){const We=new qu(K,i,kt),dt=Pv(W,n,i?de:de+Ae,be);-1===dt?(Gu(ol(ne,S),p,W),bv(p,t,n.length),n.push(W),ne.directiveStart++,ne.directiveEnd++,i&&(ne.providerIndexes+=1048576),e.push(We),S.push(We)):(e[dt]=We,S[dt]=We)}else{const We=Pv(W,n,de+Ae,be),dt=Pv(W,n,de,de+Ae),Qt=We>=0&&e[We],an=dt>=0&&e[dt];if(i&&!an||!i&&!Qt){Gu(ol(ne,S),p,W);const on=function AO(t,n,e,r,i){const p=new qu(t,e,kt);return p.multi=[],p.index=n,p.componentProviders=0,mP(p,i,r&&!e),p}(i?RO:SO,e.length,i,r,K);!i&&an&&(e[dt].providerFactory=on),bv(p,t,n.length,0),n.push(W),ne.directiveStart++,ne.directiveEnd++,i&&(ne.providerIndexes+=1048576),e.push(on),S.push(on)}else bv(p,t,We>-1?We:dt,mP(e[i?dt:We],K,!i&&r));!i&&r&&an&&e[dt].componentProviders++}}}function bv(t,n,e,r){const i=fh(n),p=function iD(t){return!!t.useClass}(n);if(i||p){const K=(p?lr(n.useClass):n).prototype.ngOnDestroy;if(K){const ne=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){const de=ne.indexOf(e);-1===de?ne.push(e,[r,K]):ne[de+1].push(r,K)}else ne.push(e,K)}}}function mP(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Pv(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function SO(t,n,e,r){return Ev(this.multi,[])}function RO(t,n,e,r){const i=this.multi;let p;if(this.providerFactory){const S=this.providerFactory.componentProviders,W=Ju(e,e[1],this.providerFactory.index,r);p=W.slice(0,S),Ev(i,p);for(let K=S;K<W.length;K++)p.push(W[K])}else p=[],Ev(i,p);return p}function Ev(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function no(t,n=[]){return e=>{e.providersResolver=(r,i)=>function MO(t,n,e){const r=Un();if(r.firstCreatePass){const i=Fo(t);Cv(e,r.data,r.blueprint,i,!0),Cv(n,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,n)}}class yP{}class FO{resolveComponentFactory(n){throw function LO(t){const n=Error(`No component factory found for ${$r(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let nd=(()=>{class t{}return t.NULL=new FO,t})();function NO(){return Dh(kn(),Vt())}function Dh(t,n){return new is(vt(t,n))}let is=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=NO,t})();function BO(t){return t instanceof is?t.nativeElement:t}class CP{}let rc=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function HO(){const t=Vt(),e=nn(kn().index,t);return function jO(t){return t[11]}(la(e)?e:t)}(),t})(),UO=(()=>{class t{}return t.\u0275prov=Zn({token:t,providedIn:"root",factory:()=>null}),t})();class Fp{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const WO=new Fp("13.3.12"),xv={};function um(t,n,e,r,i=!1){for(;null!==e;){const p=n[e.index];if(null!==p&&r.push(Ue(p)),Es(p))for(let W=10;W<p.length;W++){const K=p[W],ne=K[1].firstChild;null!==ne&&um(K[1],K,ne,r)}const S=e.type;if(8&S)um(t,n,e.child,r);else if(32&S){const W=Hf(e,n);let K;for(;K=W();)r.push(K)}else if(16&S){const W=ap(n,e);if(Array.isArray(W))r.push(...W);else{const K=Xu(n[16]);um(K[1],K,W,r,!0)}}e=i?e.projectionNext:e.next}return r}class Np{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return um(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Es(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(rp(n,r),pu(e,r))}this._attachedToViewContainer=!1}Mg(this._lView[1],this._lView)}onDestroy(n){t0(this._lView[1],this._lView,null,n)}markForCheck(){$y(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Jy(t,n,e){const r=n[10];r.begin&&r.begin();try{uh(t,n,t.template,e)}catch(i){throw g0(n,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new wr(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Cy(t,n){kf(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new wr(902,"");this._appRef=n}}class _O extends Np{constructor(n){super(n),this._view=n}detectChanges(){f0(this._view)}checkNoChanges(){}get context(){return null}}class bP extends nd{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Di(n);return new Tv(e,this.ngModule)}}function PP(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class Tv extends yP{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function Pp(t){return t.map(bp).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return PP(this.componentDef.inputs)}get outputs(){return PP(this.componentDef.outputs)}create(n,e,r,i){const p=(i=i||this.ngModule)?function QO(t,n){return{get:(e,r,i)=>{const p=t.get(e,xv,i);return p!==xv||r===xv?p:n.get(e,r,i)}}}(n,i.injector):n,S=p.get(CP,In),W=p.get(UO,null),K=S.createRenderer(null,this.componentDef),ne=this.componentDef.selectors[0][0]||"div",de=r?function e0(t,n,e){if(St(t))return t.selectRootElement(n,e===sa.ShadowDom);let r="string"==typeof n?t.querySelector(n):n;return r.textContent="",r}(K,r,this.componentDef.encapsulation):Wf(S.createRenderer(null,this.componentDef),ne,function zO(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(ne)),be=this.componentDef.onPush?576:528,Ae=function V0(t,n){return{components:[],scheduler:t||Oy,clean:Gw,playerHandler:n||null,flags:0}}(),We=Jg(0,null,null,1,0,null,null,null,null,null),dt=Ep(null,We,Ae,be,null,null,S,K,W,p);let Qt,an;ki(dt);try{const on=function R0(t,n,e,r,i,p){const S=e[1];e[20]=t;const K=ah(S,20,2,"#host",null),ne=K.mergedAttrs=n.hostAttrs;null!==ne&&(Zg(K,ne,!0),null!==t&&(Ds(i,t,ne),null!==K.classes&&Yc(i,t,K.classes),null!==K.styles&&cp(i,t,K.styles)));const de=r.createRenderer(t,n),be=Ep(e,Zb(n),null,n.onPush?64:16,e[20],K,r,de,p||null,null);return S.firstCreatePass&&(Gu(ol(K,e),S,n.type),a0(S,K),l0(K,e.length,1)),Yg(e,be),e[20]=be}(de,this.componentDef,dt,S,K);if(de)if(r)Ds(K,de,["ng-version",WO.full]);else{const{attrs:Ut,classes:Wn}=function dw(t){const n=[],e=[];let r=1,i=2;for(;r<t.length;){let p=t[r];if("string"==typeof p)2===i?""!==p&&n.push(p,t[++r]):8===i&&e.push(p);else{if(!As(i))break;i=p}r++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);Ut&&Ds(K,de,Ut),Wn&&Wn.length>0&&Yc(K,de,Wn.join(" "))}if(an=Rt(We,20),void 0!==e){const Ut=an.projection=[];for(let Wn=0;Wn<this.ngContentSelectors.length;Wn++){const Or=e[Wn];Ut.push(null!=Or?Array.from(Or):null)}}Qt=function A0(t,n,e,r,i){const p=e[1],S=function Vw(t,n,e){const r=kn();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),u0(t,r,n,lh(t,n,1,null),e));const i=Ju(n,t,r.directiveStart,r);Zo(i,n);const p=vt(r,n);return p&&Zo(p,n),i}(p,e,n);if(r.components.push(S),t[8]=S,i&&i.forEach(K=>K(S,n)),n.contentQueries){const K=kn();n.contentQueries(1,S,K.directiveStart)}const W=kn();return!p.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Jo(W.index),o0(e[1],W,0,W.directiveStart,W.directiveEnd,n),s0(n,S)),S}(on,this.componentDef,dt,Ae,[gD]),xp(We,dt,null)}finally{ws()}return new KO(this.componentType,Qt,Dh(an,dt),dt,an)}}class KO extends class VO{}{constructor(n,e,r,i,p){super(),this.location=r,this._rootLView=i,this._tNode=p,this.instance=e,this.hostView=this.changeDetectorRef=new _O(i),this.componentType=n}get injector(){return new ha(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class ic{}class EP{}const Ih=new Map;class wP extends ic{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new bP(this);const r=cs(n);this._bootstrapComponents=Ua(r.bootstrap),this._r3Injector=b0(n,e,[{provide:ic,useValue:this},{provide:nd,useValue:this.componentFactoryResolver}],$r(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,e=hs.THROW_IF_NOT_FOUND,r=ur.Default){return n===hs||n===ic||n===Zy?this:this._r3Injector.get(n,e,r)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class wv extends EP{constructor(n){super(),this.moduleType=n,null!==cs(n)&&function $O(t){const n=new Set;!function e(r){const i=cs(r,!0),p=i.id;null!==p&&(function xP(t,n,e){if(n&&n!==e)throw new Error(`Duplicate module registered for ${t} - ${$r(n)} vs ${$r(n.name)}`)}(p,Ih.get(p),r),Ih.set(p,r));const S=Ua(i.imports);for(const W of S)n.has(W)||(n.add(W),e(W))}(t)}(n)}create(n){return new wP(this.moduleType,n)}}function jn(t,n,e,r){return DP(Vt(),Hr(),t,n,e,r)}function Hn(t,n,e,r,i){return function IP(t,n,e,r,i,p,S){const W=n+e;return Xf(t,W,i,p)?Du(t,W+2,S?r.call(S,i,p):r(i,p)):Bp(t,W+2)}(Vt(),Hr(),t,n,e,r,i)}function rd(t,n,e,r,i,p){return function OP(t,n,e,r,i,p,S,W){const K=n+e;return function em(t,n,e,r,i){const p=Xf(t,n,e,r);return Vs(t,n+2,i)||p}(t,K,i,p,S)?Du(t,K+3,W?r.call(W,i,p,S):r(i,p,S)):Bp(t,K+3)}(Vt(),Hr(),t,n,e,r,i,p)}function Dv(t,n,e,r,i,p,S,W){const K=Hr()+t,ne=Vt(),de=function dl(t,n,e,r,i,p){const S=Xf(t,n,e,r);return Xf(t,n+2,i,p)||S}(ne,K,e,r,i,p);return Vs(ne,K+4,S)||de?Du(ne,K+5,W?n.call(W,e,r,i,p,S):n(e,r,i,p,S)):function Dp(t,n){return t[n]}(ne,K+5)}function Bp(t,n){const e=t[n];return e===xr?void 0:e}function DP(t,n,e,r,i,p){const S=n+e;return Vs(t,S,i)?Du(t,S+1,p?r.call(p,i):r(i)):Bp(t,S+1)}function Kl(t,n){const e=Un();let r;const i=t+20;e.firstCreatePass?(r=function tM(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,r.onDestroy)):r=e.data[i];const p=r.factory||(r.factory=Re(r.type)),S=Xr(kt);try{const W=au(!1),K=p();return au(W),function ID(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,Vt(),i,K),K}finally{Xr(S)}}function ql(t,n,e){const r=t+20,i=Vt(),p=cn(i,r);return function jp(t,n){return t[1].data[n].pure}(i,r)?DP(i,Hr(),n,p.transform,e,p):p.transform(e)}function Iv(t){return n=>{setTimeout(t,void 0,n)}}const mo=class sM extends U{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){var i,p,S;let W=n,K=e||(()=>null),ne=r;if(n&&"object"==typeof n){const be=n;W=null===(i=be.next)||void 0===i?void 0:i.bind(be),K=null===(p=be.error)||void 0===p?void 0:p.bind(be),ne=null===(S=be.complete)||void 0===S?void 0:S.bind(be)}this.__isAsync&&(K=Iv(K),W&&(W=Iv(W)),ne&&(ne=Iv(ne)));const de=super.subscribe({next:W,error:K,complete:ne});return n instanceof w&&n.add(de),de}};function aM(){return this._results[dh()]()}class Ov{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=dh(),r=Ov.prototype;r[e]||(r[e]=aM)}get changes(){return this._changes||(this._changes=new mo)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const i=Is(n);(this._changesDetected=!function zd(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],p=n[r];if(e&&(i=e(i),p=e(p)),p!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let $l=(()=>{class t{}return t.__NG_ELEMENT_ID__=cM,t})();const lM=$l,uM=class extends lM{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(n){const e=this._declarationTContainer.tViews,r=Ep(this._declarationLView,e,n,16,null,e.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(r[19]=p.createEmbeddedView(e)),xp(e,r,n),new Np(r)}};function cM(){return cm(kn(),Vt())}function cm(t,n){return 4&t.type?new uM(n,t,Dh(t,n)):null}let Io=(()=>{class t{}return t.__NG_ELEMENT_ID__=fM,t})();function fM(){return VP(kn(),Vt())}const dM=Io,RP=class extends dM{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Dh(this._hostTNode,this._hostLView)}get injector(){return new ha(this._hostTNode,this._hostLView)}get parentInjector(){const n=Mc(this._hostTNode,this._hostLView);if(Vd(n)){const e=Dl(n,this._hostLView),r=wl(n);return new ha(e[1].data[r+8],e)}return new ha(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=AP(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,r){const i=n.createEmbeddedView(e||{});return this.insert(i,r),i}createComponent(n,e,r,i,p){const S=n&&!function Rl(t){return"function"==typeof t}(n);let W;if(S)W=e;else{const be=e||{};W=be.index,r=be.injector,i=be.projectableNodes,p=be.ngModuleRef}const K=S?n:new Tv(Di(n)),ne=r||this.parentInjector;if(!p&&null==K.ngModule){const Ae=(S?ne:this.parentInjector).get(ic,null);Ae&&(p=Ae)}const de=K.create(ne,i,void 0,p);return this.insert(de.hostView,W),de}insert(n,e){const r=n._lView,i=r[1];if(function ir(t){return Es(t[3])}(r)){const de=this.indexOf(n);if(-1!==de)this.detach(de);else{const be=r[3],Ae=new RP(be,be[6],be[3]);Ae.detach(Ae.indexOf(n))}}const p=this._adjustIndex(e),S=this._lContainer;!function Ig(t,n,e,r){const i=10+r,p=e.length;r>0&&(e[i-1][4]=n),r<p-10?(n[4]=e[i],hu(e,10+r,n)):(e.push(n),n[4]=null),n[3]=e;const S=n[17];null!==S&&e!==S&&function Py(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(S,n);const W=n[19];null!==W&&W.insertView(t),n[2]|=128}(i,r,S,p);const W=lp(p,S),K=r[11],ne=zf(K,S[7]);return null!==ne&&function _f(t,n,e,r,i,p){r[0]=i,r[6]=n,kf(t,r,e,1,i,p)}(i,S[6],K,r,ne,W),n.attachToViewContainerRef(),hu(Mv(S),p,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=AP(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=rp(this._lContainer,e);r&&(pu(Mv(this._lContainer),e),Mg(r[1],r))}detach(n){const e=this._adjustIndex(n,-1),r=rp(this._lContainer,e);return r&&null!=pu(Mv(this._lContainer),e)?new Np(r):null}_adjustIndex(n,e=0){return null==n?this.length+e:n}};function AP(t){return t[8]}function Mv(t){return t[8]||(t[8]=[])}function VP(t,n){let e;const r=n[t.index];if(Es(r))e=r;else{let i;if(8&t.type)i=Ue(r);else{const p=n[11];i=p.createComment("");const S=vt(t,n);Ss(p,zf(p,S),i,function Ag(t,n){return St(t)?t.nextSibling(n):n.nextSibling}(p,S),!1)}n[t.index]=e=c0(r,n,i,t),Yg(n,e)}return new RP(e,t,n)}class Sv{constructor(n){this.queryList=n,this.matches=null}clone(){return new Sv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,i=[];for(let p=0;p<r;p++){const S=e.getByIndex(p);i.push(this.queries[S.indexInDeclarationView].clone())}return new Rv(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==jP(n,e).matches&&this.queries[e].setDirty()}}class LP{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class Av{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,p=this.getByIndex(r).embeddedTView(n,i);p&&(p.indexInDeclarationView=r,null!==e?e.push(p):e=[p])}return null!==e?new Av(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Vv{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new Vv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const p=r[i];this.matchTNodeWithReadOption(n,e,gM(e,p)),this.matchTNodeWithReadOption(n,e,lu(e,n,p,!1,!1))}else r===$l?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,lu(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===is||i===Io||i===$l&&4&e.type)this.addMatch(e.index,-2);else{const p=lu(e,n,i,!1,!1);null!==p&&this.addMatch(e.index,p)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function gM(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function yM(t,n,e,r){return-1===e?function mM(t,n){return 11&t.type?Dh(t,n):4&t.type?cm(t,n):null}(n,t):-2===e?function vM(t,n,e){return e===is?Dh(n,t):e===$l?cm(n,t):e===Io?VP(n,t):void 0}(t,n,r):Ju(t,t[1],e,n)}function FP(t,n,e,r){const i=n[19].queries[r];if(null===i.matches){const p=t.data,S=e.matches,W=[];for(let K=0;K<S.length;K+=2){const ne=S[K];W.push(ne<0?null:yM(n,p[ne],S[K+1],e.metadata.read))}i.matches=W}return i.matches}function Lv(t,n,e,r){const i=t.queries.getByIndex(e),p=i.matches;if(null!==p){const S=FP(t,n,i,e);for(let W=0;W<p.length;W+=2){const K=p[W];if(K>0)r.push(S[W/2]);else{const ne=p[W+1],de=n[-K];for(let be=10;be<de.length;be++){const Ae=de[be];Ae[17]===Ae[3]&&Lv(Ae[1],Ae,ne,r)}if(null!==de[9]){const be=de[9];for(let Ae=0;Ae<be.length;Ae++){const We=be[Ae];Lv(We[1],We,ne,r)}}}}}return r}function yo(t){const n=Vt(),e=Un(),r=ca();fa(r+1);const i=jP(e,r);if(t.dirty&&Sn(n)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const p=i.crossesNgTemplate?Lv(e,n,r,[]):FP(e,n,i,r);t.reset(p,BO),t.notifyOnChanges()}return!0}return!1}function Uo(t,n,e){const r=Un();r.firstCreatePass&&(function BP(t,n,e){null===t.queries&&(t.queries=new Av),t.queries.track(new Vv(n,e))}(r,new LP(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),function NP(t,n,e){const r=new Ov(4==(4&e));t0(t,n,r,r.destroy),null===n[19]&&(n[19]=new Rv),n[19].queries.push(new Sv(r))}(r,Vt(),n)}function vo(){return function CM(t,n){return t[19].queries[n].queryList}(Vt(),ca())}function jP(t,n){return t.queries.getByIndex(n)}function Kn(t,n){return cm(t,n)}function hm(...t){}const Wv=new Cr("Application Initializer");let _v=(()=>{class t{constructor(e){this.appInits=e,this.resolve=hm,this.reject=hm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const p=this.appInits[i]();if(Ip(p))e.push(p);else if(dv(p)){const S=new Promise((W,K)=>{p.subscribe({complete:W,error:K})});e.push(S)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Nn(Wv,8))},t.\u0275prov=Zn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Up=new Cr("AppId",{providedIn:"root",factory:function tE(){return`${zv()}${zv()}${zv()}`}});function zv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nE=new Cr("Platform Initializer"),Qv=new Cr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rE=new Cr("appBootstrapListener");let BM=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Zn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const rf=new Cr("LocaleId",{providedIn:"root",factory:()=>Ms(rf,ur.Optional|ur.SkipSelf)||function jM(){return"undefined"!=typeof $localize&&$localize.locale||im}()});class UM{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let iE=(()=>{class t{compileModuleSync(e){return new wv(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),p=Ua(cs(e).declarations).reduce((S,W)=>{const K=Di(W);return K&&S.push(new Tv(K)),S},[]);return new UM(r,p)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Zn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const _M=(()=>Promise.resolve(0))();function kv(t){"undefined"==typeof Zone?_M.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ps{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mo(!1),this.onMicrotaskEmpty=new mo(!1),this.onStable=new mo(!1),this.onError=new mo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function zM(){let t=Mr.requestAnimationFrame,n=Mr.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function KM(t){const n=()=>{!function kM(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Mr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,qv(t),t.isCheckStableRunning=!0,Kv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),qv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,p,S,W)=>{try{return oE(t),e.invokeTask(i,p,S,W)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||t.shouldCoalesceRunChangeDetection)&&n(),sE(t)}},onInvoke:(e,r,i,p,S,W,K)=>{try{return oE(t),e.invoke(i,p,S,W,K)}finally{t.shouldCoalesceRunChangeDetection&&n(),sE(t)}},onHasTask:(e,r,i,p)=>{e.hasTask(i,p),r===i&&("microTask"==p.change?(t._hasPendingMicrotasks=p.microTask,qv(t),Kv(t)):"macroTask"==p.change&&(t.hasPendingMacrotasks=p.macroTask))},onHandleError:(e,r,i,p)=>(e.handleError(i,p),t.runOutsideAngular(()=>t.onError.emit(p)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ps.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ps.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){const p=this._inner,S=p.scheduleEventTask("NgZoneEvent: "+i,n,QM,hm,hm);try{return p.runTask(S,e,r)}finally{p.cancelTask(S)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const QM={};function Kv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function oE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sE(t){t._nesting--,Kv(t)}class qM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mo,this.onMicrotaskEmpty=new mo,this.onStable=new mo,this.onError=new mo}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}}let $v=(()=>{class t{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ps.assertNotInAngularZone(),kv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kv(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let p=-1;r&&r>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==p),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:p,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,r,i){return[]}}return t.\u0275fac=function(e){return new(e||t)(Nn(ps))},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})(),$M=(()=>{class t{constructor(){this._applications=new Map,Gv.addToWindow(this)}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return Gv.findTestabilityInTree(this,e,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Zn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class GM{addToWindow(n){}findTestabilityInTree(n,e,r){return null}}let Gv=new GM,id=null;const aE=new Cr("AllowMultipleToken"),lE=new Cr("PlatformOnDestroy");class uE{constructor(n,e){this.name=n,this.token=e}}function cE(t,n,e=[]){const r=`Platform: ${n}`,i=new Cr(r);return(p=[])=>{let S=Jv();if(!S||S.injector.get(aE,!1)){const W=[...e,...p,{provide:i,useValue:!0}];t?t(W):function XM(t){if(id&&!id.get(aE,!1))throw new wr(400,"");id=t;const n=t.get(fE),e=t.get(nE,null);e&&e.forEach(r=>r())}(function tS(t=[],n){return hs.create({name:n,providers:[{provide:Xy,useValue:"platform"},{provide:lE,useValue:()=>id=null},...t]})}(W,r))}return function eS(t){const n=Jv();if(!n)throw new wr(401,"");return n}()}}function Jv(){var t;return null!==(t=null==id?void 0:id.get(fE))&&void 0!==t?t:null}let fE=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const W=function nS(t,n){let e;return e="noop"===t?new qM:("zone.js"===t?void 0:t)||new ps({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),e}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),K=[{provide:ps,useValue:W}];return W.run(()=>{const ne=hs.create({providers:K,parent:this.injector,name:e.moduleType.name}),de=e.create(ne),be=de.injector.get(xu,null);if(!be)throw new wr(402,"");return W.runOutsideAngular(()=>{const Ae=W.onError.subscribe({next:We=>{be.handleError(We)}});de.onDestroy(()=>{Yv(this._modules,de),Ae.unsubscribe()})}),function rS(t,n,e){try{const r=e();return Ip(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(be,W,()=>{const Ae=de.injector.get(_v);return Ae.runInitializers(),Ae.donePromise.then(()=>(function jI(t){lo(t,"Expected localeId to be defined"),"string"==typeof t&&(K1=t.toLowerCase().replace(/_/g,"-"))}(de.injector.get(rf,im)||im),this._moduleDoBootstrap(de),de))})})}bootstrapModule(e,r=[]){const i=dE({},r);return function YM(t,n,e){const r=new wv(e);return Promise.resolve(r)}(0,0,e).then(p=>this.bootstrapModuleFactory(p,i))}_moduleDoBootstrap(e){const r=e.injector.get(pm);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new wr(403,"");e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new wr(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(lE,null);null==e||e(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Nn(hs))},t.\u0275prov=Zn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function dE(t,n){return Array.isArray(n)?n.reduce(dE,t):Object.assign(Object.assign({},t),n)}let pm=(()=>{class t{constructor(e,r,i,p){this._zone=e,this._injector=r,this._exceptionHandler=i,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const S=new Z(K=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{K.next(this._stable),K.complete()})}),W=new Z(K=>{let ne;this._zone.runOutsideAngular(()=>{ne=this._zone.onStable.subscribe(()=>{ps.assertNotInAngularZone(),kv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,K.next(!0))})})});const de=this._zone.onUnstable.subscribe(()=>{ps.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{K.next(!1)}))});return()=>{ne.unsubscribe(),de.unsubscribe()}});this.isStable=function ka(...t){const n=na(t),e=function Xl(t,n){return"number"==typeof Ps(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?Fi(r[0]):Ns(e)(yi(r,n)):mi}(S,W.pipe(function eu(t={}){const{connector:n=(()=>new U),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return p=>{let S=null,W=null,K=null,ne=0,de=!1,be=!1;const Ae=()=>{null==W||W.unsubscribe(),W=null},We=()=>{Ae(),S=K=null,de=be=!1},dt=()=>{const Qt=S;We(),null==Qt||Qt.unsubscribe()};return je((Qt,an)=>{ne++,!be&&!de&&Ae();const on=K=null!=K?K:n();an.add(()=>{ne--,0===ne&&!be&&!de&&(W=yf(dt,i))}),on.subscribe(an),S||(S=new l({next:Ut=>on.next(Ut),error:Ut=>{be=!0,Ae(),W=yf(We,e,Ut),on.error(Ut)},complete:()=>{de=!0,Ae(),W=yf(We,r),on.complete()}}),yi(Qt).subscribe(S))})(p)}}()))}bootstrap(e,r){if(!this._initStatus.done)throw new wr(405,"");let i;i=e instanceof yP?e:this._injector.get(nd).resolveComponentFactory(e),this.componentTypes.push(i.componentType);const p=function ZM(t){return t.isBoundToModule}(i)?void 0:this._injector.get(ic),W=i.create(hs.NULL,[],r||i.selector,p),K=W.location.nativeElement,ne=W.injector.get($v,null),de=ne&&W.injector.get($M);return ne&&de&&de.registerApplication(K,ne),W.onDestroy(()=>{this.detachView(W.hostView),Yv(this.components,W),de&&de.unregisterApplication(K)}),this._loadComponent(W),W}tick(){if(this._runningTick)throw new wr(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;Yv(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(rE,[]).concat(this._bootstrapListeners).forEach(i=>i(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Nn(ps),Nn(hs),Nn(xu),Nn(_v))},t.\u0275prov=Zn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Yv(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let hl=(()=>{class t{}return t.__NG_ELEMENT_ID__=sS,t})();function sS(t){return function aS(t,n,e){if(_u(t)&&!e){const r=nn(t.index,n);return new Np(r,r)}return 47&t.type?new Np(n[16],n):null}(kn(),Vt(),16==(16&t))}class CE{constructor(){}supports(n){return wp(n)}create(n){return new hS(n)}}const dS=(t,n)=>n;class hS{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||dS}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,p=null;for(;e||r;){const S=!r||e&&e.currentIndex<PE(r,i,p)?e:r,W=PE(S,i,p),K=S.currentIndex;if(S===r)i--,r=r._nextRemoved;else if(e=e._next,null==S.previousIndex)i++;else{p||(p=[]);const ne=W-i,de=K-i;if(ne!=de){for(let Ae=0;Ae<ne;Ae++){const We=Ae<p.length?p[Ae]:p[Ae]=0,dt=We+Ae;de<=dt&&dt<ne&&(p[Ae]=We+1)}p[S.previousIndex]=de-ne}}W!==K&&n(S,W,K)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!wp(n))throw new wr(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,p,S,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let W=0;W<this.length;W++)p=n[W],S=this._trackByFn(W,p),null!==e&&Object.is(e.trackById,S)?(r&&(e=this._verifyReinsertion(e,p,S,W)),Object.is(e.item,p)||this._addIdentityChange(e,p)):(e=this._mismatch(e,p,S,W),r=!0),e=e._next}else i=0,function wD(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[dh()]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,W=>{S=this._trackByFn(i,W),null!==e&&Object.is(e.trackById,S)?(r&&(e=this._verifyReinsertion(e,W,S,i)),Object.is(e.item,W)||this._addIdentityChange(e,W)):(e=this._mismatch(e,W,S,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let p;return null===n?p=this._itTail:(p=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,p,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,p,i)):n=this._addAfter(new pS(e,r),p,i),n}_verifyReinsertion(n,e,r,i){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==p?n=this._reinsertAfter(p,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,p=n._nextRemoved;return null===i?this._removalsHead=p:i._nextRemoved=p,null===p?this._removalsTail=i:p._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const i=null===e?this._itHead:e._next;return n._next=i,n._prev=e,null===i?this._itTail=n:i._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new bE),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bE),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class pS{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gS{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class bE{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new gS,this.map.set(e,r)),r.add(n)}get(n,e){const i=this.map.get(n);return i?i.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function PE(t,n,e){const r=t.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}function xE(){return new ym([new CE])}let ym=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||xE()),deps:[[t,new ds,new ll]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new wr(901,"")}}return t.\u0275prov=Zn({token:t,providedIn:"root",factory:xE}),t})();const bS=cE(null,"core",[]);let PS=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(Nn(pm))},t.\u0275mod=$o({type:t}),t.\u0275inj=Nr({}),t})(),vm=null;function Ou(){return vm}const Xs=new Cr("DocumentToken");let sd=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Zn({token:t,factory:function(){return function wS(){return Nn(wE)}()},providedIn:"platform"}),t})();const DS=new Cr("Location Initialized");let wE=(()=>{class t extends sd{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ou().getBaseHref(this._doc)}onPopState(e){const r=Ou().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Ou().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){DE()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){DE()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Nn(Xs))},t.\u0275prov=Zn({token:t,factory:function(){return function IS(){return new wE(Nn(Xs))}()},providedIn:"platform"}),t})();function DE(){return!!window.history.pushState}function nC(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function IE(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function oc(t){return t&&"?"!==t[0]?"?"+t:t}let Mh=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Zn({token:t,factory:function(){return function OS(t){const n=Nn(Xs).location;return new OE(Nn(sd),n&&n.origin||"")}()},providedIn:"root"}),t})();const rC=new Cr("appBaseHref");let OE=(()=>{class t extends Mh{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return nC(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+oc(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,p){const S=this.prepareExternalUrl(i+oc(p));this._platformLocation.pushState(e,r,S)}replaceState(e,r,i,p){const S=this.prepareExternalUrl(i+oc(p));this._platformLocation.replaceState(e,r,S)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return t.\u0275fac=function(e){return new(e||t)(Nn(sd),Nn(rC,8))},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})(),MS=(()=>{class t extends Mh{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=nC(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,p){let S=this.prepareExternalUrl(i+oc(p));0==S.length&&(S=this._platformLocation.pathname),this._platformLocation.pushState(e,r,S)}replaceState(e,r,i,p){let S=this.prepareExternalUrl(i+oc(p));0==S.length&&(S=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,S)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return t.\u0275fac=function(e){return new(e||t)(Nn(sd),Nn(rC,8))},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})(),iC=(()=>{class t{constructor(e,r){this._subject=new mo,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=IE(ME(i)),this._platformStrategy.onPopState(p=>{this._subject.emit({url:this.path(!0),pop:!0,state:p.state,type:p.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+oc(r))}normalize(e){return t.stripTrailingSlash(function RS(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,ME(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._platformStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+oc(r)),i)}replaceState(e,r="",i=null){this._platformStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+oc(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return t.normalizeQueryParams=oc,t.joinWithSlash=nC,t.stripTrailingSlash=IE,t.\u0275fac=function(e){return new(e||t)(Nn(Mh),Nn(sd))},t.\u0275prov=Zn({token:t,factory:function(){return function SS(){return new iC(Nn(Mh),Nn(sd))}()},providedIn:"root"}),t})();function ME(t){return t.replace(/\/index.html$/,"")}function jE(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[i,p]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(p)}return null}class mR{constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ji=(()=>{class t{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,p,S)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new mR(i.item,this._ngForOf,-1,-1),null===S?void 0:S);else if(null==S)r.remove(null===p?void 0:p);else if(null!==p){const W=r.get(p);r.move(W,S),HE(W,i)}});for(let i=0,p=r.length;i<p;i++){const W=r.get(i).context;W.index=i,W.count=p,W.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{HE(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(kt(Io),kt($l),kt(ym))},t.\u0275dir=qn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function HE(t,n){t.context.$implicit=n.item}let Fn=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new yR,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){UE("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){UE("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(kt(Io),kt($l))},t.\u0275dir=qn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class yR{constructor(){this.$implicit=null,this.ngIf=null}}function UE(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${$r(n)}'.`)}class pC{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let Qp=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qn({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),gC=(()=>{class t{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new pC(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(kt(Io),kt($l),kt(Qp,9))},t.\u0275dir=qn({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),ac=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(kt(Io))},t.\u0275dir=qn({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Ie]}),t})(),zE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$o({type:t}),t.\u0275inj=Nr({}),t})();let kR=(()=>{class t{}return t.\u0275prov=Zn({token:t,providedIn:"root",factory:()=>new KR(Nn(Xs),window)}),t})();class KR{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function qR(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const p=i.shadowRoot;if(p){const S=p.getElementById(n)||p.querySelector(`[name="${n}"]`);if(S)return S}i=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,p=this.offset();this.window.scrollTo(r-p[0],i-p[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=kE(this.window.history)||kE(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function kE(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class KE{}class vC extends class $R extends class TS{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function xS(t){vm||(vm=t)}(new vC)}onAndCancel(n,e,r){return n.addEventListener(e,r,!1),()=>{n.removeEventListener(e,r,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function GR(){return kp=kp||document.querySelector("base"),kp?kp.getAttribute("href"):null}();return null==e?null:function JR(t){Om=Om||document.createElement("a"),Om.setAttribute("href",t);const n=Om.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){kp=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return jE(document.cookie,n)}}let Om,kp=null;const qE=new Cr("TRANSITION_ID"),ZR=[{provide:Wv,useFactory:function YR(t,n,e){return()=>{e.get(_v).donePromise.then(()=>{const r=Ou(),i=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let p=0;p<i.length;p++)r.remove(i[p])})}},deps:[qE,Xs,hs],multi:!0}];class CC{static init(){!function JM(t){Gv=t}(new CC)}addToWindow(n){Mr.getAngularTestability=(r,i=!0)=>{const p=n.findTestabilityInTree(r,i);if(null==p)throw new Error("Could not find testability for element.");return p},Mr.getAllAngularTestabilities=()=>n.getAllTestabilities(),Mr.getAllAngularRootElements=()=>n.getAllRootElements(),Mr.frameworkStabilizers||(Mr.frameworkStabilizers=[]),Mr.frameworkStabilizers.push(r=>{const i=Mr.getAllAngularTestabilities();let p=i.length,S=!1;const W=function(K){S=S||K,p--,0==p&&r(S)};i.forEach(function(K){K.whenStable(W)})})}findTestabilityInTree(n,e,r){if(null==e)return null;const i=n.getTestability(e);return null!=i?i:r?Ou().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let XR=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})();const Mm=new Cr("EventManagerPlugins");let Sm=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let p=0;p<i.length;p++){const S=i[p];if(S.supports(e))return this._eventNameToPlugin.set(e,S),S}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(Nn(Mm),Nn(ps))},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})();class $E{constructor(n){this._doc=n}addGlobalEventListener(n,e,r){const i=Ou().getGlobalEventTarget(this._doc,n);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let GE=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})(),Kp=(()=>{class t extends GE{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(p=>{const S=this._doc.createElement("style");S.textContent=p,i.push(r.appendChild(S))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(JE),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(JE))}}return t.\u0275fac=function(e){return new(e||t)(Nn(Xs))},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})();function JE(t){Ou().remove(t)}const bC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},PC=/%COMP%/g;function Rm(t,n,e){for(let r=0;r<n.length;r++){let i=n[r];Array.isArray(i)?Rm(t,i,e):(i=i.replace(PC,t),e.push(i))}return e}function XE(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let EC=(()=>{class t{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new xC(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case sa.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new oA(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case sa.ShadowDom:return new sA(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=Rm(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Nn(Sm),Nn(Kp),Nn(Up))},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})();class xC{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(bC[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,r){n&&n.insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;const p=bC[i];p?n.setAttributeNS(p,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const i=bC[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(Lr.DashCase|Lr.Important)?n.style.setProperty(e,r,i&Lr.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Lr.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,XE(r)):this.eventManager.addEventListener(n,e,XE(r))}}class oA extends xC{constructor(n,e,r,i){super(n),this.component=r;const p=Rm(i+"-"+r.id,r.styles,[]);e.addStyles(p),this.contentAttr=function nA(t){return"_ngcontent-%COMP%".replace(PC,t)}(i+"-"+r.id),this.hostAttr=function rA(t){return"_nghost-%COMP%".replace(PC,t)}(i+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}class sA extends xC{constructor(n,e,r,i){super(n),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=Rm(i.id,i.styles,[]);for(let S=0;S<p.length;S++){const W=document.createElement("style");W.textContent=p[S],this.shadowRoot.appendChild(W)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let aA=(()=>{class t extends $E{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return t.\u0275fac=function(e){return new(e||t)(Nn(Xs))},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})();const t2=["alt","control","meta","shift"],uA={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},n2={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},cA={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let fA=(()=>{class t extends $E{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,i){const p=t.parseEventName(r),S=t.eventCallback(p.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ou().onAndCancel(e,p.domEventName,S))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const p=t._normalizeKey(r.pop());let S="";if(t2.forEach(K=>{const ne=r.indexOf(K);ne>-1&&(r.splice(ne,1),S+=K+".")}),S+=p,0!=r.length||0===p.length)return null;const W={};return W.domEventName=i,W.fullKey=S,W}static getEventFullKey(e){let r="",i=function dA(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&n2.hasOwnProperty(n)&&(n=n2[n]))}return uA[n]||n}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),t2.forEach(p=>{p!=i&&cA[p](e)&&(r+=p+".")}),r+=i,r}static eventCallback(e,r,i){return p=>{t.getEventFullKey(p)===e&&i.runGuarded(()=>r(p))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(Nn(Xs))},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})();const mA=cE(bS,"browser",[{provide:Qv,useValue:"browser"},{provide:nE,useValue:function hA(){vC.makeCurrent(),CC.init()},multi:!0},{provide:Xs,useFactory:function gA(){return function zt(t){Mt=t}(document),document},deps:[]}]),yA=[{provide:Xy,useValue:"root"},{provide:xu,useFactory:function pA(){return new xu},deps:[]},{provide:Mm,useClass:aA,multi:!0,deps:[Xs,ps,Qv]},{provide:Mm,useClass:fA,multi:!0,deps:[Xs]},{provide:EC,useClass:EC,deps:[Sm,Kp,Up]},{provide:CP,useExisting:EC},{provide:GE,useExisting:Kp},{provide:Kp,useClass:Kp,deps:[Xs]},{provide:$v,useClass:$v,deps:[ps]},{provide:Sm,useClass:Sm,deps:[Mm,ps]},{provide:KE,useClass:XR,deps:[]}];let vA=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Up,useValue:e.appId},{provide:qE,useExisting:Up},ZR]}}}return t.\u0275fac=function(e){return new(e||t)(Nn(t,12))},t.\u0275mod=$o({type:t}),t.\u0275inj=Nr({providers:yA,imports:[zE,PS]}),t})();"undefined"!=typeof window&&window;let Am=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Zn({token:t,factory:function(e){let r=null;return r=e?new(e||t):Nn(s2),r},providedIn:"root"}),t})(),s2=(()=>{class t extends Am{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case hi.NONE:return r;case hi.HTML:return nt(r,"HTML")?It(r):dp(this._doc,String(r)).toString();case hi.STYLE:return nt(r,"Style")?It(r):r;case hi.SCRIPT:if(nt(r,"Script"))return It(r);throw new Error("unsafe value used in a script context");case hi.URL:return ct(r),nt(r,"URL")?It(r):Yr(String(r));case hi.RESOURCE_URL:if(nt(r,"ResourceURL"))return It(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function $t(t){return new st(t)}(e)}bypassSecurityTrustStyle(e){return function en(t){return new Ct(t)}(e)}bypassSecurityTrustScript(e){return function Gt(t){return new bt(t)}(e)}bypassSecurityTrustUrl(e){return function Vn(t){return new ht(t)}(e)}bypassSecurityTrustResourceUrl(e){return function Cn(t){return new Jt(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(Nn(Xs))},t.\u0275prov=Zn({token:t,factory:function(e){let r=null;return r=e?new e:function OA(t){return new s2(t.get(Xs))}(Nn(hs)),r},providedIn:"root"}),t})();var Ti=j(8940);class wC{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class a2 extends wC{constructor(n,e,r,i){super(),this.component=n,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i}}class MA extends wC{constructor(n,e,r){super(),this.templateRef=n,this.viewContainerRef=e,this.context=r}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class SA extends wC{constructor(n){super(),this.element=n instanceof is?n.nativeElement:n}}class AA extends class RA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof a2?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof MA?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof SA?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(n,e,r,i,p){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=S=>{const W=S.element,K=this._document.createComment("dom-portal");W.parentNode.insertBefore(K,W),this.outletElement.appendChild(W),this._attachedPortal=S,super.setDisposeFn(()=>{K.parentNode&&K.parentNode.replaceChild(W,K)})},this._document=p}attachComponentPortal(n){const r=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let i;return n.viewContainerRef?(i=n.viewContainerRef.createComponent(r,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(n.injector||this._defaultInjector||hs.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=n,i}attachTemplatePortal(n){let e=n.viewContainerRef,r=e.createEmbeddedView(n.templateRef,n.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=n,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}const{isArray:VA}=Array,{getPrototypeOf:LA,prototype:FA,keys:NA}=Object;function l2(t){if(1===t.length){const n=t[0];if(VA(n))return{args:n,keys:null};if(function BA(t){return t&&"object"==typeof t&&LA(t)===FA}(n)){const e=NA(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:jA}=Array;function u2(t){return gt(n=>function HA(t,n){return jA(n)?t(...n):t(n)}(t,n))}function c2(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}let f2=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(kt(rc),kt(is))},t.\u0275dir=qn({type:t}),t})(),ad=(()=>{class t extends f2{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275dir=qn({type:t,features:[Zt]}),t})();const Mu=new Cr("NgValueAccessor"),WA={provide:Mu,useExisting:zn(()=>Vm),multi:!0};let Vm=(()=>{class t extends ad{writeValue(e){this.setProperty("checked",e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275dir=qn({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,r){1&e&&un("change",function(p){return r.onChange(p.target.checked)})("blur",function(){return r.onTouched()})},features:[no([WA]),Zt]}),t})();const _A={provide:Mu,useExisting:zn(()=>sf),multi:!0},QA=new Cr("CompositionEventMode");let sf=(()=>{class t extends f2{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function zA(){const t=Ou()?Ou().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(kt(rc),kt(is),kt(QA,8))},t.\u0275dir=qn({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&un("input",function(p){return r._handleInput(p.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(p){return r._compositionEnd(p.target.value)})},features:[no([_A]),Zt]}),t})();const Ls=new Cr("NgValidators"),lf=new Cr("NgAsyncValidators");function g2(t){return function af(t){return null==t||0===t.length}(t.value)?{required:!0}:null}function Lm(t){return null}function P2(t){return null!=t}function E2(t){const n=Ip(t)?yi(t):t;return dv(n),n}function x2(t){let n={};return t.forEach(e=>{n=null!=e?Object.assign(Object.assign({},n),e):n}),0===Object.keys(n).length?null:n}function T2(t,n){return n.map(e=>e(t))}function w2(t){return t.map(n=>function KA(t){return!t.validate}(n)?n:e=>n.validate(e))}function DC(t){return null!=t?function D2(t){if(!t)return null;const n=t.filter(P2);return 0==n.length?null:function(e){return x2(T2(e,n))}}(w2(t)):null}function IC(t){return null!=t?function I2(t){if(!t)return null;const n=t.filter(P2);return 0==n.length?null:function(e){return function UA(...t){const n=js(t),{args:e,keys:r}=l2(t),i=new Z(p=>{const{length:S}=e;if(!S)return void p.complete();const W=new Array(S);let K=S,ne=S;for(let de=0;de<S;de++){let be=!1;Fi(e[de]).subscribe(new ft(p,Ae=>{be||(be=!0,ne--),W[de]=Ae},()=>K--,void 0,()=>{(!K||!be)&&(ne||p.next(r?c2(r,W):W),p.complete())}))}});return n?i.pipe(u2(n)):i}(T2(e,n).map(E2)).pipe(gt(x2))}}(w2(t)):null}function O2(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function OC(t){return t?Array.isArray(t)?t:[t]:[]}function Fm(t,n){return Array.isArray(t)?t.includes(n):t===n}function R2(t,n){const e=OC(n);return OC(t).forEach(i=>{Fm(e,i)||e.push(i)}),e}function A2(t,n){return OC(n).filter(e=>!Fm(t,e))}class V2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=DC(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=IC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class uf extends V2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ea extends V2{get formDirective(){return null}get path(){return null}}class L2{constructor(n){this._cd=n}is(n){var e,r,i;return"submitted"===n?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[n])}}let lc=(()=>{class t extends L2{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(kt(uf,2))},t.\u0275dir=qn({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&nm("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Zt]}),t})(),F2=(()=>{class t extends L2{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(kt(ea,10))},t.\u0275dir=qn({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&nm("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Zt]}),t})();function qp(t,n){RC(t,n),n.valueAccessor.writeValue(t.value),function eV(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&B2(t,n)})}(t,n),function nV(t,n){const e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function tV(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&B2(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function XA(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function Hm(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function RC(t,n){const e=function M2(t){return t._rawValidators}(t);null!==n.validator?t.setValidators(O2(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=function S2(t){return t._rawAsyncValidators}(t);null!==n.asyncValidator?t.setAsyncValidators(O2(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Hm(n._rawValidators,i),Hm(n._rawAsyncValidators,i)}function B2(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function LC(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const $p="VALID",Wm="INVALID",Sh="PENDING",Gp="DISABLED";function NC(t){return(_m(t)?t.validators:t)||null}function W2(t){return Array.isArray(t)?DC(t):t||null}function BC(t,n){return(_m(n)?n.asyncValidators:t)||null}function _2(t){return Array.isArray(t)?IC(t):t||null}function _m(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const jC=t=>t instanceof UC;function Q2(t){return(t=>t instanceof q2)(t)?t.value:t.getRawValue()}function k2(t,n){const e=jC(t),r=t.controls;if(!(e?Object.keys(r):r).length)throw new wr(1e3,"");if(!r[n])throw new wr(1001,"")}function K2(t,n){jC(t),t._forEachChild((r,i)=>{if(void 0===n[i])throw new wr(1002,"")})}class HC{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=W2(this._rawValidators),this._composedAsyncValidatorFn=_2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===$p}get invalid(){return this.status===Wm}get pending(){return this.status==Sh}get disabled(){return this.status===Gp}get enabled(){return this.status!==Gp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=W2(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=_2(n)}addValidators(n){this.setValidators(R2(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(R2(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(A2(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(A2(n,this._rawAsyncValidators))}hasValidator(n){return Fm(this._rawValidators,n)}hasAsyncValidator(n){return Fm(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Sh,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Gp,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=$p,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$p||this.status===Sh)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gp:$p}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Sh,this._hasOwnPendingAsyncValidator=!0;const e=E2(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){return function sV(t,n,e){if(null==n||(Array.isArray(n)||(n=n.split(e)),Array.isArray(n)&&0===n.length))return null;let r=t;return n.forEach(i=>{r=jC(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(t=>t instanceof lV)(r)&&r.at(i)||null}),r}(this,n,".")}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new mo,this.statusChanges=new mo}_calculateStatus(){return this._allControlsDisabled()?Gp:this.errors?Wm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sh)?Sh:this._anyControlsHaveStatus(Wm)?Wm:$p}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){_m(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class q2 extends HC{constructor(n=null,e,r){super(NC(e),BC(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_m(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){LC(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){LC(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class UC extends HC{constructor(n,e,r){super(NC(e),BC(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){K2(this,n),Object.keys(n).forEach(r=>{k2(this,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=Q2(e),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&n(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,e,r)=>((e.enabled||this.disabled)&&(n[r]=e.value),n))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,p)=>{r=e(r,i,p)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class lV extends HC{constructor(n,e,r){super(NC(e),BC(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,r={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){K2(this,n),n.forEach((r,i)=>{k2(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>Q2(n))}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,r)=>{n(e,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const uV={provide:ea,useExisting:zn(()=>zm)},Jp=(()=>Promise.resolve(null))();let zm=(()=>{class t extends ea{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new mo,this.form=new UC({},DC(e),IC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Jp.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),qp(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Jp.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Jp.then(()=>{const r=this._findContainer(e.path),i=new UC({});(function j2(t,n){RC(t,n)})(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Jp.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Jp.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function U2(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return t.\u0275fac=function(e){return new(e||t)(kt(Ls,10),kt(lf,10))},t.\u0275dir=qn({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&un("submit",function(p){return r.onSubmit(p)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[no([uV]),Zt]}),t})();const fV={provide:uf,useExisting:zn(()=>Su)},J2=(()=>Promise.resolve(null))();let Su=(()=>{class t extends uf{constructor(e,r,i,p,S){super(),this._changeDetectorRef=S,this.control=new q2,this._registered=!1,this.update=new mo,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function VC(t,n){if(!n)return null;let e,r,i;return Array.isArray(n),n.forEach(p=>{p.constructor===sf?e=p:function oV(t){return Object.getPrototypeOf(t.constructor)===ad}(p)?r=p:i=p}),i||r||e||null}(0,p)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function AC(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qp(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){J2.then(()=>{var r;this.control.setValue(e,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=""===r||r&&"false"!==r;J2.then(()=>{var p;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(p=this._changeDetectorRef)||void 0===p||p.markForCheck()})}_getPath(e){return this._parent?function Bm(t,n){return[...n.path,t]}(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(kt(ea,9),kt(Ls,10),kt(lf,10),kt(Mu,10),kt(hl,8))},t.\u0275dir=qn({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[no([fV]),Zt,Ie]}),t})(),Y2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qn({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const hV={provide:Mu,useExisting:zn(()=>Qm),multi:!0};let X2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$o({type:t}),t.\u0275inj=Nr({}),t})(),pV=(()=>{class t{constructor(){this._accessors=[]}add(e,r){this._accessors.push([e,r])}remove(e){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===e)return void this._accessors.splice(r,1)}select(e){this._accessors.forEach(r=>{this._isSameGroup(r,e)&&r[1]!==e&&r[1].fireUncheck(e.value)})}_isSameGroup(e,r){return!!e[0].control&&e[0]._parent===r._control._parent&&e[1].name===r.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Zn({token:t,factory:t.\u0275fac,providedIn:X2}),t})(),Qm=(()=>{class t extends ad{constructor(e,r,i,p){super(e,r),this._registry=i,this._injector=p,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(uf),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(kt(rc),kt(is),kt(pV),kt(hs))},t.\u0275dir=qn({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,r){1&e&&un("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[no([hV]),Zt]}),t})();const PV={provide:Mu,useExisting:zn(()=>km),multi:!0};function ox(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let km=(()=>{class t extends ad{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=ox(this._getOptionId(e),e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function EV(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275dir=qn({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&un("change",function(p){return r.onChange(p.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[no([PV]),Zt]}),t})(),Km=(()=>{class t{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(ox(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(kt(is),kt(rc),kt(km,9))},t.\u0275dir=qn({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const xV={provide:Mu,useExisting:zn(()=>QC),multi:!0};function sx(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let QC=(()=>{class t extends ad{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const i=e.map(p=>this._getOptionId(p));r=(p,S)=>{p._setSelected(i.indexOf(S.toString())>-1)}}else r=(i,p)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const i=[],p=r.selectedOptions;if(void 0!==p){const S=p;for(let W=0;W<S.length;W++){const ne=this._getOptionValue(S[W].value);i.push(ne)}}else{const S=r.options;for(let W=0;W<S.length;W++){const K=S[W];if(K.selected){const ne=this._getOptionValue(K.value);i.push(ne)}}}this.value=i,e(i)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function TV(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275dir=qn({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&un("change",function(p){return r.onChange(p.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[no([xV]),Zt]}),t})(),qm=(()=>{class t{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(sx(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(sx(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(kt(is),kt(rc),kt(QC,9))},t.\u0275dir=qn({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),ld=(()=>{class t{constructor(){this._validator=Lm}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Lm,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=qn({type:t,features:[Ie]}),t})();const OV={provide:Ls,useExisting:zn(()=>$m),multi:!0};let $m=(()=>{class t extends ld{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function wV(t){return null!=t&&!1!==t&&"false"!=`${t}`}(e),this.createValidator=e=>g2}enabled(e){return e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275dir=qn({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&mn("required",r._enabled?"":null)},inputs:{required:"required"},features:[no([OV]),Zt]}),t})(),LV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$o({type:t}),t.\u0275inj=Nr({imports:[[X2]]}),t})(),FV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$o({type:t}),t.\u0275inj=Nr({imports:[LV]}),t})();const NV=["template"],kC=["actionContent"];function BV(t,n){1&t&&(dn(0),ut(1,"div",5),hn())}function jV(t,n){}const cf=function(t){return{model:t}},HV=function(t,n){return{name:t,data:n,default:"sv-action-bar-item"}};function UV(t,n){if(1&t&&(Ve(0,"div",1)(1,"div",2),ge(2,BV,2,0,"ng-container",3),ge(3,jV,0,0,"ng-template",4),He()()),2&t){const e=he();Se(e.model.getActionRootCss()),ie("id",e.id),oe(2),ie("ngIf",e.model.needSeparator),oe(1),ie("component",Hn(7,HV,e.model.component,jn(5,cf,e.model)))}}const KC=["container"];function WV(t,n){if(1&t&&(dn(0),ut(1,"sv-ng-action",5),hn()),2&t){const e=n.$implicit;oe(1),ie("model",e)}}function _V(t,n){if(1&t){const e=or();Ve(0,"div",2,3),un("click",function(i){return Nt(e),he(2).onClick(i)}),ge(2,WV,2,1,"ng-container",4),He()}if(2&t){const e=he(2);Se(e.model.getRootCss()),oe(2),ie("ngForOf",e.model.renderedActions)}}function zV(t,n){1&t&&ge(0,_V,3,3,"div",1),2&t&&ie("ngIf",he().model.hasActions)}function QV(t,n){}const ar=function(t,n){return{name:t,data:n}};function kV(t,n){if(1&t&&(dn(0),ge(1,QV,0,0,"ng-template",8),hn()),2&t){const e=he();oe(1),ie("component",Hn(3,ar,e.model.popupHeaderTemplate,jn(1,cf,e.model)))}}function KV(t,n){if(1&t&&(Ve(0,"div",10),Bn(1),He()),2&t){const e=he();oe(1),Jn(e.model.title)}}function qV(t,n){}function $V(t,n){if(1&t&&(Ve(0,"div",11),ut(1,"sv-ng-action-bar",12),He()),2&t){const e=he();oe(1),ie("model",e.model.footerToolbar)}}const GV=function(t,n,e,r,i){return{left:t,top:n,height:e,minWidth:r,width:i}},JV=["svgContainer"];function YV(t,n){1&t&&to(0)}function ZV(t,n){if(1&t&&(Ve(0,"h1"),ge(1,YV,1,0,"ng-container",4),He()),2&t){he();const e=oo(8),r=he();Se(r.element.cssTitle),mn("id",r.element.ariaTitleId)("tabindex",r.element.titleTabIndex)("aria-expanded",r.element.titleAriaExpanded)("role",r.element.titleAriaRole)("aria-label",r.ariaLabel),oe(1),ie("ngTemplateOutlet",e)}}function XV(t,n){1&t&&to(0)}function eL(t,n){if(1&t&&(Ve(0,"h2"),ge(1,XV,1,0,"ng-container",4),He()),2&t){he();const e=oo(8),r=he();Se(r.element.cssTitle),mn("id",r.element.ariaTitleId)("tabindex",r.element.titleTabIndex)("aria-expanded",r.element.titleAriaExpanded)("role",r.element.titleAriaRole)("aria-label",r.ariaLabel),oe(1),ie("ngTemplateOutlet",e)}}function tL(t,n){1&t&&to(0)}function nL(t,n){if(1&t&&(Ve(0,"h3"),ge(1,tL,1,0,"ng-container",4),He()),2&t){he();const e=oo(8),r=he();Se(r.element.cssTitle),mn("id",r.element.ariaTitleId)("tabindex",r.element.titleTabIndex)("aria-expanded",r.element.titleAriaExpanded)("role",r.element.titleAriaRole)("aria-label",r.ariaLabel),oe(1),ie("ngTemplateOutlet",e)}}function rL(t,n){1&t&&to(0)}function iL(t,n){if(1&t&&(Ve(0,"h4"),ge(1,rL,1,0,"ng-container",4),He()),2&t){he();const e=oo(8),r=he();Se(r.element.cssTitle),mn("id",r.element.ariaTitleId)("tabindex",r.element.titleTabIndex)("aria-expanded",r.element.titleAriaExpanded)("role",r.element.titleAriaRole)("aria-label",r.ariaLabel),oe(1),ie("ngTemplateOutlet",e)}}function oL(t,n){1&t&&to(0)}function sL(t,n){if(1&t&&(Ve(0,"h5"),ge(1,oL,1,0,"ng-container",4),He()),2&t){he();const e=oo(8),r=he();Se(r.element.cssTitle),mn("id",r.element.ariaTitleId)("tabindex",r.element.titleTabIndex)("aria-expanded",r.element.titleAriaExpanded)("role",r.element.titleAriaRole)("aria-label",r.ariaLabel),oe(1),ie("ngTemplateOutlet",e)}}function aL(t,n){1&t&&to(0)}function lL(t,n){if(1&t&&(Ve(0,"h6"),ge(1,aL,1,0,"ng-container",4),He()),2&t){he();const e=oo(8),r=he();Se(r.element.cssTitle),mn("id",r.element.ariaTitleId)("tabindex",r.element.titleTabIndex)("aria-expanded",r.element.titleAriaExpanded)("role",r.element.titleAriaRole)("aria-label",r.ariaLabel),oe(1),ie("ngTemplateOutlet",e)}}function uL(t,n){1&t&&Mp(0)}function cL(t,n){1&t&&(dn(0,1),ge(1,ZV,2,8,"h1",2),ge(2,eL,2,8,"h2",2),ge(3,nL,2,8,"h3",2),ge(4,iL,2,8,"h4",2),ge(5,sL,2,8,"h5",2),ge(6,lL,2,8,"h6",2),hn(),ge(7,uL,1,0,"ng-template",null,3,Kn)),2&t&&(ie("ngSwitch",he().tagName),oe(1),ie("ngSwitchCase","h1"),oe(1),ie("ngSwitchCase","h2"),oe(1),ie("ngSwitchCase","h3"),oe(1),ie("ngSwitchCase","h4"),oe(1),ie("ngSwitchCase","h5"),oe(1),ie("ngSwitchCase","h6"))}const Gm=["*"];function fL(t,n){}function dL(t,n){1&t&&to(0)}function hL(t,n){if(1&t&&(dn(0),ge(1,dL,1,0,"ng-container",3),hn()),2&t){he();const e=oo(3);oe(1),ie("ngTemplateOutlet",e)}}function pL(t,n){1&t&&to(0)}function gL(t,n){if(1&t&&(dn(0),Ve(1,"div",4)(2,"span",5),ge(3,pL,1,0,"ng-container",3),He(),ut(4,"sv-ng-action-bar",6),He(),hn()),2&t){he();const e=oo(3),r=he();oe(3),ie("ngTemplateOutlet",e),oe(1),ie("model",r.element.getTitleToolbar())}}function mL(t,n){1&t&&ut(0,"sv-ng-string",6),2&t&&ie("model",he(3).element.locTitle)}function yL(t,n){if(1&t&&(Ve(0,"span"),Bn(1),He()),2&t){const e=he(4);Se(e.element.cssClasses.requiredText),mn("aria-hidden",!0),oe(1),Jn(e.element.requiredText)}}function vL(t,n){if(1&t&&(Ve(0,"span",10),Bn(1),He()),2&t){const e=he(4);Se(e.element.cssTitleNumber),mn("aria-hidden",!0),oe(1),Jn(e.element.no)}}function CL(t,n){1&t&&(Ve(0,"span"),Bn(1,"\xa0"),He())}function bL(t,n){if(1&t&&(Ve(0,"span"),Bn(1),He()),2&t){const e=he(4);Se(e.element.cssClasses.requiredText),mn("aria-hidden",!0),oe(1),Jn(e.element.requiredText)}}function PL(t,n){1&t&&(Ve(0,"span"),Bn(1,"\xa0"),He())}function EL(t,n){1&t&&(Ve(0,"span"),Bn(1,"\xa0"),He())}function xL(t,n){if(1&t&&(Ve(0,"span"),Bn(1),He()),2&t){const e=he(4);Se(e.element.cssClasses.requiredText),mn("aria-hidden",!0),oe(1),Jn(e.element.requiredText)}}function TL(t,n){if(1&t&&(dn(0),ge(1,yL,2,4,"span",8),ge(2,vL,2,4,"span",9),ge(3,CL,2,0,"span",1),ge(4,bL,2,4,"span",8),ge(5,PL,2,0,"span",1),ut(6,"sv-ng-string",6),ge(7,EL,2,0,"span",1),ge(8,xL,2,4,"span",8),hn()),2&t){const e=he(3);oe(1),ie("ngIf",e.element.isRequireTextOnStart),oe(1),ie("ngIf",e.element.no),oe(1),ie("ngIf",e.element.no),oe(1),ie("ngIf",e.element.isRequireTextBeforeTitle),oe(1),ie("ngIf",e.element.isRequireTextBeforeTitle),oe(1),ie("model",e.element.locTitle),oe(1),ie("ngIf",e.element.isRequireTextAfterTitle),oe(1),ie("ngIf",e.element.isRequireTextAfterTitle)}}function wL(t,n){if(1&t&&(ge(0,mL,1,1,"sv-ng-string",7),ge(1,TL,9,8,"ng-container",1)),2&t){const e=he(2);ie("ngIf",e.element.isTitleRenderedAsString),oe(1),ie("ngIf",!e.element.isTitleRenderedAsString)}}function DL(t,n){if(1&t&&(ge(0,hL,2,1,"ng-container",1),ge(1,gL,5,2,"ng-container",1),ge(2,wL,2,2,"ng-template",null,2,Kn)),2&t){const e=he();ie("ngIf",!e.element.hasTitleActions),oe(1),ie("ngIf",e.element.hasTitleActions)}}function IL(t,n){if(1&t&&(Ve(0,"sv-ng-dynamic-head",2),ut(1,"sv-ng-element-title-actions",3),He()),2&t){const e=he(2);ie("tagName",e.element.titleTagName)("element",e.element),oe(1),ie("element",e.element)}}function OL(t,n){1&t&&ge(0,IL,2,3,"sv-ng-dynamic-head",1),2&t&&ie("ngIf",he().element.hasTitle)}const ML=["sv-ng-survey-header",""];function SL(t,n){}const Rh=function(t){return{data:t}};function RL(t,n){if(1&t&&ge(0,SL,0,0,"ng-template",2),2&t){const e=he();ie("component",Hn(3,ar,e.survey.getElementWrapperComponentName(e.survey,"logo-image"),jn(1,Rh,e.survey.getElementWrapperComponentData(e.survey,"logo-image"))))}}function AL(t,n){if(1&t&&ut(0,"div",5),2&t){const e=he(2);Se(e.survey.css.description),ie("model",e.survey.locDescription)}}function VL(t,n){if(1&t&&(Ve(0,"div"),ut(1,"sv-ng-element-title",3),ge(2,AL,1,3,"div",4),He()),2&t){const e=he();Se(e.survey.css.headerText),so("max-width",e.survey.titleMaxWidth),oe(1),ie("element",e.survey),oe(1),ie("ngIf",e.survey.renderedHasDescription)}}function LL(t,n){}function FL(t,n){if(1&t&&ge(0,LL,0,0,"ng-template",2),2&t){const e=he();ie("component",Hn(3,ar,e.survey.getElementWrapperComponentName(e.survey,"logo-image"),jn(1,Rh,e.survey.getElementWrapperComponentData(e.survey,"logo-image"))))}}const NL=["sv-ng-errors",""];function BL(t,n){if(1&t&&(Ve(0,"div"),ut(1,"span",1)(2,"span",2),He()),2&t){const e=n.$implicit,r=he();oe(1),Se(r.element.cssClasses?r.element.cssClasses.error.icon:"panel-error-icon"),oe(1),Se(r.element.cssClasses?r.element.cssClasses.error.item:"panel-error-item"),ie("model",e.locText)}}function jL(t,n){}function HL(t,n){if(1&t){const e=or();Ve(0,"div",2),un("focusin",function(){return Nt(e),he(2).model.focusIn()}),ge(1,jL,0,0,"ng-template",3),He()}if(2&t){const e=he(2);Fr(e.rootStyle),Se(e.model.cssClasses.questionWrapper),oe(1),ie("component",Hn(5,ar,e.componentName,e.componentData))}}function UL(t,n){1&t&&ge(0,HL,2,8,"div",1),2&t&&ie("ngIf",!!he().model)}function WL(t,n){1&t&&ut(0,"sv-ng-element",6),2&t&&ie("model",he().$implicit)}function _L(t,n){}const zL=function(t){return{element:t}};function QL(t,n){if(1&t&&ge(0,_L,0,0,"ng-template",7),2&t){const e=he().$implicit;ie("component",Hn(3,ar,e.skeletonComponentName,jn(1,zL,e)))}}function kL(t,n){if(1&t&&(dn(0),ge(1,WL,1,1,"sv-ng-element",4),ge(2,QL,1,6,null,5),hn()),2&t){const e=n.$implicit,r=he(3);oe(1),ie("ngIf",r.row.isNeedRender),oe(1),ie("ngIf",!r.row.isNeedRender&&e.skeletonComponentName)}}function KL(t,n){if(1&t&&(Ve(0,"div",null,2),ge(2,kL,3,2,"ng-container",3),He()),2&t){const e=he(2);Se(e.row.getRowCss()),oe(2),ie("ngForOf",e.row.visibleElements)("ngForTrackBy",e.trackElementBy)}}function qL(t,n){1&t&&ge(0,KL,3,4,"div",1),2&t&&ie("ngIf",he().row.visible)}const $L=["pageContainer"];function GL(t,n){if(1&t&&(Ve(0,"div"),ut(1,"sv-ng-string",7),He()),2&t){const e=he(3);Se(e.model.cssClasses.page.description),oe(1),ie("model",e.model.locDescription)}}function JL(t,n){1&t&&ut(0,"div",8),2&t&&ie("element",he(3).model)}function YL(t,n){1&t&&ut(0,"sv-ng-row",10),2&t&&ie("row",he().$implicit)}const ff=function(t){return{componentData:t}};function ZL(t,n){if(1&t&&(dn(0),ge(1,YL,1,1,"ng-template",9),hn()),2&t){const e=n.$implicit,r=he(3);oe(1),ie("component",Hn(3,ar,r.model.survey.getRowWrapperComponentName(e),jn(1,ff,r.model.survey.getRowWrapperComponentData(e))))}}function XL(t,n){if(1&t&&(dn(0),Ve(1,"div",null,2),ut(3,"sv-ng-element-title",3),ge(4,GL,2,3,"div",4),ge(5,JL,1,1,"div",5),ge(6,ZL,2,6,"ng-container",6),He(),hn()),2&t){const e=he(2);oe(1),Se(e.model.cssRoot),oe(2),ie("element",e.model),oe(1),ie("ngIf",e.model._showDescription),oe(1),ie("ngIf",e.model.hasVisibleErrors),oe(1),ie("ngForOf",e.model.rows)}}function e5(t,n){if(1&t&&ge(0,XL,7,6,"ng-container",1),2&t){const e=he();ie("ngIf",!!e.survey&&!!e.model&&e.model.isVisible&&!!e.model.survey)}}const t5=function(t){return{visibility:t}};function n5(t,n){if(1&t&&(dn(0),Ve(1,"div",2)(2,"span"),Bn(3),He(),ut(4,"sv-action-bar",3),He(),hn()),2&t){const e=he(2);oe(1),Fr(jn(6,t5,e.notifier.active?"visible":"hidden")),Se(e.notifier.css),oe(2),Jn(e.notifier.message),oe(1),ie("model",e.notifier.actionBar)}}function r5(t,n){1&t&&ge(0,n5,5,8,"ng-container",1),2&t&&ie("ngIf",he().notifier.isDisplayed)}const i5=["surveyContainer"];function o5(t,n){1&t&&ut(0,"sv-svg-bundle")}function s5(t,n){if(1&t&&ut(0,"div"),2&t){const e=he(3);Fr(e.model.backgroundImageStyle),Se(e.model.css.rootBackgroundImage)}}function a5(t,n){if(1&t&&ut(0,"div",11),2&t){const e=he(3);Se(e.model.css.header),ie("survey",e.model)}}function l5(t,n){}function u5(t,n){}function c5(t,n){}function f5(t,n){}function d5(t,n){if(1&t&&(dn(0),ut(1,"sv-ng-page",14),hn()),2&t){const e=he(4);oe(1),ie("model",e.model.activePage)("survey",e.model)}}function h5(t,n){}function p5(t,n){}const g5=function(t){return{survey:t,container:"left"}},df=function(t){return{name:"sv-components-container",data:t}},m5=function(t){return{survey:t,container:"center"}},y5=function(t){return{survey:t,container:"contentTop"}},v5=function(t){return{survey:t,container:"contentBottom"}},C5=function(t){return{survey:t,container:"right"}};function b5(t,n){if(1&t&&(Ve(0,"div"),ge(1,u5,0,0,"ng-template",7),Ve(2,"div",12),ge(3,c5,0,0,"ng-template",7),Ve(4,"div",13),ge(5,f5,0,0,"ng-template",7),ge(6,d5,2,2,"ng-container",3),ge(7,h5,0,0,"ng-template",7),He()(),ge(8,p5,0,0,"ng-template",7),He()),2&t){const e=he(3);Se(e.model.bodyContainerCss),oe(1),ie("component",jn(15,df,jn(13,g5,e.model))),oe(2),ie("component",jn(19,df,jn(17,m5,e.model))),oe(1),Se(e.model.bodyCss),so("max-width",e.model.renderedWidth),ie("id",e.model.activePage?e.model.activePage.id:""),oe(1),ie("component",jn(23,df,jn(21,y5,e.model))),oe(1),ie("ngIf",e.model.activePage),oe(1),ie("component",jn(27,df,jn(25,v5,e.model))),oe(1),ie("component",jn(31,df,jn(29,C5,e.model)))}}function P5(t,n){}function E5(t,n){if(1&t&&(ut(0,"div",15),Kl(1,"safeHtml")),2&t){const e=he(3);Se(e.model.completedCss),ie("innerHtml",ql(1,3,e.model.processedCompletedHtml),Ho)}}function x5(t,n){}const T5=function(t){return{survey:t,container:"completePage"}};function w5(t,n){if(1&t&&ge(0,x5,0,0,"ng-template",7),2&t){const e=he(3);ie("component",jn(3,df,jn(1,T5,e.model)))}}function D5(t,n){if(1&t&&(ut(0,"div",15),Kl(1,"safeHtml")),2&t){const e=he(3);Se(e.model.completedBeforeCss),ie("innerHtml",ql(1,3,e.model.processedCompletedBeforeHtml),Ho)}}function I5(t,n){if(1&t&&ut(0,"div",15),2&t){const e=he(3);Se(e.model.loadingBodyCss),ie("innerHtml",e.model.processedLoadingHtml,Ho)}}function O5(t,n){if(1&t&&(Ve(0,"div"),Bn(1),He()),2&t){const e=he(3);Se(e.model.css.bodyEmpty),oe(1),Jn(e.model.emptySurveyText)}}function M5(t,n){1&t&&ut(0,"sv-brand-info")}const S5=function(t){return{survey:t,container:"header",needRenderWrapper:!1}},R5=function(t){return{survey:t,container:"footer",needRenderWrapper:!1}};function A5(t,n){if(1&t&&(Ve(0,"div",null,2),ge(2,o5,1,0,"sv-svg-bundle",3),Ve(3,"div"),ge(4,s5,1,4,"div",1),Ve(5,"form",4),ut(6,"div",5),Ve(7,"div"),ge(8,a5,1,3,"div",6),ge(9,l5,0,0,"ng-template",7),ge(10,b5,9,33,"div",8),ge(11,P5,0,0,"ng-template",7),ge(12,E5,2,5,"div",9),ge(13,w5,1,5,null,3),ge(14,D5,2,5,"div",9),ge(15,I5,1,3,"div",9),ge(16,O5,2,3,"div",8),He()(),ge(17,M5,1,0,"sv-brand-info",3),ut(18,"sv-notifier",10),He()()),2&t){const e=he(2);Fr(e.model.themeVariables),Se(e.model.getRootCss()),oe(2),ie("ngIf",e.model.needRenderIcons),oe(1),Se(e.model.wrapperFormCss),oe(1),ie("ngIf",!!e.model.renderBackgroundImage),oe(2),ie("hidden",e.model.hasLogo),oe(1),Se(e.model.css.container),oe(1),ie("ngIf","basic"===e.model.headerView&&e.model.renderedHasHeader),oe(1),ie("component",jn(24,df,jn(22,S5,e.model))),oe(1),ie("ngIf",e.model.isShowingPage),oe(1),ie("component",jn(28,df,jn(26,R5,e.model))),oe(1),ie("ngIf","completed"===e.model.state&&e.model.showCompletedPage),oe(1),ie("ngIf","completed"===e.model.state&&e.model.showCompletedPage),oe(1),ie("ngIf","completedbefore"===e.model.state),oe(1),ie("ngIf","loading"===e.model.state),oe(1),ie("ngIf","empty"===e.model.state),oe(1),ie("ngIf",e.model.showBrandInfo),oe(1),ie("notifier",e.model.notifier)}}function V5(t,n){1&t&&ge(0,A5,19,30,"div",1),2&t&&ie("ngIf",!!he().model)}const L5=["sv-ng-svg-icon",""],H5=["contentElement"],U5=["sv-ng-element-header",""];function W5(t,n){if(1&t&&ut(0,"div",3),2&t){const e=he();Se(e.element.cssDescription),so("display",e.element.hasDescription?"":"none"),ie("model",e.element.locDescription)}}function _5(t,n){if(1&t&&(dn(0),ut(1,"sv-ng-action-bar",4),hn()),2&t){const e=he();oe(1),ie("model",e.element.additionalTitleToolbar)}}function z5(t,n){if(1&t){const e=or();Ve(0,"textarea",2),un("change",function(i){return Nt(e),he().question.onCommentChange(i)})("input",function(i){return Nt(e),he().question.onCommentInput(i)}),He()}if(2&t){const e=he();Se(e.question.cssClasses.other),so("resize",e.question.resizeStyle),ie("id",e.question.commentId)("value",e.comment)("disabled",e.question.isInputReadOnly),mn("maxlength",e.question.getOthersMaxLength())("aria-required",e.question.ariaRequired||e.question.a11y_input_ariaRequired)("aria-label",e.question.ariaLabel||e.question.a11y_input_ariaLabel)("placeholder",e.question.renderedCommentPlaceholder)}}function Q5(t,n){if(1&t&&(Ve(0,"div"),Bn(1),He()),2&t){const e=he();oe(1),Jn(e.question.comment)}}const k5=["elementContainer"];function K5(t,n){1&t&&ut(0,"div",7),2&t&&ie("element",he(3).model)}function q5(t,n){1&t&&ut(0,"div",8),2&t&&ie("element",he(3).model)}function $5(t,n){1&t&&ut(0,"div",7),2&t&&ie("element",he(4).model)}function G5(t,n){}function J5(t,n){if(1&t&&(Ve(0,"div"),ut(1,"div",12)(2,"sv-ng-comment",13),He()),2&t){const e=he(4);Se(e.model.getCommentAreaCss(!1)),oe(1),ie("model",e.model.locCommentText),oe(1),ie("question",e.model)}}function Y5(t,n){1&t&&ut(0,"div",7),2&t&&ie("element",he(4).model)}function Z5(t,n){if(1&t&&ut(0,"div",12),2&t){const e=he(4);Se(e.model.cssDescription),ie("model",e.model.locDescription)}}const X5=function(t,n){return{name:t,data:n,default:"skeleton-question"}};function eF(t,n){if(1&t&&(Ve(0,"div",9),ge(1,$5,1,1,"div",4),ge(2,G5,0,0,"ng-template",6),ge(3,J5,3,4,"div",10),ge(4,Y5,1,1,"div",4),ge(5,Z5,1,3,"div",11),He()),2&t){const e=he(3);Se(e.model.cssContent),ie("visible",!e.model.isCollapsed),oe(1),ie("ngIf",e.model.showErrorOnTop&&e.model.hasVisibleErrors),oe(1),ie("component",Hn(10,X5,e.getComponentName(),jn(8,cf,e.model))),oe(1),ie("ngIf",e.model.hasComment),oe(1),ie("ngIf",e.model.showErrorOnBottom&&e.model.hasVisibleErrors),oe(1),ie("ngIf",e.model.hasDescriptionUnderInput)}}function tF(t,n){1&t&&ut(0,"div",8),2&t&&ie("element",he(3).model)}function nF(t,n){1&t&&ut(0,"div",7),2&t&&ie("element",he(3).model)}function rF(t,n){if(1&t&&(Ve(0,"div",2,3),ge(2,K5,1,1,"div",4),ge(3,q5,1,1,"div",5),ge(4,eF,6,13,"ng-template",6),ge(5,tF,1,1,"div",5),ge(6,nF,1,1,"div",4),He()),2&t){const e=he(2);Fr(e.model.getRootStyle()),Se(e.model.getRootCss()),ie("id",e.model.id),mn("data-name",e.model.name)("role",e.model.ariaRole)("aria-required",e.model.ariaRequired)("aria-invalid",e.model.ariaInvalid)("aria-labelledby",e.model.ariaLabelledBy)("aria-expanded",e.model.ariaExpanded),oe(2),ie("ngIf",e.model.showErrorsAboveQuestion&&e.model.hasVisibleErrors),oe(1),ie("ngIf",e.model.hasTitleOnLeftTop),oe(1),ie("component",Hn(16,ar,e.getQuestionContentWrapperComponentName(),e.getQuestionContentWrapperComponentData())),oe(1),ie("ngIf",e.model.hasTitleOnBottom),oe(1),ie("ngIf",e.model.showErrorsBelowQuestion&&e.model.hasVisibleErrors)}}function iF(t,n){1&t&&ge(0,rF,7,19,"div",1),2&t&&ie("ngIf",!!he().model)}function oF(t,n){if(1&t&&(Ve(0,"span",2),Bn(1),He()),2&t){const e=he();oe(1),Jn(e.model.renderedHtml)}}function sF(t,n){1&t&&(ut(0,"span",3),Kl(1,"safeHtml")),2&t&&ie("innerHtml",ql(1,1,he().model.renderedHtml),Ho)}const aF=function(t,n){return{left:t,top:n}},lF=["containerRef"],uF=["inputElement"];function cF(t,n){if(1&t&&(Ve(0,"div")(1,"span"),Bn(2),He()()),2&t){const e=he(2);Se(e.model.cssClasses.hintPrefix),oe(2),Jn(e.dropdownModel.hintStringPrefix)}}function fF(t,n){if(1&t&&(Ve(0,"div")(1,"span",12),Bn(2),He(),Ve(3,"span"),Bn(4),He()()),2&t){const e=he(2);Se(e.model.cssClasses.hintSuffix),oe(2),Jn(e.dropdownModel.inputStringRendered),oe(2),Jn(e.dropdownModel.hintStringSuffix)}}function dF(t,n){}const mx=function(t,n){return{model:t,question:n}};function hF(t,n){if(1&t&&(dn(0),ge(1,dF,0,0,"ng-template",13),hn()),2&t){const e=he(2);oe(1),ie("component",Hn(4,ar,e.model.inputFieldComponentName,Hn(1,mx,e.dropdownModel.getSelectedAction(),e.model)))}}function pF(t,n){1&t&&ut(0,"sv-ng-string",14),2&t&&ie("model",he(2).model.selectedItemLocText)}function gF(t,n){if(1&t){const e=or();Ve(0,"div",15),un("click",function(i){return Nt(e),he(2).clear(i)}),Er(),ut(1,"svg",16),He()}if(2&t){const e=he(2);Se(e.model.cssClasses.cleanButton),ie("visible",e.model.showClearButton),oe(1),ie("iconName",e.model.cssClasses.cleanButtonIconId)("partCss",e.model.cssClasses.cleanButtonSvg)("title",e.model.clearCaption)("size","auto")}}function mF(t,n){if(1&t){const e=or();Ve(0,"div",5),un("blur",function(i){return Nt(e),he().blur(i)})("keydown",function(i){return Nt(e),he().keyhandler(i)}),ge(1,cF,3,3,"div",6),Ve(2,"div"),ge(3,fF,5,4,"div",6),ge(4,hF,2,7,"ng-container",7),ge(5,pF,1,1,"sv-ng-string",8),Ve(6,"input",9,10),un("ngModelChange",function(i){return Nt(e),he().dropdownModel.inputStringRendered=i})("change",function(i){return Nt(e),he().inputChange(i)})("blur",function(i){return Nt(e),he().blur(i)})("focus",function(i){return Nt(e),he().focus(i)}),He()(),ge(8,gF,2,7,"div",11),He()}if(2&t){const e=he();Se(e.model.getControlClass()),mn("tabindex",e.dropdownModel.noTabIndex?null:0)("disabled",!!e.model.isInputReadOnly||null)("id",e.model.inputId)("aria-required",e.model.ariaRequired)("aria-label",e.model.ariaLabel)("aria-invalid",e.model.ariaInvalid)("aria-describedby",e.model.ariaDescribedBy)("role",e.model.ariaRole)("aria-controls",e.dropdownModel.listElementId)("aria-expanded",e.model.ariaExpanded)("aria-activedescendant",e.dropdownModel.ariaActivedescendant),oe(1),ie("ngIf",e.dropdownModel.showHintPrefix),oe(1),Se(e.model.cssClasses.controlValue),oe(1),ie("ngIf",e.dropdownModel.showHintString),oe(1),ie("ngIf",e.dropdownModel.showInputFieldComponent),oe(1),ie("ngIf",e.model.showSelectedItemLocText),oe(1),Se(e.model.cssClasses.filterStringInput),ie("ngModel",e.dropdownModel.inputStringRendered),mn("role",e.dropdownModel.filterStringEnabled?e.model.ariaRole:null)("id",e.model.getInputId())("inputmode",e.dropdownModel.inputMode)("tabindex",e.dropdownModel.noTabIndex?null:-1)("disabled",!!e.model.isInputReadOnly||null)("aria-controls",e.dropdownModel.listElementId)("aria-label",e.model.a11y_input_ariaLabel)("aria-labelledby",e.model.a11y_input_ariaLabelledBy)("aria-expanded",e.model.ariaExpanded)("aria-activedescendant",e.dropdownModel.ariaActivedescendant)("placeholder",e.dropdownModel.placeholderRendered)("readonly",!!e.dropdownModel.filterReadOnly||null),oe(2),ie("ngIf",e.model.allowClear&&e.model.cssClasses.cleanButtonIconId)}}function yF(t,n){1&t&&ut(0,"sv-ng-popup",17),2&t&&ie("popupModel",he().dropdownModel.popupModel)}function vF(t,n){1&t&&ut(0,"sv-ng-string",14),2&t&&ie("model",he(2).model.selectedItemLocText)}function CF(t,n){if(1&t&&(Ve(0,"div",18),ge(1,vF,1,1,"sv-ng-string",8),Ve(2,"div"),Bn(3),He()()),2&t){const e=he();Se(e.model.getControlClass()),mn("id",e.model.inputId),oe(1),ie("ngIf",e.model.selectedItemLocText),oe(2),Jn(e.model.readOnlyText)}}function bF(t,n){if(1&t){const e=or();Ve(0,"div",19),un("pointerdown",function(i){return Nt(e),he().chevronPointerDown(i)}),Er(),ut(1,"svg",20),He()}if(2&t){const e=he();Se(e.model.cssClasses.chevronButton),oe(1),ie("iconName",e.model.cssClasses.chevronButtonIconId)("partCss",e.model.cssClasses.chevronButtonSvg)("size","auto")}}function PF(t,n){if(1&t&&(Ve(0,"div")(1,"span"),Bn(2),He()()),2&t){const e=he(2);Se(e.question.cssClasses.hintPrefix),oe(2),Jn(e.model.hintStringPrefix)}}function EF(t,n){if(1&t&&(Ve(0,"div")(1,"span",3),Bn(2),He(),Ve(3,"span"),Bn(4),He()()),2&t){const e=he(2);Se(e.question.cssClasses.hintSuffix),oe(2),Jn(e.model.inputStringRendered),oe(2),Jn(e.model.hintStringSuffix)}}function xF(t,n){if(1&t){const e=or();Ve(0,"div"),ge(1,PF,3,3,"div",1),Ve(2,"div"),ge(3,EF,5,4,"div",1),Ve(4,"input",2),un("ngModelChange",function(i){return Nt(e),he().model.inputStringRendered=i})("keydown",function(i){return Nt(e),he().model.inputKeyHandler(i)})("blur",function(i){return Nt(e),he().model.onBlur(i)})("focus",function(i){return Nt(e),he().model.onFocus(i)}),He()()()}if(2&t){const e=he();Se(e.question.cssClasses.hint),oe(1),ie("ngIf",e.model.showHintPrefix),oe(1),Se(e.question.cssClasses.hintSuffixWrapper),oe(1),ie("ngIf",e.model.showHintString),oe(1),Se(e.question.cssClasses.filterStringInput),ie("ngModel",e.model.inputStringRendered),mn("id",e.question.getInputId())("inputmode",e.model.inputMode)("role",e.model.filterStringEnabled?e.question.ariaRole:null)("readonly",!!e.model.filterReadOnly||null)("disabled",!!e.question.isInputReadOnly||null)("size",e.model.inputStringRendered?null:1)("aria-label",e.question.a11y_input_ariaLabel)("aria-labelledby",e.question.a11y_input_ariaLabelledBy)("aria-controls",e.model.listElementId)("aria-expanded",e.question.ariaExpanded)("aria-activedescendant",e.model.ariaActivedescendant)("placeholder",e.model.filterStringPlaceholder)}}function TF(t,n){if(1&t&&ut(0,"sv-ng-tagbox-item",10),2&t){const e=n.$implicit,r=he(3);ie("item",e)("question",r.model)}}function wF(t,n){if(1&t&&(dn(0),ge(1,TF,1,2,"sv-ng-tagbox-item",9),hn()),2&t){const e=he(2);oe(1),ie("ngForOf",e.model.selectedChoices)}}function DF(t,n){}function IF(t,n){if(1&t){const e=or();Ve(0,"div",11),un("click",function(i){return Nt(e),he(2).clear(i)}),Er(),ut(1,"svg",12),He()}if(2&t){const e=he(2);Se(e.model.cssClasses.cleanButton),ie("visible",e.model.showClearButton),oe(1),ie("iconName",e.model.cssClasses.cleanButtonIconId)("partCss",e.model.cssClasses.cleanButtonSvg)("title",e.model.clearCaption)("size","auto")}}const OF=function(t){return{name:"sv-tagbox-filter",data:t}};function MF(t,n){if(1&t){const e=or();Ve(0,"div",5),un("blur",function(i){return Nt(e),he().blur(i)})("keydown",function(i){return Nt(e),he().keyhandler(i)}),Ve(1,"div"),ge(2,wF,2,1,"ng-container",6),ge(3,DF,0,0,"ng-template",7),He(),ge(4,IF,2,7,"div",8),He()}if(2&t){const e=he();Se(e.model.getControlClass()),mn("tabindex",e.dropdownModel.noTabIndex?null:0)("disabled",!!e.model.isInputReadOnly||null)("id",e.model.inputId)("aria-required",e.model.ariaRequired)("aria-label",e.model.ariaLabel)("aria-invalid",e.model.ariaInvalid)("aria-describedby",e.model.ariaDescribedBy)("role",e.model.ariaRole)("aria-controls",e.dropdownModel.listElementId)("aria-expanded",e.model.ariaExpanded)("aria-activedescendant",e.dropdownModel.ariaActivedescendant),oe(1),Se(e.model.cssClasses.controlValue),oe(1),ie("ngIf",!e.model.isEmpty()),oe(1),ie("component",jn(21,OF,Hn(18,mx,e.dropdownModel,e.model))),oe(1),ie("ngIf",e.model.allowClear&&e.model.cssClasses.cleanButtonIconId)}}function SF(t,n){1&t&&ut(0,"sv-ng-popup",13),2&t&&ie("popupModel",he().model.popupModel)}function RF(t,n){1&t&&ut(0,"sv-ng-string",16),2&t&&ie("model",he(2).model.locReadOnlyText)}function AF(t,n){if(1&t&&(Ve(0,"div",14),ge(1,RF,1,1,"sv-ng-string",15),He()),2&t){const e=he();Se(e.model.getControlClass()),mn("id",e.model.inputId),oe(1),ie("ngIf",e.model.locReadOnlyText)}}function VF(t,n){if(1&t){const e=or();Ve(0,"div",17),un("pointerdown",function(i){return Nt(e),he().chevronPointerDown(i)}),Er(),ut(1,"svg",18),He()}if(2&t){const e=he();Se(e.model.cssClasses.chevronButton),oe(1),ie("iconName",e.model.cssClasses.chevronButtonIconId)("partCss",e.model.cssClasses.chevronButtonSvg)("size","auto")}}function LF(t,n){}function FF(t,n){if(1&t&&(Ve(0,"option",1),Bn(1),He(),ge(2,LF,0,0,"ng-template")),2&t){const e=he();ie("value",e.item.value)("disabled",!e.item.isEnabled),oe(1),Jn(e.item.text)}}function NF(t,n){if(1&t){const e=or();Ve(0,"textarea",2),un("change",function(i){return Nt(e),he().onOtherValueChange(i)})("input",function(i){return Nt(e),he().onOtherValueInput(i)}),He()}if(2&t){const e=he();Se(e.question.cssClasses.other),so("resize",e.question.resizeStyle),ie("id",e.otherId)("value",e.otherValue)("disabled",e.question.isInputReadOnly),mn("maxlength",e.question.getOthersMaxLength())("aria-required",e.question.ariaRequired||e.question.a11y_input_ariaRequired)("aria-label",e.question.ariaLabel||e.question.a11y_input_ariaLabel)("placeholder",e.otherPlaceholder)}}function BF(t,n){if(1&t&&(Ve(0,"div"),Bn(1),He()),2&t){const e=he();oe(1),Jn(e.otherValue)}}function jF(t,n){if(1&t&&(Ve(0,"option",7),Bn(1),He()),2&t){const e=he(2);oe(1),Jn(e.model.placeholder)}}function HF(t,n){}const UF=function(t){return{item:t}},WF=function(t){return{name:"sv-dropdown-option-item",data:t}};function _F(t,n){1&t&&ge(0,HF,0,0,"ng-template",8),2&t&&ie("component",jn(3,WF,jn(1,UF,n.$implicit)))}function zF(t,n){if(1&t){const e=or();Ve(0,"select",4),un("ngModelChange",function(i){return Nt(e),he().editableValue=i})("click",function(i){return Nt(e),he().click(i)})("keyup",function(i){return Nt(e),he().keyup(i)}),ge(1,jF,2,1,"option",5),ge(2,_F,1,5,null,6),He()}if(2&t){const e=he();Se(e.model.getControlClass()),ie("ngModel",e.editableValue)("disabled",e.model.isInputReadOnly)("required",e.model.isRequired),mn("id",e.model.inputId)("autocomplete",e.model.autocomplete)("aria-required",e.model.ariaRequired)("aria-label",e.model.ariaLabel)("aria-invalid",e.model.ariaInvalid)("aria-describedby",e.model.ariaDescribedBy),oe(1),ie("ngIf",e.model.allowClear),oe(1),ie("ngForOf",e.model.visibleChoices)}}function QF(t,n){if(1&t&&(Ve(0,"div",9),Bn(1),He()),2&t){const e=he();Se(e.model.getControlClass()),mn("id",e.model.inputId),oe(1),Jn(e.model.readOnlyText)}}function kF(t,n){if(1&t&&(Ve(0,"div"),Er(),ut(1,"svg",10),He()),2&t){const e=he();Se(e.model.cssClasses.chevronButton),oe(1),ie("iconName",e.model.cssClasses.chevronButtonIconId)("partCss",e.model.cssClasses.chevronButtonSvg)("size","auto")}}function KF(t,n){if(1&t&&ut(0,"div",11),2&t){const e=he();Se(e.model.getCommentAreaCss(!0)),so("display",e.model.isFlowLayout?"inline":""),ie("question",e.model)}}function qF(t,n){if(1&t&&(Ve(0,"div"),ut(1,"img"),Kl(2,"safeUrl"),He()),2&t){const e=he();Se(e.survey.logoClassNames),oe(1),Se(e.survey.css.logoImage),so("width",e.survey.renderedStyleLogoWidth)("height",e.survey.renderedStyleLogoHeight)("object-fit",e.survey.logoFit),mn("src",ql(2,14,e.survey.locLogo.renderedHtml),ns)("width",e.survey.renderedLogoWidth)("height",e.survey.renderedLogoHeight)("alt",e.survey.locTitle.renderedHtml)}}function $F(t,n){if(1&t&&(Ve(0,"div"),Bn(1),He()),2&t){const e=he();Se(e.remainingCharacterCounter),oe(1),Jn(e.counter.remainingCharacterCounter)}}function GF(t,n){1&t&&to(0,3),2&t&&(he(),ie("ngTemplateOutlet",oo(4)))}function JF(t,n){1&t&&ut(0,"option",6),2&t&&ie("value",n.$implicit)}function YF(t,n){if(1&t&&(Ve(0,"div"),to(1,3),Ve(2,"datalist",4),ge(3,JF,1,1,"option",5),He()()),2&t){const e=he(),r=oo(4);oe(1),ie("ngTemplateOutlet",r),oe(1),ie("id",e.model.dataListId),oe(1),ie("ngForOf",e.model.dataList)}}function ZF(t,n){if(1&t&&(Ve(0,"div",null,7),Bn(2),He()),2&t){const e=he();oe(2),Jn(e.model.value)}}function XF(t,n){if(1&t&&ut(0,"sv-ng-character-counter",10),2&t){const e=he(2);ie("counter",e.model.characterCounter)("remainingCharacterCounter",e.model.cssClasses.remainingCharacterCounter)}}function eN(t,n){if(1&t){const e=or();Ve(0,"input",8,7),un("change",function(i){return Nt(e),he().model.onChange(i)})("keyup",function(i){return Nt(e),he().model.onKeyUp(i)})("keydown",function(i){return Nt(e),he().model.onKeyDown(i)})("blur",function(i){return Nt(e),he().model.onBlur(i)})("focus",function(i){return Nt(e),he().model.onFocus(i)})("compositionupdate",function(i){return Nt(e),he().model.onCompositionUpdate(i)}),He(),ge(2,XF,1,2,"sv-ng-character-counter",9)}if(2&t){const e=he();Fr(e.model.inputStyle),Se(e.model.getControlClass()),ie("value",e.value)("disabled",e.model.isInputReadOnly)("type",e.model.inputType)("id",e.model.inputId),mn("list",e.model.dataListId)("placeholder",e.model.renderedPlaceholder||"")("size",e.model.renderedInputSize)("maxlength",e.model.getMaxLength())("min",e.model.renderedMin)("max",e.model.renderedMax)("step",e.model.renderedStep)("max",e.model.renderedMax)("aria-required",e.model.a11y_input_ariaRequired)("aria-label",e.model.a11y_input_ariaLabel)("aria-labelledby",e.model.a11y_input_ariaLabelledBy)("aria-invalid",e.model.a11y_input_ariaInvalid)("aria-describedby",e.model.a11y_input_ariaDescribedBy)("autocomplete",e.model.autocomplete),oe(2),ie("ngIf",e.model.getMaxLength())}}function tN(t,n){if(1&t&&(Ve(0,"legend",5),Bn(1),He()),2&t){const e=he();oe(1),Jn(e.model.locTitle.renderedHtml)}}function nN(t,n){}function rN(t,n){if(1&t&&(dn(0),ge(1,nN,0,0,"ng-template",7),hn()),2&t){const e=n.$implicit,r=he(2);oe(1),ie("component",Hn(1,ar,r.getItemValueComponentName(e),r.getItemValueComponentData(e)))}}function iN(t,n){if(1&t&&(dn(0),ge(1,rN,2,4,"ng-container",6),hn()),2&t){const e=he();oe(1),ie("ngForOf",e.model.headItems)("ngForTrackBy",e.trackItemBy)}}function oN(t,n){}function sN(t,n){if(1&t&&(dn(0),ge(1,oN,0,0,"ng-template",7),hn()),2&t){const e=n.$implicit,r=he(2);oe(1),ie("component",Hn(1,ar,r.getItemValueComponentName(e),r.getItemValueComponentData(e)))}}function aN(t,n){if(1&t&&(dn(0),ge(1,sN,2,4,"ng-container",6),hn()),2&t){const e=he();oe(1),ie("ngForOf",e.model.bodyItems)("ngForTrackBy",e.trackItemBy)}}function lN(t,n){}function uN(t,n){if(1&t&&(dn(0),ge(1,lN,0,0,"ng-template",7),hn()),2&t){const e=n.$implicit,r=he(2);oe(1),ie("component",Hn(1,ar,r.getItemValueComponentName(e),r.getItemValueComponentData(e)))}}function cN(t,n){if(1&t&&(Ve(0,"div"),ge(1,uN,2,4,"ng-container",6),He()),2&t){const e=he();Se(e.model.cssClasses.rootRow),oe(1),ie("ngForOf",e.model.dataChoices)("ngForTrackBy",e.trackItemBy)}}function fN(t,n){}function dN(t,n){if(1&t&&(dn(0),ge(1,fN,0,0,"ng-template",7),hn()),2&t){const e=n.$implicit,r=he(3);oe(1),ie("component",Hn(1,ar,r.getItemValueComponentName(e),r.getItemValueComponentData(e)))}}function hN(t,n){if(1&t&&(Ve(0,"div",9),ge(1,dN,2,4,"ng-container",6),He()),2&t){const e=n.$implicit,r=he(2);Se(r.model.getColumnClass()),oe(1),ie("ngForOf",e)("ngForTrackBy",r.trackItemBy)}}function pN(t,n){if(1&t&&(dn(0),Ve(1,"div"),ge(2,hN,2,4,"div",8),He(),hn()),2&t){const e=he();oe(1),Se(e.model.cssClasses.rootMultiColumn),oe(1),ie("ngForOf",e.model.columns)("ngForTrackBy",e.trackColumnBy)}}function gN(t,n){}function mN(t,n){if(1&t&&(dn(0),ge(1,gN,0,0,"ng-template",7),hn()),2&t){const e=n.$implicit,r=he(2);oe(1),ie("component",Hn(1,ar,r.getItemValueComponentName(e),r.getItemValueComponentData(e)))}}function yN(t,n){if(1&t&&(dn(0),ge(1,mN,2,4,"ng-container",6),hn()),2&t){const e=he();oe(1),ie("ngForOf",e.model.footItems)("ngForTrackBy",e.trackItemBy)}}function vN(t,n){if(1&t&&ut(0,"div",10),2&t){const e=he();Se(e.model.getCommentAreaCss(!0)),ie("question",e.model)}}function CN(t,n){if(1&t){const e=or();Ve(0,"div")(1,"input",11),un("click",function(){return Nt(e),he().model.clearValue()}),He()()}if(2&t){const e=he();oe(1),Se(e.model.cssClasses.clearButton),ie("value",e.model.clearButtonCaption)}}function bN(t,n){if(1&t&&(Ve(0,"legend",5),Bn(1),He()),2&t){const e=he();oe(1),Jn(e.model.locTitle.renderedHtml)}}function PN(t,n){}function EN(t,n){if(1&t&&(dn(0),ge(1,PN,0,0,"ng-template",7),hn()),2&t){const e=n.$implicit,r=he(2);oe(1),ie("component",Hn(1,ar,r.getItemValueComponentName(e),r.getItemValueComponentData(e)))}}function xN(t,n){if(1&t&&(dn(0),ge(1,EN,2,4,"ng-container",6),hn()),2&t){const e=he();oe(1),ie("ngForOf",e.model.headItems)("ngForTrackBy",e.trackItemBy)}}function TN(t,n){}function wN(t,n){if(1&t&&(dn(0),ge(1,TN,0,0,"ng-template",7),hn()),2&t){const e=n.$implicit,r=he(2);oe(1),ie("component",Hn(1,ar,r.getItemValueComponentName(e),r.getItemValueComponentData(e)))}}function DN(t,n){if(1&t&&(dn(0),ge(1,wN,2,4,"ng-container",6),hn()),2&t){const e=he();oe(1),ie("ngForOf",e.model.bodyItems)("ngForTrackBy",e.trackItemBy)}}function IN(t,n){}function ON(t,n){if(1&t&&(dn(0),ge(1,IN,0,0,"ng-template",7),hn()),2&t){const e=n.$implicit,r=he(2);oe(1),ie("component",Hn(1,ar,r.getItemValueComponentName(e),r.getItemValueComponentData(e)))}}function MN(t,n){if(1&t&&(Ve(0,"div"),ge(1,ON,2,4,"ng-container",6),He()),2&t){const e=he();Se(e.model.cssClasses.rootRow),oe(1),ie("ngForOf",e.model.dataChoices)("ngForTrackBy",e.trackItemBy)}}function SN(t,n){}function RN(t,n){if(1&t&&(dn(0),ge(1,SN,0,0,"ng-template",7),hn()),2&t){const e=n.$implicit,r=he(3);oe(1),ie("component",Hn(1,ar,r.getItemValueComponentName(e),r.getItemValueComponentData(e)))}}function AN(t,n){if(1&t&&(Ve(0,"div",9),ge(1,RN,2,4,"ng-container",6),He()),2&t){const e=n.$implicit,r=he(2);Se(r.model.getColumnClass()),oe(1),ie("ngForOf",e)("ngForTrackBy",r.trackItemBy)}}function VN(t,n){if(1&t&&(dn(0),Ve(1,"div"),ge(2,AN,2,4,"div",8),He(),hn()),2&t){const e=he();oe(1),Se(e.model.cssClasses.rootMultiColumn),oe(1),ie("ngForOf",e.model.columns)("ngForTrackBy",e.trackColumnBy)}}function LN(t,n){}function FN(t,n){if(1&t&&(dn(0),ge(1,LN,0,0,"ng-template",7),hn()),2&t){const e=n.$implicit,r=he(2);oe(1),ie("component",Hn(1,ar,r.getItemValueComponentName(e),r.getItemValueComponentData(e)))}}function NN(t,n){if(1&t&&(dn(0),ge(1,FN,2,4,"ng-container",6),hn()),2&t){const e=he();oe(1),ie("ngForOf",e.model.footItems)("ngForTrackBy",e.trackItemBy)}}function BN(t,n){if(1&t&&ut(0,"div",10),2&t){const e=he();Se(e.model.getCommentAreaCss(!0)),ie("question",e.model)}}function jN(t,n){if(1&t){const e=or();Ve(0,"div")(1,"input",11),un("click",function(){return Nt(e),he().model.clearValue()}),He()()}if(2&t){const e=he();oe(1),Se(e.model.cssClasses.clearButton),ie("value",e.model.clearButtonCaption)}}function HN(t,n){if(1&t&&(Ve(0,"legend",5),Bn(1),He()),2&t){const e=he();oe(1),Jn(e.model.locTitle.renderedHtml)}}function UN(t,n){}function WN(t,n){if(1&t&&(dn(0),ge(1,UN,0,0,"ng-template",7),hn()),2&t){const e=n.$implicit,r=he(2);oe(1),ie("component",Hn(1,ar,r.getItemValueComponentName(e),r.getItemValueComponentData(e)))}}function _N(t,n){if(1&t&&(dn(0),ge(1,WN,2,4,"ng-container",6),hn()),2&t){const e=he();oe(1),ie("ngForOf",e.model.headItems)("ngForTrackBy",e.trackItemBy)}}function zN(t,n){}function QN(t,n){if(1&t&&(dn(0),ge(1,zN,0,0,"ng-template",7),hn()),2&t){const e=n.$implicit,r=he(2);oe(1),ie("component",Hn(1,ar,r.getItemValueComponentName(e),r.getItemValueComponentData(e)))}}function kN(t,n){if(1&t&&(dn(0),ge(1,QN,2,4,"ng-container",6),hn()),2&t){const e=he();oe(1),ie("ngForOf",e.model.bodyItems)("ngForTrackBy",e.trackItemBy)}}function KN(t,n){}function qN(t,n){if(1&t&&(dn(0),ge(1,KN,0,0,"ng-template",7),hn()),2&t){const e=n.$implicit,r=he(2);oe(1),ie("component",Hn(1,ar,r.getItemValueComponentName(e),r.getItemValueComponentData(e)))}}function $N(t,n){if(1&t&&(Ve(0,"div"),ge(1,qN,2,4,"ng-container",6),He()),2&t){const e=he();Se(e.model.cssClasses.rootRow),oe(1),ie("ngForOf",e.model.dataChoices)("ngForTrackBy",e.trackItemBy)}}function GN(t,n){}function JN(t,n){if(1&t&&(dn(0),ge(1,GN,0,0,"ng-template",7),hn()),2&t){const e=n.$implicit,r=he(3);oe(1),ie("component",Hn(1,ar,r.getItemValueComponentName(e),r.getItemValueComponentData(e)))}}function YN(t,n){if(1&t&&(Ve(0,"div",9),ge(1,JN,2,4,"ng-container",6),He()),2&t){const e=n.$implicit,r=he(2);Se(r.model.getColumnClass()),oe(1),ie("ngForOf",e)("ngForTrackBy",r.trackItemBy)}}function ZN(t,n){if(1&t&&(dn(0),Ve(1,"div"),ge(2,YN,2,4,"div",8),He(),hn()),2&t){const e=he();oe(1),Se(e.model.cssClasses.rootMultiColumn),oe(1),ie("ngForOf",e.model.columns)("ngForTrackBy",e.trackColumnBy)}}function XN(t,n){}function eB(t,n){if(1&t&&(dn(0),ge(1,XN,0,0,"ng-template",7),hn()),2&t){const e=n.$implicit,r=he(2);oe(1),ie("component",Hn(1,ar,r.getItemValueComponentName(e),r.getItemValueComponentData(e)))}}function tB(t,n){if(1&t&&(dn(0),ge(1,eB,2,4,"ng-container",6),hn()),2&t){const e=he();oe(1),ie("ngForOf",e.model.footItems)("ngForTrackBy",e.trackItemBy)}}function nB(t,n){if(1&t&&ut(0,"div",10),2&t){const e=he();Se(e.model.getCommentAreaCss(!0)),ie("question",e.model)}}function rB(t,n){if(1&t){const e=or();Ve(0,"div")(1,"input",11),un("click",function(){return Nt(e),he().model.clearValue()}),He()()}if(2&t){const e=he();oe(1),Se(e.model.cssClasses.clearButton),ie("value",e.model.clearButtonCaption)}}function iB(t,n){if(1&t&&ut(0,"div",3),2&t){const e=he();Se(e.model.getCommentAreaCss(!0)),ie("question",e.model)}}function oB(t,n){if(1&t&&ut(0,"div",3),2&t){const e=he();Se(e.model.getCommentAreaCss(!0)),ie("question",e.model)}}function sB(t,n){if(1&t&&ut(0,"span",5),2&t){const e=he();Se(e.model.cssClasses.minText),ie("model",e.model.locMinRateDescription)}}function aB(t,n){}const lB=function(t,n,e){return{model:t,item:n,index:e}};function uB(t,n){if(1&t&&ge(0,aB,0,0,"ng-template",6),2&t){const e=n.$implicit,r=n.index,i=he();ie("component",Hn(5,ar,i.model.itemComponent,rd(1,lB,i.model,e,r)))}}function cB(t,n){if(1&t&&ut(0,"span",5),2&t){const e=he();Se(e.model.cssClasses.maxText),ie("model",e.model.locMaxRateDescription)}}function fB(t,n){if(1&t&&ut(0,"span",4),2&t){const e=he();Se(e.model.cssClasses.sliderText),ie("model",e.model.getCheckedLabel())}}function dB(t,n){if(1&t&&(Er(),ut(0,"svg",8)),2&t){const e=he(3);Se(e.question.cssClasses.checkedItemSvgIcon),ie("iconName",e.question.cssClasses.checkedItemSvgIconId)("size","auto")}}function hB(t,n){if(1&t&&(Ve(0,"span"),ge(1,dB,1,4,"svg",7),He()),2&t){const e=he(2);Se(e.question.cssClasses.checkedItemDecorator),oe(1),ie("ngIf",e.question.cssClasses.checkedItemSvgIconId)}}function pB(t,n){if(1&t){const e=or();Ve(0,"img",9),un("load",function(i){Nt(e);const p=he(2);return p.question.onContentLoaded(p.model,i)})("error",function(){return Nt(e),he(2).model.onErrorHandler()}),He()}if(2&t){const e=he(2);Se(e.question.cssClasses.image),so("object-fit",e.question.imageFit),mn("src",e.model.locImageLink.renderedHtml,ns)("width",e.question.renderedImageWidth)("height",e.question.renderedImageHeight)("alt",e.model.locText.renderedHtml)}}function gB(t,n){if(1&t){const e=or();Ve(0,"video",10),un("loadedmetadata",function(i){Nt(e);const p=he(2);return p.question.onContentLoaded(p.model,i)})("error",function(){return Nt(e),he(2).model.onErrorHandler()}),He()}if(2&t){const e=he(2);Se(e.question.cssClasses.image),so("object-fit",e.question.imageFit),mn("src",e.model.locImageLink.renderedHtml,ns)("width",e.question.renderedImageWidth)("height",e.question.renderedImageHeight)}}function mB(t,n){if(1&t&&(Er(),ut(0,"svg",8)),2&t){const e=he(3);Se(e.question.cssClasses.itemNoImageSvgIcon),ie("iconName",e.question.cssClasses.itemNoImageSvgIconId)("size",48)}}function yB(t,n){if(1&t&&(Ve(0,"div"),ge(1,mB,1,4,"svg",7),He()),2&t){const e=he(2);Se(e.question.cssClasses.itemNoImage),so("width",e.question.renderedImageWidth+"px")("height",e.question.renderedImageHeight+"px")("object-fit",e.question.imageFit),oe(1),ie("ngIf",e.question.cssClasses.itemNoImageSvgIconId)}}function vB(t,n){if(1&t&&ut(0,"span",11),2&t){const e=he(2);Se(e.question.cssClasses.itemText),ie("model",e.model.locText)}}function CB(t,n){if(1&t){const e=or();Ve(0,"div")(1,"label")(2,"input",1),un("change",function(i){return Nt(e),he().onChange(i)}),He(),Ve(3,"div")(4,"div"),ge(5,hB,2,3,"span",2),ge(6,pB,1,8,"img",3),ge(7,gB,1,7,"video",4),ge(8,yB,2,9,"div",5),He(),ge(9,vB,1,3,"span",6),He()()()}if(2&t){const e=he();Se(e.question.getItemClass(e.model)),oe(1),Se(e.question.cssClasses.label),oe(1),Se(e.question.cssClasses.itemControl),ie("type",e.question.inputType)("id",e.question.getItemId(e.model))("checked",e.question.isItemSelected(e.model))("disabled",!e.question.getItemEnabled(e.model)),mn("name",e.question.questionName)("value",e.model.value)("aria-required",e.question.ariaRequired)("aria-label",e.question.ariaLabel)("aria-invalid",e.question.ariaInvalid)("aria-describedby",e.question.ariaDescribedBy),oe(1),Se(e.question.cssClasses.itemDecorator),oe(1),Se(e.question.cssClasses.imageContainer),oe(1),ie("ngIf",e.question.cssClasses.checkedItemDecorator),oe(1),ie("ngIf",e.model.locImageLink.renderedHtml&&!e.model.contentNotLoaded&&"image"===e.question.contentMode),oe(1),ie("ngIf",e.model.locImageLink.renderedHtml&&!e.model.contentNotLoaded&&"video"===e.question.contentMode),oe(1),ie("ngIf",!e.model.locImageLink.renderedHtml||e.model.contentNotLoaded),oe(1),ie("ngIf",e.question.showLabel)}}function bB(t,n){}function PB(t,n){if(1&t&&(dn(0),ge(1,bB,0,0,"ng-template",4),hn()),2&t){const e=n.$implicit,r=he(2);oe(1),ie("component",Hn(1,ar,r.getItemValueComponentName(e),r.getItemValueComponentData(e)))}}function EB(t,n){if(1&t&&(dn(0),ge(1,PB,2,4,"ng-container",3),hn()),2&t){const e=he();oe(1),ie("ngForOf",e.model.visibleChoices)}}function xB(t,n){}function TB(t,n){if(1&t&&(dn(0),ge(1,xB,0,0,"ng-template",4),hn()),2&t){const e=n.$implicit,r=he(3);oe(1),ie("component",Hn(1,ar,r.getItemValueComponentName(e),r.getItemValueComponentData(e)))}}function wB(t,n){if(1&t&&(Ve(0,"div",6),ge(1,TB,2,4,"ng-container",3),He()),2&t){const e=n.$implicit;Se(he(2).model.getColumnClass()),oe(1),ie("ngForOf",e)}}function DB(t,n){if(1&t&&(dn(0),ge(1,wB,2,3,"div",5),hn()),2&t){const e=he();oe(1),ie("ngForOf",e.model.columns)}}function MB(t,n){}const yx=function(t,n,e){return{survey:t,container:n,model:e}};function SB(t,n){if(1&t&&(dn(0),ge(1,MB,0,0,"ng-template",5),hn()),2&t){const e=n.$implicit,r=he(4);oe(1),ie("component",Hn(5,ar,e.component,rd(1,yx,r.survey,r.container,e.data)))}}function RB(t,n){if(1&t&&(Ve(0,"div",3),ge(1,SB,2,8,"ng-container",4),He()),2&t){const e=he(3);oe(1),ie("ngForOf",e.components)}}function AB(t,n){if(1&t&&(dn(0),ge(1,RB,2,1,"div",2),hn()),2&t){const e=he(2);oe(1),ie("ngIf",e.components.length>0)}}function VB(t,n){}function LB(t,n){if(1&t&&(dn(0),ge(1,VB,0,0,"ng-template",5),hn()),2&t){const e=n.$implicit,r=he(3);oe(1),ie("component",Hn(5,ar,e.component,rd(1,yx,r.survey,r.container,e.data)))}}function FB(t,n){if(1&t&&(dn(0),ge(1,LB,2,8,"ng-container",4),hn()),2&t){const e=he(2);oe(1),ie("ngForOf",e.components)}}function NB(t,n){if(1&t&&(ge(0,AB,2,1,"ng-container",1),ge(1,FB,2,1,"ng-container",1)),2&t){const e=he();ie("ngIf",e.isNeedRenderWrapper),oe(1),ie("ngIf",!e.isNeedRenderWrapper&&e.components.length>0)}}function BB(t,n){if(1&t&&(Er(),ut(0,"svg",4)),2&t){const e=he(2);Se(e.model.cssClasses.itemIcon),ie("iconName",e.model.iconName)("size",e.model.iconSize)("title",e.model.tooltip||e.model.title)}}function jB(t,n){if(1&t&&(Ve(0,"span"),Bn(1),He()),2&t){const e=he(2);Se(e.model.getActionBarItemTitleCss()),oe(1),Jn(e.model.title)}}function HB(t,n){}const vx=function(t){return{processEsc:!1,disableTabStop:t}};function UB(t,n){if(1&t){const e=or();Ve(0,"button",1),un("click",function(i){Nt(e);const p=he();return p.model.action(p.model,p.model.getIsTrusted(i))}),ge(1,BB,1,5,"svg",2),ge(2,jB,2,3,"span",3),He(),ge(3,HB,0,0,"ng-template")}if(2&t){const e=he();Se(e.model.getActionBarItemCss()),ie("key2click",jn(10,vx,e.model.disableTabStop))("disabled",e.model.disabled),mn("title",e.model.tooltip||e.model.title)("aria-checked",e.model.ariaChecked)("aria-expanded",e.model.ariaExpanded)("role",e.model.ariaRole),oe(1),ie("ngIf",e.model.iconName),oe(1),ie("ngIf",e.model.hasTitle)}}function WB(t,n){if(1&t&&(Er(),ut(0,"svg",5)),2&t){const e=he(2);Se(e.model.cssClasses.itemIcon),ie("iconName",e.model.iconName)("size",e.model.iconSize)("title",e.model.tooltip||e.model.title)}}function _B(t,n){if(1&t&&(Ve(0,"span"),Bn(1),He()),2&t){const e=he(2);Se(e.model.getActionBarItemTitleCss()),oe(1),Jn(e.model.title)}}function zB(t,n){if(1&t){const e=or();Ve(0,"button",1),un("click",function(i){Nt(e);const p=he();return p.model.action(p.model,p.model.getIsTrusted(i))}),ge(1,WB,1,5,"svg",2),ge(2,_B,2,3,"span",3),He(),ut(3,"sv-ng-popup",4)}if(2&t){const e=he();Se(e.model.getActionBarItemCss()),ie("key2click",jn(10,vx,e.model.disableTabStop))("title",e.model.tooltip||e.model.title)("disabled",e.model.disabled),mn("role",e.model.ariaRole),oe(1),ie("ngIf",e.model.iconName),oe(1),ie("ngIf",e.model.hasTitle),oe(1),ie("popupModel",e.model.popupModel)("getTarget",e.getTarget)}}function QB(t,n){1&t&&to(0)}function kB(t,n){if(1&t&&(Ve(0,"label",6),ge(1,QB,1,0,"ng-container",7),He()),2&t){he();const e=oo(5),r=he();Se(r.question.getLabelClass(r.model)),ie("model",r.model)("question",r.question),oe(1),ie("ngTemplateOutlet",e)}}function KB(t,n){1&t&&to(0)}function qB(t,n){if(1&t){const e=or();Ve(0,"label",8),un("mousedown",function(){return Nt(e),he(2).question.onMouseDown()}),ge(1,KB,1,0,"ng-container",7),He()}if(2&t){he();const e=oo(5),r=he();Se(r.question.getLabelClass(r.model)),ie("model",r.model)("question",r.question),oe(1),ie("ngTemplateOutlet",e)}}function $B(t,n){if(1&t&&(Er(),Ve(0,"svg"),ut(1,"use"),He()),2&t){const e=he(4);Se(e.question.cssClasses.itemDecorator),oe(1),mn("href",e.question.itemSvgIcon,null,"xlink")}}function GB(t,n){if(1&t&&(Ve(0,"span"),ge(1,$B,2,3,"svg",9),He()),2&t){const e=he(3);Se(e.question.cssClasses.materialDecorator),oe(1),ie("ngIf",e.question.itemSvgIcon)}}function JB(t,n){if(1&t&&(Ve(0,"span"),ut(1,"sv-ng-string",10),He()),2&t){const e=he(3);Se(e.question.getControlLabelClass(e.model)),oe(1),ie("model",e.model.locText)}}function YB(t,n){if(1&t&&(ge(0,GB,2,3,"span",9),ge(1,JB,2,3,"span",9)),2&t){const e=he(2);ie("ngIf",e.question.cssClasses.materialDecorator),oe(1),ie("ngIf",!e.model.hideCaption)}}function ZB(t,n){if(1&t&&(Ve(0,"div",1),dn(1,2),ge(2,kB,2,5,"label",3),ge(3,qB,2,5,"label",4),hn(),ge(4,YB,2,2,"ng-template",null,5,Kn),He()),2&t){const e=he();Se(e.question.getItemClass(e.model)),oe(1),ie("ngSwitch",e.inputType),oe(1),ie("ngSwitchCase","checkbox"),oe(1),ie("ngSwitchCase","radio")}}function XB(t,n){1&t&&ut(0,"div",1),2&t&&ie("id",he().element.id)}function e3(t,n){if(1&t&&(Er(),ut(0,"svg",2)),2&t){const e=he(2);Se(e.model.getProgressCss()),so("stroke-dasharray",e.circleLength)("stroke-dashoffset",e.progress),ie("size","auto")("iconName","icon-timercircle")}}function t3(t,n){if(1&t&&(Ve(0,"span"),Bn(1),He()),2&t){const e=he(2);Se(e.model.minorTextCss),oe(1),Jn(e.model.clockMinorText)}}function n3(t,n){if(1&t&&(Ve(0,"div"),ge(1,e3,1,8,"svg",1),Ve(2,"div")(3,"span"),Bn(4),He(),ge(5,t3,2,3,"span",0),He()()),2&t){const e=he();Se(e.model.rootCss),oe(1),ie("ngIf",e.model.showProgress),oe(1),Se(e.model.textContainerCss),oe(1),Se(e.model.majorTextCss),oe(1),Jn(e.model.clockMajorText),oe(1),ie("ngIf",e.model.clockMinorText)}}function r3(t,n){if(1&t&&(Ve(0,"div"),Bn(1),He()),2&t){const e=he();Se(e.model.survey.getCss().timerRoot),oe(1),Jn(e.model.text)}}function i3(t,n){if(1&t&&(dn(0),ut(1,"div"),hn()),2&t){const e=he(2);oe(1),Se(e.listModel.cssClasses.itemSeparator)}}function o3(t,n){if(1&t&&(Er(),ut(0,"svg",5)),2&t){const e=he(3);Se(e.listModel.cssClasses.itemIcon),ie("iconName",e.model.iconName)("size",e.model.iconSize)}}function s3(t,n){if(1&t&&(dn(0),ge(1,o3,1,4,"svg",3),ut(2,"sv-ng-string",4),hn()),2&t){const e=he(2);oe(1),ie("ngIf",e.model.iconName),oe(1),ie("model",e.model.locTitle)}}function a3(t,n){}function l3(t,n){if(1&t&&(dn(0),ge(1,a3,0,0,"ng-template",6),hn()),2&t){const e=he(2);oe(1),ie("component",Hn(3,ar,e.model.component,jn(1,cf,e.model)))}}function u3(t,n){if(1&t){const e=or();Ve(0,"li",1),un("click",function(i){return Nt(e),he().click(i)})("pointerdown",function(i){return Nt(e),he().pointerdown(i)}),ge(1,i3,2,2,"ng-container",2),Ve(2,"div"),ge(3,s3,3,2,"ng-container",2),ge(4,l3,2,6,"ng-container",2),He()()}if(2&t){const e=he();Se(e.class),ie("visible",e.listModel.isItemVisible(e.model)),mn("id",e.elementId)("aria-selected",e.ariaSelected?"true":"false"),oe(1),ie("ngIf",e.model.needSeparator),oe(1),Se(e.listModel.cssClasses.itemBody),so("padding-inline-start",e.paddingLeft),mn("title",e.model.locTitle.calculatedText),oe(1),ie("ngIf",!e.model.component),oe(1),ie("ngIf",e.model.component)}}const c3=["listContainerElement"];function f3(t,n){if(1&t){const e=or();Ve(0,"button",8),un("click",function(i){return Nt(e),he(3).model.onClickSearchClearButton(i)}),Er(),ut(1,"svg",5),He()}2&t&&(Se(he(3).model.cssClasses.searchClearButtonIcon),oe(1),ie("iconName","icon-searchclear")("size","auto"))}function d3(t,n){if(1&t){const e=or();Ve(0,"div")(1,"div"),Er(),ut(2,"svg",5),He(),Sa(),Ve(3,"input",6),un("ngModelChange",function(i){return Nt(e),he(2).model.filterString=i})("keyup",function(i){return Nt(e),he(2).onGoToItems(i)}),He(),ge(4,f3,2,4,"button",7),He()}if(2&t){const e=he(2);Se(e.model.cssClasses.filter),oe(1),Se(e.model.cssClasses.filterIcon),oe(1),ie("iconName","icon-search")("size","auto"),oe(1),Se(e.model.cssClasses.filterInput),ie("ngModel",e.model.filterString),mn("aria-label",e.model.filterStringPlaceholder||"")("placeholder",e.model.filterStringPlaceholder||""),oe(1),ie("ngIf",e.model.showSearchClearButton&&!!e.model.filterString)}}function h3(t,n){if(1&t&&ut(0,"sv-ng-list-item",11),2&t){const e=n.$implicit;ie("listModel",he(3).model)("model",e)}}function p3(t,n){if(1&t){const e=or();Ve(0,"ul",9),un("mousedown",function(i){return Nt(e),he(2).onMouseDown(i)})("keydown",function(i){return Nt(e),he(2).onKeyDown(i)})("mousemove",function(i){return Nt(e),he(2).onMouseMove(i)}),ge(1,h3,1,2,"sv-ng-list-item",10),He()}if(2&t){const e=he(2);Se(e.model.getListClass()),ie("visible",!e.model.isEmpty),mn("id",e.model.elementId),oe(1),ie("ngForOf",e.model.renderedActions)("ngForTrackBy",e.trackItemBy)}}function g3(t,n){if(1&t&&(Ve(0,"div",null,1),ge(2,d3,5,12,"div",2),Ve(3,"div",3)(4,"div"),Bn(5),He()(),ge(6,p3,2,6,"ul",4),He()),2&t){const e=he();Se(e.model.cssClasses.root),oe(2),ie("ngIf",e.model.showFilter),oe(1),Se(e.model.cssClasses.emptyContainer),ie("visible",e.model.isEmpty),oe(1),Se(e.model.cssClasses.emptyText),mn("aria-label",e.model.emptyMessage||""),oe(1),Jn(e.model.emptyMessage),oe(1),ie("ngIf",e.model.renderElements)}}function m3(t,n){if(1&t){const e=or();Ve(0,"label",1),un("mousedown",function(){return Nt(e),he().model.onMouseDown()}),Ve(1,"input",2),un("click",function(i){return Nt(e),he().onClick(i)}),He(),ut(2,"span",3),He()}if(2&t){const e=he();Se(e.model.getItemClassByText(e.item.itemValue,e.item.text)),oe(1),ie("value",e.item.value)("disabled",e.model.isInputReadOnly)("checked",e.model.value===e.item.value),mn("name",e.model.name)("id",e.model.getInputId(e.index))("aria-required",e.model.ariaRequired)("aria-label",e.model.ariaLabel)("aria-invalid",e.model.ariaInvalid)("aria-describedby",e.model.ariaDescribedBy),oe(1),Se(e.model.cssClasses.itemText),ie("model",e.item.locText)}}function y3(t,n){if(1&t){const e=or();Ve(0,"label",1),un("mouseover",function(){Nt(e);const i=he();return i.model.onItemMouseIn(i.item)})("mouseout",function(){Nt(e);const i=he();return i.model.onItemMouseOut(i.item)})("mousedown",function(){return Nt(e),he().model.onMouseDown()}),Ve(1,"input",2),un("click",function(i){return Nt(e),he().onClick(i)}),He(),Er(),ut(2,"svg",3)(3,"svg",3),He()}if(2&t){const e=he();Se(e.model.getItemClass(e.item.itemValue,e.item.highlight)),oe(1),ie("value",e.item.value)("disabled",e.model.isInputReadOnly)("checked",e.model.value===e.item.value),mn("name",e.model.name)("id",e.model.getInputId(e.index))("aria-required",e.model.ariaRequired)("aria-label",e.model.ariaLabel)("aria-invalid",e.model.ariaInvalid)("aria-describedby",e.model.ariaDescribedBy),oe(1),Se("sv-star"),ie("iconName",e.model.itemStarIcon)("size","auto")("title",e.item.text),oe(1),Se("sv-star-2"),ie("iconName",e.model.itemStarIconAlt)("size","auto")("title",e.item.text)}}function v3(t,n){if(1&t){const e=or();Ve(0,"label",1),un("mouseover",function(){Nt(e);const i=he();return i.model.onItemMouseIn(i.item)})("mouseout",function(){Nt(e);const i=he();return i.model.onItemMouseOut(i.item)})("mousedown",function(){return Nt(e),he().model.onMouseDown()}),Ve(1,"input",2),un("click",function(i){return Nt(e),he().onClick(i)}),He(),Er(),ut(2,"svg",3),He()}if(2&t){const e=he();Fr(e.model.getItemStyle(e.item.itemValue,e.item.highlight)),Se(e.model.getItemClass(e.item.itemValue,e.item.highlight)),oe(1),ie("value",e.item.value)("disabled",e.model.isInputReadOnly)("checked",e.model.value===e.item.value),mn("name",e.model.name)("id",e.model.getInputId(e.index))("aria-required",e.model.ariaRequired)("aria-label",e.model.ariaLabel)("aria-invalid",e.model.ariaInvalid)("aria-describedby",e.model.ariaDescribedBy),oe(1),ie("iconName",e.model.getItemSmileyIconName(e.item.itemValue))("size","auto")("title",e.item.text)}}function C3(t,n){if(1&t&&(dn(0),Ve(1,"div",4),ut(2,"sv-ng-string",5),He(),hn()),2&t){const e=he(2);oe(2),ie("model",e.model.description)}}function b3(t,n){if(1&t&&(Ve(0,"div",1)(1,"span",2),Bn(2),He(),ge(3,C3,3,1,"ng-container",3),He()),2&t){const e=he();oe(2),Jn(e.model.title),oe(1),ie("ngIf",!!e.model.description)}}function P3(t,n){if(1&t&&(Er(),Ve(0,"svg"),ut(1,"use"),He()),2&t){const e=he();Se(e.model.cssClasses.checkboxItemDecorator),oe(1),mn("href",e.model.svgIcon,null,"xlink")}}function E3(t,n){if(1&t&&(Ve(0,"span",5),ut(1,"sv-ng-element-title-actions",6),He()),2&t){const e=he();Se(e.model.cssClasses.checkboxControlLabel),ie("id",e.model.labelRenderedAriaID),oe(1),ie("element",e.model)}}function x3(t,n){if(1&t&&ut(0,"div",7),2&t){const e=he();Se(e.model.cssDescription),ie("model",e.model.locDescription)}}function T3(t,n){1&t&&ut(0,"span"),2&t&&Se(he().question.cssClasses.materialRadioDecorator)}function w3(t,n){if(1&t&&(Ve(0,"div")(1,"div",1)(2,"span"),Bn(3),He()(),Ve(4,"span"),Bn(5),He()()),2&t){const e=he();Se(e.model.getProgressCssClasses(e.container)),oe(1),Se(e.model.css.progressBar),so("width",e.model.progressValue+"%"),oe(1),Se(e.getProgressTextInBarCss(e.model.css)),oe(1),ed(" ",e.model.progressText," "),oe(1),Se(e.getProgressTextUnderBarCss(e.model.css)),oe(1),ed(" ",e.model.progressText," ")}}const D3=["progressButtonsListContainer"];function I3(t,n){if(1&t&&(Ve(0,"div")(1,"div",5),Bn(2),He()()),2&t){const e=he();Se(e.survey.css.progressButtonsHeader),oe(1),Se(e.survey.css.progressButtonsPageTitle),ie("title",e.model.headerText),oe(1),Jn(e.model.headerText)}}function O3(t,n){if(1&t&&(Ve(0,"div",5),Bn(1),He()),2&t){const e=he().$implicit;Se(he().survey.css.progressButtonsPageTitle),ie("title",e.renderedNavigationTitle),oe(1),ed(" ",e.renderedNavigationTitle," ")}}function M3(t,n){if(1&t&&(Ve(0,"div",5),Bn(1),He()),2&t){const e=he().$implicit;Se(he().survey.css.progressButtonsPageDescription),ie("title",e.locNavigationDescription.renderedHtml),oe(1),ed(" ",e.locNavigationDescription.renderedHtml," ")}}function S3(t,n){if(1&t){const e=or();Ve(0,"li",6),un("click",function(){const i=Nt(e),p=i.index,S=i.$implicit,W=he();return W.model.isListElementClickable(p)?W.model.clickListElement(S):null}),ut(1,"div"),ge(2,O3,2,4,"div",7),ge(3,M3,2,4,"div",7),He()}if(2&t){const e=n.$implicit,r=n.index,i=he();Se(i.model.getListElementCss(r)),mn("data-page-number",i.model.getItemNumber(e)),oe(1),Se(i.survey.css.progressButtonsConnector),oe(1),ie("ngIf",i.canShowItemTitles),oe(1),ie("ngIf",i.canShowItemTitles)}}function R3(t,n){if(1&t&&(Ve(0,"div")(1,"div",5),Bn(2),He()()),2&t){const e=he();Se(e.survey.css.progressButtonsFooter),oe(1),Se(e.survey.css.progressButtonsPageTitle),ie("title",e.model.footerText),oe(1),Jn(e.model.footerText)}}function A3(t,n){1&t&&ut(0,"sv-ng-list",3),2&t&&ie("model",he(2).model.listModel)}function V3(t,n){if(1&t){const e=or();Ve(0,"div",4),un("click",function(){return Nt(e),he(2).model.togglePopup()}),Er(),ut(1,"svg",5),Sa(),ut(2,"sv-ng-popup",6),He()}if(2&t){const e=he(2);oe(1),ie("iconName",e.model.icon)("size",24),oe(1),ie("popupModel",e.model.popupModel)}}function L3(t,n){if(1&t&&(Ve(0,"div"),ge(1,A3,1,1,"sv-ng-list",1),ge(2,V3,3,3,"div",2),He()),2&t){const e=he();Se(e.model.containerCss),oe(1),ie("ngIf",!e.model.isMobile),oe(1),ie("ngIf",e.model.isMobile)}}const F3=["panelContainer"];function N3(t,n){1&t&&ut(0,"div",7),2&t&&ie("element",he(3).model)}function B3(t,n){1&t&&ut(0,"div",8),2&t&&ie("element",he(3).model)}function j3(t,n){1&t&&ut(0,"div",7),2&t&&ie("element",he(3).model)}function H3(t,n){1&t&&ut(0,"sv-ng-row",12),2&t&&ie("row",he().$implicit)}function U3(t,n){if(1&t&&(dn(0),ge(1,H3,1,1,"ng-template",11),hn()),2&t){const e=n.$implicit,r=he(4);oe(1),ie("component",Hn(3,ar,r.model.survey.getRowWrapperComponentName(e),jn(1,ff,r.model.survey.getRowWrapperComponentData(e))))}}function W3(t,n){if(1&t&&(Ve(0,"div"),ge(1,U3,2,6,"ng-container",9),ut(2,"sv-ng-action-bar",10),He()),2&t){const e=he(3);Se(e.model.cssClasses.panel.content),so("padding-left",e.model.innerPaddingLeft),mn("id",e.model.contentId),oe(1),ie("ngForOf",e.model.rows)("ngForTrackBy",e.trackRowBy),oe(1),ie("model",e.model.getFooterToolbar())}}function _3(t,n){if(1&t){const e=or();Ve(0,"div",2,3),un("focusin",function(){return Nt(e),he(2).model.focusIn()}),ge(2,N3,1,1,"div",4),ge(3,B3,1,1,"div",5),ge(4,j3,1,1,"div",4),ge(5,W3,3,8,"div",6),He()}if(2&t){const e=he(2);Se(e.model.getContainerCss()),mn("id",e.model.id),oe(2),ie("ngIf",e.model.showErrorsAbovePanel&&e.model.hasVisibleErrors),oe(1),ie("ngIf",e.model.hasDescription||e.model.hasTitle),oe(1),ie("ngIf",!e.model.showErrorsAbovePanel&&e.model.hasVisibleErrors),oe(1),ie("ngIf",!e.model.isCollapsed)}}function z3(t,n){if(1&t&&ge(0,_3,6,7,"div",1),2&t){const e=he();ie("ngIf",!!e.model&&e.model.isVisible)}}function Q3(t,n){if(1&t){const e=or();Ve(0,"input",1),un("mousedown",function(){return Nt(e),he().buttonMouseDown()})("click",function(){return Nt(e),he().model.action()}),He()}if(2&t){const e=he();Se(e.model.innerCss),ie("value",e.model.title)("disabled",e.model.disabled),mn("title",e.model.getTooltip())}}function k3(t,n){if(1&t){const e=or();Ve(0,"div")(1,"a",8),un("click",function(i){Nt(e);const p=he().$implicit;return he(3).question.doDownloadFile(i,p)}),Kl(2,"safeUrl"),Bn(3),He()()}if(2&t){const e=he().$implicit,r=he(3);Se(r.question.cssClasses.fileSign),oe(1),so("width",r.question.imageWidth),mn("href",ql(2,8,e.content),ns)("title",e.name)("download",e.name),oe(2),Jn(e.name)}}function K3(t,n){if(1&t&&(ut(0,"img",9),Kl(1,"safeUrl")),2&t){const e=he().$implicit,r=he(3);so("height",r.question.imageHeight)("width",r.question.imageWidth),mn("src",ql(1,5,e.content),ns)}}function q3(t,n){if(1&t&&(Er(),ut(0,"svg",10)),2&t){const e=he(4);ie("iconName",e.question.cssClasses.defaultImageIconId)("partCss",e.question.cssClasses.defaultImage)("size","auto")}}function $3(t,n){if(1&t&&(Er(),ut(0,"svg",12)),2&t){const e=he(5);ie("title",e.question.removeFileCaption)("partCss",e.question.cssClasses.removeFileSvg)("iconName",e.question.cssClasses.removeFileSvgIconId)("size","auto")}}function G3(t,n){if(1&t){const e=or();Ve(0,"div",8),un("click",function(){Nt(e);const i=he().$implicit;return he(3).question.doRemoveFile(i)}),Ve(1,"span"),Bn(2),He(),ge(3,$3,1,4,"svg",11),He()}if(2&t){const e=he(4);Se(e.question.getRemoveButtonCss()),oe(1),Se(e.question.cssClasses.removeFile),oe(1),Jn(e.question.removeFileCaption),oe(1),ie("ngIf",e.question.cssClasses.removeFileSvgIconId)}}function J3(t,n){if(1&t){const e=or();Ve(0,"div")(1,"a",8),un("click",function(i){Nt(e);const p=he().$implicit;return he(3).question.doDownloadFile(i,p)}),Kl(2,"safeUrl"),Bn(3),He()()}if(2&t){const e=he().$implicit,r=he(3);Se(r.question.cssClasses.fileSignBottom),oe(1),so("width",r.question.imageWidth),mn("href",ql(2,8,e.content),ns)("title",e.name)("download",e.name),oe(2),Jn(e.name)}}function Y3(t,n){if(1&t&&(Ve(0,"span",3),ge(1,k3,4,10,"div",4),Ve(2,"div"),ge(3,K3,2,7,"img",5),ge(4,q3,1,3,"svg",6),ge(5,G3,4,6,"div",7),He(),ge(6,J3,4,10,"div",4),He()),2&t){const e=n.$implicit,r=n.index,i=he(3);Se(i.question.cssClasses.preview),ie("visible",e&&i.question.isPreviewVisible(r)),oe(1),ie("ngIf",e.name&&i.question.cssClasses.fileSign),oe(1),Se(i.question.getImageWrapperCss(e)),oe(1),ie("ngIf",i.question.canPreviewImage(e)),oe(1),ie("ngIf",i.question.defaultImage(e)),oe(1),ie("ngIf",e.name&&!i.question.isReadOnly),oe(1),ie("ngIf",e.name&&i.question.cssClasses.fileSignBottom)}}function Z3(t,n){if(1&t&&(dn(0),Ve(1,"div"),ge(2,Y3,7,10,"span",2),He(),hn()),2&t){const e=he(2);oe(1),Se(e.question.cssClasses.fileList||void 0),oe(1),ie("ngForOf",e.question.previewValue)("ngForTrackBy",e.trackFilesFn)}}function X3(t,n){1&t&&ge(0,Z3,3,4,"ng-container",1),2&t&&ie("ngIf",he().question.showPreviewContainer)}function ej(t,n){1&t&&ut(0,"td")}function tj(t,n){1&t&&ut(0,"sv-ng-string",7),2&t&&ie("model",he().$implicit.locText)}const Yp=function(t,n){return{minWidth:t,width:n}};function nj(t,n){if(1&t&&(Ve(0,"th"),ge(1,tj,1,1,"ng-template",6),He()),2&t){const e=n.$implicit,r=he(3);Fr(Hn(5,Yp,r.model.columnMinWidth,r.model.columnMinWidth)),Se(r.model.cssClasses.headerCell),oe(1),ie("component",Hn(10,ar,r.model.getColumnHeaderWrapperComponentName(e),jn(8,ff,r.model.getColumnHeaderWrapperComponentData(e))))}}function rj(t,n){if(1&t&&(Ve(0,"thead")(1,"tr"),ge(2,ej,1,0,"td",3),ge(3,nj,2,13,"th",5),He()()),2&t){const e=he(2);oe(2),ie("ngIf",e.model.hasRows),oe(1),ie("ngForOf",e.model.visibleColumns)}}function ij(t,n){1&t&&ut(0,"sv-ng-string",7),2&t&&ie("model",he(2).$implicit.locText)}function oj(t,n){if(1&t&&(Ve(0,"td"),ge(1,ij,1,1,"ng-template",6),He()),2&t){const e=he().$implicit,r=he(2);Fr(Hn(5,Yp,r.model.rowTitleWidth,r.model.rowTitleWidth)),Se(e.rowTextClasses),oe(1),ie("component",Hn(10,ar,r.model.getRowHeaderWrapperComponentName(e),jn(8,ff,r.model.getRowHeaderWrapperComponentData(e))))}}function sj(t,n){if(1&t){const e=or();Ve(0,"td",10),un("click",function(){const p=Nt(e).$implicit,S=he(2).$implicit;return he(2).onCellChanged(S,p)}),He()}if(2&t){const e=n.$implicit,r=he(2).$implicit,i=he(2);Se(i.model.getItemClass(r,e)),ie("model",i.model.getCellDisplayLocText(r.name,e))}}function aj(t,n){if(1&t&&(dn(0),ge(1,sj,1,3,"td",9),hn()),2&t){const e=he(3);oe(1),ie("ngForOf",e.model.visibleColumns)}}function lj(t,n){}const uj=function(t,n,e,r,i){return{cellChangedOwner:t,question:n,row:e,column:r,columnIndex:i}};function cj(t,n){if(1&t&&(Ve(0,"td"),ge(1,lj,0,0,"ng-template",6),He()),2&t){const e=n.$implicit,r=n.index,i=he(2).$implicit,p=he(2);Se(p.model.cssClasses.cell),mn("data-responsive-title",e.locText.renderedHtml),oe(1),ie("component",Hn(10,ar,p.model.cellComponent,Dv(4,uj,p,p.model,i,e,r)))}}function fj(t,n){if(1&t&&(dn(0),ge(1,cj,2,13,"td",4),hn()),2&t){const e=he(3);oe(1),ie("ngForOf",e.model.visibleColumns)("ngForTrackBy",e.trackColumnByFn)}}function dj(t,n){if(1&t&&(Ve(0,"tr"),ge(1,oj,2,13,"td",8),ge(2,aj,2,1,"ng-container",3),ge(3,fj,2,2,"ng-container",3),He()),2&t){const e=n.$implicit,r=he(2);Se(e.rowClasses||void 0),oe(1),ie("ngIf",r.model.hasRows),oe(1),ie("ngIf",r.model.hasCellText),oe(1),ie("ngIf",!r.model.hasCellText)}}function hj(t,n){if(1&t&&(Ve(0,"div",null,1)(2,"fieldset")(3,"legend",2),Bn(4),He(),Ve(5,"table"),ge(6,rj,4,2,"thead",3),Ve(7,"tbody"),ge(8,dj,4,5,"tr",4),He()()()()),2&t){const e=he();Se(e.model.cssClasses.tableWrapper),oe(4),Jn(e.model.locTitle.renderedHtml),oe(1),Se(e.model.getTableCss()),oe(1),ie("ngIf",e.model.showHeader),oe(2),ie("ngForOf",e.model.visibleRows)("ngForTrackBy",e.trackRowByFn)}}function pj(t,n){if(1&t&&(Er(),ut(0,"svg",3)),2&t){const e=he(2);ie("title",e.question.chooseButtonText)("iconName",e.question.cssClasses.chooseFileIconId)("size","auto")}}function gj(t,n){if(1&t&&(Ve(0,"label",1),ge(1,pj,1,3,"svg",2),Ve(2,"span"),Bn(3),He()()),2&t){const e=he();Se(e.question.getChooseFileCss()),mn("for",e.question.inputId)("aria-label",e.question.chooseButtonText),oe(1),ie("ngIf",e.question.cssClasses.chooseFileIconId),oe(2),Jn(e.question.chooseButtonText)}}function mj(t,n){1&t&&(Ve(0,"div",1),Er(),ut(1,"svg",2),He()),2&t&&(oe(1),ie("iconName","icon-loading")("size","auto"))}function yj(t,n){if(1&t){const e=or();Ve(0,"input",9),un("change",function(i){return Nt(e),he().model.doChange(i)}),He()}if(2&t){const e=he();Se(e.model.cssClasses.fileInput),mn("id",e.model.inputId)("aria-required",e.model.ariaRequired)("aria-label",e.model.ariaLabel)("aria-invalid",e.model.ariaInvalid)("aria-describedby",e.model.ariaDescribedBy)("multiple",e.model.multipleRendered)("title",e.model.inputTitle)("accept",e.model.acceptedTypes)("capture",e.model.renderCapture)}}function vj(t,n){if(1&t&&ut(0,"input",10),2&t){const e=he();Se(e.model.getReadOnlyFileCss()),mn("id",e.model.inputId)("multiple",e.model.multipleRendered)("placeholder",e.model.title)}}const hf=function(t){return{question:t}};function Cj(t,n){if(1&t&&ut(0,"sv-ng-choose-file-btn",13),2&t){const e=he(2);ie("data",jn(1,hf,e.model))}}function bj(t,n){1&t&&ut(0,"sv-ng-action-bar",14),2&t&&ie("model",he(2).model.actionsContainer)}function Pj(t,n){if(1&t&&(Ve(0,"span"),Bn(1),He()),2&t){const e=he(2);Se(e.model.cssClasses.noFileChosen),oe(1),Jn(e.model.noFileChosenCaption)}}function Ej(t,n){if(1&t&&(Ve(0,"div"),ut(1,"span",11),Ve(2,"div"),ge(3,Cj,1,3,"sv-ng-choose-file-btn",12),ge(4,bj,1,1,"sv-ng-action-bar",6),ge(5,Pj,2,3,"span",4),He()()),2&t){const e=he();Se(e.model.getFileDecoratorCss()),oe(1),Se(e.model.cssClasses.dragAreaPlaceholder),ie("model",e.model.locRenderedPlaceholder),oe(1),Se(e.model.cssClasses.wrapper),oe(1),ie("ngIf",e.model.showChooseButton),oe(1),ie("ngIf",e.model.actionsContainerVisible),oe(1),ie("ngIf",e.model.isEmpty())}}function xj(t,n){if(1&t&&(dn(0),Ve(1,"div"),ut(2,"sv-ng-loading-indicator"),He(),hn()),2&t){const e=he();oe(1),Se(e.model.cssClasses.loadingIndicator)}}function Tj(t,n){1&t&&to(0)}function wj(t,n){if(1&t&&(dn(0),ge(1,Tj,1,0,"ng-container",15),hn()),2&t){he();const e=oo(15);oe(1),ie("ngTemplateOutlet",e)}}function Dj(t,n){1&t&&to(0)}const Cx=function(t){return{css:t}};function Ij(t,n){if(1&t&&(dn(0),ge(1,Dj,1,0,"ng-container",16),hn()),2&t){const e=he(),r=oo(13);oe(1),ie("ngTemplateOutlet",r)("ngTemplateOutletContext",jn(2,Cx,e.model.showRemoveButton))}}function Oj(t,n){}const Mj=function(t){return{name:"sv-file-preview",data:t}};function Sj(t,n){if(1&t&&(dn(0),ge(1,Oj,0,0,"ng-template",17),hn()),2&t){const e=he();oe(1),ie("component",jn(3,Mj,jn(1,hf,e.model)))}}function Rj(t,n){1&t&&to(0)}function Aj(t,n){if(1&t&&(dn(0),ge(1,Rj,1,0,"ng-container",16),hn()),2&t){const e=he(),r=oo(13);oe(1),ie("ngTemplateOutlet",r)("ngTemplateOutletContext",jn(2,Cx,e.model.showRemoveButtonBottom))}}function Vj(t,n){1&t&&ut(0,"sv-action-bar",14),2&t&&ie("model",he().model.fileNavigator)}function Lj(t,n){if(1&t&&(Er(),ut(0,"svg",20)),2&t){const e=he(2);ie("iconName",e.model.cssClasses.removeButtonIconId)("size","auto")("title",e.model.clearButtonCaption)}}function Fj(t,n){if(1&t){const e=or();Ve(0,"button",18),un("click",function(){return Nt(e),he().model.doClean()}),Ve(1,"span"),Bn(2),He(),ge(3,Lj,1,3,"svg",19),He()}if(2&t){const e=n.css,r=he();Se(e),oe(2),Jn(r.model.clearButtonCaption),oe(1),ie("ngIf",r.model.cssClasses.removeButtonIconId)}}function Nj(t,n){if(1&t&&(Ve(0,"div"),ut(1,"sv-ng-action",14)(2,"sv-ng-action",14)(3,"video",21)(4,"sv-ng-action",14),He()),2&t){const e=he();Se(e.model.cssClasses.videoContainer),oe(1),ie("model",e.model.changeCameraAction),oe(1),ie("model",e.model.closeCameraAction),oe(1),Se(e.model.cssClasses.video),mn("id",e.model.videoId),oe(1),ie("model",e.model.takePictureAction)}}function Bj(t,n){if(1&t){const e=or();Ve(0,"textarea",3,4),un("input",function(i){return Nt(e),he().model.onInput(i)})("keydown",function(i){return Nt(e),he().model.onKeyDown(i)})("change",function(i){return Nt(e),he().onChange(i)}),He()}if(2&t){const e=he();Se(e.model.className),so("resize",e.model.resizeStyle),ie("readonly",e.model.isInputReadOnly)("id",e.model.inputId)("value",e.model.value||null),mn("disabled",e.model.renderedInputDisabled)("maxlength",e.model.getMaxLength())("cols",e.model.cols)("rows",e.model.rows)("placeholder",e.model.renderedPlaceholder)("aria-required",e.model.a11y_input_ariaRequired)("aria-label",e.model.a11y_input_ariaLabel)("aria-labelledby",e.model.a11y_input_ariaLabelledBy)("aria-invalid",e.model.a11y_input_ariaInvalid)("aria-describedby",e.model.a11y_input_ariaDescribedBy)}}function jj(t,n){if(1&t&&ut(0,"sv-ng-character-counter",5),2&t){const e=he();ie("counter",e.model.characterCounter)("remainingCharacterCounter",e.model.cssClasses.remainingCharacterCounter)}}function Hj(t,n){if(1&t&&(Ve(0,"div",null,4),Bn(2),He()),2&t){const e=he();oe(2),Jn(e.model.value)}}function Uj(t,n){if(1&t&&ut(0,"img",6),2&t){const e=he();Se(e.model.cssClasses.backgroundImage),so("width",e.model.renderedCanvasWidth),ie("src",e.model.backgroundImage,ns)}}function Wj(t,n){1&t&&(Ve(0,"span"),Bn(1,"\u2716"),He())}function _j(t,n){1&t&&(Er(),ut(0,"svg",9)),2&t&&ie("iconName",he(2).model.cssClasses.clearButtonIconId)("size","auto")}function zj(t,n){if(1&t){const e=or();Ve(0,"div")(1,"button",7),un("click",function(){return Nt(e),he().model.clearValue()}),ge(2,Wj,2,0,"span",5),ge(3,_j,1,2,"svg",8),He()()}if(2&t){const e=he();Se(e.model.cssClasses.controls),oe(1),Se(e.model.cssClasses.clearButton),ie("title",e.model.clearButtonCaption),oe(1),ie("ngIf",!e.model.cssClasses.clearButtonIconId),oe(1),ie("ngIf",e.model.cssClasses.clearButtonIconId)}}function Qj(t,n){if(1&t&&(dn(0),Ve(1,"div"),ut(2,"sv-ng-loading-indicator"),He(),hn()),2&t){const e=he();oe(1),Se(e.model.cssClasses.loadingIndicator)}}const kj=["sv-ng-multipletext-item",""];function Kj(t,n){if(1&t&&(Ve(0,"span"),Bn(1),He()),2&t){const e=he(2);Se(e.question.cssClasses.requiredText),oe(1),Jn(e.item.editor.requiredText)}}function qj(t,n){1&t&&(Ve(0,"span"),Bn(1,"\xa0"),He())}function $j(t,n){if(1&t&&(Ve(0,"span",5),Bn(1),He()),2&t){const e=he(2);Se(e.question.cssClasses.requiredText),oe(1),Jn(e.item.editor.requiredText)}}function Gj(t,n){if(1&t){const e=or();dn(0),Ve(1,"label")(2,"span"),ge(3,Kj,2,3,"span",1),ut(4,"sv-ng-string",2),ge(5,qj,2,0,"span",0),ge(6,$j,2,3,"span",3),He(),Ve(7,"div",4),un("focusin",function(){return Nt(e),he().item.focusIn()}),ut(8,"sv-ng-text-question",2),He()(),hn()}if(2&t){const e=he();oe(1),Se(e.question.getItemLabelCss(e.item)),oe(1),Fr(Hn(13,Yp,e.question.itemTitleWidth,e.question.itemTitleWidth)),Se(e.question.getItemTitleCss()),oe(1),ie("ngIf",e.item.editor.isRequireTextBeforeTitle||e.item.editor.isRequireTextOnStart),oe(1),ie("model",e.item.locTitle),oe(1),ie("ngIf",e.item.editor.isRequireTextAfterTitle),oe(1),ie("ngIf",e.item.editor.isRequireTextAfterTitle),oe(1),Se(e.question.getItemCss()),oe(1),ie("model",e.item.editor)}}function Jj(t,n){1&t&&ut(0,"div",7),2&t&&ie("element",he(2).item.editor)}function Yj(t,n){if(1&t&&(dn(0),ge(1,Jj,1,1,"div",6),hn()),2&t){const e=he();oe(1),ie("ngIf",e.item.editor.hasVisibleErrors)}}function Zj(t,n){if(1&t&&(dn(0),ut(1,"td",3),hn()),2&t){const e=n.$implicit,r=he(3);oe(1),Se(e.className),ie("question",r.question)("model",e)}}function Xj(t,n){if(1&t&&(Ve(0,"tr"),ge(1,Zj,2,4,"ng-container",2),He()),2&t){const e=he(2);Se(e.question.cssClasses.row),oe(1),ie("ngForOf",e.model.cells)("ngForTrackBy",e.trackItemBy)}}function e4(t,n){1&t&&ge(0,Xj,2,4,"tr",1),2&t&&ie("ngIf",he().model.isVisible)}function t4(t,n){if(1&t&&(dn(0),ut(1,"sv-ng-multipletext-row",2),hn()),2&t){const e=n.$implicit,r=he();oe(1),ie("model",e)("question",r.model)}}function n4(t,n){}function r4(t,n){if(1&t&&(dn(0),ge(1,n4,0,0,"ng-template",3),hn()),2&t){const e=n.$implicit,r=n.index,i=he(2);oe(1),ie("component",Hn(1,ar,i.getItemValueComponentName(e),i.getItemValueComponentData(e,r)))}}function i4(t,n){if(1&t&&(Ve(0,"div",null,1),ge(2,r4,2,4,"ng-container",2),He()),2&t){const e=he();Se(e.model.rootClass),oe(2),ie("ngForOf",e.model.rankingChoices)("ngForTrackBy",e.trackItemBy)}}function o4(t,n){}function s4(t,n){if(1&t&&(dn(0),ge(1,o4,0,0,"ng-template",3),hn()),2&t){const e=n.$implicit,r=n.index,i=he(2);oe(1),ie("component",Hn(1,ar,i.getItemValueComponentName(e),i.getItemValueComponentData(e,r,!0)))}}function a4(t,n){if(1&t&&ut(0,"div",7),2&t){const e=he(2);Se(e.model.cssClasses.containerPlaceholder),ie("model",e.model.locSelectToRankEmptyRankedAreaText)}}function l4(t,n){}function u4(t,n){if(1&t&&(dn(0),ge(1,l4,0,0,"ng-template",3),hn()),2&t){const e=n.$implicit,r=n.index,i=he(2);oe(1),ie("component",Hn(1,ar,i.getItemValueComponentName(e),i.getItemValueComponentData(e,r)))}}function c4(t,n){if(1&t&&ut(0,"div",7),2&t){const e=he(2);Se(e.model.cssClasses.containerPlaceholder),ie("model",e.model.locSelectToRankEmptyUnrankedAreaText)}}function f4(t,n){if(1&t&&(Ve(0,"div",null,1)(2,"div",4),ge(3,s4,2,4,"ng-container",2),ge(4,a4,1,3,"div",5),He(),ut(5,"div"),Ve(6,"div",6),ge(7,u4,2,4,"ng-container",2),ge(8,c4,1,3,"div",5),He()()),2&t){const e=he();Se(e.model.rootClass),oe(2),Se(e.model.getContainerClasses("from")),oe(1),ie("ngForOf",e.model.unRankingChoices)("ngForTrackBy",e.trackItemBy),oe(1),ie("ngIf",0===e.model.unRankingChoices.length),oe(1),Se(e.model.cssClasses.containersDivider),oe(1),Se(e.model.getContainerClasses("to")),oe(1),ie("ngForOf",e.model.rankingChoices)("ngForTrackBy",e.trackItemBy),oe(1),ie("ngIf",0===e.model.rankingChoices.length)}}function d4(t,n){if(1&t&&(Er(),Sa(),Ve(0,"div"),Bn(1),He()),2&t){const e=he();Se(e.question.getItemIndexClasses(e.model)),oe(1),Jn(e.question.getNumberByIndex(e.index))}}function h4(t,n){if(1&t&&(Er(),Sa(),Ve(0,"div"),Er(),Ve(1,"svg"),ut(2,"use"),He()()),2&t){const e=he();Se(e.question.getItemIndexClasses(e.model)),oe(2),mn("href",e.question.dashSvgIcon,null,"xlink")}}function p4(t,n){if(1&t){const e=or();Ve(0,"span",2),un("blur",function(i){return Nt(e),he().onInput(i)})("click",function(i){return Nt(e),he().onClick(i)}),He()}2&t&&ie("innerHtml",he().model.renderedHtml,Ho)}function g4(t,n){if(1&t){const e=or();Ve(0,"span",3),un("blur",function(i){return Nt(e),he().onInput(i)})("click",function(i){return Nt(e),he().onClick(i)}),Bn(1),He()}if(2&t){const e=he();oe(1),Jn(e.model.renderedHtml)}}function m4(t,n){if(1&t){const e=or();Ve(0,"button",1),un("click",function(){return Nt(e),he().addPanelClick()}),Ve(1,"span"),ut(2,"sv-ng-string",2),He()()}if(2&t){const e=he();Se(e.question.getAddButtonCss()),oe(1),Se(e.question.cssClasses.buttonAddText),oe(1),ie("model",e.question.locPanelAddText)}}function y4(t,n){if(1&t&&(Ve(0,"div"),ut(1,"span",7)(2,"sv-ng-paneldynamic-add-btn",8),He()),2&t){const e=he();Se(e.model.cssClasses.noEntriesPlaceholder),oe(1),ie("model",e.model.locNoEntriesText),oe(1),ie("data",jn(4,hf,e.model))}}const qC=function(t){return{width:t}};function v4(t,n){if(1&t&&(Ve(0,"div"),ut(1,"div",9),He()),2&t){const e=he();Se(e.model.cssClasses.progress),oe(1),Fr(jn(6,qC,e.model.progress)),Se(e.model.cssClasses.progressBar)}}function C4(t,n){1&t&&to(0,10),2&t&&(he(),ie("ngTemplateOutlet",oo(12)))}function b4(t,n){}function P4(t,n){}const E4=function(t,n){return{panel:t,question:n}},x4=function(t){return{name:"sv-paneldynamic-remove-btn",data:t}};function T4(t,n){if(1&t&&(dn(0),ge(1,P4,0,0,"ng-template",11),hn()),2&t){const e=he().$implicit,r=he();oe(1),ie("component",jn(6,x4,jn(4,Rh,Hn(1,E4,e,r.model))))}}function w4(t,n){1&t&&ut(0,"hr"),2&t&&Se(he(2).model.cssClasses.separator)}function D4(t,n){if(1&t&&(dn(0),Ve(1,"div"),ge(2,b4,0,0,"ng-template",11),ge(3,T4,2,8,"ng-container",12),He(),ge(4,w4,1,2,"hr",1),hn()),2&t){const e=n.$implicit,r=n.index,i=he();oe(1),Se(i.model.getPanelWrapperCss()),oe(1),ie("component",Hn(5,ar,i.getPanelComponentName(e),i.getPanelComponentData(e))),oe(1),ie("ngIf","right"===i.model.panelRemoveButtonLocation&&i.model.canRemovePanel&&"collapsed"!=e.state),oe(1),ie("ngIf",i.model.showSeparator(r))}}function I4(t,n){1&t&&to(0,10),2&t&&(he(),ie("ngTemplateOutlet",oo(12)))}function O4(t,n){if(1&t&&ut(0,"sv-ng-paneldynamic-add-btn",8),2&t){const e=he();ie("data",jn(1,hf,e.model))}}function M4(t,n){1&t&&to(0,10),2&t&&(he(),ie("ngTemplateOutlet",oo(10)))}function S4(t,n){if(1&t&&(Ve(0,"div"),ut(1,"div",9),He()),2&t){const e=he(3);Se(e.model.cssClasses.progress),oe(1),Fr(jn(6,qC,e.model.progress)),Se(e.model.cssClasses.progressBar)}}function R4(t,n){if(1&t&&(Ve(0,"div"),ut(1,"sv-ng-action-bar",13),He()),2&t){const e=he(3);Se(e.model.cssClasses.footerButtonsContainer),oe(1),ie("model",e.model.footerToolbar)}}function A4(t,n){if(1&t&&(Ve(0,"div"),ut(1,"hr"),ge(2,S4,2,8,"div",1),ge(3,R4,2,3,"div",1),He()),2&t){const e=he(2);Se(e.model.cssClasses.footer),oe(1),Se(e.model.cssClasses.separator),oe(1),ie("ngIf",e.model.isRangeShowing&&e.model.isProgressBottomShowing),oe(1),ie("ngIf",e.model.footerToolbar.visibleActions.length)}}function V4(t,n){1&t&&ge(0,A4,4,6,"div",1),2&t&&ie("ngIf",!!he().model.cssClasses.footer)}function L4(t,n){if(1&t&&(Ve(0,"div"),ut(1,"div",9),He()),2&t){const e=he(2);Se(e.model.cssClasses.progress),oe(1),Fr(jn(6,qC,e.model.progress)),Se(e.model.cssClasses.progressBar)}}function F4(t,n){if(1&t&&(Ve(0,"div")(1,"div",14)(2,"div"),ut(3,"sv-ng-paneldynamic-prev-btn",8),ge(4,L4,2,8,"div",1),ut(5,"sv-ng-paneldynamic-next-btn",8),He(),ut(6,"sv-ng-paneldynamic-add-btn",8)(7,"sv-ng-paneldynamic-progress-text",8),He()()),2&t){const e=he();Se(e.progressCssClass),oe(1),Se(e.progressCssClass),oe(1),Se(e.model.cssClasses.progressContainer),oe(1),ie("data",jn(11,hf,e.model)),oe(1),ie("ngIf",e.model.isRangeShowing),oe(1),ie("data",jn(13,hf,e.model)),oe(1),ie("data",jn(15,hf,e.model)),oe(1),ie("data",jn(17,hf,e.model))}}function N4(t,n){}function B4(t,n){if(1&t&&(dn(0),ge(1,N4,0,0,"ng-template",2),hn()),2&t){const e=he(2);oe(1),ie("component",Hn(1,ar,e.componentName,e.componentData))}}function j4(t,n){1&t&&to(0)}function H4(t,n){if(1&t&&(dn(0),ge(1,j4,1,0,"ng-container",3),hn()),2&t){const e=he(2);oe(1),ie("ngTemplateOutlet",e.contentTempl)}}function U4(t,n){if(1&t&&(ge(0,B4,2,4,"ng-container",1),ge(1,H4,2,1,"ng-container",1)),2&t){const e=he();ie("ngIf",!!e.componentName),oe(1),ie("ngIf",!e.componentName&&e.contentTempl)}}const W4=["content"];function _4(t,n){1&t&&(ut(0,"div",3),Kl(1,"safeHtml")),2&t&&ie("innerHTML",ql(1,1,he().customHtml),Ho)}function z4(t,n){}const Q4=function(t,n){return{model:t,css:n}};function k4(t,n){if(1&t&&(dn(0),ge(1,z4,0,0,"ng-template",4),hn()),2&t){const e=he();oe(1),ie("component",Hn(4,ar,e.componentName,Hn(1,Q4,e.model,e.css)))}}function K4(t,n){if(1&t&&(Er(),Ve(0,"svg"),ut(1,"use"),He()),2&t){const e=he();Se(e.question.cssClasses.itemDecorator),oe(1),mn("href",e.question.itemSvgIcon,null,"xlink")}}function q4(t,n){if(1&t&&ut(0,"span",4),2&t){const e=he();Se(e.question.cssClasses.cellResponsiveTitle),ie("model",e.column.locText)}}function $4(t,n){if(1&t&&(Er(),Ve(0,"svg"),ut(1,"use"),He()),2&t){const e=he(2);Se(e.question.cssClasses.dragElementDecorator),oe(1),mn("href",e.question.iconDragElement,null,"xlink")}}function G4(t,n){1&t&&ut(0,"span",3)}function J4(t,n){if(1&t&&(ge(0,$4,2,3,"svg",1),ge(1,G4,1,0,"span",2)),2&t){const e=he();ie("ngIf",e.question.iconDragElement),oe(1),ie("ngIf",!e.question.iconDragElement)}}const Y4=["cellContainer"],Z4=function(t,n){return{row:t,question:n}};function X4(t,n){if(1&t&&ut(0,"sv-ng-matrix-drag-drop-icon",8),2&t){const e=he(2);ie("model",jn(4,Rh,Hn(1,Z4,e.row,e.question)))}}function e6(t,n){1&t&&ut(0,"sv-action-bar",9),2&t&&ie("model",he(2).cell.item.getData())("handleClick",!1)}function t6(t,n){}function n6(t,n){if(1&t&&(dn(0),ge(1,t6,0,0,"ng-template",10),hn()),2&t){const e=he(2);oe(1),ie("component",Hn(1,ar,e.panelComponentName,e.panelComponentData))}}function r6(t,n){1&t&&ut(0,"div",11),2&t&&ie("element",he(2).cell.question)}function i6(t,n){}function o6(t,n){if(1&t&&ge(0,i6,0,0,"ng-template",10),2&t){const e=he(4);ie("component",Hn(3,ar,e.getComponentName(e.cell.question),jn(1,cf,e.cell.question)))}}function s6(t,n){if(1&t&&(dn(0),ge(1,o6,1,6,"ng-template",10),hn()),2&t){const e=he(3);oe(1),ie("component",Hn(3,ar,e.question.getCellWrapperComponentName(e.cell.cell),jn(1,ff,e.question.getCellWrapperComponentData(e.cell.cell))))}}function a6(t,n){}function l6(t,n){if(1&t&&ge(0,a6,0,0,"ng-template",10),2&t){const e=he(3);ie("component",Hn(3,ar,e.cell.question.getComponentName(),jn(1,cf,e.cell.question)))}}function u6(t,n){if(1&t&&ut(0,"sv-ng-selebase-item",14),2&t){const e=he(4);ie("showLabel",!1)("inputType",e.cell.isCheckbox?"checkbox":"radio")("question",e.cell.question)("model",e.cell.item)}}function c6(t,n){if(1&t&&(dn(0),ge(1,u6,1,4,"ng-template",10),hn()),2&t){const e=he(3);oe(1),ie("component",Hn(3,ar,e.question.getCellWrapperComponentName(e.cell.cell),jn(1,ff,e.question.getCellWrapperComponentData(e.cell.cell))))}}function f6(t,n){if(1&t&&ut(0,"div",15),2&t){const e=he(3);Se(e.cell.question.getCommentAreaCss(!0)),ie("question",e.cell.question)}}function d6(t,n){if(1&t&&(Ve(0,"div",12),ge(1,s6,2,6,"ng-container",5),ge(2,l6,1,6,null,5),ge(3,c6,2,6,"ng-container",5),ge(4,f6,1,3,"div",13),He()),2&t){const e=he(2);Se(e.question.cssClasses.cellQuestionWrapper),ie("visible",e.cell.question.isVisible),oe(1),ie("ngIf",!e.cell.isChoice&&e.cell.question.isDefaultRendering()),oe(1),ie("ngIf",!e.cell.isChoice&&!e.cell.question.isDefaultRendering()),oe(1),ie("ngIf",e.cell.isItemChoice),oe(1),ie("ngIf",e.cell.isOtherChoice)}}function h6(t,n){if(1&t&&(Ve(0,"span"),Bn(1),He()),2&t){const e=he(4);Se(e.question.cssClasses.cellRequiredText),oe(1),Jn(e.cell.requiredText)}}function p6(t,n){if(1&t&&(ut(0,"sv-ng-string",8),ge(1,h6,2,3,"span",16)),2&t){const e=he(3);ie("model",e.cell.locTitle),oe(1),ie("ngIf",e.isRequiredCell)}}function g6(t,n){if(1&t&&(dn(0),ge(1,p6,2,2,"ng-template",10),hn()),2&t){const e=he(2);oe(1),ie("component",Hn(3,ar,e.question.getCellWrapperComponentName(e.cell),jn(1,ff,e.question.getCellWrapperComponentData(e.cell))))}}function m6(t,n){if(1&t){const e=or();Ve(0,"td",1,2),un("focusin",function(){return Nt(e),he().cell.focusIn()}),ge(2,X4,1,6,"sv-ng-matrix-drag-drop-icon",3),ge(3,e6,1,2,"sv-action-bar",4),ge(4,n6,2,4,"ng-container",5),ge(5,r6,1,1,"div",6),ge(6,d6,5,7,"div",7),ge(7,g6,2,6,"ng-container",5),He()}if(2&t){const e=he();Fr(e.getCellStyle()),Se(e.cell.className),ie("title",e.cell.getTitle()),mn("data-responsive-title",e.getHeaders())("colspan",e.cell.colSpans),oe(2),ie("ngIf",e.cell.isDragHandlerCell),oe(1),ie("ngIf",e.cell.isActionsCell),oe(1),ie("ngIf",e.cell.hasPanel),oe(1),ie("ngIf",e.cell.isErrorsCell&&(null==e.cell.question?null:e.cell.question.hasVisibleErrors)),oe(1),ie("ngIf",e.cell.hasQuestion),oe(1),ie("ngIf",e.cell.hasTitle)}}function y6(t,n){if(1&t&&(dn(0),Ve(1,"span"),Bn(2,"\xa0"),He(),Ve(3,"span"),Bn(4),He(),hn()),2&t){const e=he(2);oe(3),Se(e.question.cssClasses.cellRequiredText),oe(1),Jn(e.column.requiredText)}}function v6(t,n){1&t&&ge(0,y6,5,3,"ng-container",1),2&t&&ie("ngIf",he().column.isRenderedRequired)}function C6(t,n){if(1&t&&ut(0,"sv-ng-matrixdropdown-cell",4),2&t){const e=n.$implicit,r=he(3);ie("cell",e)("question",r.question)}}function b6(t,n){if(1&t){const e=or();Ve(0,"tr",2),un("pointerdown",function(i){Nt(e);const p=he(2);return p.question.onPointerDown(i,p.row)}),ge(1,C6,1,2,"sv-ng-matrixdropdown-cell",3),He()}if(2&t){const e=he(2);Se(e.model.className),mn("data-sv-drop-target-matrix-row",e.row&&e.row.id),oe(1),ie("ngForOf",e.model.cells)("ngForTrackBy",e.trackCellBy)}}function P6(t,n){1&t&&ge(0,b6,2,5,"tr",1),2&t&&ie("ngIf",he().model.visible)}function E6(t,n){if(1&t&&ut(0,"sv-ng-matrixheaderrequired",7),2&t){const e=he(3).$implicit,r=he(2);ie("column",e.column)("question",r.question)}}function x6(t,n){if(1&t&&(ut(0,"sv-ng-string",5),ge(1,E6,1,2,"sv-ng-matrixheaderrequired",6)),2&t){const e=he(2).$implicit;ie("model",e.locTitle),oe(1),ie("ngIf",!!e.column)}}function T6(t,n){if(1&t&&(Ve(0,"th"),ge(1,x6,2,2,"ng-template",4),He()),2&t){const e=he().$implicit,r=he(2);Fr(Hn(5,Yp,e.minWidth,e.width)),Se(e.className),oe(1),ie("component",Hn(10,ar,r.question.getColumnHeaderWrapperComponentName(e),jn(8,ff,r.question.getColumnHeaderWrapperComponentData(e))))}}function w6(t,n){if(1&t&&ut(0,"td"),2&t){const e=he().$implicit;Fr(Hn(4,Yp,e.minWidth,e.width)),Se(e.className)}}function D6(t,n){if(1&t&&(dn(0),ge(1,T6,2,13,"th",3),ge(2,w6,1,7,"td",3),hn()),2&t){const e=n.$implicit;oe(1),ie("ngIf",e.hasTitle),oe(1),ie("ngIf",!e.hasTitle)}}function I6(t,n){if(1&t&&(Ve(0,"thead")(1,"tr"),ge(2,D6,3,2,"ng-container",2),He()()),2&t){const e=he();oe(2),ie("ngForOf",e.table.headerRow.cells)("ngForTrackBy",e.trackCellBy)}}function O6(t,n){if(1&t&&(dn(0),ut(1,"sv-ng-matrix-row",8),hn()),2&t){const e=n.$implicit,r=he();oe(1),ie("model",e)("question",r.question)}}function M6(t,n){if(1&t&&ut(0,"sv-ng-matrixdropdown-cell",10),2&t){const e=n.$implicit,r=he(2);ie("cell",e)("question",r.question)}}function S6(t,n){if(1&t&&(Ve(0,"tfoot")(1,"tr"),ge(2,M6,1,2,"sv-ng-matrixdropdown-cell",9),He()()),2&t){const e=he();oe(2),ie("ngForOf",e.table.footerRow.cells)("ngForTrackBy",e.trackCellBy)}}const R6=function(t){return{overflowX:t}};function A6(t,n){if(1&t&&ut(0,"sv-ng-matrix-table",2),2&t){const e=he(2);ie("question",e.model)("table",e.model.renderedTable)}}function V6(t,n){if(1&t&&ge(0,A6,1,2,"sv-ng-matrix-table",1),2&t){const e=he();ie("ngIf",null==e.model.renderedTable?null:e.model.renderedTable.showTable)}}function L6(t,n){1&t&&to(0)}function F6(t,n){if(1&t&&(Ve(0,"div"),ge(1,L6,1,0,"ng-container",5),He()),2&t){he();const e=oo(7);Se(he().model.cssClasses.footer),oe(1),ie("ngTemplateOutlet",e)}}function N6(t,n){if(1&t&&ut(0,"sv-ng-matrix-table",6),2&t){const e=he(2);ie("question",e.model)("table",e.model.renderedTable)}}function B6(t,n){1&t&&to(0)}function j6(t,n){if(1&t&&(dn(0),ge(1,B6,1,0,"ng-container",5),hn()),2&t){he(2);const e=oo(7);oe(1),ie("ngTemplateOutlet",e)}}function H6(t,n){if(1&t&&(Ve(0,"div"),ut(1,"div",7),ge(2,j6,2,1,"ng-container",8),He()),2&t){const e=he(2);Se(e.model.cssClasses.emptyRowsSection),oe(1),Se(e.model.cssClasses.emptyRowsText),ie("model",e.model.locEmptyRowsText),oe(1),ie("ngIf",e.model.renderedTable.showAddRow)}}function U6(t,n){1&t&&to(0)}function W6(t,n){if(1&t&&(Ve(0,"div"),ge(1,U6,1,0,"ng-container",5),He()),2&t){he();const e=oo(7);Se(he().model.cssClasses.footer),oe(1),ie("ngTemplateOutlet",e)}}function _6(t,n){if(1&t){const e=or();Ve(0,"button",9),un("click",function(){return Nt(e),he(2).model.addRowUI()}),ut(1,"sv-ng-string",10)(2,"span"),He()}if(2&t){const e=he(2);Se(e.model.getAddRowButtonCss(!0)),oe(1),ie("model",e.model.locAddRowText),oe(1),Se(e.model.cssClasses.iconAdd)}}function z6(t,n){if(1&t&&(Ve(0,"div",null,1),ge(2,F6,2,3,"div",2),ge(3,N6,1,2,"sv-ng-matrix-table",3),ge(4,H6,3,6,"div",2),ge(5,W6,2,3,"div",2),He(),ge(6,_6,3,5,"ng-template",null,4,Kn)),2&t){const e=he();oe(2),ie("ngIf",e.model.renderedTable.showAddRowOnTop),oe(1),ie("ngIf",null==e.model.renderedTable?null:e.model.renderedTable.showTable),oe(1),ie("ngIf",!e.model.renderedTable.showTable),oe(1),ie("ngIf",e.model.renderedTable.showAddRowOnBottom)}}const $C=function(t,n,e){return{objectFit:t,width:n,height:e}};function Q6(t,n){if(1&t){const e=or();Ve(0,"img",5),un("load",function(){return Nt(e),he().model.onLoadHandler()})("error",function(){return Nt(e),he().model.onErrorHandler()}),He()}if(2&t){const e=he();Fr(rd(9,$C,e.model.imageFit,e.model.renderedStyleWidth,e.model.renderedStyleHeight)),Se(e.model.getImageCss()),ie("visible",!!e.model.locImageLink.renderedHtml&&!e.model.contentNotLoaded),mn("src",e.model.locImageLink.renderedHtml,ns)("alt",e.model.altText||e.model.title)("width",e.model.renderedWidth)("height",e.model.renderedHeight)}}function k6(t,n){if(1&t){const e=or();Ve(0,"video",6),un("loadedmetadata",function(){return Nt(e),he().model.onLoadHandler()})("error",function(){return Nt(e),he().model.onErrorHandler()}),He()}if(2&t){const e=he();Fr(rd(8,$C,e.model.imageFit,e.model.renderedStyleWidth,e.model.renderedStyleHeight)),Se(e.model.getImageCss()),ie("visible",!!e.model.locImageLink.renderedHtml&&!e.model.contentNotLoaded),mn("src",e.model.locImageLink.renderedHtml,ns)("width",e.model.renderedWidth)("height",e.model.renderedHeight)}}function K6(t,n){if(1&t&&(ut(0,"iframe"),Kl(1,"safeResourceUrl")),2&t){const e=he();Fr(rd(9,$C,e.model.imageFit,e.model.renderedStyleWidth,e.model.renderedStyleHeight)),Se(e.model.getImageCss()),mn("src",ql(1,7,e.model.locImageLink.renderedHtml),Xd)("width",e.model.renderedWidth)("height",e.model.renderedHeight)}}function q6(t,n){if(1&t&&(Ve(0,"div"),Er(),ut(1,"svg",7),He()),2&t){const e=he();Se(e.model.cssClasses.noImage),oe(1),ie("iconName",e.model.cssClasses.noImageSvgIconId)("size",48)}}function $6(t,n){}function G6(t,n){}function J6(t,n){if(1&t&&(Ve(0,"div",5)(1,"div"),ge(2,G6,0,0,"ng-template",6),He()()),2&t){const e=he(2);oe(1),Se(e.model.survey.logoClassNames),oe(1),ie("component",Hn(5,ar,e.model.survey.getElementWrapperComponentName(e.model.survey,"logo-image"),jn(3,Rh,e.model.survey.getElementWrapperComponentData(e.model.survey,"logo-image"))))}}const Jm=function(t){return{maxWidth:t}};function Y6(t,n){if(1&t&&(Ve(0,"div",7),ut(1,"sv-ng-element-title",8),He()),2&t){const e=he(2);Fr(jn(3,Jm,e.model.textAreaWidth)),oe(1),ie("element",e.model.survey)}}function Z6(t,n){if(1&t&&ut(0,"div",11),2&t){const e=he(3);Se(e.model.survey.css.description),ie("model",e.model.survey.locDescription)}}function X6(t,n){if(1&t&&(Ve(0,"div",9),ge(1,Z6,1,3,"div",10),He()),2&t){const e=he(2);Fr(jn(3,Jm,e.model.textAreaWidth)),oe(1),ie("ngIf",e.model.survey.renderedHasDescription)}}function eH(t,n){if(1&t&&(Ve(0,"div")(1,"div",1),ge(2,J6,3,8,"div",2),ge(3,Y6,2,5,"div",3),ge(4,X6,2,5,"div",4),He()()),2&t){const e=he();Fr(e.model.style),Se(e.model.css),oe(1),Fr(e.model.contentStyle),oe(1),ie("ngIf",e.model.showLogo),oe(1),ie("ngIf",e.model.showTitle),oe(1),ie("ngIf",e.model.showDescription)}}function tH(t,n){}function nH(t,n){if(1&t&&(Ve(0,"div",5)(1,"div"),ge(2,tH,0,0,"ng-template",6),He()()),2&t){const e=he(2);oe(1),Se(e.model.survey.logoClassNames),oe(1),ie("component",Hn(5,ar,e.model.survey.getElementWrapperComponentName(e.model.survey,"logo-image"),jn(3,Rh,e.model.survey.getElementWrapperComponentData(e.model.survey,"logo-image"))))}}function rH(t,n){if(1&t&&(Ve(0,"div",7),ut(1,"sv-ng-element-title",8),He()),2&t){const e=he(2);Fr(jn(3,Jm,e.model.renderedtextAreaWidth)),oe(1),ie("element",e.model.survey)}}function iH(t,n){if(1&t&&ut(0,"div",11),2&t){const e=he(3);Se(e.model.survey.css.description),ie("model",e.model.survey.locDescription)}}function oH(t,n){if(1&t&&(Ve(0,"div",9),ge(1,iH,1,3,"div",10),He()),2&t){const e=he(2);Fr(jn(3,Jm,e.model.renderedtextAreaWidth)),oe(1),ie("ngIf",e.model.survey.renderedHasDescription)}}function sH(t,n){if(1&t&&(Ve(0,"div",1),ge(1,nH,3,8,"div",2),ge(2,rH,2,5,"div",3),ge(3,oH,2,5,"div",4),He()),2&t){const e=he();oe(1),ie("ngIf",e.model.survey.hasLogo),oe(1),ie("ngIf",e.model.survey.hasTitle),oe(1),ie("ngIf",e.model.survey.renderedHasDescription)}}function aH(t,n){if(1&t&&ut(0,"div"),2&t){const e=he(3);Fr(e.model.backgroundImageStyle),Se(e.model.backgroundImageClasses)}}function lH(t,n){if(1&t&&(dn(0),ut(1,"sv-ng-header-cell",6),hn()),2&t){const e=n.$implicit;oe(1),ie("model",e)}}function uH(t,n){if(1&t&&(Ve(0,"div"),ge(1,lH,2,1,"ng-container",5),He()),2&t){const e=he(3);Se(e.model.contentClasses),so("width",e.model.maxWidth),oe(1),ie("ngForOf",e.model.cells)}}function cH(t,n){if(1&t&&(Ve(0,"div"),ut(1,"sv-ng-header-mobile",6),He()),2&t){const e=he(3);oe(1),ie("model",e.model)}}const fH=function(t){return{height:t}};function dH(t,n){if(1&t&&(Ve(0,"div"),ge(1,aH,1,4,"div",2),ge(2,uH,2,5,"div",3),ge(3,cH,2,1,"div",4),He()),2&t){const e=he(2);Fr(jn(7,fH,e.model.renderedHeight)),Se(e.model.headerClasses),oe(1),ie("ngIf",!!e.model.backgroundImage),oe(1),ie("ngIf",!e.survey.isMobile),oe(1),ie("ngIf",e.survey.isMobile)}}function hH(t,n){if(1&t&&ge(0,dH,4,9,"div",1),2&t){const e=he();ie("ngIf","advanced"===e.survey.headerView&&e.survey.renderedHasHeader)}}let vs=(()=>{class t{constructor(e){this.viewContainerRef=e}ngOnInit(){var e;this.templateRef&&(this.embeddedView=null===(e=this.viewContainerRef)||void 0===e?void 0:e.createEmbeddedView(this.templateRef))}}return t.\u0275fac=function(e){return new(e||t)(kt(Io))},t.\u0275cmp=Wt({type:t,selectors:[["ng-component"]],viewQuery:function(e,r){if(1&e&&Uo(NV,7,$l),2&e){let i;yo(i=vo())&&(r.templateRef=i.first)}},decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})(),Ur=(()=>{class t extends vs{constructor(e,r){super(r),this.changeDetectorRef=e,this.isModelSubsribed=!1,this.isDestroyed=!1}get surveyModel(){return this.getModel().getSurvey()}ngDoCheck(){this.previousModel!==this.getModel()&&(this.unMakeBaseElementAngular(this.previousModel),this.makeBaseElementAngular(this.getModel()),this.onModelChanged(),this.previousModel=this.getModel()),this.setIsRendering(!0)}onModelChanged(){}setIsRendering(e){const r=this.getModel();r&&(r.isRendering=e)}getIsRendering(){const e=this.getModel();return!!e&&!!e.isRendering}ngOnDestroy(){this.isDestroyed=!0,this.unMakeBaseElementAngular(this.getModel()),this.previousModel=void 0}makeBaseElementAngular(e){e&&!e.__ngImplemented&&(this.isModelSubsribed=!0,e.__ngImplemented=!0,e.iteratePropertiesHash((r,i)=>{var p=r[i];Array.isArray(p)&&(p.onArrayChanged=W=>{this.update(i)})}),e.setPropertyValueCoreHandler=(r,i,p)=>{r[i]!==p&&(r[i]=p,this.update(i))})}unMakeBaseElementAngular(e){e&&this.isModelSubsribed&&(this.isModelSubsribed=!1,e.__ngImplemented=!1,e.setPropertyValueCoreHandler=void 0,e.iteratePropertiesHash((r,i)=>{var p=r[i];Array.isArray(p)&&(p.onArrayChanged=()=>{})}))}update(e){this.getIsRendering()||(this.beforeUpdate(),e&&this.getPropertiesToUpdateSync().indexOf(e)>-1?(this.detectChanges(),this.afterUpdate(!0)):queueMicrotask(()=>{this.isDestroyed||(this.setIsRendering(!0),this.detectChanges()),this.afterUpdate()}))}getChangeDetectorRef(){return this.embeddedView?this.embeddedView:this.changeDetectorRef}getPropertiesToUpdateSync(){return[]}detectChanges(){this.getChangeDetectorRef().detectChanges()}getShouldReattachChangeDetector(){return!0}beforeUpdate(){this.setIsRendering(!0)}afterUpdate(e=!1){this.setIsRendering(!1)}ngAfterViewChecked(){this.setIsRendering(!1)}}return t.\u0275fac=function(e){return new(e||t)(kt(hl),kt(Io))},t.\u0275cmp=Wt({type:t,selectors:[["ng-component"]],features:[Zt],decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})();class pn{constructor(){this.creatorHash={}}registerComponent(n,e){this.creatorHash[n]=e}getAllTypes(){var n=new Array;for(var e in this.creatorHash)n.push(e);return n.sort()}isComponentRegistered(n){return!!this.creatorHash[n]}create(n,e,r){var i=this.creatorHash[e];return i?n.createComponent(r.resolveComponentFactory(i)):null}}pn.Instance=new pn;let pi=(()=>{class t{constructor(e,r,i){this.containerRef=e,this.templateRef=r,this.resolver=i}ngOnChanges(e){var r;const i=e.component;i.currentValue.name!==(null===(r=i.previousValue)||void 0===r?void 0:r.name)||void 0===i.currentValue.name&&void 0===i.previousValue&&!this.componentInstance?this.createComponent():this.updateComponentData()}createComponent(){if(this.containerRef.clear(),pn.Instance.isComponentRegistered(this.component.name)?this.componentInstance=pn.Instance.create(this.containerRef,this.component.name,this.resolver).instance:this.component.default&&(this.componentInstance=pn.Instance.create(this.containerRef,this.component.default,this.resolver).instance),!this.componentInstance)throw new Error(`Can't create component with name: ${this.component.name} and default: ${this.component.default}`);this.componentInstance.contentTempl=this.templateRef,this.updateComponentData()}updateComponentData(){const e=this.component.data;Object.keys(e).forEach(r=>{this.componentInstance[r]=e[r]})}}return t.\u0275fac=function(e){return new(e||t)(kt(Io),kt($l),kt(nd))},t.\u0275dir=qn({type:t,selectors:[["","component",""]],inputs:{component:"component"},features:[Ie]}),t})(),GC=(()=>{class t extends Ur{getModel(){return this.model}getPropertiesToUpdateSync(){return["mode"]}get id(){return this.model.id||""}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-action"]],viewQuery:function(e,r){if(1&e&&Uo(kC,7,Io),2&e){let i;yo(i=vo())&&(r.actionContent=i.first)}},inputs:{model:"model"},features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"id"],[1,"sv-action__content"],[4,"ngIf"],[3,"component"],[1,"sv-action-bar-separator"]],template:function(e,r){1&e&&ge(0,UV,4,10,"ng-template",null,0,Kn)},directives:[Fn,pi],styles:["[_nghost-%COMP%] { display: none; }"]}),t})();pn.Instance.registerComponent("sv-action",GC);let uc=(()=>{class t extends Ur{getModel(){return this.model}get allowOnClick(){return void 0===this.handleClick||this.handleClick}onClick(e){this.allowOnClick&&e.stopPropagation()}ngAfterViewInit(){this.model.hasActions&&this.model.initResponsivityManager(this.container.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this.model.resetResponsivityManager()}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-action-bar"],["sv-ng-action-bar"]],viewQuery:function(e,r){if(1&e&&Uo(KC,5),2&e){let i;yo(i=vo())&&(r.container=i.first)}},inputs:{model:"model",handleClick:"handleClick"},features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"class","click",4,"ngIf"],[3,"click"],["container",""],[4,"ngFor","ngForOf"],[3,"model"]],template:function(e,r){1&e&&ge(0,zV,1,1,"ng-template",null,0,Kn)},directives:[GC,Fn,ji],styles:["[_nghost-%COMP%] { display: none }"]}),t})();pn.Instance.registerComponent("sv-action-bar",uc);let Ru=(()=>{class t{constructor(e){this.el=e}ngOnChanges(e){e.visible.currentValue?this.show():this.hide()}hide(){this.el.nativeElement.style.display="none"}show(){this.el.nativeElement.style.display=""}}return t.\u0275fac=function(e){return new(e||t)(kt(is))},t.\u0275dir=qn({type:t,selectors:[["","visible",""]],inputs:{visible:"visible"},features:[Ie]}),t})(),bx=(()=>{class t extends Ur{constructor(e){super(e),this.prevIsVisible=!1,this.changeDetectorRef.detach()}getModel(){return this.model}get applyButtonText(){const e=this.model;return e?e.applyButtonText:null}apply(){const e=this.model;!e||e.apply()}getPropertiesToUpdateSync(){return["height"]}getShouldReattachChangeDetector(){return!1}onModelChanged(){this.changeDetectorRef.detectChanges()}afterUpdate(e=!1){super.afterUpdate(e),e||(!this.prevIsVisible&&this.model.isVisible&&this.model.updateOnShowing(),this.prevIsVisible!==this.model.isVisible&&(this.prevIsVisible=this.model.isVisible))}clickInside(e){e.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(kt(hl))},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-popup-container"],["","sv-ng-popup-container",""]],inputs:{model:"model"},features:[Zt],decls:10,vars:18,consts:[["tabindex","-1",1,"sv-popup",3,"visible","click","keydown"],[1,"sv-popup__container",3,"click"],[1,"sv-popup__shadow"],[4,"ngIf"],[1,"sv-popup__body-content"],["class","sv-popup__body-header",4,"ngIf"],[1,"sv-popup__scrolling-content"],[1,"sv-popup__content"],[3,"component"],["class","sv-popup__body-footer",4,"ngIf"],[1,"sv-popup__body-header"],[1,"sv-popup__body-footer"],[3,"model"]],template:function(e,r){1&e&&(Ve(0,"div",0),un("click",function(p){return r.model.clickOutside(p)})("keydown",function(p){return r.model.onKeyDown(p)}),Ve(1,"div",1),un("click",function(p){return r.clickInside(p)}),Ve(2,"div",2),ge(3,kV,2,6,"ng-container",3),Ve(4,"div",4),ge(5,KV,2,1,"div",5),Ve(6,"div",6)(7,"div",7),ge(8,qV,0,0,"ng-template",8),He()(),ge(9,$V,2,1,"div",9),He()()()()),2&e&&(Se(r.model.styleClass),ie("visible",r.model.isVisible),oe(1),Fr(Dv(9,GV,r.model.left,r.model.top,r.model.height,r.model.minWidth,r.model.width)),oe(2),ie("ngIf",r.model.showHeader),oe(2),ie("ngIf",r.model.title),oe(3),ie("component",Hn(15,ar,r.model.contentComponentName,r.model.contentComponentData)),oe(1),ie("ngIf",r.model.showFooter))},directives:[uc,Ru,Fn,pi],encapsulation:2}),t})(),Px=(()=>{class t{constructor(e,r,i){this.injector=e,this.applicationRef=r,this.componentFactoryResolver=i}createComponent(e){const r=new AA(e.container,this.componentFactoryResolver,this.applicationRef,this.injector),i=new a2(bx),p=r.attach(i);return e.setComponentElement(e.container.children[0]),p.instance.model=e,p.changeDetectorRef.detectChanges(),r}}return t.\u0275fac=function(e){return new(e||t)(Nn(hs),Nn(pm),Nn(nd))},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})(),pH=(()=>{class t{constructor(e){this.popupService=e,this.functionDefined=!1}showDialog(e,r){return this.model=(0,Ti.createPopupModalViewModel)(e,r),this.model.model.onHide=()=>{this.portalHost.detach(),this.model.dispose()},this.portalHost=this.popupService.createComponent(this.model),this.model.model.isVisible=!0,this.model}ngOnInit(){Ti.settings.showModal||(this.functionDefined=!0,Ti.settings.showModal=(e,r,i,p,S,W,K="popup")=>{const ne=(0,Ti.createDialogOptions)(e,r,i,p,void 0,void 0,S,W,K);return this.showDialog(ne)},Ti.settings.showDialog=(e,r)=>this.showDialog(e,r))}ngOnDestroy(){var e,r;null===(e=this.portalHost)||void 0===e||e.detach(),null===(r=this.model)||void 0===r||r.dispose(),this.functionDefined&&(Ti.settings.showModal=void 0,Ti.settings.showDialog=void 0)}}return t.\u0275fac=function(e){return new(e||t)(kt(Px))},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-modal-container"]],decls:0,vars:0,template:function(e,r){},styles:["[_nghost-%COMP%]{display:none}"]}),t})(),gH=(()=>{class t{ngOnInit(){this.svgContainer.nativeElement.innerHTML=Ti.SvgRegistry.iconsRenderedHtml()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["sv-svg-bundle"]],viewQuery:function(e,r){if(1&e&&Uo(JV,7),2&e){let i;yo(i=vo())&&(r.svgContainer=i.first)}},decls:2,vars:0,consts:[["id","sv-icon-holder-global-container"],["svgContainer",""]],template:function(e,r){1&e&&(Er(),ut(0,"svg",0,1))},styles:["[_nghost-%COMP%] { display: none; }"]}),t})(),mH=(()=>{class t extends vs{get ariaLabel(){return this.element.titleAriaLabel}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-dynamic-head"]],inputs:{tagName:"tagName",element:"element"},features:[Zt],ngContentSelectors:Gm,decls:2,vars:0,consts:[["template",""],[3,"ngSwitch"],[3,"class",4,"ngSwitchCase"],["titleContent",""],[4,"ngTemplateOutlet"]],template:function(e,r){1&e&&(Op(),ge(0,cL,9,7,"ng-template",null,0,Kn))},directives:[Qp,gC,ac],styles:["[_nghost-%COMP%]{display:none}"]}),t})(),Zr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-string"],["","sv-ng-string",""]],inputs:{model:"model"},decls:1,vars:6,consts:[[3,"component"]],template:function(e,r){1&e&&ge(0,fL,0,0,"ng-template",0),2&e&&ie("component",Hn(3,ar,r.model.renderAs,jn(1,cf,r.model.renderAsData)))},directives:[pi],encapsulation:2}),t})(),Ex=(()=>{class t extends vs{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-element-title-actions"]],inputs:{element:"element"},features:[Zt],decls:2,vars:0,consts:[["template",""],[4,"ngIf"],["elementTitleContent",""],[4,"ngTemplateOutlet"],[1,"sv-title-actions"],[1,"sv-title-actions__title"],[3,"model"],[3,"model",4,"ngIf"],[3,"class",4,"ngIf"],["style","position: static",3,"class",4,"ngIf"],[2,"position","static"]],template:function(e,r){1&e&&ge(0,DL,4,2,"ng-template",null,0,Kn)},directives:[uc,Zr,Fn,ac],styles:["[_nghost-%COMP%]{display:none}"]}),t})(),Zp=(()=>{class t extends vs{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-element-title"]],inputs:{element:"element"},features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"tagName","element",4,"ngIf"],[3,"tagName","element"],[3,"element"]],template:function(e,r){1&e&&ge(0,OL,1,1,"ng-template",null,0,Kn)},directives:[mH,Ex,Fn],styles:["[_nghost-%COMP%]{display:none}"]}),t})(),yH=(()=>{class t{constructor(e,r){this.viewContainerRef=e,this.changeDetectorRef=r}ngAfterViewInit(){this.survey.afterRenderHeader(this.viewContainerRef.element.nativeElement),this.survey.locLogo.onChanged=()=>{this.changeDetectorRef.detectChanges()}}ngOnDestroy(){this.survey.locLogo.onChanged=()=>{}}}return t.\u0275fac=function(e){return new(e||t)(kt(Io),kt(hl))},t.\u0275cmp=Wt({type:t,selectors:[["","sv-ng-survey-header",""]],inputs:{survey:"survey"},attrs:ML,decls:4,vars:5,consts:[[4,"ngIf"],[3,"class","maxWidth",4,"ngIf"],[3,"component"],[3,"element"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-string","",3,"model"]],template:function(e,r){1&e&&(ge(0,RL,1,6,null,0),ge(1,VL,3,6,"div",1),ge(2,FL,1,6,null,0),ut(3,"div")),2&e&&(ie("ngIf",r.survey.isLogoBefore),oe(1),ie("ngIf",r.survey.renderedHasTitle),oe(1),ie("ngIf",r.survey.isLogoAfter),oe(1),Se(r.survey.css.headerClose))},directives:[Zp,Zr,Fn,pi],encapsulation:2}),t})(),Xp=(()=>{class t{constructor(){}get role(){return"alert"}get id(){return this.element.id+"_errors"}get ariaLive(){return"polite"}get class(){return this.element.cssError}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["","sv-ng-errors",""]],hostVars:5,hostBindings:function(e,r){2&e&&(mv("id",r.id),mn("role",r.role)("aria-live",r.ariaLive),Se(r.class))},inputs:{element:"element",location:"location"},attrs:NL,decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["aria-hidden","true"],["sv-ng-string","",3,"model"]],template:function(e,r){1&e&&ge(0,BL,3,5,"div",0),2&e&&ie("ngForOf",r.element.errors)},directives:[Zr,ji],encapsulation:2}),t})(),vH=(()=>{class t extends Ur{getModel(){return this.model}get elementComponentName(){return this.model.isPanel?"panel":"question"}get componentName(){const e=this.surveyModel;if(e){const r=e.getElementWrapperComponentName(this.model);if(r)return r}return this.elementComponentName}get rootStyle(){return this.model.cssClasses?this.model.rootStyle:{}}get componentData(){const e=this.surveyModel;let r;return e&&(r=e.getElementWrapperComponentData(this.model)),{componentName:this.elementComponentName,componentData:{model:this.model,data:r}}}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-element"]],inputs:{model:"model"},features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"class","style","focusin",4,"ngIf"],[3,"focusin"],[3,"component"]],template:function(e,r){1&e&&ge(0,UL,1,1,"ng-template",null,0,Kn)},directives:[Fn,pi],styles:["[_nghost-%COMP%]{display:none}"]}),t})(),xx=(()=>{class t extends Ur{constructor(e,r,i){super(e,r),this.ngZone=i}getModel(){return this.row}trackElementBy(e,r){return r.name+e}ngAfterViewInit(){var e;const r=null===(e=this.container)||void 0===e?void 0:e.nativeElement;r&&!this.row.isNeedRender&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.row.startLazyRendering(r)},10)})}onModelChanged(){super.onModelChanged(),this.previousModel&&(this.row.isNeedRender=this.previousModel.isNeedRender,this.stopLazyRendering())}stopLazyRendering(){this.row.stopLazyRendering(),this.row.isNeedRender=!this.row.isLazyRendering()}ngOnDestroy(){super.ngOnDestroy(),this.stopLazyRendering()}}return t.\u0275fac=function(e){return new(e||t)(kt(hl),kt(Io),kt(ps))},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-row"]],viewQuery:function(e,r){if(1&e&&Uo(KC,5,is),2&e){let i;yo(i=vo())&&(r.container=i.first)}},inputs:{row:"row"},features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"class",4,"ngIf"],["container",""],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"model",4,"ngIf"],[4,"ngIf"],[3,"model"],[3,"component"]],template:function(e,r){1&e&&ge(0,qL,1,1,"ng-template",null,0,Kn)},directives:[vH,Fn,ji,pi],styles:["[_nghost-%COMP%]{display:none}"]}),t})(),CH=(()=>{class t extends Ur{getModel(){return this.model}onModelChanged(){this.pageContainerRef&&this.pageContainerRef.nativeElement&&this.model.survey.afterRenderPage(this.pageContainerRef.nativeElement)}ngAfterViewInit(){var e,r;null===(e=this.model.survey)||void 0===e||e.afterRenderPage(null===(r=this.pageContainerRef)||void 0===r?void 0:r.nativeElement)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["page"],["sv-ng-page"]],viewQuery:function(e,r){if(1&e&&Uo($L,5,is),2&e){let i;yo(i=vo())&&(r.pageContainerRef=i.first)}},inputs:{model:"model",survey:"survey"},features:[Zt],decls:2,vars:0,consts:[["template",""],[4,"ngIf"],["pageContainer",""],[3,"element"],[3,"class",4,"ngIf"],["sv-ng-errors","",3,"element",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"model"],["sv-ng-errors","",3,"element"],[3,"component"],[3,"row"]],template:function(e,r){1&e&&ge(0,e5,1,1,"ng-template",null,0,Kn)},directives:[Zp,Zr,Xp,xx,Fn,ji,pi],styles:["[_nghost-%COMP%]{display:none}"]}),t})(),Tx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["sv-brand-info"]],decls:10,vars:0,consts:[[1,"sv-brand-info"],["href","https://surveyjs.io/?utm_source=built-in_links&utm_medium=online_survey_tool&utm_campaign=landing_page",1,"sv-brand-info__logo"],["src","https://surveyjs.io/Content/Images/poweredby.svg"],[1,"sv-brand-info__text"],["href","https://surveyjs.io/create-survey?utm_source=built-in_links&utm_medium=online_survey_tool&utm_campaign=create_survey"],[1,"sv-brand-info__terms"],["href","https://surveyjs.io/TermsOfUse"]],template:function(e,r){1&e&&(Ve(0,"div",0)(1,"a",1),ut(2,"img",2),He(),Ve(3,"div",3),Bn(4,"Try and see how easy it is to "),Ve(5,"a",4),Bn(6,"create a survey"),He()(),Ve(7,"div",5)(8,"a",6),Bn(9,"Terms of Use & Privacy Statement"),He()()())},encapsulation:2}),t})();pn.Instance.registerComponent("sv-brand-info",Tx);let bH=(()=>{class t extends Ur{getStateElement(){return this.notifier}getModel(){return this.notifier}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-notifier"]],inputs:{notifier:"notifier"},features:[Zt],decls:2,vars:0,consts:[["template",""],[4,"ngIf"],["role","alert","aria-live","polite"],[3,"model"]],template:function(e,r){1&e&&ge(0,r5,1,1,"ng-template",null,0,Kn)},directives:[uc,Fn],styles:["[_nghost-%COMP%] { display: none; }"]}),t})(),Ym=(()=>{class t{constructor(e){this.domSanitizer=e}transform(e){return this.domSanitizer.bypassSecurityTrustHtml(e)}}return t.\u0275fac=function(e){return new(e||t)(kt(Am,16))},t.\u0275pipe=wn({name:"safeHtml",type:t,pure:!0}),t})(),wx=(()=>{class t extends Ur{constructor(){super(...arguments),this.isSurveyUpdated=!1}getModel(){return this.model}onModelChanged(){this.previousModel&&(this.previousModel.destroyResizeObserver(),this.previousModel.renderCallback=void 0),this.model&&(this.model.renderCallback=()=>{this.detectChanges()}),this.isSurveyUpdated=!0}ngOnDestroy(){super.ngOnDestroy(),this.model&&(this.model.rootElement=void 0,this.model.destroyResizeObserver(),this.model.renderCallback=void 0)}ngAfterViewInit(){this.isSurveyUpdated=!0}ngAfterViewChecked(){!!this.model&&this.isSurveyUpdated&&(this.model.afterRenderSurvey(this.rootEl.nativeElement),this.model.startTimerFromUI()),super.ngAfterViewChecked()}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["survey-content"]],viewQuery:function(e,r){if(1&e&&Uo(i5,5),2&e){let i;yo(i=vo())&&(r.rootEl=i.first)}},inputs:{model:"model"},features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"class","style",4,"ngIf"],["surveyContainer",""],[4,"ngIf"],["onsubmit","return false;"],[1,"sv_custom_header",3,"hidden"],["sv-ng-survey-header","",3,"class","survey",4,"ngIf"],[3,"component"],[3,"class",4,"ngIf"],[3,"class","innerHtml",4,"ngIf"],[3,"notifier"],["sv-ng-survey-header","",3,"survey"],[1,"sv-components-column","sv-components-column--expandable"],[3,"id"],[3,"model","survey"],[3,"innerHtml"]],template:function(e,r){1&e&&ge(0,V5,1,1,"ng-template",null,0,Kn)},directives:[gH,yH,CH,Tx,bH,Fn,Y2,F2,zm,pi],pipes:[Ym],encapsulation:2}),t})();pn.Instance.registerComponent("survey",wx);let PH=(()=>{class t extends Ur{constructor(e){super(e),e.detach()}getModel(){return this.model}getShouldReattachChangeDetector(){return!1}onModelChanged(){this.changeDetectorRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(kt(hl))},t.\u0275cmp=Wt({type:t,selectors:[["survey"]],inputs:{model:"model"},features:[Zt],decls:2,vars:1,consts:[[3,"model"]],template:function(e,r){1&e&&ut(0,"sv-ng-modal-container")(1,"survey-content",0),2&e&&(oe(1),ie("model",r.model))},directives:[pH,wx],encapsulation:2}),t})(),Co=(()=>{class t{constructor(e){this.viewContaierRef=e}createSvg(){this.iconName&&Ti.createSvg(this.size,this.width,this.height,this.iconName,this.viewContaierRef.element.nativeElement,this.title)}get rootClass(){let e="sv-svg-icon";return!this.css&&this.partCss?e+=" "+this.partCss:this.css&&(e=this.css),e}get rootRole(){return"img"}ngOnChanges(){const e=this.viewContaierRef.element.nativeElement;e.innerHTML="",e.appendChild(document.createElementNS("http://www.w3.org/2000/svg","use")),this.createSvg()}}return t.\u0275fac=function(e){return new(e||t)(kt(Io))},t.\u0275cmp=Wt({type:t,selectors:[["","sv-ng-svg-icon",""]],hostVars:3,hostBindings:function(e,r){2&e&&(mn("role",r.rootRole),Se(r.rootClass))},inputs:{size:"size",width:"width",height:"height",iconName:"iconName",partCss:"partCss",css:"css",title:"title"},features:[Ie],attrs:L5,decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})(),zo=(()=>{class t extends Ur{getModel(){return this.model}ngAfterViewInit(){var e;this.model&&this.model.afterRenderQuestionElement(null===(e=this.elementContentRef)||void 0===e?void 0:e.nativeElement)}ngOnDestroy(){var e;this.model&&this.model.beforeDestroyQuestionElement(null===(e=this.elementContentRef)||void 0===e?void 0:e.nativeElement),super.ngOnDestroy()}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["ng-component"]],viewQuery:function(e,r){if(1&e&&Uo(H5,5),2&e){let i;yo(i=vo())&&(r.elementContentRef=i.first)}},inputs:{model:"model"},features:[Zt],decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})();function JC(t){return t.customWidget?"survey-customwidget":t.isDefaultRendering()?t.getTemplate()+"-question":t.getComponentName()}let Dx=(()=>{class t{constructor(){}get rootClass(){return this.element.cssHeader}click(e){void 0!==this.element.clickTitleFunction&&this.element.clickTitleFunction(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["","sv-ng-element-header",""]],hostVars:2,hostBindings:function(e,r){1&e&&un("click",function(p){return r.click(p)}),2&e&&Se(r.rootClass)},inputs:{element:"element"},attrs:U5,decls:3,vars:3,consts:[[3,"element"],["sv-ng-string","",3,"class","model","display",4,"ngIf"],[4,"ngIf"],["sv-ng-string","",3,"model"],[3,"model"]],template:function(e,r){1&e&&(ut(0,"sv-ng-element-title",0),ge(1,W5,1,5,"div",1),ge(2,_5,2,1,"ng-container",2)),2&e&&(ie("element",r.element),oe(1),ie("ngIf",r.element.hasDescriptionUnderTitle),oe(1),ie("ngIf",!!r.element.additionalTitleToolbar))},directives:[Zp,Zr,uc,Fn],encapsulation:2}),t})(),EH=(()=>{class t{constructor(){}get comment(){return this.question.comment?this.question.comment:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-comment"],["","sv-ng-comment",""]],inputs:{question:"question"},decls:2,vars:2,consts:[[3,"id","value","resize","disabled","class","change","input",4,"ngIf"],[4,"ngIf"],[3,"id","value","disabled","change","input"]],template:function(e,r){1&e&&(ge(0,z5,1,11,"textarea",0),ge(1,Q5,2,1,"div",1)),2&e&&(ie("ngIf",!r.question.isReadOnlyRenderDiv()),oe(1),ie("ngIf",r.question.isReadOnlyRenderDiv()))},directives:[Fn],encapsulation:2}),t})();pn.Instance.registerComponent("question",(()=>{class t extends vs{getModel(){return this.model}ngAfterViewInit(){var e,r;(null===(e=this.rootEl)||void 0===e?void 0:e.nativeElement)&&this.model.afterRender(null===(r=this.rootEl)||void 0===r?void 0:r.nativeElement)}ngOnDestroy(){this.model&&this.model.destroyResizeObserver()}getComponentName(){return JC(this.model)}getQuestionContentWrapperComponentName(){return this.model.survey.getQuestionContentWrapperComponentName(this.model)}getQuestionContentWrapperComponentData(){return{componentData:{model:this.model,data:this.model.survey.getElementWrapperComponentData(this.model)}}}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-question"]],viewQuery:function(e,r){if(1&e&&Uo(k5,5),2&e){let i;yo(i=vo())&&(r.rootEl=i.first)}},inputs:{model:"model"},features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"class","style","id",4,"ngIf"],[3,"id"],["elementContainer",""],["sv-ng-errors","",3,"element",4,"ngIf"],["sv-ng-element-header","",3,"element",4,"ngIf"],[3,"component"],["sv-ng-errors","",3,"element"],["sv-ng-element-header","",3,"element"],["role","presentation",3,"visible"],[3,"class",4,"ngIf"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-string","",3,"model"],[3,"question"]],template:function(e,r){1&e&&ge(0,iF,1,1,"ng-template",null,0,Kn)},directives:[Xp,Dx,Zr,EH,Fn,pi,Ru],encapsulation:2}),t})()),pn.Instance.registerComponent(Ti.LocalizableString.defaultRenderer,(()=>{class t{constructor(e){this.changeDetectorRef=e}ngDoCheck(){this.model!==this.previousModel&&(this.previousModel&&this.clearOnChanged(this.previousModel),this.model&&(this.model.onChanged=()=>{this.changeDetectorRef.detectChanges()}),this.previousModel=this.model)}clearOnChanged(e){e.onChanged=()=>{}}ngOnDestroy(){this.model&&this.clearOnChanged(this.model)}}return t.\u0275fac=function(e){return new(e||t)(kt(hl))},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-string-viewer"],["string-viewer"],["","sv-ng-string-viewer",""]],inputs:{model:"model"},decls:2,vars:2,consts:[["class","sv-string-viewer",4,"ngIf"],["class","sv-string-viewer",3,"innerHtml",4,"ngIf"],[1,"sv-string-viewer"],[1,"sv-string-viewer",3,"innerHtml"]],template:function(e,r){1&e&&(ge(0,oF,2,1,"span",0),ge(1,sF,2,3,"span",1)),2&e&&(ie("ngIf",!r.model.hasHtml),oe(1),ie("ngIf",r.model.hasHtml))},directives:[Fn],pipes:[Ym],styles:[""]}),t})()),pn.Instance.registerComponent("popup-pointer",(()=>{class t extends Ur{get popupModel(){return this.model}getModel(){return this.model}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-popup-pointer"],["","sv-ng-popup-pointer",""]],inputs:{model:"model"},features:[Zt],decls:1,vars:5,consts:[[1,"sv-popup__pointer"]],template:function(e,r){1&e&&ut(0,"span",0),2&e&&Fr(Hn(2,aF,r.popupModel.pointerTarget.left,r.popupModel.pointerTarget.top))},encapsulation:2}),t})());let Zm=(()=>{class t extends Ur{constructor(e,r){super(r,e)}getModel(){return this.popupModel}onModelChanged(){var e;this.model&&(this.model.resetComponentElement(),this.model.dispose()),this.model=(0,Ti.createPopupViewModel)(this.popupModel,null===(e=this.viewContainerRef)||void 0===e?void 0:e.element.nativeElement)}ngAfterViewInit(){var e,r;if(null===(e=this.containerRef)||void 0===e?void 0:e.nativeElement){const i=this.containerRef.nativeElement;this.model.setComponentElement(i,this.getTarget?this.getTarget(i.parentElement):null===(r=null==i?void 0:i.parentElement)||void 0===r?void 0:r.parentElement)}}ngOnInit(){this.onModelChanged()}ngOnDestroy(){this.model.resetComponentElement(),this.model.dispose(),super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(kt(Io),kt(hl))},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-popup"],["","sv-ng-popup",""]],viewQuery:function(e,r){if(1&e&&Uo(lF,5),2&e){let i;yo(i=vo())&&(r.containerRef=i.first)}},inputs:{popupModel:"popupModel",getTarget:"getTarget"},features:[Zt],decls:3,vars:1,consts:[["containerRef",""],[3,"model"]],template:function(e,r){1&e&&(Ve(0,"div",null,0),ut(2,"sv-ng-popup-container",1),He()),2&e&&(oe(2),ie("model",r.model))},directives:[bx],encapsulation:2}),t})();pn.Instance.registerComponent("skeleton-question",(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["question-skeleton"]],inputs:{model:"model"},decls:5,vars:2,consts:[[1,"sv-skeleton--not-implemented"]],template:function(e,r){1&e&&(Ve(0,"div",0)(1,"div"),Bn(2),He(),Ve(3,"div"),Bn(4),He()()),2&e&&(oe(2),Jn(r.model.getType()+" question type renderer is not implemented yet."),oe(2),Jn(r.model.value))},styles:[".sv-skeleton--not-implemented[_ngcontent-%COMP%]{width:100%;min-width:300px;min-height:40px;border:1px solid red;text-align:center}"]}),t})());let Ix=(()=>{class t extends Ur{get dropdownModel(){var e;return null===(e=this.model)||void 0===e?void 0:e.dropdownListModel}getModel(){return this.model.dropdownListModel}ngOnInit(){super.ngOnInit(),this.model.dropdownListModel||(this.model.dropdownListModel=new Ti.DropdownListModel(this.model))}click(e){var r;null===(r=this.dropdownModel)||void 0===r||r.onClick(e)}chevronPointerDown(e){var r;null===(r=this.dropdownModel)||void 0===r||r.chevronPointerDown(e)}clear(e){var r;null===(r=this.dropdownModel)||void 0===r||r.onClear(e)}keyhandler(e){var r;null===(r=this.dropdownModel)||void 0===r||r.keyHandler(e)}blur(e){var r;null===(r=this.dropdownModel)||void 0===r||r.onBlur(e),this.updateInputDomElement()}focus(e){var r;null===(r=this.dropdownModel)||void 0===r||r.onFocus(e)}inputChange(e){this.detectChanges()}updateInputDomElement(){var e;if(null===(e=this.inputElementRef)||void 0===e?void 0:e.nativeElement){const r=this.inputElementRef.nativeElement;Ti.Helpers.isTwoValueEquals(this.model.inputStringRendered,r.value,!1,!0,!1)||(r.value=this.model.inputStringRendered||"")}}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-dropdown"],["","sv-ng-dropdown",""]],viewQuery:function(e,r){if(1&e&&Uo(uF,5),2&e){let i;yo(i=vo())&&(r.inputElementRef=i.first)}},inputs:{model:"model"},features:[Zt],decls:5,vars:6,consts:[[3,"click"],[3,"class","blur","keydown",4,"ngIf"],[3,"popupModel",4,"ngIf"],["disabled","",3,"class",4,"ngIf"],["aria-hidden","true",3,"class","pointerdown",4,"ngIf"],[3,"blur","keydown"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"model",4,"ngIf"],["type","text","autocomplete","off",3,"ngModel","ngModelChange","change","blur","focus"],["inputElement",""],["aria-hidden","true",3,"class","visible","click",4,"ngIf"],[2,"visibility","hidden"],[3,"component"],[3,"model"],["aria-hidden","true",3,"visible","click"],["sv-ng-svg-icon","",3,"iconName","partCss","title","size"],[3,"popupModel"],["disabled",""],["aria-hidden","true",3,"pointerdown"],["sv-ng-svg-icon","",3,"iconName","partCss","size"]],template:function(e,r){1&e&&(Ve(0,"div",0),un("click",function(p){return r.click(p)}),ge(1,mF,9,35,"div",1),ge(2,yF,1,1,"sv-ng-popup",2),ge(3,CF,4,5,"div",3),ge(4,bF,2,5,"div",4),He()),2&e&&(Se(r.model.cssClasses.selectWrapper),oe(1),ie("ngIf",!r.model.isReadOnly),oe(1),ie("ngIf",!r.model.isReadOnly),oe(1),ie("ngIf",r.model.isReadOnly),oe(1),ie("ngIf",r.model.cssClasses.chevronButtonIconId))},directives:[Zr,Co,Zm,Fn,pi,sf,lc,Su,Ru],encapsulation:2}),t})();pn.Instance.registerComponent("sv-tagbox-filter",(()=>{class t extends Ur{getModel(){return this.model}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-tagbox-filter"]],inputs:{model:"model",question:"question"},features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"class",4,"ngIf"],["type","text","autocomplete","off",3,"ngModel","ngModelChange","keydown","blur","focus"],[2,"visibility","hidden"]],template:function(e,r){1&e&&ge(0,xF,5,21,"ng-template",null,0,Kn)},directives:[Fn,sf,lc,Su],styles:["[_nghost-%COMP%]{display:none}"]}),t})());let Ox=(()=>{class t extends Ur{removeItem(e){this.question.dropdownListModel.deselectItem(this.item.value),e.stopPropagation()}getModel(){return this.item}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-tagbox-item"],["","sv-ng-tagbox-item",""]],inputs:{item:"item",question:"question"},features:[Zt],decls:4,vars:6,consts:[[1,"sv-tagbox__item"],["sv-ng-string","",1,"sv-tagbox__item-text",3,"model"],[3,"click"],["sv-ng-svg-icon","",3,"iconName","partCss","size"]],template:function(e,r){1&e&&(Ve(0,"div",0),ut(1,"div",1),Ve(2,"div",2),un("click",function(p){return r.removeItem(p)}),Er(),ut(3,"svg",3),He()()),2&e&&(oe(1),ie("model",r.item.locText),oe(1),Se(r.question.cssClasses.cleanItemButton),oe(1),ie("iconName",r.question.cssClasses.cleanItemButtonIconId)("partCss",r.question.cssClasses.cleanItemButtonSvg)("size","auto"))},directives:[Zr,Co],encapsulation:2}),t})();pn.Instance.registerComponent("sv-tagbox-item",Ox);let OH=(()=>{class t{get dropdownModel(){var e;return null===(e=this.model)||void 0===e?void 0:e.dropdownListModel}getModel(){return this.model}ngOnInit(){this.model.dropdownListModel||(this.model.dropdownListModel=new Ti.DropdownMultiSelectListModel(this.model))}click(e){var r;null===(r=this.dropdownModel)||void 0===r||r.onClick(e)}chevronPointerDown(e){var r;null===(r=this.dropdownModel)||void 0===r||r.chevronPointerDown(e)}clear(e){var r;null===(r=this.dropdownModel)||void 0===r||r.onClear(e)}keyhandler(e){var r;null===(r=this.dropdownModel)||void 0===r||r.keyHandler(e)}blur(e){var r;null===(r=this.dropdownModel)||void 0===r||r.onBlur(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-tagbox"],["","sv-ng-tagbox",""]],inputs:{model:"model"},decls:5,vars:6,consts:[[3,"click"],[3,"class","blur","keydown",4,"ngIf"],[3,"popupModel",4,"ngIf"],["disabled","",3,"class",4,"ngIf"],["aria-hidden","true",3,"class","pointerdown",4,"ngIf"],[3,"blur","keydown"],[4,"ngIf"],[3,"component"],["aria-hidden","true",3,"class","visible","click",4,"ngIf"],[3,"item","question",4,"ngFor","ngForOf"],[3,"item","question"],["aria-hidden","true",3,"visible","click"],["sv-ng-svg-icon","",3,"iconName","partCss","title","size"],[3,"popupModel"],["disabled",""],[3,"model",4,"ngIf"],[3,"model"],["aria-hidden","true",3,"pointerdown"],["sv-ng-svg-icon","",3,"iconName","partCss","size"]],template:function(e,r){1&e&&(Ve(0,"div",0),un("click",function(p){return r.click(p)}),ge(1,MF,5,23,"div",1),ge(2,SF,1,1,"sv-ng-popup",2),ge(3,AF,2,4,"div",3),ge(4,VF,2,5,"div",4),He()),2&e&&(Se(r.model.cssClasses.selectWrapper),oe(1),ie("ngIf",!r.model.isReadOnly),oe(1),ie("ngIf",!r.model.isReadOnly),oe(1),ie("ngIf",r.model.isReadOnly),oe(1),ie("ngIf",r.model.cssClasses.chevronButtonIconId))},directives:[Ox,Co,Zm,Zr,Fn,ji,pi,Ru],encapsulation:2}),t})();pn.Instance.registerComponent("sv-dropdown-option-item",(()=>{class t extends Ur{onModelChanged(){!this.item.locText||(this.item.locText.onChanged=()=>{this.detectChanges()})}getModel(){return this.item}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-dropdown-option-item"],["","sv-ng-dropdown-option-item",""]],inputs:{item:"item"},features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"value","disabled"]],template:function(e,r){1&e&&ge(0,FF,3,3,"ng-template",null,0,Kn)},directives:[Km,qm],encapsulation:2}),t})());let ud=(()=>{class t{constructor(){}get otherValue(){return this.question.otherValue||""}onOtherValueChange(e){this.question.onOtherValueChange(e)}onOtherValueInput(e){this.question.onOtherValueInput(e)}get otherId(){return this.question.otherId}get otherPlaceholder(){return this.question.otherPlaceholder}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-comment-other"],["","sv-ng-comment-other",""]],inputs:{question:"question"},decls:2,vars:2,consts:[[3,"id","value","resize","disabled","class","change","input",4,"ngIf"],[4,"ngIf"],[3,"id","value","disabled","change","input"]],template:function(e,r){1&e&&(ge(0,NF,1,11,"textarea",0),ge(1,BF,2,1,"div",1)),2&e&&(ie("ngIf",!r.question.isReadOnlyRenderDiv()),oe(1),ie("ngIf",r.question.isReadOnlyRenderDiv()))},directives:[Fn],encapsulation:2}),t})();pn.Instance.registerComponent("dropdown-select-question",(()=>{class t{get editableValue(){return this.model.renderedValue||""}set editableValue(e){this.model.renderedValue=""===e?void 0:e}click(e){this.model.onClick(e)}keyup(e){this.model.onKeyUp(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-dropdown-select-question"]],inputs:{model:"model"},decls:6,vars:8,consts:[[3,"ngModel","disabled","class","required","ngModelChange","click","keyup",4,"ngIf"],["disabled","",3,"class",4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-comment-other","",3,"class","display","question",4,"ngIf"],[3,"ngModel","disabled","required","ngModelChange","click","keyup"],["value","",4,"ngIf"],[4,"ngFor","ngForOf"],["value",""],[3,"component"],["disabled",""],["sv-ng-svg-icon","",3,"iconName","partCss","size"],["sv-ng-comment-other","",3,"question"]],template:function(e,r){1&e&&(Ve(0,"div")(1,"div"),ge(2,zF,3,13,"select",0),ge(3,QF,2,4,"div",1),ge(4,kF,2,5,"div",2),He(),ge(5,KF,1,5,"div",3),He()),2&e&&(Se(r.model.renderCssRoot),oe(1),Se(r.model.cssClasses.selectWrapper),oe(1),ie("ngIf",!r.model.isReadOnly),oe(1),ie("ngIf",r.model.isReadOnly),oe(1),ie("ngIf",r.model.cssClasses.chevronButtonIconId),oe(1),ie("ngIf",r.model.isOtherSelected))},directives:[Co,ud,Fn,km,lc,Su,$m,Km,qm,ji,pi],encapsulation:2}),t})()),Ti.RendererFactory.Instance.registerRenderer("dropdown","select","dropdown-select-question");let Mx=(()=>{class t{constructor(e){this.domSanitizer=e}transform(e){return this.domSanitizer.bypassSecurityTrustUrl(e)}}return t.\u0275fac=function(e){return new(e||t)(kt(Am,16))},t.\u0275pipe=wn({name:"safeUrl",type:t,pure:!0}),t})(),RH=(()=>{class t{constructor(e){this.domSanitizer=e}transform(e){return this.domSanitizer.bypassSecurityTrustResourceUrl(e)}}return t.\u0275fac=function(e){return new(e||t)(kt(Am,16))},t.\u0275pipe=wn({name:"safeResourceUrl",type:t,pure:!0}),t})();pn.Instance.registerComponent("sv-logo-image",(()=>{class t extends vs{get survey(){return this.data}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-logo-image"]],inputs:{data:"data"},features:[Zt],decls:2,vars:0,consts:[["template",""]],template:function(e,r){1&e&&ge(0,qF,3,16,"ng-template",null,0,Kn)},pipes:[Mx],styles:["[_nghost-%COMP%]{display:none}"]}),t})());let YC=(()=>{class t extends Ur{getModel(){return this.counter}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-character-counter"]],inputs:{counter:"counter",remainingCharacterCounter:"remainingCharacterCounter"},features:[Zt],decls:2,vars:0,consts:[["template",""]],template:function(e,r){1&e&&ge(0,$F,2,3,"ng-template",null,0,Kn)},styles:["[_nghost-%COMP%] { display: none; }"]}),t})();pn.Instance.registerComponent("character-counter",YC);let Sx=(()=>{class t extends zo{get value(){var e;return null!==(e=this.model.value)&&void 0!==e?e:""}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-text-question"]],features:[Zt],decls:5,vars:3,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[4,"ngIf"],["input",""],[3,"ngTemplateOutlet"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["contentElement",""],[3,"value","disabled","type","id","change","keyup","keydown","blur","focus","compositionupdate"],[3,"counter","remainingCharacterCounter",4,"ngIf"],[3,"counter","remainingCharacterCounter"]],template:function(e,r){1&e&&(ge(0,GF,1,1,"ng-container",0),ge(1,YF,4,3,"div",1),ge(2,ZF,3,1,"div",1),ge(3,eN,3,23,"ng-template",null,2,Kn)),2&e&&(ie("ngIf",!r.model.dataListId&&!r.model.isReadOnlyRenderDiv()),oe(1),ie("ngIf",r.model.dataListId&&!r.model.isReadOnlyRenderDiv()),oe(1),ie("ngIf",r.model.isReadOnlyRenderDiv()))},directives:[YC,Fn,ac,ji,Km,qm],styles:[""]}),t})();pn.Instance.registerComponent("text-question",Sx),pn.Instance.registerComponent("html-question",(()=>{class t extends zo{onModelChanged(){super.onModelChanged(),this.model.locHtml.onChanged=()=>{this.detectChanges()}}ngOnDestroy(){this.model.locHtml.onChanged=()=>{},super.ngOnDestroy()}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-html-question"]],features:[Zt],decls:3,vars:5,consts:[[3,"innerHTML"],["contentElement",""]],template:function(e,r){1&e&&(ut(0,"div",0,1),Kl(2,"safeHtml")),2&e&&(Se(r.model.renderCssRoot),ie("innerHTML",ql(2,3,r.model.locHtml.renderedHtml),Ho))},pipes:[Ym],encapsulation:2}),t})());let Xm=(()=>{class t extends zo{constructor(){super(...arguments),this.inputType="checkbox",this.showLegend=!0}getDefaultComponentName(){return"sv-ng-selectbase-item"}trackItemBy(e,r){return r.value}trackColumnBy(e){return e}getItemValueComponentName(e){return this.model.getItemValueWrapperComponentName(e)||this.getDefaultComponentName()}getItemValueComponentData(e){return{componentName:this.model.getPropertyByName("itemComponent").isDefaultValue(this.model.itemComponent)?this.getDefaultComponentName():this.model.itemComponent,componentData:{question:this.model,model:e,inputType:this.inputType,data:this.model.getItemValueWrapperComponentData(e)}}}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-selectbase"]],inputs:{model:"model"},features:[Zt],decls:10,vars:16,consts:[["contentElement",""],["class","sv-hidden",4,"ngIf"],[4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],[1,"sv-hidden"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"component"],["role","presentation",3,"class",4,"ngFor","ngForOf","ngForTrackBy"],["role","presentation"],["sv-ng-comment-other","",3,"question"],["type","button",3,"value","click"]],template:function(e,r){1&e&&(Ve(0,"fieldset",null,0),ge(2,tN,2,1,"legend",1),ge(3,iN,2,2,"ng-container",2),ge(4,aN,2,2,"ng-container",2),ge(5,cN,2,4,"div",3),ge(6,pN,3,4,"ng-container",2),ge(7,yN,2,2,"ng-container",2),ge(8,vN,1,3,"div",4),ge(9,CN,2,3,"div",2),He()),2&e&&(Se(r.model.getSelectBaseRootCss()),mn("role",r.model.a11y_input_ariaRole)("aria-required",r.model.a11y_input_ariaRequired)("aria-label",r.model.a11y_input_ariaLabel)("aria-labelledby",r.model.a11y_input_ariaLabelledBy)("aria-invalid",r.model.a11y_input_ariaInvalid)("aria-describedby",r.model.a11y_input_ariaDescribedBy),oe(2),ie("ngIf",r.showLegend),oe(1),ie("ngIf",r.model.hasHeadItems),oe(1),ie("ngIf",!r.model.hasColumns&&!r.model.blockedRow),oe(1),ie("ngIf",!r.model.hasColumns&&r.model.blockedRow),oe(1),ie("ngIf",r.model.hasColumns),oe(1),ie("ngIf",r.model.hasFootItems),oe(1),ie("ngIf",r.model.isOtherSelected),oe(1),ie("ngIf",r.model.showClearButtonInContent))},directives:[ud,Fn,ji,pi],encapsulation:2}),t})();pn.Instance.registerComponent("selectbase",Xm),pn.Instance.registerComponent("radiogroup-question",(()=>{class t extends Xm{ngOnInit(){this.inputType="radio",this.showLegend=!1,super.ngOnInit()}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-radiogroup-question"]],features:[Zt],decls:10,vars:16,consts:[["contentElement",""],["class","sv-hidden",4,"ngIf"],[4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],[1,"sv-hidden"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"component"],["role","presentation",3,"class",4,"ngFor","ngForOf","ngForTrackBy"],["role","presentation"],["sv-ng-comment-other","",3,"question"],["type","button",3,"value","click"]],template:function(e,r){1&e&&(Ve(0,"fieldset",null,0),ge(2,bN,2,1,"legend",1),ge(3,xN,2,2,"ng-container",2),ge(4,DN,2,2,"ng-container",2),ge(5,MN,2,4,"div",3),ge(6,VN,3,4,"ng-container",2),ge(7,NN,2,2,"ng-container",2),ge(8,BN,1,3,"div",4),ge(9,jN,2,3,"div",2),He()),2&e&&(Se(r.model.getSelectBaseRootCss()),mn("role",r.model.a11y_input_ariaRole)("aria-required",r.model.a11y_input_ariaRequired)("aria-label",r.model.a11y_input_ariaLabel)("aria-labelledby",r.model.a11y_input_ariaLabelledBy)("aria-invalid",r.model.a11y_input_ariaInvalid)("aria-describedby",r.model.a11y_input_ariaDescribedBy),oe(2),ie("ngIf",r.showLegend),oe(1),ie("ngIf",r.model.hasHeadItems),oe(1),ie("ngIf",!r.model.hasColumns&&!r.model.blockedRow),oe(1),ie("ngIf",!r.model.hasColumns&&r.model.blockedRow),oe(1),ie("ngIf",r.model.hasColumns),oe(1),ie("ngIf",r.model.hasFootItems),oe(1),ie("ngIf",r.model.isOtherSelected),oe(1),ie("ngIf",r.model.showClearButtonInContent))},directives:[ud,Fn,ji,pi],encapsulation:2}),t})());let FH=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-radiogroup-item"],["","sv-ng-radiogroup-item",""]],inputs:{question:"question",model:"model"},ngContentSelectors:Gm,decls:2,vars:10,consts:[["type","radio",3,"name","id","disabled","ngModel","value","ngModelChange"]],template:function(e,r){1&e&&(Op(),Ve(0,"input",0),un("ngModelChange",function(p){return r.question.renderedValue=p}),He(),Mp(1)),2&e&&(Se(r.question.cssClasses.itemControl),ie("name",r.question.questionName)("id",r.question.getItemId(r.model))("disabled",!r.question.getItemEnabled(r.model))("ngModel",r.question.renderedValue)("value",r.model.value),mn("name",r.question.questionName)("aria-describedby",r.question.ariaDescribedBy)("value",r.model.value))},directives:[Qm,sf,lc,Su],styles:[""]}),t})();pn.Instance.registerComponent("checkbox-question",(()=>{class t extends Xm{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-checkbox-question"]],features:[Zt],decls:10,vars:16,consts:[["contentElement",""],["class","sv-hidden",4,"ngIf"],[4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],[1,"sv-hidden"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"component"],["role","presentation",3,"class",4,"ngFor","ngForOf","ngForTrackBy"],["role","presentation"],["sv-ng-comment-other","",3,"question"],["type","button",3,"value","click"]],template:function(e,r){1&e&&(Ve(0,"fieldset",null,0),ge(2,HN,2,1,"legend",1),ge(3,_N,2,2,"ng-container",2),ge(4,kN,2,2,"ng-container",2),ge(5,$N,2,4,"div",3),ge(6,ZN,3,4,"ng-container",2),ge(7,tB,2,2,"ng-container",2),ge(8,nB,1,3,"div",4),ge(9,rB,2,3,"div",2),He()),2&e&&(Se(r.model.getSelectBaseRootCss()),mn("role",r.model.a11y_input_ariaRole)("aria-required",r.model.a11y_input_ariaRequired)("aria-label",r.model.a11y_input_ariaLabel)("aria-labelledby",r.model.a11y_input_ariaLabelledBy)("aria-invalid",r.model.a11y_input_ariaInvalid)("aria-describedby",r.model.a11y_input_ariaDescribedBy),oe(2),ie("ngIf",r.showLegend),oe(1),ie("ngIf",r.model.hasHeadItems),oe(1),ie("ngIf",!r.model.hasColumns&&!r.model.blockedRow),oe(1),ie("ngIf",!r.model.hasColumns&&r.model.blockedRow),oe(1),ie("ngIf",r.model.hasColumns),oe(1),ie("ngIf",r.model.hasFootItems),oe(1),ie("ngIf",r.model.isOtherSelected),oe(1),ie("ngIf",r.model.showClearButtonInContent))},directives:[ud,Fn,ji,pi],encapsulation:2}),t})());let BH=(()=>{class t{constructor(){}onChange(e){this.question.clickItemHandler(this.model,e.target.checked)}onSelectAllChange(e){this.question.toggleSelectAll()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-checkbox-item"],["","sv-ng-checkbox-item",""]],inputs:{question:"question",model:"model"},ngContentSelectors:Gm,decls:2,vars:7,consts:[["type","checkbox","role","option",3,"name","id","disabled","checked","value","change"]],template:function(e,r){1&e&&(Op(),Ve(0,"input",0),un("change",function(p){return r.onChange(p)}),He(),Mp(1)),2&e&&(Se(r.question.cssClasses.itemControl),ie("name",r.question.name+r.model.id)("id",r.question.getItemId(r.model))("disabled",!r.question.getItemEnabled(r.model))("checked",r.question.isItemSelected(r.model))("value",r.model.value))},styles:[""]}),t})();pn.Instance.registerComponent("dropdown-question",(()=>{class t extends zo{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-dropdown-question"]],features:[Zt],decls:4,vars:4,consts:[["contentElement",""],[3,"model"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],["sv-ng-comment-other","",3,"question"]],template:function(e,r){1&e&&(Ve(0,"div",null,0),ut(2,"sv-ng-dropdown",1),ge(3,iB,1,3,"div",2),He()),2&e&&(Se(r.model.renderCssRoot),oe(2),ie("model",r.model),oe(1),ie("ngIf",r.model.isOtherSelected))},directives:[Ix,ud,Fn],encapsulation:2}),t})()),pn.Instance.registerComponent("tagbox-question",(()=>{class t extends zo{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-tagbox-question"]],features:[Zt],decls:4,vars:4,consts:[["contentElement",""],[3,"model"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],["sv-ng-comment-other","",3,"question"]],template:function(e,r){1&e&&(Ve(0,"div",null,0),ut(2,"sv-ng-tagbox",1),ge(3,oB,1,3,"div",2),He()),2&e&&(Se(r.model.renderCssRoot),oe(2),ie("model",r.model),oe(1),ie("ngIf",r.model.isOtherSelected))},directives:[OH,ud,Fn],encapsulation:2}),t})()),pn.Instance.registerComponent("rating-question",(()=>{class t extends zo{trackByFn(e){return e}onClick(e){e.stopPropagation(),this.model.setValueFromClick(e.target.value)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-rating-question"]],features:[Zt],decls:7,vars:6,consts:[["contentElement",""],["role","radiogroup"],["role","presentation",1,"sv-hidden"],["sv-ng-string","",3,"class","model",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["sv-ng-string","",3,"model"],[3,"component"]],template:function(e,r){1&e&&(Ve(0,"div",null,0)(2,"fieldset",1),ut(3,"legend",2),ge(4,sB,1,3,"span",3),ge(5,uB,1,8,null,4),ge(6,cB,1,3,"span",3),He()()),2&e&&(Se(r.model.ratingRootCss),oe(4),ie("ngIf",r.model.hasMinLabel),oe(1),ie("ngForOf",r.model.renderedRateItems)("ngForTrackBy",r.trackByFn),oe(1),ie("ngIf",r.model.hasMaxLabel))},directives:[Zr,Fn,ji,pi],encapsulation:2}),t})()),pn.Instance.registerComponent("boolean-question",(()=>{class t extends zo{onChange(e){this.model.booleanValue=e.target.value}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-boolean-question"]],features:[Zt],decls:11,vars:33,consts:[[3,"keydown"],["contentElement",""],["type","checkbox",3,"disabled","indeterminate","value","ngModel","ngModelChange"],[3,"click"],["sv-ng-string","",3,"model"],["sv-ng-string","",3,"class","model",4,"ngIf"]],template:function(e,r){1&e&&(Ve(0,"div",0,1),un("keydown",function(p){return r.model.onKeyDownCore(p)}),Ve(2,"label")(3,"input",2),un("ngModelChange",function(p){return r.model.booleanValue=p}),He(),Ve(4,"div",3),un("click",function(p){return r.model.onLabelClick(p,!1)}),ut(5,"span",4),He(),Ve(6,"div",3),un("click",function(p){return r.model.onSwitchClickModel(p)}),Ve(7,"span"),ge(8,fB,1,3,"span",5),He()(),Ve(9,"div",3),un("click",function(p){return r.model.onLabelClick(p,!0)}),ut(10,"span",4),He()()()),2&e&&(Se(r.model.cssClasses.root),oe(2),Se(r.model.getItemCss()),oe(1),Se(r.model.cssClasses.control),ie("disabled",r.model.isInputReadOnly)("indeterminate",r.model.isIndeterminate)("value",r.model.booleanValue)("ngModel",r.model.booleanValue),mn("name",r.model.name)("id",r.model.inputId)("role",r.model.a11y_input_ariaRole)("aria-required",r.model.a11y_input_ariaRequired)("aria-label",r.model.a11y_input_ariaLabel)("aria-labelledby",r.model.a11y_input_ariaLabelledBy)("aria-invalid",r.model.a11y_input_ariaInvalid)("aria-describedby",r.model.a11y_input_ariaDescribedBy),oe(1),Se(r.model.cssClasses.sliderGhost),oe(1),Se(r.model.getLabelCss(!1)),ie("model",r.model.locLabelFalse),oe(1),Se(r.model.cssClasses.switch),oe(1),Se(r.model.cssClasses.slider),oe(1),ie("ngIf",r.model.cssClasses.sliderText&&r.model.isDeterminated),oe(1),Se(r.model.cssClasses.sliderGhost),oe(1),Se(r.model.getLabelCss(!0)),ie("model",r.model.locLabelTrue))},directives:[Zr,Vm,lc,Su,Fn],encapsulation:2}),t})()),pn.Instance.registerComponent("sv-ng-imagepicker-item",(()=>{class t extends Ur{getModel(){return this.model}onChange(e){if(this.question.multiSelect)if(e.target.checked)this.question.value=this.question.value.concat(e.target.value);else{var r=this.question.value;r.splice(this.question.value.indexOf(e.target.value),1),this.question.value=r}else this.question.value=e.target.value}ngAfterViewInit(){this.model.locImageLink.onChanged=()=>{this.detectChanges()}}ngOnDestroy(){super.ngOnDestroy(),this.model.locImageLink.onChanged=()=>{}}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-imagepicker-item"]],inputs:{question:"question",model:"model"},features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"type","id","checked","disabled","change"],[3,"class",4,"ngIf"],[3,"class","objectFit","load","error",4,"ngIf"],["controls","",3,"class","objectFit","loadedmetadata","error",4,"ngIf"],[3,"class","width","height","objectFit",4,"ngIf"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-svg-icon","",3,"class","iconName","size",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size"],[3,"load","error"],["controls","",3,"loadedmetadata","error"],["sv-ng-string","",3,"model"]],template:function(e,r){1&e&&ge(0,CB,10,25,"ng-template",null,0,Kn)},directives:[Co,Zr,Fn],styles:["[_nghost-%COMP%] { display: none; }"]}),t})()),pn.Instance.registerComponent("imagepicker-question",(()=>{class t extends zo{getItemValueComponentName(e){return this.model.getItemValueWrapperComponentName(e)||"sv-ng-imagepicker-item"}getItemValueComponentData(e){return{componentName:"sv-ng-imagepicker-item",componentData:{question:this.model,model:e,data:this.model.getItemValueWrapperComponentData(e)}}}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-imagepicker-question"]],features:[Zt],decls:6,vars:5,consts:[["contentElement",""],[1,"sv-hidden"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"component"],["role","presentation",3,"class",4,"ngFor","ngForOf"],["role","presentation"]],template:function(e,r){1&e&&(Ve(0,"fieldset",null,0)(2,"legend",1),Bn(3),He(),ge(4,EB,2,1,"ng-container",2),ge(5,DB,2,1,"ng-container",2),He()),2&e&&(Se(r.model.getSelectBaseRootCss()),oe(3),Jn(r.model.locTitle.renderedHtml),oe(1),ie("ngIf",!r.model.hasColumns),oe(1),ie("ngIf",r.model.hasColumns))},directives:[Fn,ji,pi],encapsulation:2}),t})()),pn.Instance.registerComponent("sv-components-container",(()=>{class t extends vs{get components(){return this.survey.getContainerContent(this.container)}get isNeedRenderWrapper(){return!1!==this.needRenderWrapper}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-components-container"],["","sv-components-container",""],["sv-ng-components-container"]],inputs:{survey:"survey",container:"container",needRenderWrapper:"needRenderWrapper"},features:[Zt],decls:2,vars:0,consts:[["template",""],[4,"ngIf"],["class","sv-components-column",4,"ngIf"],[1,"sv-components-column"],[4,"ngFor","ngForOf"],[3,"component"]],template:function(e,r){1&e&&ge(0,NB,2,2,"ng-template",null,0,Kn)},directives:[Fn,ji,pi],styles:["[_nghost-%COMP%]{display:none}"]}),t})());let ey=(()=>{class t{constructor(e){this.el=e,this.isSubscribed=!1,this.options=Object.assign({},t.defaultOptions),this.onkeyup=r=>(r.preventDefault(),r.stopPropagation(),(0,Ti.doKey2ClickUp)(r,this.options),!1),this.subscribeEventListeners()}onkeydown(e){(0,Ti.doKey2ClickDown)(e,this.options)}blur(e){(0,Ti.doKey2ClickBlur)(e)}get element(){return this.el.nativeElement}subscribeEventListeners(){this.isSubscribed||(this.element.tabIndex=0,this.element.addEventListener("keyup",this.onkeyup.bind(this)),this.element.addEventListener("keydown",this.onkeydown.bind(this)),this.element.addEventListener("blur",this.blur),this.isSubscribed=!0)}unsubscribeEventListeners(){!this.isSubscribed||(this.element.tabIndex=-1,this.element.removeEventListener("keyup",this.onkeyup.bind(this)),this.element.removeEventListener("keydown",this.onkeydown.bind(this)),this.element.removeEventListener("blur",this.blur),this.isSubscribed=!1)}ngOnChanges(e){const r=e.key2click.currentValue;r.disableTabStop?this.unsubscribeEventListeners():this.subscribeEventListeners(),this.options=Object.assign({},t.defaultOptions,r)}ngOnDestroy(){this.unsubscribeEventListeners()}}return t.defaultOptions={processEsc:!0,disableTabStop:!1},t.\u0275fac=function(e){return new(e||t)(kt(is))},t.\u0275dir=qn({type:t,selectors:[["","key2click",""]],inputs:{key2click:"key2click"},features:[Ie]}),t})();pn.Instance.registerComponent("sv-action-bar-item",(()=>{class t extends Ur{getModel(){return this.model}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-action-bar-item"]],inputs:{model:"model"},features:[Zt],decls:2,vars:0,consts:[["template",""],["type","button",3,"key2click","disabled","click"],["sv-ng-svg-icon","",3,"iconName","size","title","class",4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size","title"]],template:function(e,r){1&e&&ge(0,UB,4,12,"ng-template",null,0,Kn)},directives:[Co,ey,Fn],styles:["[_nghost-%COMP%]{display:none}"]}),t})()),pn.Instance.registerComponent("sv-action-bar-item-dropdown",(()=>{class t extends Ur{constructor(){super(...arguments),this.getTarget=Ti.getActionDropdownButtonTarget}getModel(){return this.model}ngOnInit(){super.ngOnInit(),this.viewModel=new Ti.ActionDropdownViewModel(this.model)}ngOnDestroy(){this.viewModel.dispose(),super.ngOnDestroy()}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-action-bar-item-dropdown"]],inputs:{model:"model"},features:[Zt],decls:2,vars:0,consts:[["template",""],["type","button",3,"key2click","title","disabled","click"],["sv-ng-svg-icon","",3,"iconName","size","title","class",4,"ngIf"],[3,"class",4,"ngIf"],[3,"popupModel","getTarget"],["sv-ng-svg-icon","",3,"iconName","size","title"]],template:function(e,r){1&e&&ge(0,zB,4,12,"ng-template",null,0,Kn)},directives:[Co,Zm,ey,Fn],styles:["[_nghost-%COMP%]{display:none}"]}),t})());let Rx=(()=>{class t extends Ur{constructor(){super(...arguments),this.showLabel=!0}getModel(){return this.model}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-selectbase-item"],["sv-ng-selebase-item"]],inputs:{question:"question",model:"model",inputType:"inputType",showLabel:"showLabel"},features:[Zt],decls:2,vars:0,consts:[["template",""],["role","presentation"],[3,"ngSwitch"],["sv-ng-checkbox-item","",3,"class","model","question",4,"ngSwitchCase"],["sv-ng-radiogroup-item","",3,"class","model","question","mousedown",4,"ngSwitchCase"],["itemDecorator",""],["sv-ng-checkbox-item","",3,"model","question"],[4,"ngTemplateOutlet"],["sv-ng-radiogroup-item","",3,"model","question","mousedown"],[3,"class",4,"ngIf"],[3,"model"]],template:function(e,r){1&e&&ge(0,ZB,6,5,"ng-template",null,0,Kn)},directives:[BH,FH,Zr,Qp,gC,ac,Fn],styles:["[_nghost-%COMP%] { display: none; }"]}),t})();pn.Instance.registerComponent("sv-ng-selectbase-item",Rx),pn.Instance.registerComponent("sv-skeleton",(()=>{class t extends vs{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-skeleton"]],inputs:{element:"element"},features:[Zt],decls:2,vars:0,consts:[["template",""],[1,"sv-skeleton-element",3,"id"]],template:function(e,r){1&e&&ge(0,XB,1,1,"ng-template",null,0,Kn)},styles:["[_nghost-%COMP%]{display:none}"]}),t})()),pn.Instance.registerComponent("sv-timerpanel",(()=>{class t extends Ur{constructor(){super(...arguments),this.circleLengthValue=440}getStateElement(){return this.model}getModel(){return this.model}get circleLength(){return this.circleLengthValue}get progress(){return-this.model.progress*this.circleLength}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-timerpanel"]],inputs:{model:"model"},features:[Zt],decls:2,vars:2,consts:[[3,"class",4,"ngIf"],["sv-ng-svg-icon","",3,"class","stroke-dasharray","stroke-dashoffset","size","iconName",4,"ngIf"],["sv-ng-svg-icon","",3,"size","iconName"]],template:function(e,r){1&e&&(ge(0,n3,6,9,"div",0),ge(1,r3,2,3,"div",0)),2&e&&(ie("ngIf",r.model.isRunning&&r.model.showTimerAsClock),oe(1),ie("ngIf",r.model.isRunning&&!r.model.showTimerAsClock))},directives:[Co,Fn],encapsulation:2}),t})());let Ax=(()=>{class t extends Ur{get elementId(){var e;return null===(e=this.model)||void 0===e?void 0:e.elementId}get ariaSelected(){return this.listModel.isItemSelected(this.model)||""}get class(){return this.listModel.getItemClass(this.model)}get paddingLeft(){return this.listModel.getItemIndent(this.model)}click(e){this.listModel.onItemClick(this.model),e.stopPropagation()}pointerdown(e){this.listModel.onPointerDown(e,this.model)}getModel(){return this.model}ngAfterViewInit(){this.listModel.onLastItemRended(this.model)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-list-item"],["","sv-ng-list-item",""]],inputs:{element:"element",model:"model",listModel:"listModel"},features:[Zt],decls:2,vars:0,consts:[["template",""],["role","option",3,"key2click","visible","click","pointerdown"],[4,"ngIf"],["sv-ng-svg-icon","",3,"class","iconName","size",4,"ngIf"],[3,"model"],["sv-ng-svg-icon","",3,"iconName","size"],[3,"component"]],template:function(e,r){1&e&&ge(0,u3,5,13,"ng-template",null,0,Kn)},directives:[Co,Zr,ey,Ru,Fn,pi],styles:["[_nghost-%COMP%]{display:none}"]}),t})();pn.Instance.registerComponent("sv-list-item",Ax);let Vx=(()=>{class t extends Ur{constructor(){super(...arguments),this.trackItemBy=(e,r)=>r.id}getModel(){return this.model}onGoToItems(e){this.model.goToItems(e)}onMouseDown(e){e.preventDefault()}onKeyDown(e){this.model.onKeyDown(e)}onMouseMove(e){this.model.onMouseMove(e)}getPropertiesToUpdateSync(){return["renderElements"]}ngAfterViewInit(){var e;(null===(e=this.listContainerElement)||void 0===e?void 0:e.nativeElement)&&this.model.initListContainerHtmlElement(this.listContainerElement.nativeElement)}ngOnDestroy(){this.model.initListContainerHtmlElement(void 0),super.ngOnDestroy()}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-list"],["","sv-ng-list",""]],viewQuery:function(e,r){if(1&e&&Uo(c3,5),2&e){let i;yo(i=vo())&&(r.listContainerElement=i.first)}},inputs:{model:"model"},features:[Zt],decls:2,vars:0,consts:[["template",""],["listContainerElement",""],[3,"class",4,"ngIf"],[3,"visible"],["role","listbox",3,"class","visible","mousedown","keydown","mousemove",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size"],["type","text",3,"ngModel","ngModelChange","keyup"],[3,"class","click",4,"ngIf"],[3,"click"],["role","listbox",3,"visible","mousedown","keydown","mousemove"],[3,"listModel","model",4,"ngFor","ngForOf","ngForTrackBy"],[3,"listModel","model"]],template:function(e,r){1&e&&ge(0,g3,7,11,"ng-template",null,0,Kn)},directives:[Co,Ax,Fn,sf,lc,Su,Ru,ji],styles:["[_nghost-%COMP%]{display:none}"]}),t})();pn.Instance.registerComponent("sv-list",Vx),pn.Instance.registerComponent("sv-rating-item",(()=>{class t extends Ur{onClick(e){this.model.setValueFromClick(e.target.value),e.stopPropagation()}getModel(){return this.item}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-rating-item"]],inputs:{element:"element",model:"model",item:"item",index:"index"},features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"mousedown"],["type","radio",1,"sv-visuallyhidden",3,"value","disabled","checked","click"],["sv-ng-string","",3,"model"]],template:function(e,r){1&e&&ge(0,m3,3,14,"ng-template",null,0,Kn)},directives:[Zr],styles:["[_nghost-%COMP%]{display:none}"]}),t})()),pn.Instance.registerComponent("sv-rating-item-star",(()=>{class t extends Ur{onClick(e){this.model.setValueFromClick(e.target.value),e.stopPropagation()}getModel(){return this.item}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-rating-item-star"]],inputs:{element:"element",model:"model",item:"item",index:"index"},features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"mouseover","mouseout","mousedown"],["type","radio",1,"sv-visuallyhidden",3,"value","disabled","checked","click"],["sv-ng-svg-icon","",3,"iconName","size","title"]],template:function(e,r){1&e&&ge(0,y3,4,21,"ng-template",null,0,Kn)},directives:[Co],styles:["[_nghost-%COMP%]{display:none}"]}),t})()),pn.Instance.registerComponent("sv-rating-item-smiley",(()=>{class t extends Ur{onClick(e){this.model.setValueFromClick(e.target.value),e.stopPropagation()}getModel(){return this.item}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-rating-item-smiley"]],inputs:{element:"element",model:"model",item:"item",index:"index"},features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"mouseover","mouseout","mousedown"],["type","radio",1,"sv-visuallyhidden",3,"value","disabled","checked","click"],["sv-ng-svg-icon","",3,"iconName","size","title"]],template:function(e,r){1&e&&ge(0,v3,3,16,"ng-template",null,0,Kn)},directives:[Co],styles:["[_nghost-%COMP%]{display:none}"]}),t})()),pn.Instance.registerComponent("sv-rating-dropdown-item",(()=>{class t extends Ur{getModel(){return this.model}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-rating-dropdown-item"],["","sv-ng-rating-dropdown-item",""]],inputs:{element:"element",model:"model"},features:[Zt],decls:2,vars:0,consts:[["template",""],[1,"sd-rating-dropdown-item"],[1,"sd-rating-dropdown-item_text"],[4,"ngIf"],[1,"sd-rating-dropdown-item_description"],[3,"model"]],template:function(e,r){1&e&&ge(0,b3,4,2,"ng-template",null,0,Kn)},directives:[Zr,Fn],styles:["[_nghost-%COMP%]{display:none}"]}),t})()),pn.Instance.registerComponent("rating-dropdown-question",(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-rating-dropdown-question"]],inputs:{model:"model"},decls:2,vars:3,consts:[[3,"model"]],template:function(e,r){1&e&&(Ve(0,"div"),ut(1,"sv-ng-dropdown",0),He()),2&e&&(Se(r.model.cssClasses.rootDropdown),oe(1),ie("model",r.model))},directives:[Ix],encapsulation:2}),t})()),Ti.RendererFactory.Instance.registerRenderer("rating","dropdown","rating-dropdown-question"),pn.Instance.registerComponent("boolean-checkbox-question",(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-boolean-checkbox-question"]],inputs:{model:"model"},decls:9,vars:24,consts:[["type","checkbox",3,"value","id","ngModel","disabled","indeterminate","ngModelChange"],[3,"class",4,"ngIf"],[1,"check"],[3,"class","id",4,"ngIf"],["sv-ng-string","",3,"class","model",4,"ngIf"],[3,"id"],[3,"element"],["sv-ng-string","",3,"model"]],template:function(e,r){1&e&&(Ve(0,"div")(1,"div")(2,"label")(3,"input",0),un("ngModelChange",function(p){return r.model.booleanValue=p}),He(),Ve(4,"span"),ge(5,P3,2,3,"svg",1),ut(6,"span",2),He(),ge(7,E3,2,4,"span",3),He(),ge(8,x3,1,3,"div",4),He()()),2&e&&(Se(r.model.cssClasses.rootCheckbox),oe(1),Se(r.model.getCheckboxItemCss()),oe(1),Se(r.model.cssClasses.checkboxLabel),oe(1),Se(r.model.cssClasses.controlCheckbox),ie("value",r.model.booleanValue)("id",r.model.inputId)("ngModel",r.model.booleanValue)("value",r.model.booleanValue)("disabled",r.model.isInputReadOnly)("indeterminate",r.model.isIndeterminate),mn("name",r.model.name)("aria-required",r.model.ariaRequired)("aria-label",r.model.ariaLabel)("aria-invalid",r.model.ariaInvalid)("aria-describedby",r.model.ariaDescribedBy),oe(1),Se(r.model.cssClasses.checkboxMaterialDecorator),oe(1),ie("ngIf",!!r.model.svgIcon),oe(2),ie("ngIf",r.model.isLabelRendered),oe(1),ie("ngIf",r.model.canRenderLabelDescription))},directives:[Ex,Zr,Vm,lc,Su,Fn],encapsulation:2}),t})()),Ti.RendererFactory.Instance.registerRenderer("boolean","checkbox","boolean-checkbox-question");let tU=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-boolean-radio-item"]],inputs:{question:"question",value:"value",locText:"locText"},decls:5,vars:15,consts:[["role","presentation"],["type","radio",3,"value","ngModel","disabled","ngModelChange"],[3,"class",4,"ngIf"],["sv-ng-string","",3,"model"]],template:function(e,r){1&e&&(Ve(0,"div",0)(1,"label")(2,"input",1),un("ngModelChange",function(p){return r.question.booleanValue=p}),He(),ge(3,T3,1,2,"span",2),ut(4,"span",3),He()()),2&e&&(Se(r.question.getRadioItemClass(r.question.cssClasses,r.value)),oe(1),Se(r.question.cssClasses.radioLabel),oe(1),Se(r.question.cssClasses.itemRadioControl||""),ie("value",r.value)("ngModel",r.question.booleanValue)("disabled",r.question.isInputReadOnly),mn("name",r.question.name)("aria-describedby",r.question.ariaDescribedBy),oe(1),ie("ngIf",r.question.cssClasses.materialRadioDecorator),oe(1),Se(r.question.cssClasses.radioControlLabel),ie("model",r.locText))},directives:[Zr,Qm,sf,lc,Su,Fn],encapsulation:2}),t})();pn.Instance.registerComponent("boolean-radio-question",(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-boolean-radio-question"]],inputs:{model:"model"},decls:4,vars:10,consts:[["role","presentation"],[3,"value","locText","question"]],template:function(e,r){1&e&&(Ve(0,"div")(1,"fieldset",0),ut(2,"sv-ng-boolean-radio-item",1)(3,"sv-ng-boolean-radio-item",1),He()()),2&e&&(Se(r.model.cssClasses.rootRadio),oe(1),Se(r.model.cssClasses.radioFieldset),oe(1),ie("value",!1)("locText",r.model.locLabelFalse)("question",r.model),oe(1),ie("value",!0)("locText",r.model.locLabelTrue)("question",r.model))},directives:[tU],encapsulation:2}),t})()),Ti.RendererFactory.Instance.registerRenderer("boolean","radio","boolean-radio-question");let eg=(()=>{class t extends vs{getProgressTextInBarCss(e){return Ti.SurveyProgressModel.getProgressTextInBarCss(e)}getProgressTextUnderBarCss(e){return Ti.SurveyProgressModel.getProgressTextUnderBarCss(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-progress-default"]],inputs:{container:"container",model:"model"},features:[Zt],decls:2,vars:0,consts:[["template",""],["role","progressbar","aria-valuemin","0","aria-valuemax","100","aria-label","progress"]],template:function(e,r){1&e&&ge(0,w3,6,12,"ng-template",null,0,Kn)},encapsulation:2}),t})();pn.Instance.registerComponent("sv-progress-progress",eg),pn.Instance.registerComponent("sv-progress-pages",eg),pn.Instance.registerComponent("sv-progress-questions",eg),pn.Instance.registerComponent("sv-progress-correctquestions",eg),pn.Instance.registerComponent("sv-progress-requiredquestions",eg),pn.Instance.registerComponent("sv-progress-buttons",(()=>{class t{constructor(e){this.changeDetectorRef=e,this.hasScroller=!1,this.canShowHeader=!1,this.canShowFooter=!1,this.canShowItemTitles=!0}onResize(e){this.canShowItemTitles=e,this.canShowHeader=!this.canShowItemTitles,this.changeDetectorRef.detectChanges()}onUpdateScroller(e){this.hasScroller=e,this.changeDetectorRef.detectChanges()}onUpdateSettings(){this.canShowItemTitles=this.model.showItemTitles,this.canShowFooter=!this.model.showItemTitles,this.changeDetectorRef.detectChanges()}ngOnInit(){}ngOnChanges(e){}clickScrollButton(e){this.progressButtonsListContainer&&(this.progressButtonsListContainer.nativeElement.scrollLeft+=70*(e?-1:1))}ngAfterViewInit(){var e;(null===(e=this.progressButtonsListContainer)||void 0===e?void 0:e.nativeElement)&&(this.respManager=new Ti.ProgressButtonsResponsivityManager(this.model,this.progressButtonsListContainer.nativeElement,this))}ngOnDestroy(){var e;null===(e=this.respManager)||void 0===e||e.dispose()}}return t.\u0275fac=function(e){return new(e||t)(kt(hl))},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-progress-buttons"]],viewQuery:function(e,r){if(1&e&&Uo(D3,5),2&e){let i;yo(i=vo())&&(r.progressButtonsListContainer=i.first)}},inputs:{model:"model",survey:"survey",container:"container"},features:[Ie],decls:10,vars:15,consts:[["role","progressbar","aria-valuemin","0","aria-valuemax","100","aria-label","progress"],[3,"class",4,"ngIf"],["role","button",3,"click"],["progressButtonsListContainer",""],[3,"class","click",4,"ngFor","ngForOf"],[3,"title"],[3,"click"],[3,"class","title",4,"ngIf"]],template:function(e,r){1&e&&(Ve(0,"div",0),ge(1,I3,3,6,"div",1),Ve(2,"div")(3,"div",2),un("click",function(){return r.clickScrollButton(!0)}),He(),Ve(4,"div",null,3)(6,"ul"),ge(7,S3,4,7,"li",4),He()(),Ve(8,"div",2),un("click",function(){return r.clickScrollButton(!1)}),He()(),ge(9,R3,3,6,"div",1),He()),2&e&&(Se(r.model.getRootCss(r.container)),oe(1),ie("ngIf",r.canShowHeader),oe(1),Se(r.survey.css.progressButtonsContainer),oe(1),Se(r.model.getScrollButtonCss(r.hasScroller,!0)),oe(1),Se(r.survey.css.progressButtonsListContainer),oe(2),Se(r.survey.css.progressButtonsList),oe(1),ie("ngForOf",r.survey.visiblePages),oe(1),Se(r.model.getScrollButtonCss(r.hasScroller,!1)),oe(1),ie("ngIf",r.canShowFooter))},directives:[Fn,ji],encapsulation:2}),t})()),pn.Instance.registerComponent("sv-navigation-toc",(()=>{class t extends vs{ngOnInit(){super.ngOnInit()}ngOnChanges(e){}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-navigation-toc"],["sv-ng-navigation-toc"]],inputs:{model:"model"},features:[Zt,Ie],decls:2,vars:0,consts:[["template",""],[3,"model",4,"ngIf"],["data-bind","key2click",3,"click",4,"ngIf"],[3,"model"],["data-bind","key2click",3,"click"],["sv-ng-svg-icon","",3,"iconName","size"],[3,"popupModel"]],template:function(e,r){1&e&&ge(0,L3,3,4,"ng-template",null,0,Kn)},directives:[Vx,Co,Zm,Fn],styles:["[_nghost-%COMP%] { display: none; }"]}),t})());let Lx=(()=>{class t extends Ur{constructor(){super(...arguments),this.trackRowBy=(e,r)=>r.id}getModel(){return this.model}ngAfterViewInit(){var e,r;(null===(e=this.panelContainerRef)||void 0===e?void 0:e.nativeElement)&&(null===(r=this.model.survey)||void 0===r||r.afterRenderPanel(this.model,this.panelContainerRef.nativeElement))}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-panel"],["","sv-ng-panel",""]],viewQuery:function(e,r){if(1&e&&Uo(F3,5,is),2&e){let i;yo(i=vo())&&(r.panelContainerRef=i.first)}},inputs:{model:"model"},features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"class","focusin",4,"ngIf"],[3,"focusin"],["panelContainer",""],["sv-ng-errors","",3,"element",4,"ngIf"],["sv-ng-element-header","",3,"element",4,"ngIf"],[3,"paddingLeft","class",4,"ngIf"],["sv-ng-errors","",3,"element"],["sv-ng-element-header","",3,"element"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"model"],[3,"component"],[3,"row"]],template:function(e,r){1&e&&ge(0,z3,1,1,"ng-template",null,0,Kn)},directives:[Xp,Dx,xx,uc,Fn,ji,pi],encapsulation:2}),t})();pn.Instance.registerComponent("panel",Lx),pn.Instance.registerComponent("sv-nav-btn",(()=>{class t{getModel(){return this.model}buttonMouseDown(){return this.model.data&&this.model.data.mouseDown()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-nav-btn"]],inputs:{model:"model"},decls:1,vars:1,consts:[["type","button",3,"value","class","disabled","mousedown","click",4,"ngIf"],["type","button",3,"value","disabled","mousedown","click"]],template:function(e,r){1&e&&ge(0,Q3,1,5,"input",0),2&e&&ie("ngIf",r.model.visible)},directives:[Fn],styles:["[_nghost-%COMP%] { display: contents; }"]}),t})()),pn.Instance.registerComponent("sv-file-preview",(()=>{class t extends vs{constructor(){super(...arguments),this.trackFilesFn=e=>this.question.inputId+"_"+e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-file-preview"]],inputs:{question:"question"},features:[Zt],decls:2,vars:0,consts:[["template",""],[4,"ngIf"],[3,"visible","class",4,"ngFor","ngForOf","ngForTrackBy"],[3,"visible"],[3,"class",4,"ngIf"],["alt","File preview",3,"height","width",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","partCss","size",4,"ngIf"],[3,"class","click",4,"ngIf"],[3,"click"],["alt","File preview"],["sv-ng-svg-icon","",3,"iconName","partCss","size"],["sv-ng-svg-icon","",3,"title","partCss","iconName","size",4,"ngIf"],["sv-ng-svg-icon","",3,"title","partCss","iconName","size"]],template:function(e,r){1&e&&ge(0,X3,1,1,"ng-template",null,0,Kn)},directives:[Co,Fn,ji,Ru],pipes:[Mx],encapsulation:2}),t})()),pn.Instance.registerComponent("matrix-question",(()=>{class t extends zo{ngOnInit(){this.model.visibleRowsChangedCallback=()=>{this.detectChanges()},super.ngOnInit()}onCellChanged(e,r){e.value=r.value,this.detectChanges()}trackRowByFn(e,r){return"column-"+r.name+"-"+e}trackColumnByFn(e,r){return"column-"+r.value+"-"+e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-matrix-question"]],features:[Zt],decls:2,vars:0,consts:[["template",""],["contentElement",""],[1,"sv-hidden"],[4,"ngIf"],[3,"class",4,"ngFor","ngForOf","ngForTrackBy"],[3,"style","class",4,"ngFor","ngForOf"],[3,"component"],[3,"model"],[3,"class","style",4,"ngIf"],["sv-ng-string","",3,"class","model","click",4,"ngFor","ngForOf"],["sv-ng-string","",3,"model","click"]],template:function(e,r){1&e&&ge(0,hj,9,8,"ng-template",null,0,Kn)},directives:[Zr,Fn,ji,pi],styles:["[_nghost-%COMP%]{display:none}"]}),t})());let Fx=(()=>{class t extends vs{get question(){return this.model&&this.model.data.question||this.data.question}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-choose-file-btn"]],inputs:{data:"data",model:"model"},features:[Zt],decls:2,vars:0,consts:[["template",""],["tabindex","0",3,"key2click"],["sv-ng-svg-icon","",3,"title","iconName","size",4,"ngIf"],["sv-ng-svg-icon","",3,"title","iconName","size"]],template:function(e,r){1&e&&ge(0,gj,4,6,"ng-template",null,0,Kn)},directives:[Co,ey,Fn],encapsulation:2}),t})();pn.Instance.registerComponent("sv-file-choose-btn",Fx);let Nx=(()=>{class t extends vs{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-loading-indicator"]],features:[Zt],decls:2,vars:0,consts:[["template",""],[1,"sd-loading-indicator"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(e,r){1&e&&ge(0,mj,2,2,"ng-template",null,0,Kn)},directives:[Co],styles:["[_nghost-%COMP%]{display:none}"]}),t})();pn.Instance.registerComponent("file-question",(()=>{class t extends zo{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-file-question"]],features:[Zt],decls:16,vars:13,consts:[["contentElement",""],["tabindex","-1","type","file",3,"class","change",4,"ngIf"],["type","file","disabled","","style","color: transparent",3,"class",4,"ngIf"],[3,"dragenter","drop","dragover","dragleave"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"model",4,"ngIf"],["fileCleanButton",""],["fileVideo",""],["tabindex","-1","type","file",3,"change"],["type","file","disabled","",2,"color","transparent"],["sv-ng-string","",3,"model"],[3,"data",4,"ngIf"],[3,"data"],[3,"model"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"component"],["type","button",3,"click"],["sv-ng-svg-icon","",3,"iconName","size","title",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size","title"],["autoplay","","playsinline",""]],template:function(e,r){1&e&&(Ve(0,"div",null,0),ge(2,yj,1,11,"input",1),ge(3,vj,1,5,"input",2),Ve(4,"div",3),un("dragenter",function(p){return r.model.onDragEnter(p)})("drop",function(p){return r.model.onDrop(p)})("dragover",function(p){return r.model.onDragOver(p)})("dragleave",function(p){return r.model.onDragLeave(p)}),ge(5,Ej,6,10,"div",4),ge(6,xj,3,2,"ng-container",5),ge(7,wj,2,1,"ng-container",5),ge(8,Ij,2,4,"ng-container",5),ge(9,Sj,2,5,"ng-container",5),ge(10,Aj,2,4,"ng-container",5),ge(11,Vj,1,1,"sv-action-bar",6),He()(),ge(12,Fj,4,4,"ng-template",null,7,Kn),ge(14,Nj,5,8,"ng-template",null,8,Kn)),2&e&&(Se(r.model.fileRootCss),oe(2),ie("ngIf",!r.model.isReadOnly&&r.model.hasFileUI),oe(1),ie("ngIf",r.model.isReadOnly),oe(1),Se(r.model.cssClasses.dragArea),oe(1),ie("ngIf",r.model.showFileDecorator),oe(1),ie("ngIf",r.model.showLoadingIndicator),oe(1),ie("ngIf",r.model.isPlayingVideo),oe(1),ie("ngIf",r.model.showRemoveButton),oe(1),ie("ngIf",r.model.allowShowPreview),oe(1),ie("ngIf",r.model.showRemoveButtonBottom),oe(1),ie("ngIf",r.model.fileNavigatorVisible))},directives:[Zr,Fx,uc,Nx,Co,GC,Fn,ac,pi],encapsulation:2}),t})()),pn.Instance.registerComponent("comment-question",(()=>{class t extends zo{onChange(e){this.model.value=e.target.value}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-question-comment"]],features:[Zt],decls:3,vars:3,consts:[[3,"readonly","id","class","value","resize","input","keydown","change",4,"ngIf"],[3,"counter","remainingCharacterCounter",4,"ngIf"],[4,"ngIf"],[3,"readonly","id","value","input","keydown","change"],["contentElement",""],[3,"counter","remainingCharacterCounter"]],template:function(e,r){1&e&&(ge(0,Bj,2,17,"textarea",0),ge(1,jj,1,2,"sv-ng-character-counter",1),ge(2,Hj,3,1,"div",2)),2&e&&(ie("ngIf",!r.model.isReadOnlyRenderDiv()),oe(1),ie("ngIf",!r.model.isReadOnlyRenderDiv()&&r.model.getMaxLength()),oe(1),ie("ngIf",r.model.isReadOnlyRenderDiv()))},directives:[YC,Fn],encapsulation:2}),t})()),pn.Instance.registerComponent("signaturepad-question",(()=>{class t extends zo{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-signature-component"]],features:[Zt],decls:8,vars:13,consts:[["contentElement",""],["sv-ng-string","",3,"visible","model"],[3,"src","width","class",4,"ngIf"],["tabindex","-1",3,"blur"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"src"],["type","button",3,"title","click"],["sv-ng-svg-icon","",3,"iconName","size",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(e,r){1&e&&(Ve(0,"div",null,0),ut(2,"div",1),Ve(3,"div"),ge(4,Uj,1,5,"img",2),Ve(5,"canvas",3),un("blur",function(p){return r.model.onBlur(p)}),He()(),ge(6,zj,4,7,"div",4),ge(7,Qj,3,2,"ng-container",5),He()),2&e&&(Se(r.model.cssClasses.root),so("width",r.model.renderedCanvasWidth),oe(2),Se(r.model.cssClasses.placeholder),ie("visible",r.model.needShowPlaceholder())("model",r.model.locPlaceholder),oe(2),ie("ngIf",!!r.model.backgroundImage),oe(1),Se(r.model.cssClasses.canvas),oe(1),ie("ngIf",r.model.canShowClearButton),oe(1),ie("ngIf",r.model.showLoadingIndicator))},directives:[Zr,Co,Nx,Ru,Fn],encapsulation:2}),t})());let fU=(()=>{class t extends Ur{getModel(){return this.model.isErrorsCell?null:this.model.item.editor}get item(){return this.model.item}get editor(){return this.model.item.editor}ngDoCheck(){super.ngDoCheck(),this.model.isErrorsCell&&this.editor.registerFunctionOnPropertyValueChanged("errors",()=>{this.update()},"__ngSubscription")}ngOnDestroy(){super.ngOnDestroy(),this.model.isErrorsCell&&this.editor.unRegisterFunctionOnPropertyValueChanged("errors","__ngSubscription")}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["","sv-ng-multipletext-item",""]],inputs:{question:"question",model:"model"},features:[Zt],attrs:kj,decls:2,vars:2,consts:[[4,"ngIf"],[3,"class",4,"ngIf"],[3,"model"],["aria-hidden","true",3,"class",4,"ngIf"],[3,"focusin"],["aria-hidden","true"],["sv-ng-errors","",3,"element",4,"ngIf"],["sv-ng-errors","",3,"element"]],template:function(e,r){1&e&&(ge(0,Gj,9,16,"ng-container",0),ge(1,Yj,2,1,"ng-container",0)),2&e&&(ie("ngIf",!r.model.isErrorsCell),oe(1),ie("ngIf",r.model.isErrorsCell))},directives:[Zr,Sx,Xp,Fn],encapsulation:2}),t})(),dU=(()=>{class t extends Ur{getModel(){return this.model}trackItemBy(e,r){return"item"+r.item.editor.id}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-multipletext-row"]],inputs:{question:"question",model:"model"},features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"class",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["sv-ng-multipletext-item","",3,"question","model"]],template:function(e,r){1&e&&ge(0,e4,1,1,"ng-template",null,0,Kn)},directives:[fU,Fn,ji],styles:["[_nghost-%COMP%]{display:none}"]}),t})();pn.Instance.registerComponent("multipletext-question",(()=>{class t extends zo{constructor(){super(...arguments),this.trackRowBy=e=>this.model.inputId+"rowkey"+e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-multipletext-question"]],features:[Zt],decls:4,vars:4,consts:[["contentElement",""],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"model","question"]],template:function(e,r){1&e&&(Ve(0,"table",null,0)(2,"tbody"),ge(3,t4,2,2,"ng-container",1),He()()),2&e&&(Se(r.model.getQuestionRootCss()),oe(3),ie("ngForOf",r.model.getRows())("ngForTrackBy",r.trackRowBy))},directives:[dU,ji],encapsulation:2}),t})()),pn.Instance.registerComponent("ranking-question",(()=>{class t extends Xm{constructor(){super(...arguments),this.inputType="",this.trackItemBy=(e,r)=>r.value+"-"+e+"-item"}getDefaultComponentName(){return"sv-ng-ranking-item"}getItemValueComponentData(e,r,i){const p=super.getItemValueComponentData(e);return p.componentData.index=r,p.componentData.unrankedItem=i,p}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-ranking-question"]],features:[Zt],decls:2,vars:2,consts:[[3,"class",4,"ngIf"],["contentElement",""],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"component"],["data-ranking","from-container"],["sv-ng-string","",3,"class","model",4,"ngIf"],["data-ranking","to-container"],["sv-ng-string","",3,"model"]],template:function(e,r){1&e&&(ge(0,i4,3,4,"div",0),ge(1,f4,9,14,"div",0)),2&e&&(ie("ngIf",!r.model.selectToRankEnabled),oe(1),ie("ngIf",r.model.selectToRankEnabled))},directives:[Zr,Fn,ji,pi],encapsulation:2}),t})()),pn.Instance.registerComponent("sv-ng-ranking-item",(()=>{class t extends Ur{getModel(){return this.model}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-ranking-item"]],inputs:{question:"question",model:"model",index:"index",unrankedItem:"unrankedItem"},features:[Zt],decls:14,vars:21,consts:[[3,"keydown","pointerdown"],["tabindex","-1",2,"outline","none"],[3,"class",4,"ngIf","ngIfElse"],["elseBlock",""],[3,"model"]],template:function(e,r){if(1&e&&(Ve(0,"div",0),un("keydown",function(p){return r.question.handleKeydown(p,r.model)})("pointerdown",function(p){return r.question.handlePointerDown(p,r.model,p.currentTarget)}),Ve(1,"div",1),ut(2,"div"),Ve(3,"div")(4,"div"),Er(),Ve(5,"svg"),ut(6,"use"),He(),Ve(7,"svg"),ut(8,"use"),He()(),ge(9,d4,2,3,"div",2),ge(10,h4,3,3,"ng-template",null,3,Kn),Sa(),Ve(12,"div"),ut(13,"sv-ng-string",4),He()()()()),2&e){const i=oo(11);Se(r.question.getItemClass(r.model)),mn("tabindex",r.question.getItemTabIndex(r.model))("data-sv-drop-target-ranking-item",r.index),oe(2),Se(r.question.cssClasses.itemGhostNode),oe(1),Se(r.question.cssClasses.itemContent),oe(1),Se(r.question.cssClasses.itemIconContainer),oe(1),Se(r.question.getIconHoverCss()),oe(1),mn("href",r.question.dragDropSvgIcon,null,"xlink"),oe(1),Se(r.question.getIconFocusCss()),oe(1),mn("href",r.question.arrowsSvgIcon,null,"xlink"),oe(1),ie("ngIf",!r.unrankedItem&&r.question.getNumberByIndex(r.index))("ngIfElse",i),oe(3),Se(r.question.cssClasses.controlLabel),oe(1),ie("model",r.model.locText)}},directives:[Zr,Fn],encapsulation:2}),t})()),pn.Instance.registerComponent(Ti.LocalizableString.editableRenderer,(()=>{class t{constructor(){this.onInput=e=>{this.model.text=e.target.innerText},this.onClick=e=>{e.preventDefault(),e.stopPropagation()}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-string-editor"]],inputs:{model:"model"},decls:2,vars:2,consts:[["class","sv-string-editor","contenteditable","true",3,"innerHtml","blur","click",4,"ngIf"],["class","sv-string-editor","contenteditable","true",3,"blur","click",4,"ngIf"],["contenteditable","true",1,"sv-string-editor",3,"innerHtml","blur","click"],["contenteditable","true",1,"sv-string-editor",3,"blur","click"]],template:function(e,r){1&e&&(ge(0,p4,1,1,"span",0),ge(1,g4,2,1,"span",1)),2&e&&(ie("ngIf",r.model.hasHtml),oe(1),ie("ngIf",!r.model.hasHtml))},directives:[Fn],encapsulation:2}),t})());let tg=(()=>{class t{get question(){return this.model&&this.model.data.question||this.data.question}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["ng-component"]],inputs:{data:"data",model:"model"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})(),Bx=(()=>{class t extends tg{addPanelClick(){this.question.addPanelUI()}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-paneldynamic-add-btn"]],features:[Zt],decls:1,vars:1,consts:[["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],[3,"model"]],template:function(e,r){1&e&&ge(0,m4,3,5,"button",0),2&e&&ie("ngIf",r.question.canAddPanel)},directives:[Zr,Fn],encapsulation:2}),t})();pn.Instance.registerComponent("sv-paneldynamic-add-btn",Bx);let jx=(()=>{class t extends tg{nextPanelClick(){this.question.goToNextPanel()}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-paneldynamic-next-btn"]],features:[Zt],decls:2,vars:5,consts:[[3,"click"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(e,r){1&e&&(Ve(0,"div",0),un("click",function(){return r.nextPanelClick()}),Er(),ut(1,"svg",1),He()),2&e&&(Se(r.question.getNextButtonCss()),mn("title",r.question.panelNextText),oe(1),ie("iconName",r.question.cssClasses.progressBtnIcon)("size","auto"))},directives:[Co],encapsulation:2}),t})();pn.Instance.registerComponent("sv-paneldynamic-next-btn",jx);let Hx=(()=>{class t extends tg{prevPanelClick(){this.question.goToPrevPanel()}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-paneldynamic-prev-btn"]],features:[Zt],decls:2,vars:5,consts:[[3,"click"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(e,r){1&e&&(Ve(0,"div",0),un("click",function(){return r.prevPanelClick()}),Er(),ut(1,"svg",1),He()),2&e&&(Se(r.question.getPrevButtonCss()),mn("title",r.question.panelPrevText),oe(1),ie("iconName",r.question.cssClasses.progressBtnIcon)("size","auto"))},directives:[Co],encapsulation:2}),t})();pn.Instance.registerComponent("sv-paneldynamic-prev-btn",Hx),pn.Instance.registerComponent("sv-paneldynamic-remove-btn",(()=>{class t extends tg{get panel(){return(this.data?this.data:this.model.data).panel}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-paneldynamic-remove-btn"]],features:[Zt],decls:4,vars:7,consts:[["type","button",3,"click"],[3,"model"]],template:function(e,r){1&e&&(Ve(0,"button",0),un("click",function(){return r.question.removePanelUI(r.panel)}),Ve(1,"span"),ut(2,"sv-ng-string",1),He(),ut(3,"span"),He()),2&e&&(Se(r.question.getPanelRemoveButtonCss()),oe(1),Se(r.question.cssClasses.buttonRemoveText),oe(1),ie("model",r.question.locPanelRemoveText),oe(1),Se(r.question.cssClasses.iconRemove))},directives:[Zr],encapsulation:2}),t})());let Ux=(()=>{class t extends tg{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-paneldynamic-progress-text"]],features:[Zt],decls:2,vars:3,template:function(e,r){1&e&&(Ve(0,"div"),Bn(1),He()),2&e&&(Se(r.question.cssClasses.progressText),oe(1),Jn(r.question.progressText))},encapsulation:2}),t})();pn.Instance.registerComponent("sv-paneldynamic-progress-text",Ux),pn.Instance.registerComponent("paneldynamic-question",(()=>{class t extends zo{get renderedPanels(){if(this.model.isRenderModeList)return this.model.visiblePanels;const e=[];return this.model.currentPanel&&e.push(this.model.currentPanel),e}onModelChanged(){super.onModelChanged(),this.model.panelCountChangedCallback=()=>{this.update()},this.model.currentIndexChangedCallback=()=>{this.update()},this.model.renderModeChangedCallback=()=>{this.update()}}get progressCssClass(){return this.model.isProgressTopShowing?this.model.cssClasses.progressTop:this.model.cssClasses.progressBottom}ngOnDestroy(){this.model.panelCountChangedCallback=()=>{},this.model.currentIndexChangedCallback=()=>{},this.model.renderModeChangedCallback=()=>{},super.ngOnDestroy()}getPanelComponentName(e){const r=this.surveyModel;if(r){const i=r.getElementWrapperComponentName(e);if(i)return i}return"panel"}getPanelComponentData(e){const r=this.surveyModel;let i;return r&&(i=r.getElementWrapperComponentData(e)),{componentName:"panel",componentData:{model:e,data:i}}}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-paneldynamic-question"]],features:[Zt],decls:13,vars:9,consts:[["contentElement",""],[3,"class",4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"data",4,"ngIf"],["progressV2",""],["progress",""],["sv-ng-string","",3,"model"],[3,"data"],["role","progressbar"],[3,"ngTemplateOutlet"],[3,"component"],[4,"ngIf"],[3,"model"],[2,"clear","both"]],template:function(e,r){1&e&&(Ve(0,"div",null,0),ge(2,y4,3,6,"div",1),ge(3,v4,2,8,"div",1),ge(4,C4,1,1,"ng-container",2),ge(5,D4,5,8,"ng-container",3),ge(6,I4,1,1,"ng-container",2),ge(7,O4,1,3,"sv-ng-paneldynamic-add-btn",4),ge(8,M4,1,1,"ng-container",2),He(),ge(9,V4,1,1,"ng-template",null,5,Kn),ge(11,F4,8,19,"ng-template",null,6,Kn)),2&e&&(Se(r.model.cssClasses.root),oe(2),ie("ngIf",r.model.getShowNoEntriesPlaceholder()),oe(1),ie("ngIf",!r.model.showLegacyNavigation&&r.model.isProgressTopShowing&&r.model.isRangeShowing),oe(1),ie("ngIf",r.model.showLegacyNavigation&&r.model.isProgressTopShowing),oe(1),ie("ngForOf",r.renderedPanels),oe(1),ie("ngIf",r.model.showLegacyNavigation&&r.model.isProgressBottomShowing),oe(1),ie("ngIf",r.model.showLegacyNavigation&&r.model.isRenderModeList),oe(1),ie("ngIf",r.model.showNavigation))},directives:[Zr,Bx,uc,Hx,jx,Ux,Fn,ac,ji,pi],encapsulation:2}),t})()),pn.Instance.registerComponent(Ti.SurveyModel.TemplateRendererComponentName,(()=>{class t extends vs{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-template-renderer"]],inputs:{componentName:"componentName",componentData:"componentData",contentTempl:"contentTempl"},features:[Zt],decls:2,vars:0,consts:[["template",""],[4,"ngIf"],[3,"component"],[4,"ngTemplateOutlet"]],template:function(e,r){1&e&&ge(0,U4,2,2,"ng-template",null,0,Kn)},directives:[Fn,pi,ac],styles:["[_nghost-%COMP%]{display:none}"]}),t})());let bU=(()=>{class t{get hasDefaultRender(){return this.model.customWidget.isDefaultRender||this.hasAngularComponent}get hasHtml(){return!!this.model.customWidget.htmlTemplate}get customHtml(){return this.model.customWidget.htmlTemplate}get hasAngularComponent(){return pn.Instance.isComponentRegistered(this.model.customWidget.name)}get componentName(){return this.hasAngularComponent?this.model.customWidget.name:this.model.getTemplate()+"-question"}ngAfterViewInit(){this.model.customWidget.afterRender(this.model,this.container.nativeElement)}ngOnChanges(e){void 0!==e.model.previousValue&&void 0!==e.model.currentValue&&this.model.customWidget.afterRender(this.model,this.container.nativeElement)}ngOnDestroy(){this.model.customWidget.willUnmount(this.model,this.container.nativeElement)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-custom-widget"]],viewQuery:function(e,r){if(1&e&&Uo(W4,5),2&e){let i;yo(i=vo())&&(r.container=i.first)}},inputs:{css:"css",model:"model"},features:[Ie],decls:4,vars:2,consts:[["content",""],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],[3,"component"]],template:function(e,r){1&e&&(Ve(0,"div",null,0),ge(2,_4,2,3,"div",1),ge(3,k4,2,7,"ng-container",2),He()),2&e&&(oe(2),ie("ngIf",r.hasHtml),oe(1),ie("ngIf",r.hasDefaultRender))},directives:[Fn,pi],pipes:[Ym],encapsulation:2}),t})();pn.Instance.registerComponent("survey-customwidget",bU),pn.Instance.registerComponent("survey-matrix-cell",(()=>{class t extends Ur{getModel(){return this.row.item}onChange(){this.cellChangedOwner.onCellChanged(this.row,this.column)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-matrix-cell"],["","sv-ng-matrix-cell",""]],inputs:{question:"question",column:"column",row:"row",columnIndex:"columnIndex",cellChangedOwner:"cellChangedOwner"},features:[Zt],ngContentSelectors:Gm,decls:6,vars:17,consts:[[3,"mousedown"],["type","radio",3,"name","value","checked","disabled","change"],[3,"class",4,"ngIf"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-string","",3,"model"]],template:function(e,r){1&e&&(Op(),Ve(0,"label",0),un("mousedown",function(){return r.question.onMouseDown()}),Ve(1,"input",1),un("change",function(){return r.onChange()}),He(),Ve(2,"span"),ge(3,K4,2,3,"svg",2),He(),ge(4,q4,1,3,"span",3),He(),Mp(5)),2&e&&(Se(r.question.getItemClass(r.row,r.column)),oe(1),Se(r.question.cssClasses.itemValue),ie("name",r.row.fullName)("value",r.column.value)("checked",r.row.value===r.column.value)("disabled",r.row.isReadOnly),mn("id",r.question.inputId+"_"+r.row.name+"_"+r.columnIndex)("aria-required",r.question.a11y_input_ariaRequired)("aria-label",r.question.getCellAriaLabel(r.row.locText.renderedHtml,r.column.locText.renderedHtml))("aria-invalid",r.question.a11y_input_ariaInvalid)("aria-describedby",r.question.a11y_input_ariaDescribedBy),oe(1),Se(r.question.cssClasses.materialDecorator),oe(1),ie("ngIf",r.question.itemSvgIcon),oe(1),ie("ngIf",r.question.isMobile))},directives:[Zr,Fn],encapsulation:2}),t})());let Wx=(()=>{class t extends vs{get question(){return this.model.data.question}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-matrix-drag-drop-icon"]],inputs:{model:"model"},features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"class",4,"ngIf"],["data-bind","css: question.cssClasses.iconDrag",4,"ngIf"],["data-bind","css: question.cssClasses.iconDrag"]],template:function(e,r){1&e&&ge(0,J4,2,2,"ng-template",null,0,Kn)},directives:[Fn],styles:["[_nghost-%COMP%]{display:none}"]}),t})();pn.Instance.registerComponent("sv-matrix-drag-drop-icon",Wx);let _x=(()=>{class t extends Ur{getModel(){return this.cell.hasQuestion?this.cell.question:this.cell.column?this.cell.column:null}get row(){return this.cell.row}ngDoCheck(){var e;super.ngDoCheck(),this.cell.isErrorsCell&&(null===(e=this.cell)||void 0===e?void 0:e.question)&&this.cell.question.registerFunctionOnPropertyValueChanged("errors",()=>{this.update()},"__ngSubscription")}get panelComponentName(){const e=this.cell.panel,r=e.survey;if(r){const i=r.getElementWrapperComponentName(e);if(i)return i}return"panel"}get panelComponentData(){const e=this.cell.panel,r=e.survey;let i;return r&&(i=r.getElementWrapperComponentData(e)),{componentName:"panel",componentData:{model:e,data:i}}}getComponentName(e){return JC(e)}getHeaders(){return this.cell.headers}getCellStyle(){return this.cell.width||this.cell.minWidth?{width:this.cell.width,minWidth:this.cell.minWidth}:null}get isRequiredCell(){return!!this.cell.column&&this.cell.column.isRenderedRequired}ngAfterViewInit(){if(!this.cell.hasQuestion||!this.question||!this.question.survey)return;const e=this.cellContainer.nativeElement,r=this.cell.question;this.question.survey.matrixAfterCellRender(this.question,{cell:this.cell.cell,cellQuestion:r,htmlElement:e,row:this.cell.row,column:this.cell.cell.column}),r.afterRenderCore(e)}ngOnDestroy(){var e;super.ngOnDestroy(),this.cell.isErrorsCell&&(null===(e=this.cell)||void 0===e?void 0:e.question)&&this.cell.question.unRegisterFunctionOnPropertyValueChanged("errors","__ngSubscription")}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-matrixdropdown-cell"]],viewQuery:function(e,r){if(1&e&&Uo(Y4,5),2&e){let i;yo(i=vo())&&(r.cellContainer=i.first)}},inputs:{question:"question",cell:"cell"},features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"title","focusin"],["cellContainer",""],[3,"model",4,"ngIf"],[3,"model","handleClick",4,"ngIf"],[4,"ngIf"],["sv-ng-errors","",3,"element",4,"ngIf"],[3,"class","visible",4,"ngIf"],[3,"model"],[3,"model","handleClick"],[3,"component"],["sv-ng-errors","",3,"element"],[3,"visible"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],[3,"showLabel","inputType","question","model"],["sv-ng-comment-other","",3,"question"],[3,"class",4,"ngIf"]],template:function(e,r){1&e&&ge(0,m6,8,13,"ng-template",null,0,Kn)},directives:[Wx,uc,Xp,Rx,ud,Zr,Fn,pi,Ru],styles:["[_nghost-%COMP%] { display: none; }"]}),t})(),EU=(()=>{class t extends Ur{getModel(){return this.column}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-matrixheaderrequired"]],inputs:{column:"column",question:"question"},features:[Zt],decls:2,vars:0,consts:[["template",""],[4,"ngIf"]],template:function(e,r){1&e&&ge(0,v6,1,1,"ng-template",null,0,Kn)},directives:[Fn],styles:["[_nghost-%COMP%] { display: none; }"]}),t})(),xU=(()=>{class t extends Ur{getModel(){return this.model}get row(){return this.model.row}trackCellBy(e,r){return r.id}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-matrix-row"]],inputs:{model:"model",question:"question"},features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"class","pointerdown",4,"ngIf"],[3,"pointerdown"],[3,"cell","question",4,"ngFor","ngForOf","ngForTrackBy"],[3,"cell","question"]],template:function(e,r){1&e&&ge(0,P6,1,1,"ng-template",null,0,Kn)},directives:[_x,Fn,ji],styles:["[_nghost-%COMP%] { display: none; }"]}),t})(),zx=(()=>{class t extends Ur{getModel(){return this.table}trackCellBy(e,r){return r.id}trackRowBy(e,r){return r.id}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-matrix-table"]],inputs:{question:"question",table:"table"},features:[Zt],decls:7,vars:12,consts:[["contentElement",""],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"class","style",4,"ngIf"],[3,"component"],[3,"model"],[3,"column","question",4,"ngIf"],[3,"column","question"],[3,"model","question"],[3,"cell","question",4,"ngFor","ngForOf","ngForTrackBy"],[3,"cell","question"]],template:function(e,r){1&e&&(Ve(0,"div",null,0)(2,"table"),ge(3,I6,3,2,"thead",1),Ve(4,"tbody"),ge(5,O6,2,2,"ng-container",2),He(),ge(6,S6,3,2,"tfoot",1),He()()),2&e&&(Fr(jn(10,R6,r.question.showHorizontalScroll?"scroll":"")),Se(r.question.cssClasses.tableWrapper),oe(2),Se(r.question.getTableCss()),oe(1),ie("ngIf",r.table.showHeader),oe(2),ie("ngForOf",r.table.rows)("ngForTrackBy",r.trackRowBy),oe(1),ie("ngIf",r.table.showFooter))},directives:[Zr,EU,xU,_x,Fn,ji,pi],encapsulation:2}),t})();pn.Instance.registerComponent("matrixdropdown-question",(()=>{class t extends zo{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-matrixdropdown-question"]],features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"question","table",4,"ngIf"],[3,"question","table"]],template:function(e,r){1&e&&ge(0,V6,1,1,"ng-template",null,0,Kn)},directives:[zx,Fn],encapsulation:2}),t})()),pn.Instance.registerComponent("matrixdynamic-question",(()=>{class t extends zo{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-matrixdynamic-question"]],features:[Zt],decls:2,vars:0,consts:[["template",""],["contentElement",""],[3,"class",4,"ngIf"],[3,"question","table",4,"ngIf"],["addRowButton",""],[4,"ngTemplateOutlet"],[3,"question","table"],["sv-ng-string","",3,"model"],[4,"ngIf"],["type","button",3,"click"],[3,"model"]],template:function(e,r){1&e&&ge(0,z6,8,4,"ng-template",null,0,Kn)},directives:[zx,Zr,Fn,ac],encapsulation:2}),t})()),pn.Instance.registerComponent("sv-matrix-remove-button",(()=>{class t{get question(){return this.model.data.question}get row(){return this.model.data.row}getModel(){return this.model}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-matrix-remove-btn"]],inputs:{model:"model"},decls:3,vars:6,consts:[["type","button",3,"disabled","click"],[3,"model"]],template:function(e,r){1&e&&(Ve(0,"button",0),un("click",function(){return r.question.removeRowUI(r.row)}),ut(1,"sv-ng-string",1)(2,"span"),He()),2&e&&(Se(r.question.getRemoveRowButtonCss()),ie("disabled",r.question.isInputReadOnly),oe(1),ie("model",r.question.locRemoveRowText),oe(1),Se(r.question.cssClasses.iconRemove))},directives:[Zr],encapsulation:2}),t})()),pn.Instance.registerComponent("sv-matrix-detail-button",(()=>{class t{get question(){return this.model.data.question}get row(){return this.model.data.row}getModel(){return this.model}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-matrix-detail-btn"]],inputs:{model:"model"},decls:2,vars:8,consts:[["type","button",3,"click"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(e,r){1&e&&(Ve(0,"button",0),un("click",function(){return r.row.showHideDetailPanelClick()}),Er(),ut(1,"svg",1),He()),2&e&&(Se(r.question.getDetailPanelButtonCss(r.row)),mn("aria-expanded",r.question.getIsDetailPanelShowing(r.row)?"true":"false")("aria-controls",r.question.getIsDetailPanelShowing(r.row)?r.row.detailPanelId:null),oe(1),Se(r.question.getDetailPanelIconCss(r.row)),ie("iconName",r.question.getDetailPanelIconId(r.row))("size","auto"))},directives:[Co],encapsulation:2}),t})()),pn.Instance.registerComponent("expression-question",(()=>{class t extends zo{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-expression"]],features:[Zt],decls:3,vars:3,consts:[["contentElement",""]],template:function(e,r){1&e&&(Ve(0,"div",null,0),Bn(2),He()),2&e&&(Se(r.model.cssClasses.root),oe(2),Jn(r.model.formatedValue))},encapsulation:2}),t})()),pn.Instance.registerComponent("image-question",(()=>{class t extends zo{ngAfterViewInit(){this.model.locImageLink.onChanged=()=>{this.detectChanges()},super.ngAfterViewInit()}ngOnDestroy(){this.model.locImageLink.onChanged=()=>{},super.ngOnDestroy()}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-image-question"]],features:[Zt],decls:6,vars:6,consts:[["contentElement",""],[3,"visible","class","style","load","error",4,"ngIf"],["controls","",3,"visible","class","style","loadedmetadata","error",4,"ngIf"],[3,"class","style",4,"ngIf"],[3,"class",4,"ngIf"],[3,"visible","load","error"],["controls","",3,"visible","loadedmetadata","error"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(e,r){1&e&&(Ve(0,"div",null,0),ge(2,Q6,1,13,"img",1),ge(3,k6,1,12,"video",2),ge(4,K6,2,13,"iframe",3),ge(5,q6,2,4,"div",4),He()),2&e&&(Se(r.model.cssClasses.root),oe(2),ie("ngIf","image"===r.model.renderedMode),oe(1),ie("ngIf","video"===r.model.renderedMode),oe(1),ie("ngIf","youtube"===r.model.renderedMode),oe(1),ie("ngIf",!r.model.locImageLink.renderedHtml||r.model.contentNotLoaded))},directives:[Co,Fn,Ru],pipes:[RH],encapsulation:2}),t})()),pn.Instance.registerComponent("custom-question",(()=>{class t extends zo{get contentQuestion(){return this.model.contentQuestion}getComponentName(e){return JC(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-custom-question"]],features:[Zt],decls:1,vars:6,consts:[[3,"component"]],template:function(e,r){1&e&&ge(0,$6,0,0,"ng-template",0),2&e&&ie("component",Hn(3,ar,r.getComponentName(r.contentQuestion),jn(1,cf,r.contentQuestion)))},directives:[pi],encapsulation:2}),t})()),pn.Instance.registerComponent("composite-question",(()=>{class t extends zo{get contentPanel(){return this.model.contentPanel}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-composite-question"]],features:[Zt],decls:1,vars:1,consts:[[3,"model"]],template:function(e,r){1&e&&ut(0,"sv-ng-panel",0),2&e&&ie("model",r.contentPanel)},directives:[Lx],encapsulation:2}),t})());let Qx=(()=>{class t extends vs{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-header-cell"]],viewQuery:function(e,r){if(1&e&&Uo(kC,7,Io),2&e){let i;yo(i=vo())&&(r.actionContent=i.first)}},inputs:{model:"model"},features:[Zt],decls:2,vars:0,consts:[["template",""],[1,"sv-header__cell-content"],["class","sv-header__logo",4,"ngIf"],["class","sv-header__title",3,"style",4,"ngIf"],["class","sv-header__description",3,"style",4,"ngIf"],[1,"sv-header__logo"],[3,"component"],[1,"sv-header__title"],[3,"element"],[1,"sv-header__description"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-string","",3,"model"]],template:function(e,r){1&e&&ge(0,eH,5,9,"ng-template",null,0,Kn)},directives:[Zp,Zr,Fn,pi],styles:["[_nghost-%COMP%] { display: none; }"]}),t})();pn.Instance.registerComponent("sv-header-cell",Qx);let kx=(()=>{class t extends vs{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-ng-header-mobile"]],viewQuery:function(e,r){if(1&e&&Uo(kC,7,Io),2&e){let i;yo(i=vo())&&(r.actionContent=i.first)}},inputs:{model:"model"},features:[Zt],decls:2,vars:0,consts:[["template",""],[1,"sv-header--mobile"],["class","sv-header__logo",4,"ngIf"],["class","sv-header__title",3,"style",4,"ngIf"],["class","sv-header__description",3,"style",4,"ngIf"],[1,"sv-header__logo"],[3,"component"],[1,"sv-header__title"],[3,"element"],[1,"sv-header__description"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-string","",3,"model"]],template:function(e,r){1&e&&ge(0,sH,4,3,"ng-template",null,0,Kn)},directives:[Zp,Zr,Fn,pi],styles:["[_nghost-%COMP%] { display: none; }"]}),t})();pn.Instance.registerComponent("sv-header-cell",kx),pn.Instance.registerComponent("sv-header",(()=>{class t extends Ur{getModel(){return this.model.survey=this.survey,this.model}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=rn(t)))(r||t)}}(),t.\u0275cmp=Wt({type:t,selectors:[["sv-header"],["sv-ng-header"]],viewQuery:function(e,r){if(1&e&&Uo(KC,5),2&e){let i;yo(i=vo())&&(r.container=i.first)}},inputs:{model:"model",survey:"survey"},features:[Zt],decls:2,vars:0,consts:[["template",""],[3,"class","style",4,"ngIf"],[3,"style","class",4,"ngIf"],[3,"class","width",4,"ngIf"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"model"]],template:function(e,r){1&e&&ge(0,hH,1,1,"ng-template",null,0,Kn)},directives:[Qx,kx,Fn,ji],styles:["[_nghost-%COMP%] { display: none }"]}),t})());let VU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$o({type:t}),t.\u0275inj=Nr({providers:[Px],imports:[[zE,FV]]}),t})();var LU=j(1838);function Rr(...t){return yi(t,na(t))}function Ah(t,n){return x(n)?wi(t,n,1):wi(t,1)}function cd(t,n){return je((e,r)=>{let i=0;e.subscribe(new ft(r,p=>t.call(n,p,i++)&&r.next(p)))})}class Kx{}class qx{}class cc{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),p=i.toLowerCase(),S=e.slice(r+1).trim();this.maybeSetNormalizedName(i,p),this.headers.has(p)?this.headers.get(p).push(S):this.headers.set(p,[S])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let r=n[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof cc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new cc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof cc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const i=("a"===n.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const p=n.value;if(p){let S=this.headers.get(e);if(!S)return;S=S.filter(W=>-1===p.indexOf(W)),0===S.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,S)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class FU{encodeKey(n){return $x(n)}encodeValue(n){return $x(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const BU=/%(\d[a-f0-9])/gi,jU={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function $x(t){return encodeURIComponent(t).replace(BU,(n,e)=>{var r;return null!==(r=jU[e])&&void 0!==r?r:n})}function Gx(t){return`${t}`}class pf{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new FU,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function NU(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const p=i.indexOf("="),[S,W]=-1==p?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,p)),n.decodeValue(i.slice(p+1))],K=e.get(S)||[];K.push(W),e.set(S,K)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(p=>{e.push({param:r,value:p,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new pf({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(Gx(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(Gx(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class HU{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function Jx(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Yx(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Zx(t){return"undefined"!=typeof FormData&&t instanceof FormData}class ng{constructor(n,e,r,i){let p;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function UU(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,p=i):p=r,p&&(this.reportProgress=!!p.reportProgress,this.withCredentials=!!p.withCredentials,p.responseType&&(this.responseType=p.responseType),p.headers&&(this.headers=p.headers),p.context&&(this.context=p.context),p.params&&(this.params=p.params)),this.headers||(this.headers=new cc),this.context||(this.context=new HU),this.params){const S=this.params.toString();if(0===S.length)this.urlWithParams=e;else{const W=e.indexOf("?");this.urlWithParams=e+(-1===W?"?":W<e.length-1?"&":"")+S}}else this.params=new pf,this.urlWithParams=e}serializeBody(){return null===this.body?null:Jx(this.body)||Yx(this.body)||Zx(this.body)||function WU(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof pf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Zx(this.body)?null:Yx(this.body)?this.body.type||null:Jx(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof pf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var e;const r=n.method||this.method,i=n.url||this.url,p=n.responseType||this.responseType,S=void 0!==n.body?n.body:this.body,W=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,K=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let ne=n.headers||this.headers,de=n.params||this.params;const be=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(ne=Object.keys(n.setHeaders).reduce((Ae,We)=>Ae.set(We,n.setHeaders[We]),ne)),n.setParams&&(de=Object.keys(n.setParams).reduce((Ae,We)=>Ae.set(We,n.setParams[We]),de)),new ng(r,i,S,{params:de,headers:ne,context:be,reportProgress:K,responseType:p,withCredentials:W})}}var Qo=(()=>((Qo=Qo||{})[Qo.Sent=0]="Sent",Qo[Qo.UploadProgress=1]="UploadProgress",Qo[Qo.ResponseHeader=2]="ResponseHeader",Qo[Qo.DownloadProgress=3]="DownloadProgress",Qo[Qo.Response=4]="Response",Qo[Qo.User=5]="User",Qo))();class ZC{constructor(n,e=200,r="OK"){this.headers=n.headers||new cc,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class XC extends ZC{constructor(n={}){super(n),this.type=Qo.ResponseHeader}clone(n={}){return new XC({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class ty extends ZC{constructor(n={}){super(n),this.type=Qo.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new ty({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Xx extends ZC{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function eb(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let eT=(()=>{class t{constructor(e){this.handler=e}request(e,r,i={}){let p;if(e instanceof ng)p=e;else{let K,ne;K=i.headers instanceof cc?i.headers:new cc(i.headers),i.params&&(ne=i.params instanceof pf?i.params:new pf({fromObject:i.params})),p=new ng(e,r,void 0!==i.body?i.body:null,{headers:K,context:i.context,params:ne,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const S=Rr(p).pipe(Ah(K=>this.handler.handle(K)));if(e instanceof ng||"events"===i.observe)return S;const W=S.pipe(cd(K=>K instanceof ty));switch(i.observe||"body"){case"body":switch(p.responseType){case"arraybuffer":return W.pipe(gt(K=>{if(null!==K.body&&!(K.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return K.body}));case"blob":return W.pipe(gt(K=>{if(null!==K.body&&!(K.body instanceof Blob))throw new Error("Response is not a Blob.");return K.body}));case"text":return W.pipe(gt(K=>{if(null!==K.body&&"string"!=typeof K.body)throw new Error("Response is not a string.");return K.body}));default:return W.pipe(gt(K=>K.body))}case"response":return W;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new pf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,eb(i,r))}post(e,r,i={}){return this.request("POST",e,eb(i,r))}put(e,r,i={}){return this.request("PUT",e,eb(i,r))}}return t.\u0275fac=function(e){return new(e||t)(Nn(Kx))},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})();class tT{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const nT=new Cr("HTTP_INTERCEPTORS");let _U=(()=>{class t{intercept(e,r){return r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})();const zU=/^\)\]\}',?\n/;let rT=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Z(r=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((We,dt)=>i.setRequestHeader(We,dt.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const We=e.detectContentTypeHeader();null!==We&&i.setRequestHeader("Content-Type",We)}if(e.responseType){const We=e.responseType.toLowerCase();i.responseType="json"!==We?We:"text"}const p=e.serializeBody();let S=null;const W=()=>{if(null!==S)return S;const We=i.statusText||"OK",dt=new cc(i.getAllResponseHeaders()),Qt=function QU(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||e.url;return S=new XC({headers:dt,status:i.status,statusText:We,url:Qt}),S},K=()=>{let{headers:We,status:dt,statusText:Qt,url:an}=W(),on=null;204!==dt&&(on=void 0===i.response?i.responseText:i.response),0===dt&&(dt=on?200:0);let Ut=dt>=200&&dt<300;if("json"===e.responseType&&"string"==typeof on){const Wn=on;on=on.replace(zU,"");try{on=""!==on?JSON.parse(on):null}catch(Or){on=Wn,Ut&&(Ut=!1,on={error:Or,text:on})}}Ut?(r.next(new ty({body:on,headers:We,status:dt,statusText:Qt,url:an||void 0})),r.complete()):r.error(new Xx({error:on,headers:We,status:dt,statusText:Qt,url:an||void 0}))},ne=We=>{const{url:dt}=W(),Qt=new Xx({error:We,status:i.status||0,statusText:i.statusText||"Unknown Error",url:dt||void 0});r.error(Qt)};let de=!1;const be=We=>{de||(r.next(W()),de=!0);let dt={type:Qo.DownloadProgress,loaded:We.loaded};We.lengthComputable&&(dt.total=We.total),"text"===e.responseType&&!!i.responseText&&(dt.partialText=i.responseText),r.next(dt)},Ae=We=>{let dt={type:Qo.UploadProgress,loaded:We.loaded};We.lengthComputable&&(dt.total=We.total),r.next(dt)};return i.addEventListener("load",K),i.addEventListener("error",ne),i.addEventListener("timeout",ne),i.addEventListener("abort",ne),e.reportProgress&&(i.addEventListener("progress",be),null!==p&&i.upload&&i.upload.addEventListener("progress",Ae)),i.send(p),r.next({type:Qo.Sent}),()=>{i.removeEventListener("error",ne),i.removeEventListener("abort",ne),i.removeEventListener("load",K),i.removeEventListener("timeout",ne),e.reportProgress&&(i.removeEventListener("progress",be),null!==p&&i.upload&&i.upload.removeEventListener("progress",Ae)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Nn(KE))},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})();const tb=new Cr("XSRF_COOKIE_NAME"),nb=new Cr("XSRF_HEADER_NAME");class iT{}let kU=(()=>{class t{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=jE(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Nn(Xs),Nn(Qv),Nn(tb))},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})(),rb=(()=>{class t{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const i=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(e);const p=this.tokenService.getToken();return null!==p&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,p)})),r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(Nn(iT),Nn(nb))},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})(),KU=(()=>{class t{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(nT,[]);this.chain=r.reduceRight((i,p)=>new tT(i,p),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(Nn(qx),Nn(hs))},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})(),qU=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:rb,useClass:_U}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:tb,useValue:e.cookieName}:[],e.headerName?{provide:nb,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$o({type:t}),t.\u0275inj=Nr({providers:[rb,{provide:nT,useExisting:rb,multi:!0},{provide:iT,useClass:kU},{provide:tb,useValue:"XSRF-TOKEN"},{provide:nb,useValue:"X-XSRF-TOKEN"}]}),t})(),$U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$o({type:t}),t.\u0275inj=Nr({providers:[eT,{provide:Kx,useClass:KU},rT,{provide:qx,useExisting:rT}],imports:[[qU.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();class Yl extends U{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function oT(t,n,e){t?bi(e,t,n):n()}function ny(t,n){const e=x(t)?t:()=>t,r=i=>i.error(e());return new Z(n?i=>n.schedule(r,0,i):r)}const ry=G(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ib(...t){return function YU(){return Ns(1)}()(yi(t,na(t)))}function sT(t){return new Z(n=>{Fi(t()).subscribe(n)})}function aT(){return je((t,n)=>{let e=null;t._refCount++;const r=new ft(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const i=t._connection,p=e;e=null,i&&(!p||i===p)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class ZU extends Z{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Pe(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new w;const e=this.getSubject();n.add(this.source.subscribe(new ft(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=w.EMPTY)}return n}refCount(){return aT()(this)}}function fd(t,n){return je((e,r)=>{let i=null,p=0,S=!1;const W=()=>S&&!i&&r.complete();e.subscribe(new ft(r,K=>{null==i||i.unsubscribe();let ne=0;const de=p++;Fi(t(K,de)).subscribe(i=new ft(r,be=>r.next(n?n(K,be,de,ne++):be),()=>{i=null,W()}))},()=>{S=!0,W()}))})}function e7(t,n,e,r,i){return(p,S)=>{let W=e,K=n,ne=0;p.subscribe(new ft(S,de=>{const be=ne++;K=W?t(K,de,be):(W=!0,de),r&&S.next(K)},i&&(()=>{W&&S.next(K),S.complete()})))}}function lT(t,n){return je(e7(t,n,arguments.length>=2,!0))}function gf(t){return je((n,e)=>{let p,r=null,i=!1;r=n.subscribe(new ft(e,void 0,void 0,S=>{p=Fi(t(S,gf(t)(n))),r?(r.unsubscribe(),r=null,p.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,p.subscribe(e))})}function ob(t){return t<=0?()=>mi:je((n,e)=>{let r=[];n.subscribe(new ft(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function uT(t=t7){return je((n,e)=>{let r=!1;n.subscribe(new ft(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function t7(){return new ry}function cT(t){return je((n,e)=>{let r=!1;n.subscribe(new ft(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function Vh(t,n){const e=arguments.length>=2;return r=>r.pipe(t?cd((i,p)=>t(i,p,r)):P,gs(1),e?cT(n):uT(()=>new ry))}function _a(t,n,e){const r=x(t)||n||e?{next:t,error:n,complete:e}:t;return r?je((i,p)=>{var S;null===(S=r.subscribe)||void 0===S||S.call(r);let W=!0;i.subscribe(new ft(p,K=>{var ne;null===(ne=r.next)||void 0===ne||ne.call(r,K),p.next(K)},()=>{var K;W=!1,null===(K=r.complete)||void 0===K||K.call(r),p.complete()},K=>{var ne;W=!1,null===(ne=r.error)||void 0===ne||ne.call(r,K),p.error(K)},()=>{var K,ne;W&&(null===(K=r.unsubscribe)||void 0===K||K.call(r)),null===(ne=r.finalize)||void 0===ne||ne.call(r)}))}):P}class fc{constructor(n,e){this.id=n,this.url=e}}class sb extends fc{constructor(n,e,r="imperative",i=null){super(n,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rg extends fc{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fT extends fc{constructor(n,e,r){super(n,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class i7 extends fc{constructor(n,e,r){super(n,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class o7 extends fc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s7 extends fc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a7 extends fc{constructor(n,e,r,i,p){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=p}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class l7 extends fc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u7 extends fc{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dT{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hT{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class c7{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f7{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d7{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h7{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pT{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Wr="primary";class p7{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Lh(t){return new p7(t)}const gT="ngNavigationCancelingError";function ab(t){const n=Error("NavigationCancelingError: "+t);return n[gT]=!0,n}function m7(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const i={};for(let p=0;p<r.length;p++){const S=r[p],W=t[p];if(S.startsWith(":"))i[S.substring(1)]=W;else if(S!==W.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Au(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let p=0;p<e.length;p++)if(i=e[p],!mT(t[i],n[i]))return!1;return!0}function mT(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((i,p)=>r[p]===i)}return t===n}function yT(t){return Array.prototype.concat.apply([],t)}function vT(t){return t.length>0?t[t.length-1]:null}function Cs(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function Vu(t){return dv(t)?t:Ip(t)?yi(Promise.resolve(t)):Rr(t)}const C7={exact:function PT(t,n,e){if(!hd(t.segments,n.segments)||!iy(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!PT(t.children[r],n.children[r],e))return!1;return!0},subset:ET},CT={exact:function b7(t,n){return Au(t,n)},subset:function P7(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>mT(t[e],n[e]))},ignored:()=>!0};function bT(t,n,e){return C7[e.paths](t.root,n.root,e.matrixParams)&&CT[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function ET(t,n,e){return xT(t,n,n.segments,e)}function xT(t,n,e,r){if(t.segments.length>e.length){const i=t.segments.slice(0,e.length);return!(!hd(i,e)||n.hasChildren()||!iy(i,e,r))}if(t.segments.length===e.length){if(!hd(t.segments,e)||!iy(t.segments,e,r))return!1;for(const i in n.children)if(!t.children[i]||!ET(t.children[i],n.children[i],r))return!1;return!0}{const i=e.slice(0,t.segments.length),p=e.slice(t.segments.length);return!!(hd(t.segments,i)&&iy(t.segments,i,r)&&t.children[Wr])&&xT(t.children[Wr],n,p,r)}}function iy(t,n,e){return n.every((r,i)=>CT[e](t[i].parameters,r.parameters))}class dd{constructor(n,e,r){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lh(this.queryParams)),this._queryParamMap}toString(){return T7.serialize(this)}}class qr{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Cs(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oy(this)}}class ig{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Lh(this.parameters)),this._parameterMap}toString(){return OT(this)}}function hd(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}class TT{}class wT{parse(n){const e=new V7(n);return new dd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${og(n.root,!0)}`,r=function I7(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(i=>`${sy(e)}=${sy(i)}`).join("&"):`${sy(e)}=${sy(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function w7(t){return encodeURI(t)}(n.fragment)}`:""}`}}const T7=new wT;function oy(t){return t.segments.map(n=>OT(n)).join("/")}function og(t,n){if(!t.hasChildren())return oy(t);if(n){const e=t.children[Wr]?og(t.children[Wr],!1):"",r=[];return Cs(t.children,(i,p)=>{p!==Wr&&r.push(`${p}:${og(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function x7(t,n){let e=[];return Cs(t.children,(r,i)=>{i===Wr&&(e=e.concat(n(r,i)))}),Cs(t.children,(r,i)=>{i!==Wr&&(e=e.concat(n(r,i)))}),e}(t,(r,i)=>i===Wr?[og(t.children[Wr],!1)]:[`${i}:${og(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Wr]?`${oy(t)}/${e[0]}`:`${oy(t)}/(${e.join("//")})`}}function DT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sy(t){return DT(t).replace(/%3B/gi,";")}function lb(t){return DT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ay(t){return decodeURIComponent(t)}function IT(t){return ay(t.replace(/\+/g,"%20"))}function OT(t){return`${lb(t.path)}${function D7(t){return Object.keys(t).map(n=>`;${lb(n)}=${lb(t[n])}`).join("")}(t.parameters)}`}const O7=/^[^\/()?;=#]+/;function ly(t){const n=t.match(O7);return n?n[0]:""}const M7=/^[^=?&#]+/,R7=/^[^&#]+/;class V7{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qr([],{}):new qr([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Wr]=new qr(n,e)),r}parseSegment(){const n=ly(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new ig(ay(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=ly(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=ly(this.remaining);i&&(r=i,this.capture(r))}n[ay(e)]=ay(r)}parseQueryParam(n){const e=function S7(t){const n=t.match(M7);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const S=function A7(t){const n=t.match(R7);return n?n[0]:""}(this.remaining);S&&(r=S,this.capture(r))}const i=IT(e),p=IT(r);if(n.hasOwnProperty(i)){let S=n[i];Array.isArray(S)||(S=[S],n[i]=S),S.push(p)}else n[i]=p}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ly(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let p;r.indexOf(":")>-1?(p=r.substr(0,r.indexOf(":")),this.capture(p),this.capture(":")):n&&(p=Wr);const S=this.parseChildren();e[p]=1===Object.keys(S).length?S[Wr]:new qr([],S),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class MT{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=ub(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=ub(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=cb(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return cb(n,this._root).map(e=>e.value)}}function ub(t,n){if(t===n.value)return n;for(const e of n.children){const r=ub(t,e);if(r)return r}return null}function cb(t,n){if(t===n.value)return[n];for(const e of n.children){const r=cb(t,e);if(r.length)return r.unshift(n),r}return[]}class dc{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Fh(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class ST extends MT{constructor(n,e){super(n),this.snapshot=e,fb(this,n)}toString(){return this.snapshot.toString()}}function RT(t,n){const e=function L7(t,n){const S=new uy([],{},{},"",{},Wr,n,null,t.root,-1,{});return new VT("",new dc(S,[]))}(t,n),r=new Yl([new ig("",{})]),i=new Yl({}),p=new Yl({}),S=new Yl({}),W=new Yl(""),K=new pd(r,i,S,W,p,Wr,n,e.root);return K.snapshot=e.root,new ST(new dc(K,[]),e)}class pd{constructor(n,e,r,i,p,S,W,K){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=p,this.outlet=S,this.component=W,this._futureSnapshot=K}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(gt(n=>Lh(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(gt(n=>Lh(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function AT(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const i=e[r],p=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(p.component)break;r--}}return function F7(t){return t.reduce((n,e)=>({params:Object.assign(Object.assign({},n.params),e.params),data:Object.assign(Object.assign({},n.data),e.data),resolve:Object.assign(Object.assign({},n.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class uy{constructor(n,e,r,i,p,S,W,K,ne,de,be){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=p,this.outlet=S,this.component=W,this.routeConfig=K,this._urlSegment=ne,this._lastPathIndex=de,this._resolve=be}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class VT extends MT{constructor(n,e){super(e),this.url=n,fb(this,e)}toString(){return LT(this._root)}}function fb(t,n){n.value._routerState=t,n.children.forEach(e=>fb(t,e))}function LT(t){const n=t.children.length>0?` { ${t.children.map(LT).join(", ")} } `:"";return`${t.value}${n}`}function db(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Au(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),Au(n.params,e.params)||t.params.next(e.params),function y7(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Au(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),Au(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function hb(t,n){const e=Au(t.params,n.params)&&function E7(t,n){return hd(t,n)&&t.every((e,r)=>Au(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||hb(t.parent,n.parent))}function sg(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const i=function B7(t,n,e){return n.children.map(r=>{for(const i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return sg(t,r,i);return sg(t,r)})}(t,n,e);return new dc(r,i)}{if(t.shouldAttach(n.value)){const p=t.retrieve(n.value);if(null!==p){const S=p.route;return S.value._futureSnapshot=n.value,S.children=n.children.map(W=>sg(t,W)),S}}const r=function j7(t){return new pd(new Yl(t.url),new Yl(t.params),new Yl(t.queryParams),new Yl(t.fragment),new Yl(t.data),t.outlet,t.component,t)}(n.value),i=n.children.map(p=>sg(t,p));return new dc(r,i)}}function cy(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ag(t){return"object"==typeof t&&null!=t&&t.outlets}function pb(t,n,e,r,i){let p={};if(r&&Cs(r,(W,K)=>{p[K]=Array.isArray(W)?W.map(ne=>`${ne}`):`${W}`}),t===n)return new dd(e,p,i);const S=FT(t,n,e);return new dd(S,p,i)}function FT(t,n,e){const r={};return Cs(t.children,(i,p)=>{r[p]=i===n?e:FT(i,n,e)}),new qr(t.segments,r)}class NT{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&cy(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(ag);if(i&&i!==vT(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gb{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function BT(t,n,e){if(t||(t=new qr([],{})),0===t.segments.length&&t.hasChildren())return fy(t,n,e);const r=function Q7(t,n,e){let r=0,i=n;const p={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return p;const S=t.segments[i],W=e[r];if(ag(W))break;const K=`${W}`,ne=r<e.length-1?e[r+1]:null;if(i>0&&void 0===K)break;if(K&&ne&&"object"==typeof ne&&void 0===ne.outlets){if(!HT(K,ne,S))return p;r+=2}else{if(!HT(K,{},S))return p;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const p=new qr(t.segments.slice(0,r.pathIndex),{});return p.children[Wr]=new qr(t.segments.slice(r.pathIndex),t.children),fy(p,0,i)}return r.match&&0===i.length?new qr(t.segments,{}):r.match&&!t.hasChildren()?mb(t,n,e):r.match?fy(t,0,i):mb(t,n,e)}function fy(t,n,e){if(0===e.length)return new qr(t.segments,{});{const r=function z7(t){return ag(t[0])?t[0].outlets:{[Wr]:t}}(e),i={};return Cs(r,(p,S)=>{"string"==typeof p&&(p=[p]),null!==p&&(i[S]=BT(t.children[S],n,p))}),Cs(t.children,(p,S)=>{void 0===r[S]&&(i[S]=p)}),new qr(t.segments,i)}}function mb(t,n,e){const r=t.segments.slice(0,n);let i=0;for(;i<e.length;){const p=e[i];if(ag(p)){const K=k7(p.outlets);return new qr(r,K)}if(0===i&&cy(e[0])){r.push(new ig(t.segments[n].path,jT(e[0]))),i++;continue}const S=ag(p)?p.outlets[Wr]:`${p}`,W=i<e.length-1?e[i+1]:null;S&&W&&cy(W)?(r.push(new ig(S,jT(W))),i+=2):(r.push(new ig(S,{})),i++)}return new qr(r,{})}function k7(t){const n={};return Cs(t,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[r]=mb(new qr([],{}),0,e))}),n}function jT(t){const n={};return Cs(t,(e,r)=>n[r]=`${e}`),n}function HT(t,n,e){return t==e.path&&Au(n,e.parameters)}class q7{constructor(n,e,r,i){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),db(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const i=Fh(e);n.children.forEach(p=>{const S=p.value.outlet;this.deactivateRoutes(p,i[S],r),delete i[S]}),Cs(i,(p,S)=>{this.deactivateRouteAndItsChildren(p,r)})}deactivateRoutes(n,e,r){const i=n.value,p=e?e.value:null;if(i===p)if(i.component){const S=r.getContext(i.outlet);S&&this.deactivateChildRoutes(n,e,S.children)}else this.deactivateChildRoutes(n,e,r);else p&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,p=Fh(n);for(const S of Object.keys(p))this.deactivateRouteAndItsChildren(p[S],i);if(r&&r.outlet){const S=r.outlet.detach(),W=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:S,route:n,contexts:W})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,p=Fh(n);for(const S of Object.keys(p))this.deactivateRouteAndItsChildren(p[S],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,e,r){const i=Fh(e);n.children.forEach(p=>{this.activateRoutes(p,i[p.value.outlet],r),this.forwardEvent(new h7(p.value.snapshot))}),n.children.length&&this.forwardEvent(new f7(n.value.snapshot))}activateRoutes(n,e,r){const i=n.value,p=e?e.value:null;if(db(i),i===p)if(i.component){const S=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,S.children)}else this.activateChildRoutes(n,e,r);else if(i.component){const S=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const W=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),S.children.onOutletReAttached(W.contexts),S.attachRef=W.componentRef,S.route=W.route.value,S.outlet&&S.outlet.attach(W.componentRef,W.route.value),db(W.route.value),this.activateChildRoutes(n,null,S.children)}else{const W=function $7(t){for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),K=W?W.module.componentFactoryResolver:null;S.attachRef=null,S.route=i,S.resolver=K,S.outlet&&S.outlet.activateWith(i,K),this.activateChildRoutes(n,null,S.children)}}else this.activateChildRoutes(n,null,r)}}class yb{constructor(n,e){this.routes=n,this.module=e}}function mf(t){return"function"==typeof t}function gd(t){return t instanceof dd}const lg=Symbol("INITIAL_VALUE");function ug(){return fd(t=>function GU(...t){const n=na(t),e=js(t),{args:r,keys:i}=l2(t);if(0===r.length)return yi([],n);const p=new Z(function JU(t,n,e=P){return r=>{oT(n,()=>{const{length:i}=t,p=new Array(i);let S=i,W=i;for(let K=0;K<i;K++)oT(n,()=>{const ne=yi(t[K],n);let de=!1;ne.subscribe(new ft(r,be=>{p[K]=be,de||(de=!0,W--),W||r.next(e(p.slice()))},()=>{--S||r.complete()}))},r)},r)}}(r,n,i?S=>c2(i,S):P));return e?p.pipe(u2(e)):p}(t.map(n=>n.pipe(gs(1),function XU(...t){const n=na(t);return je((e,r)=>{(n?ib(t,e,n):ib(t,e)).subscribe(r)})}(lg)))).pipe(lT((n,e)=>{let r=!1;return e.reduce((i,p,S)=>i!==lg?i:(p===lg&&(r=!0),r||!1!==p&&S!==e.length-1&&!gd(p)?i:p),n)},lg),cd(n=>n!==lg),gt(n=>gd(n)?n:!0===n),gs(1)))}class e9{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new cg,this.attachRef=null}}class cg{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const r=this.getOrCreateContext(n);r.outlet=e,this.contexts.set(n,r)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new e9,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}let UT=(()=>{class t{constructor(e,r,i,p,S){this.parentContexts=e,this.location=r,this.resolver=i,this.changeDetector=S,this.activated=null,this._activatedRoute=null,this.activateEvents=new mo,this.deactivateEvents=new mo,this.attachEvents=new mo,this.detachEvents=new mo,this.name=p||Wr,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const S=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),W=this.parentContexts.getOrCreateContext(this.name).children,K=new t9(e,W,this.location.injector);this.activated=this.location.createComponent(S,this.location.length,K),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(kt(cg),kt(Io),kt(nd),function Va(t){return function gr(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const p=e[i];if($u(p))break;if(0===p)i+=2;else if("number"==typeof p)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(p===n)return e[i+1];i+=2}}}return null}(kn(),t)}("name"),kt(hl))},t.\u0275dir=qn({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class t9{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===pd?this.route:n===cg?this.childContexts:this.parent.get(n,e)}}let WT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Wt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&ut(0,"router-outlet")},directives:[UT],encapsulation:2}),t})();function _T(t,n=""){for(let e=0;e<t.length;e++){const r=t[e];n9(r,r9(n,r))}}function n9(t,n){t.children&&_T(t.children,n)}function r9(t,n){return n?t||n.path?t&&!n.path?`${t}/`:!t&&n.path?n.path:`${t}/${n.path}`:"":t}function vb(t){const n=t.children&&t.children.map(vb),e=n?Object.assign(Object.assign({},t),{children:n}):Object.assign({},t);return!e.component&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Wr&&(e.component=WT),e}function ml(t){return t.outlet||Wr}function zT(t,n){const e=t.filter(r=>ml(r)===n);return e.push(...t.filter(r=>ml(r)!==n)),e}const QT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dy(t,n,e){var r;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?Object.assign({},QT):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const p=(n.matcher||m7)(e,t,n);if(!p)return Object.assign({},QT);const S={};Cs(p.posParams,(K,ne)=>{S[ne]=K.path});const W=p.consumed.length>0?Object.assign(Object.assign({},S),p.consumed[p.consumed.length-1].parameters):S;return{matched:!0,consumedSegments:p.consumed,remainingSegments:e.slice(p.consumed.length),parameters:W,positionalParamSegments:null!==(r=p.posParams)&&void 0!==r?r:{}}}function hy(t,n,e,r,i="corrected"){if(e.length>0&&function s9(t,n,e){return e.some(r=>py(t,n,r)&&ml(r)!==Wr)}(t,e,r)){const S=new qr(n,function o9(t,n,e,r){const i={};i[Wr]=r,r._sourceSegment=t,r._segmentIndexShift=n.length;for(const p of e)if(""===p.path&&ml(p)!==Wr){const S=new qr([],{});S._sourceSegment=t,S._segmentIndexShift=n.length,i[ml(p)]=S}return i}(t,n,r,new qr(e,t.children)));return S._sourceSegment=t,S._segmentIndexShift=n.length,{segmentGroup:S,slicedSegments:[]}}if(0===e.length&&function a9(t,n,e){return e.some(r=>py(t,n,r))}(t,e,r)){const S=new qr(t.segments,function i9(t,n,e,r,i,p){const S={};for(const W of r)if(py(t,e,W)&&!i[ml(W)]){const K=new qr([],{});K._sourceSegment=t,K._segmentIndexShift="legacy"===p?t.segments.length:n.length,S[ml(W)]=K}return Object.assign(Object.assign({},i),S)}(t,n,e,r,t.children,i));return S._sourceSegment=t,S._segmentIndexShift=n.length,{segmentGroup:S,slicedSegments:e}}const p=new qr(t.segments,t.children);return p._sourceSegment=t,p._segmentIndexShift=n.length,{segmentGroup:p,slicedSegments:e}}function py(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function kT(t,n,e,r){return!!(ml(t)===r||r!==Wr&&py(n,e,t))&&("**"===t.path||dy(n,t,e).matched)}function KT(t,n,e){return 0===n.length&&!t.children[e]}class gy{constructor(n){this.segmentGroup=n||null}}class qT{constructor(n){this.urlTree=n}}function fg(t){return ny(new gy(t))}function $T(t){return ny(new qT(t))}class f9{constructor(n,e,r,i,p){this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=p,this.allowRedirects=!0,this.ngModule=n.get(ic)}apply(){const n=hy(this.urlTree.root,[],[],this.config).segmentGroup,e=new qr(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Wr).pipe(gt(p=>this.createUrlTree(Cb(p),this.urlTree.queryParams,this.urlTree.fragment))).pipe(gf(p=>{if(p instanceof qT)return this.allowRedirects=!1,this.match(p.urlTree);throw p instanceof gy?this.noMatchError(p):p}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,Wr).pipe(gt(i=>this.createUrlTree(Cb(i),n.queryParams,n.fragment))).pipe(gf(i=>{throw i instanceof gy?this.noMatchError(i):i}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,e,r){const i=n.segments.length>0?new qr([],{[Wr]:n}):n;return new dd(i,e,r)}expandSegmentGroup(n,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,e,r).pipe(gt(p=>new qr([],p))):this.expandSegment(n,r,e,r.segments,i,!0)}expandChildren(n,e,r){const i=[];for(const p of Object.keys(r.children))"primary"===p?i.unshift(p):i.push(p);return yi(i).pipe(Ah(p=>{const S=r.children[p],W=zT(e,p);return this.expandSegmentGroup(n,W,S,p).pipe(gt(K=>({segment:K,outlet:p})))}),lT((p,S)=>(p[S.outlet]=S.segment,p),{}),function n7(t,n){const e=arguments.length>=2;return r=>r.pipe(t?cd((i,p)=>t(i,p,r)):P,ob(1),e?cT(n):uT(()=>new ry))}())}expandSegment(n,e,r,i,p,S){return yi(r).pipe(Ah(W=>this.expandSegmentAgainstRoute(n,e,r,W,i,p,S).pipe(gf(ne=>{if(ne instanceof gy)return Rr(null);throw ne}))),Vh(W=>!!W),gf((W,K)=>{if(W instanceof ry||"EmptyError"===W.name)return KT(e,i,p)?Rr(new qr([],{})):fg(e);throw W}))}expandSegmentAgainstRoute(n,e,r,i,p,S,W){return kT(i,e,p,S)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,e,i,p,S):W&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,r,i,p,S):fg(e):fg(e)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,p,S){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,S):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,p,S)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,i){const p=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?$T(p):this.lineralizeSegments(r,p).pipe(wi(S=>{const W=new qr(S,{});return this.expandSegment(n,W,e,S,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,p,S){const{matched:W,consumedSegments:K,remainingSegments:ne,positionalParamSegments:de}=dy(e,i,p);if(!W)return fg(e);const be=this.applyRedirectCommands(K,i.redirectTo,de);return i.redirectTo.startsWith("/")?$T(be):this.lineralizeSegments(i,be).pipe(wi(Ae=>this.expandSegment(n,e,r,Ae.concat(ne),S,!1)))}matchSegmentAgainstRoute(n,e,r,i,p){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Rr(r._loadedConfig):this.configLoader.load(n.injector,r)).pipe(gt(be=>(r._loadedConfig=be,new qr(i,{})))):Rr(new qr(i,{}));const{matched:S,consumedSegments:W,remainingSegments:K}=dy(e,r,i);return S?this.getChildConfig(n,r,i).pipe(wi(de=>{const be=de.module,Ae=de.routes,{segmentGroup:We,slicedSegments:dt}=hy(e,W,K,Ae),Qt=new qr(We.segments,We.children);if(0===dt.length&&Qt.hasChildren())return this.expandChildren(be,Ae,Qt).pipe(gt(Wn=>new qr(W,Wn)));if(0===Ae.length&&0===dt.length)return Rr(new qr(W,{}));const an=ml(r)===p;return this.expandSegment(be,Qt,Ae,dt,an?Wr:p,!0).pipe(gt(Ut=>new qr(W.concat(Ut.segments),Ut.children)))})):fg(e)}getChildConfig(n,e,r){return e.children?Rr(new yb(e.children,n)):e.loadChildren?void 0!==e._loadedConfig?Rr(e._loadedConfig):this.runCanLoadGuards(n.injector,e,r).pipe(wi(i=>i?this.configLoader.load(n.injector,e).pipe(gt(p=>(e._loadedConfig=p,p))):function u9(t){return ny(ab(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(e))):Rr(new yb([],n))}runCanLoadGuards(n,e,r){const i=e.canLoad;return i&&0!==i.length?Rr(i.map(S=>{const W=n.get(S);let K;if(function J7(t){return t&&mf(t.canLoad)}(W))K=W.canLoad(e,r);else{if(!mf(W))throw new Error("Invalid CanLoad guard");K=W(e,r)}return Vu(K)})).pipe(ug(),_a(S=>{if(!gd(S))return;const W=ab(`Redirecting to "${this.urlSerializer.serialize(S)}"`);throw W.url=S,W}),gt(S=>!0===S)):Rr(!0)}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Rr(r);if(i.numberOfChildren>1||!i.children[Wr])return ny(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n.redirectTo}'`));i=i.children[Wr]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreatreUrlTree(n,e,r,i){const p=this.createSegmentGroup(n,e.root,r,i);return new dd(p,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Cs(n,(i,p)=>{if("string"==typeof i&&i.startsWith(":")){const W=i.substring(1);r[p]=e[W]}else r[p]=i}),r}createSegmentGroup(n,e,r,i){const p=this.createSegments(n,e.segments,r,i);let S={};return Cs(e.children,(W,K)=>{S[K]=this.createSegmentGroup(n,W,r,i)}),new qr(p,S)}createSegments(n,e,r,i){return e.map(p=>p.path.startsWith(":")?this.findPosParam(n,p,i):this.findOrReturn(p,r))}findPosParam(n,e,r){const i=r[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${n}'. Cannot find '${e.path}'.`);return i}findOrReturn(n,e){let r=0;for(const i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}}function Cb(t){const n={};for(const r of Object.keys(t.children)){const p=Cb(t.children[r]);(p.segments.length>0||p.hasChildren())&&(n[r]=p)}return function d9(t){if(1===t.numberOfChildren&&t.children[Wr]){const n=t.children[Wr];return new qr(t.segments.concat(n.segments),n.children)}return t}(new qr(t.segments,n))}class GT{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class my{constructor(n,e){this.component=n,this.route=e}}function p9(t,n,e){const r=t._root;return dg(r,n?n._root:null,e,[r.value])}function yy(t,n,e){const r=function m9(t){if(!t)return null;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(r?r.module.injector:e).get(t)}function dg(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const p=Fh(n);return t.children.forEach(S=>{(function y9(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const p=t.value,S=n?n.value:null,W=e?e.getContext(t.value.outlet):null;if(S&&p.routeConfig===S.routeConfig){const K=function v9(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!hd(t.url,n.url);case"pathParamsOrQueryParamsChange":return!hd(t.url,n.url)||!Au(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hb(t,n)||!Au(t.queryParams,n.queryParams);default:return!hb(t,n)}}(S,p,p.routeConfig.runGuardsAndResolvers);K?i.canActivateChecks.push(new GT(r)):(p.data=S.data,p._resolvedData=S._resolvedData),dg(t,n,p.component?W?W.children:null:e,r,i),K&&W&&W.outlet&&W.outlet.isActivated&&i.canDeactivateChecks.push(new my(W.outlet.component,S))}else S&&hg(n,W,i),i.canActivateChecks.push(new GT(r)),dg(t,null,p.component?W?W.children:null:e,r,i)})(S,p[S.value.outlet],e,r.concat([S.value]),i),delete p[S.value.outlet]}),Cs(p,(S,W)=>hg(S,e.getContext(W),i)),i}function hg(t,n,e){const r=Fh(t),i=t.value;Cs(r,(p,S)=>{hg(p,i.component?n?n.children.getContext(S):null:n,e)}),e.canDeactivateChecks.push(new my(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}class I9{}function JT(t){return new Z(n=>n.error(t))}class M9{constructor(n,e,r,i,p,S){this.rootComponentType=n,this.config=e,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=p,this.relativeLinkResolution=S}recognize(){const n=hy(this.urlTree.root,[],[],this.config.filter(S=>void 0===S.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,Wr);if(null===e)return null;const r=new uy([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Wr,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new dc(r,e),p=new VT(this.url,i);return this.inheritParamsAndData(p._root),p}inheritParamsAndData(n){const e=n.value,r=AT(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,r)}processChildren(n,e){const r=[];for(const p of Object.keys(e.children)){const S=e.children[p],W=zT(n,p),K=this.processSegmentGroup(W,S,p);if(null===K)return null;r.push(...K)}const i=YT(r);return function S9(t){t.sort((n,e)=>n.value.outlet===Wr?-1:e.value.outlet===Wr?1:n.value.outlet.localeCompare(e.value.outlet))}(i),i}processSegment(n,e,r,i){for(const p of n){const S=this.processSegmentAgainstRoute(p,e,r,i);if(null!==S)return S}return KT(e,r,i)?[]:null}processSegmentAgainstRoute(n,e,r,i){if(n.redirectTo||!kT(n,e,r,i))return null;let p,S=[],W=[];if("**"===n.path){const We=r.length>0?vT(r).parameters:{};p=new uy(r,We,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ew(n),ml(n),n.component,n,ZT(e),XT(e)+r.length,tw(n))}else{const We=dy(e,n,r);if(!We.matched)return null;S=We.consumedSegments,W=We.remainingSegments,p=new uy(S,We.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ew(n),ml(n),n.component,n,ZT(e),XT(e)+S.length,tw(n))}const K=function R9(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(n),{segmentGroup:ne,slicedSegments:de}=hy(e,S,W,K.filter(We=>void 0===We.redirectTo),this.relativeLinkResolution);if(0===de.length&&ne.hasChildren()){const We=this.processChildren(K,ne);return null===We?null:[new dc(p,We)]}if(0===K.length&&0===de.length)return[new dc(p,[])];const be=ml(n)===i,Ae=this.processSegment(K,ne,de,be?Wr:i);return null===Ae?null:[new dc(p,Ae)]}}function A9(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function YT(t){const n=[],e=new Set;for(const r of t){if(!A9(r)){n.push(r);continue}const i=n.find(p=>r.value.routeConfig===p.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):n.push(r)}for(const r of e){const i=YT(r.children);n.push(new dc(r.value,i))}return n.filter(r=>!e.has(r))}function ZT(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function XT(t){let n=t,e=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift?n._segmentIndexShift:0;return e-1}function ew(t){return t.data||{}}function tw(t){return t.resolve||{}}function nw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function bb(t){return fd(n=>{const e=t(n);return e?yi(e).pipe(gt(()=>n)):Rr(n)})}class U9 extends class H9{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const Pb=new Cr("ROUTES");class rw{constructor(n,e,r,i){this.injector=n,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=i}load(n,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const i=this.loadModuleFactory(e.loadChildren).pipe(gt(p=>{this.onLoadEndListener&&this.onLoadEndListener(e);const S=p.create(n);return new yb(yT(S.injector.get(Pb,void 0,ur.Self|ur.Optional)).map(vb),S)}),gf(p=>{throw e._loader$=void 0,p}));return e._loader$=new ZU(i,()=>new U).pipe(aT()),e._loader$}loadModuleFactory(n){return Vu(n()).pipe(wi(e=>e instanceof EP?Rr(e):yi(this.compiler.compileModuleAsync(e))))}}class _9{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function z9(t){throw t}function Q9(t,n,e){return n.parse("/")}function iw(t,n){return Rr(null)}const k9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},K9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let za=(()=>{class t{constructor(e,r,i,p,S,W,K){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=p,this.config=K,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new U,this.errorHandler=z9,this.malformedUriErrorHandler=Q9,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:iw,afterPreactivation:iw},this.urlHandlingStrategy=new _9,this.routeReuseStrategy=new U9,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=S.get(ic),this.console=S.get(BM);const be=S.get(ps);this.isNgZoneEnabled=be instanceof ps&&ps.isInAngularZone(),this.resetConfig(K),this.currentUrlTree=function v7(){return new dd(new qr([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new rw(S,W,Ae=>this.triggerEvent(new dT(Ae)),Ae=>this.triggerEvent(new hT(Ae))),this.routerState=RT(this.currentUrlTree,this.rootComponentType),this.transitions=new Yl({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(cd(i=>0!==i.id),gt(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),fd(i=>{let p=!1,S=!1;return Rr(i).pipe(_a(W=>{this.currentNavigation={id:W.id,initialUrl:W.currentRawUrl,extractedUrl:W.extractedUrl,trigger:W.source,extras:W.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),fd(W=>{const K=this.browserUrlTree.toString(),ne=!this.navigated||W.extractedUrl.toString()!==K||K!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ne)&&this.urlHandlingStrategy.shouldProcessUrl(W.rawUrl))return ow(W.source)&&(this.browserUrlTree=W.extractedUrl),Rr(W).pipe(fd(be=>{const Ae=this.transitions.getValue();return r.next(new sb(be.id,this.serializeUrl(be.extractedUrl),be.source,be.restoredState)),Ae!==this.transitions.getValue()?mi:Promise.resolve(be)}),function h9(t,n,e,r){return fd(i=>function c9(t,n,e,r,i){return new f9(t,n,e,r,i).apply()}(t,n,e,i.extractedUrl,r).pipe(gt(p=>Object.assign(Object.assign({},i),{urlAfterRedirects:p}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),_a(be=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:be.urlAfterRedirects})}),function V9(t,n,e,r,i){return wi(p=>function O9(t,n,e,r,i="emptyOnly",p="legacy"){try{const S=new M9(t,n,e,r,i,p).recognize();return null===S?JT(new I9):Rr(S)}catch(S){return JT(S)}}(t,n,p.urlAfterRedirects,e(p.urlAfterRedirects),r,i).pipe(gt(S=>Object.assign(Object.assign({},p),{targetSnapshot:S}))))}(this.rootComponentType,this.config,be=>this.serializeUrl(be),this.paramsInheritanceStrategy,this.relativeLinkResolution),_a(be=>{if("eager"===this.urlUpdateStrategy){if(!be.extras.skipLocationChange){const We=this.urlHandlingStrategy.merge(be.urlAfterRedirects,be.rawUrl);this.setBrowserUrl(We,be)}this.browserUrlTree=be.urlAfterRedirects}const Ae=new o7(be.id,this.serializeUrl(be.extractedUrl),this.serializeUrl(be.urlAfterRedirects),be.targetSnapshot);r.next(Ae)}));if(ne&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ae,extractedUrl:We,source:dt,restoredState:Qt,extras:an}=W,on=new sb(Ae,this.serializeUrl(We),dt,Qt);r.next(on);const Ut=RT(We,this.rootComponentType).snapshot;return Rr(Object.assign(Object.assign({},W),{targetSnapshot:Ut,urlAfterRedirects:We,extras:Object.assign(Object.assign({},an),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=W.rawUrl,W.resolve(null),mi}),bb(W=>{const{targetSnapshot:K,id:ne,extractedUrl:de,rawUrl:be,extras:{skipLocationChange:Ae,replaceUrl:We}}=W;return this.hooks.beforePreactivation(K,{navigationId:ne,appliedUrlTree:de,rawUrlTree:be,skipLocationChange:!!Ae,replaceUrl:!!We})}),_a(W=>{const K=new s7(W.id,this.serializeUrl(W.extractedUrl),this.serializeUrl(W.urlAfterRedirects),W.targetSnapshot);this.triggerEvent(K)}),gt(W=>Object.assign(Object.assign({},W),{guards:p9(W.targetSnapshot,W.currentSnapshot,this.rootContexts)})),function C9(t,n){return wi(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:p,canDeactivateChecks:S}}=e;return 0===S.length&&0===p.length?Rr(Object.assign(Object.assign({},e),{guardsResult:!0})):function b9(t,n,e,r){return yi(t).pipe(wi(i=>function D9(t,n,e,r,i){const p=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return p&&0!==p.length?Rr(p.map(W=>{const K=yy(W,n,i);let ne;if(function X7(t){return t&&mf(t.canDeactivate)}(K))ne=Vu(K.canDeactivate(t,n,e,r));else{if(!mf(K))throw new Error("Invalid CanDeactivate guard");ne=Vu(K(t,n,e,r))}return ne.pipe(Vh())})).pipe(ug()):Rr(!0)}(i.component,i.route,e,n,r)),Vh(i=>!0!==i,!0))}(S,r,i,t).pipe(wi(W=>W&&function G7(t){return"boolean"==typeof t}(W)?function P9(t,n,e,r){return yi(n).pipe(Ah(i=>ib(function x9(t,n){return null!==t&&n&&n(new c7(t)),Rr(!0)}(i.route.parent,r),function E9(t,n){return null!==t&&n&&n(new d7(t)),Rr(!0)}(i.route,r),function w9(t,n,e){const r=n[n.length-1],p=n.slice(0,n.length-1).reverse().map(S=>function g9(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(S)).filter(S=>null!==S).map(S=>sT(()=>Rr(S.guards.map(K=>{const ne=yy(K,S.node,e);let de;if(function Z7(t){return t&&mf(t.canActivateChild)}(ne))de=Vu(ne.canActivateChild(r,t));else{if(!mf(ne))throw new Error("Invalid CanActivateChild guard");de=Vu(ne(r,t))}return de.pipe(Vh())})).pipe(ug())));return Rr(p).pipe(ug())}(t,i.path,e),function T9(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Rr(!0);const i=r.map(p=>sT(()=>{const S=yy(p,n,e);let W;if(function Y7(t){return t&&mf(t.canActivate)}(S))W=Vu(S.canActivate(n,t));else{if(!mf(S))throw new Error("Invalid CanActivate guard");W=Vu(S(n,t))}return W.pipe(Vh())}));return Rr(i).pipe(ug())}(t,i.route,e))),Vh(i=>!0!==i,!0))}(r,p,t,n):Rr(W)),gt(W=>Object.assign(Object.assign({},e),{guardsResult:W})))})}(this.ngModule.injector,W=>this.triggerEvent(W)),_a(W=>{if(gd(W.guardsResult)){const ne=ab(`Redirecting to "${this.serializeUrl(W.guardsResult)}"`);throw ne.url=W.guardsResult,ne}const K=new a7(W.id,this.serializeUrl(W.extractedUrl),this.serializeUrl(W.urlAfterRedirects),W.targetSnapshot,!!W.guardsResult);this.triggerEvent(K)}),cd(W=>!!W.guardsResult||(this.restoreHistory(W),this.cancelNavigationTransition(W,""),!1)),bb(W=>{if(W.guards.canActivateChecks.length)return Rr(W).pipe(_a(K=>{const ne=new l7(K.id,this.serializeUrl(K.extractedUrl),this.serializeUrl(K.urlAfterRedirects),K.targetSnapshot);this.triggerEvent(ne)}),fd(K=>{let ne=!1;return Rr(K).pipe(function L9(t,n){return wi(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Rr(e);let p=0;return yi(i).pipe(Ah(S=>function F9(t,n,e,r){return function N9(t,n,e,r){const i=nw(t);if(0===i.length)return Rr({});const p={};return yi(i).pipe(wi(S=>function B9(t,n,e,r){const i=yy(t,n,r);return Vu(i.resolve?i.resolve(n,e):i(n,e))}(t[S],n,e,r).pipe(_a(W=>{p[S]=W}))),ob(1),wi(()=>nw(p).length===i.length?Rr(p):mi))}(t._resolve,t,n,r).pipe(gt(p=>(t._resolvedData=p,t.data=Object.assign(Object.assign({},t.data),AT(t,e).resolve),null)))}(S.route,r,t,n)),_a(()=>p++),ob(1),wi(S=>p===i.length?Rr(e):mi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),_a({next:()=>ne=!0,complete:()=>{ne||(this.restoreHistory(K),this.cancelNavigationTransition(K,"At least one route resolver didn't emit any value."))}}))}),_a(K=>{const ne=new u7(K.id,this.serializeUrl(K.extractedUrl),this.serializeUrl(K.urlAfterRedirects),K.targetSnapshot);this.triggerEvent(ne)}))}),bb(W=>{const{targetSnapshot:K,id:ne,extractedUrl:de,rawUrl:be,extras:{skipLocationChange:Ae,replaceUrl:We}}=W;return this.hooks.afterPreactivation(K,{navigationId:ne,appliedUrlTree:de,rawUrlTree:be,skipLocationChange:!!Ae,replaceUrl:!!We})}),gt(W=>{const K=function N7(t,n,e){const r=sg(t,n._root,e?e._root:void 0);return new ST(r,n)}(this.routeReuseStrategy,W.targetSnapshot,W.currentRouterState);return Object.assign(Object.assign({},W),{targetRouterState:K})}),_a(W=>{this.currentUrlTree=W.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(W.urlAfterRedirects,W.rawUrl),this.routerState=W.targetRouterState,"deferred"===this.urlUpdateStrategy&&(W.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,W),this.browserUrlTree=W.urlAfterRedirects)}),((t,n,e)=>gt(r=>(new q7(n,r.targetRouterState,r.currentRouterState,e).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,W=>this.triggerEvent(W)),_a({next(){p=!0},complete(){p=!0}}),function r7(t){return je((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}(()=>{var W;p||S||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(W=this.currentNavigation)||void 0===W?void 0:W.id)===i.id&&(this.currentNavigation=null)}),gf(W=>{if(S=!0,function g7(t){return t&&t[gT]}(W)){const K=gd(W.url);K||(this.navigated=!0,this.restoreHistory(i,!0));const ne=new fT(i.id,this.serializeUrl(i.extractedUrl),W.message);r.next(ne),K?setTimeout(()=>{const de=this.urlHandlingStrategy.merge(W.url,this.rawUrlTree),be={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ow(i.source)};this.scheduleNavigation(de,"imperative",null,be,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const K=new i7(i.id,this.serializeUrl(i.extractedUrl),W);r.next(K);try{i.resolve(this.errorHandler(W))}catch(ne){i.reject(ne)}}return mi}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const p={replaceUrl:!0},S=(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null;if(S){const K=Object.assign({},S);delete K.navigationId,delete K.\u0275routerPageId,0!==Object.keys(K).length&&(p.state=K)}const W=this.parseUrl(e.url);this.scheduleNavigation(W,r,S,p)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){_T(e),this.config=e.map(vb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:p,fragment:S,queryParamsHandling:W,preserveFragment:K}=r,ne=i||this.routerState.root,de=K?this.currentUrlTree.fragment:S;let be=null;switch(W){case"merge":be=Object.assign(Object.assign({},this.currentUrlTree.queryParams),p);break;case"preserve":be=this.currentUrlTree.queryParams;break;default:be=p||null}return null!==be&&(be=this.removeEmptyProps(be)),function H7(t,n,e,r,i){if(0===e.length)return pb(n.root,n.root,n.root,r,i);const p=function U7(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new NT(!0,0,t);let n=0,e=!1;const r=t.reduce((i,p,S)=>{if("object"==typeof p&&null!=p){if(p.outlets){const W={};return Cs(p.outlets,(K,ne)=>{W[ne]="string"==typeof K?K.split("/"):K}),[...i,{outlets:W}]}if(p.segmentPath)return[...i,p.segmentPath]}return"string"!=typeof p?[...i,p]:0===S?(p.split("/").forEach((W,K)=>{0==K&&"."===W||(0==K&&""===W?e=!0:".."===W?n++:""!=W&&i.push(W))}),i):[...i,p]},[]);return new NT(e,n,r)}(e);if(p.toRoot())return pb(n.root,n.root,new qr([],{}),r,i);const S=function W7(t,n,e){if(t.isAbsolute)return new gb(n.root,!0,0);if(-1===e.snapshot._lastPathIndex){const p=e.snapshot._urlSegment;return new gb(p,p===n.root,0)}const r=cy(t.commands[0])?0:1;return function _7(t,n,e){let r=t,i=n,p=e;for(;p>i;){if(p-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new gb(r,!1,i-p)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(p,n,t),W=S.processChildren?fy(S.segmentGroup,S.index,p.commands):BT(S.segmentGroup,S.index,p.commands);return pb(n.root,S.segmentGroup,W,r,i)}(ne,this.currentUrlTree,e,be,null!=de?de:null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=gd(e)?e:this.parseUrl(e),p=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(p,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function q9(t){for(let n=0;n<t.length;n++){const e=t[n];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${n}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?Object.assign({},k9):!1===r?Object.assign({},K9):r,gd(e))return bT(this.currentUrlTree,e,i);const p=this.parseUrl(e);return bT(this.currentUrlTree,p,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const p=e[i];return null!=p&&(r[i]=p),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new rg(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,p,S){var W,K;if(this.disposed)return Promise.resolve(!1);let ne,de,be;S?(ne=S.resolve,de=S.reject,be=S.promise):be=new Promise((dt,Qt)=>{ne=dt,de=Qt});const Ae=++this.navigationId;let We;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),We=i&&i.\u0275routerPageId?i.\u0275routerPageId:p.replaceUrl||p.skipLocationChange?null!==(W=this.browserPageId)&&void 0!==W?W:0:(null!==(K=this.browserPageId)&&void 0!==K?K:0)+1):We=0,this.setTransition({id:Ae,targetPageId:We,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:p,resolve:ne,reject:de,promise:be,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),be.catch(dt=>Promise.reject(dt))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),p=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",p):this.location.go(i,"",p)}restoreHistory(e,r=!1){var i,p;if("computed"===this.canceledNavigationResolution){const S=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===S?this.currentUrlTree===(null===(p=this.currentNavigation)||void 0===p?void 0:p.finalUrl)&&0===S&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(S)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const i=new fT(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(i),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return t.\u0275fac=function(e){cv()},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})();function ow(t){return"imperative"!==t}class sw{}class aw{preload(n,e){return Rr(null)}}let lw=(()=>{class t{constructor(e,r,i,p){this.router=e,this.injector=i,this.preloadingStrategy=p,this.loader=new rw(i,r,K=>e.triggerEvent(new dT(K)),K=>e.triggerEvent(new hT(K)))}setUpPreloading(){this.subscription=this.router.events.pipe(cd(e=>e instanceof rg),Ah(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(ic);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const p of r)if(p.loadChildren&&!p.canLoad&&p._loadedConfig){const S=p._loadedConfig;i.push(this.processRoutes(S.module,S.routes))}else p.loadChildren&&!p.canLoad?i.push(this.preloadConfig(e,p)):p.children&&i.push(this.processRoutes(e,p.children));return yi(i).pipe(Ns(),gt(p=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Rr(r._loadedConfig):this.loader.load(e.injector,r)).pipe(wi(p=>(r._loadedConfig=p,this.processRoutes(p.module,p.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Nn(za),Nn(iE),Nn(hs),Nn(sw))},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})(),Tb=(()=>{class t{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof sb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof rg&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof pT&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new pT(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){cv()},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})();const md=new Cr("ROUTER_CONFIGURATION"),uw=new Cr("ROUTER_FORROOT_GUARD"),Y9=[iC,{provide:TT,useClass:wT},{provide:za,useFactory:function rW(t,n,e,r,i,p,S={},W,K){const ne=new za(null,t,n,e,r,i,yT(p));return W&&(ne.urlHandlingStrategy=W),K&&(ne.routeReuseStrategy=K),function iW(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(S,ne),S.enableTracing&&ne.events.subscribe(de=>{var be,Ae;null===(be=console.group)||void 0===be||be.call(console,`Router Event: ${de.constructor.name}`),console.log(de.toString()),console.log(de),null===(Ae=console.groupEnd)||void 0===Ae||Ae.call(console)}),ne},deps:[TT,cg,iC,hs,iE,Pb,md,[class W9{},new ll],[class j9{},new ll]]},cg,{provide:pd,useFactory:function oW(t){return t.routerState.root},deps:[za]},lw,aw,class J9{preload(n,e){return e().pipe(gf(()=>Rr(null)))}},{provide:md,useValue:{enableTracing:!1}}];function Z9(){return new uE("Router",za)}let X9=(()=>{class t{constructor(e,r){}static forRoot(e,r){return{ngModule:t,providers:[Y9,cw(e),{provide:uw,useFactory:nW,deps:[[za,new ll,new ds]]},{provide:md,useValue:r||{}},{provide:Mh,useFactory:tW,deps:[sd,[new Wc(rC),new ll],md]},{provide:Tb,useFactory:eW,deps:[za,kR,md]},{provide:sw,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:aw},{provide:uE,multi:!0,useFactory:Z9},[wb,{provide:Wv,multi:!0,useFactory:sW,deps:[wb]},{provide:fw,useFactory:aW,deps:[wb]},{provide:rE,multi:!0,useExisting:fw}]]}}static forChild(e){return{ngModule:t,providers:[cw(e)]}}}return t.\u0275fac=function(e){return new(e||t)(Nn(uw,8),Nn(za,8))},t.\u0275mod=$o({type:t}),t.\u0275inj=Nr({}),t})();function eW(t,n,e){return e.scrollOffset&&n.setOffset(e.scrollOffset),new Tb(t,n,e)}function tW(t,n,e={}){return e.useHash?new MS(t,n):new OE(t,n)}function nW(t){return"guarded"}function cw(t){return[{provide:fu,multi:!0,useValue:t},{provide:Pb,multi:!0,useValue:t}]}let wb=(()=>{class t{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new U}appInitializer(){return this.injector.get(DS,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(W=>r=W),p=this.injector.get(za),S=this.injector.get(md);return"disabled"===S.initialNavigation?(p.setUpLocationChangeListener(),r(!0)):"enabled"===S.initialNavigation||"enabledBlocking"===S.initialNavigation?(p.hooks.afterPreactivation=()=>this.initNavigation?Rr(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),p.initialNavigation()):r(!0),i})}bootstrapListener(e){const r=this.injector.get(md),i=this.injector.get(lw),p=this.injector.get(Tb),S=this.injector.get(za),W=this.injector.get(pm);e===W.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&S.initialNavigation(),i.setUpPreloading(),p.init(),S.resetRootComponentType(W.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(Nn(hs))},t.\u0275prov=Zn({token:t,factory:t.\u0275fac}),t})();function sW(t){return t.appInitializer.bind(t)}function aW(t){return t.bootstrapListener.bind(t)}const fw=new Cr("Router Initializer");let uW=(()=>{class t{constructor(e,r){this.http=e,this.route=r,this.title="Document Request Form"}ngOnInit(){this.getQueryParams()}saveme(){console.log("Save Me")}saveResults(e){(p=>{const de=new LU.SurveyPDF(this.surveyJson,{fontSize:14,margins:{left:10,right:10,top:10,bot:10},format:[e&&e.pdfWidth?e.pdfWidth:210,e&&e.pdfHeight?e.pdfHeight:297]});return e&&(de.data=e.data),de})().raw("dataurlstring").then(p=>{let S;S=p,this.http.post("https://localhost:44337/Documents/SaveSurevyDocument",{patientId:this.patientId,botId:this.formId,pdfDocument:S,imageDocument:e.data.question1[0].content}).subscribe(de=>{})})}getQueryParams(){const r=new Ti.Model({title:"Insurance Card",logoPosition:"right",pages:[{name:"page1",elements:[{type:"file",name:"question1",title:"Please upload the latest copy of your insurance card",acceptedTypes:"image/*",sourceType:"file-camera"}]}]});this.surveyModel=r}}return t.\u0275fac=function(e){return new(e||t)(kt(eT),kt(pd))},t.\u0275cmp=Wt({type:t,selectors:[["app-root"]],decls:1,vars:1,consts:[[3,"model"]],template:function(e,r){1&e&&ut(0,"survey",0),2&e&&ie("model",r.surveyModel)},directives:[PH],styles:[""]}),t})(),cW=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$o({type:t,bootstrap:[uW]}),t.\u0275inj=Nr({providers:[],imports:[[vA,VU,$U,X9.forRoot([])]]}),t})();mA().bootstrapModule(cW).catch(t=>console.error(t))},3583:(hc,$e,j)=>{"use strict";function x(O){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(O)}j.r($e),j.d($e,{AcroForm:()=>$o,AcroFormAppearance:()=>Lt,AcroFormButton:()=>Wi,AcroFormCheckBox:()=>Wt,AcroFormChoiceField:()=>jr,AcroFormComboBox:()=>wa,AcroFormEditBox:()=>Ga,AcroFormListBox:()=>zs,AcroFormPasswordField:()=>yn,AcroFormPushButton:()=>ce,AcroFormRadioButton:()=>Tn,AcroFormTextField:()=>aa,GState:()=>mc,ShadingPattern:()=>Pl,TilingPattern:()=>Zn,default:()=>mt,jsPDF:()=>Xn});var $=Uint8Array,w=Uint16Array,F=Uint32Array,R=new $([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),L=new $([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),m=new $([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),T=function(O,I){for(var V=new w(31),_=0;_<31;++_)V[_]=I+=1<<O[_-1];var q=new F(V[30]);for(_=1;_<30;++_)for(var Q=V[_];Q<V[_+1];++Q)q[Q]=Q-V[_]<<5|_;return[V,q]},C=T(R,2),y=C[0],h=C[1];y[28]=258,h[258]=28;for(var v=T(L,0),f=v[0],d=v[1],u=new w(32768),a=0;a<32768;++a){var o=(43690&a)>>>1|(21845&a)<<1;u[a]=((65280&(o=(61680&(o=(52428&o)>>>2|(13107&o)<<2))>>>4|(3855&o)<<4))>>>8|(255&o)<<8)>>>1}var s=function(O,I,V){for(var _=O.length,q=0,Q=new w(I);q<_;++q)++Q[O[q]-1];var ee,Y=new w(I);for(q=0;q<I;++q)Y[q]=Y[q-1]+Q[q-1]<<1;if(V){ee=new w(1<<I);var te=15-I;for(q=0;q<_;++q)if(O[q])for(var pe=q<<4|O[q],Ce=I-O[q],we=Y[O[q]-1]++<<Ce,Oe=we|(1<<Ce)-1;we<=Oe;++we)ee[u[we]>>>te]=pe}else for(ee=new w(_),q=0;q<_;++q)ee[q]=u[Y[O[q]-1]++]>>>15-O[q];return ee},l=new $(288);for(a=0;a<144;++a)l[a]=8;for(a=144;a<256;++a)l[a]=9;for(a=256;a<280;++a)l[a]=7;for(a=280;a<288;++a)l[a]=8;var c=new $(32);for(a=0;a<32;++a)c[a]=5;var b=s(l,9,0),M=s(l,9,1),D=s(c,5,0),g=s(c,5,1),P=function(O){for(var I=O[0],V=1;V<O.length;++V)O[V]>I&&(I=O[V]);return I},A=function(O,I,V){var _=I/8>>0;return(O[_]|O[_+1]<<8)>>>(7&I)&V},k=function(O,I){var V=I/8>>0;return(O[V]|O[V+1]<<8|O[V+2]<<16)>>>(7&I)},Z=function(O){return(O/8>>0)+(7&O&&1)},re=function(O,I,V){(null==I||I<0)&&(I=0),(null==V||V>O.length)&&(V=O.length);var _=new(O instanceof w?w:O instanceof F?F:$)(V-I);return _.set(O.subarray(I,V)),_},E=function(O,I,V){var _=I/8>>0;O[_]|=V<<=7&I,O[_+1]|=V>>>8},B=function(O,I,V){var _=I/8>>0;O[_]|=V<<=7&I,O[_+1]|=V>>>8,O[_+2]|=V>>>16},U=function(O,I){for(var V=[],_=0;_<O.length;++_)O[_]&&V.push({s:_,f:O[_]});var q=V.length,Q=V.slice();if(!q)return[new $(0),0];if(1==q){var Y=new $(V[0].s+1);return Y[V[0].s]=1,[Y,1]}V.sort(function(Ft,Yt){return Ft.f-Yt.f}),V.push({s:-1,f:25001});var ee=V[0],te=V[1],pe=0,Ce=1,we=2;for(V[0]={s:-1,f:ee.f+te.f,l:ee,r:te};Ce!=q-1;)ee=V[V[pe].f<V[we].f?pe++:we++],te=V[pe!=Ce&&V[pe].f<V[we].f?pe++:we++],V[Ce++]={s:-1,f:ee.f+te.f,l:ee,r:te};var Oe=Q[0].s;for(_=1;_<q;++_)Q[_].s>Oe&&(Oe=Q[_].s);var ue=new w(Oe+1),_e=ae(V[Ce-1],ue,0);if(_e>I){_=0;var Re=0,qe=_e-I,Ie=1<<qe;for(Q.sort(function(Yt,wt){return ue[wt.s]-ue[Yt.s]||Yt.f-wt.f});_<q;++_){var ze=Q[_].s;if(!(ue[ze]>I))break;Re+=Ie-(1<<_e-ue[ze]),ue[ze]=I}for(Re>>>=qe;Re>0;){var at=Q[_].s;ue[at]<I?Re-=1<<I-ue[at]++-1:++_}for(;_>=0&&Re;--_){var Et=Q[_].s;ue[Et]==I&&(--ue[Et],++Re)}_e=I}return[new $(ue),_e]},ae=function(O,I,V){return-1==O.s?Math.max(ae(O.l,I,V+1),ae(O.r,I,V+1)):I[O.s]=V},Pe=function(O){for(var I=O.length;I&&!O[--I];);for(var V=new w(++I),_=0,q=O[0],Q=1,Y=function(te){V[_++]=te},ee=1;ee<=I;++ee)if(O[ee]==q&&ee!=I)++Q;else{if(!q&&Q>2){for(;Q>138;Q-=138)Y(32754);Q>2&&(Y(Q>10?Q-11<<5|28690:Q-3<<5|12305),Q=0)}else if(Q>3){for(Y(q),--Q;Q>6;Q-=6)Y(8304);Q>2&&(Y(Q-3<<5|8208),Q=0)}for(;Q--;)Y(q);Q=1,q=O[ee]}return[V.subarray(0,_),I]},je=function(O,I){for(var V=0,_=0;_<I.length;++_)V+=O[_]*I[_];return V},ft=function(O,I,V){var _=V.length,q=Z(I+2);O[q]=255&_,O[q+1]=_>>>8,O[q+2]=255^O[q],O[q+3]=255^O[q+1];for(var Q=0;Q<_;++Q)O[q+Q+4]=V[Q];return 8*(q+4+_)},gt=function(O,I,V,_,q,Q,Y,ee,te,pe,Ce){E(I,Ce++,V),++q[256];for(var we=U(q,15),Oe=we[0],ue=we[1],_e=U(Q,15),Re=_e[0],qe=_e[1],Ie=Pe(Oe),ze=Ie[0],at=Ie[1],Et=Pe(Re),Ft=Et[0],Yt=Et[1],wt=new w(19),Ye=0;Ye<ze.length;++Ye)wt[31&ze[Ye]]++;for(Ye=0;Ye<Ft.length;++Ye)wt[31&Ft[Ye]]++;for(var Kt=U(wt,7),jt=Kt[0],Be=Kt[1],Fe=19;Fe>4&&!jt[m[Fe-1]];--Fe);var Mt,zt,Dt,qt,ot=pe+5<<3,et=je(q,l)+je(Q,c)+Y,Ht=je(q,Oe)+je(Q,Re)+Y+14+3*Fe+je(wt,jt)+(2*wt[16]+3*wt[17]+7*wt[18]);if(ot<=et&&ot<=Ht)return ft(I,Ce,O.subarray(te,te+pe));if(E(I,Ce,1+(Ht<et)),Ce+=2,Ht<et){Mt=s(Oe,ue,0),zt=Oe,Dt=s(Re,qe,0),qt=Re;var St=s(jt,Be,0);for(E(I,Ce,at-257),E(I,Ce+5,Yt-1),E(I,Ce+10,Fe-4),Ce+=14,Ye=0;Ye<Fe;++Ye)E(I,Ce+3*Ye,jt[m[Ye]]);Ce+=3*Fe;for(var In=[ze,Ft],Te=0;Te<2;++Te){var Ue=In[Te];for(Ye=0;Ye<Ue.length;++Ye)E(I,Ce,St[Ge=31&Ue[Ye]]),Ce+=jt[Ge],Ge>15&&(E(I,Ce,Ue[Ye]>>>5&127),Ce+=Ue[Ye]>>>12)}}else Mt=b,zt=l,Dt=D,qt=c;for(Ye=0;Ye<ee;++Ye)if(_[Ye]>255){var Ge;B(I,Ce,Mt[257+(Ge=_[Ye]>>>18&31)]),Ce+=zt[Ge+257],Ge>7&&(E(I,Ce,_[Ye]>>>23&31),Ce+=R[Ge]);var lt=31&_[Ye];B(I,Ce,Dt[lt]),Ce+=qt[lt],lt>3&&(B(I,Ce,_[Ye]>>>5&8191),Ce+=L[lt])}else B(I,Ce,Mt[_[Ye]]),Ce+=zt[_[Ye]];return B(I,Ce,Mt[256]),Ce+zt[256]},Ze=new F([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xt=new $(0),fn=function(O,I,V,_,q){return function(O,I,V,_,q,Q){var Y=O.length,ee=new $(_+Y+5*(1+Math.floor(Y/7e3))+q),te=ee.subarray(_,ee.length-q),pe=0;if(!I||Y<8)for(var Ce=0;Ce<=Y;Ce+=65535){var we=Ce+65535;we<Y?pe=ft(te,pe,O.subarray(Ce,we)):(te[Ce]=Q,pe=ft(te,pe,O.subarray(Ce,Y)))}else{for(var Oe=Ze[I-1],ue=Oe>>>13,_e=8191&Oe,Re=(1<<V)-1,qe=new w(32768),Ie=new w(Re+1),ze=Math.ceil(V/3),at=2*ze,Et=function(ir){return(O[ir]^O[ir+1]<<ze^O[ir+2]<<at)&Re},Ft=new F(25e3),Yt=new w(288),wt=new w(32),Ye=0,Kt=0,jt=(Ce=0,0),Be=0,Fe=0;Ce<Y;++Ce){var ot=Et(Ce),et=32767&Ce,Ht=Ie[ot];if(qe[et]=Ht,Ie[ot]=et,Be<=Ce){var Mt=Y-Ce;if((Ye>7e3||jt>24576)&&Mt>423){pe=gt(O,te,0,Ft,Yt,wt,Kt,jt,Fe,Ce-Fe,pe),jt=Ye=Kt=0,Fe=Ce;for(var zt=0;zt<286;++zt)Yt[zt]=0;for(zt=0;zt<30;++zt)wt[zt]=0}var Dt=2,qt=0,St=_e,In=et-Ht&32767;if(Mt>2&&ot==Et(Ce-In))for(var Te=Math.min(ue,Mt)-1,Ue=Math.min(32767,Ce),Ge=Math.min(258,Mt);In<=Ue&&--St&&et!=Ht;){if(O[Ce+Dt]==O[Ce+Dt-In]){for(var lt=0;lt<Ge&&O[Ce+lt]==O[Ce+lt-In];++lt);if(lt>Dt){if(Dt=lt,qt=In,lt>Te)break;var pt=Math.min(In,lt-2),vt=0;for(zt=0;zt<pt;++zt){var Ot=Ce-In+zt+32768&32767,cn=Ot-qe[Ot]+32768&32767;cn>vt&&(vt=cn,Ht=Ot)}}}In+=(et=Ht)-(Ht=qe[et])+32768&32767}if(qt){Ft[jt++]=268435456|h[Dt]<<18|d[qt];var nn=31&h[Dt],Sn=31&d[qt];Kt+=R[nn]+L[Sn],++Yt[257+nn],++wt[Sn],Be=Ce+Dt,++Ye}else Ft[jt++]=O[Ce],++Yt[O[Ce]]}}pe=gt(O,te,Q,Ft,Yt,wt,Kt,jt,Fe,Ce-Fe,pe),Q||(pe=ft(te,pe,xt))}return re(ee,0,_+Z(pe)+q)}(O,null==I.level?6:I.level,null==I.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(O.length)))):12+I.mem,V,_,!q)};function Ps(O,I){void 0===I&&(I={});var V=function(){var O=1,I=0;return{p:function(V){for(var _=O,q=I,Q=V.length,Y=0;Y!=Q;){for(var ee=Math.min(Y+5552,Q);Y<ee;++Y)q+=_+=V[Y];_%=65521,q%=65521}O=_,I=q},d:function(){return(O>>>8<<16|(255&I)<<8|I>>>8)+2*((255&O)<<23)}}}();V.p(O);var _=fn(O,I,2,4);return function(O,I){var V=I.level,_=0==V?0:V<6?1:9==V?3:2;O[0]=120,O[1]=_<<6|(_?32-2*_:1)}(_,I),function(O,I,V){for(;V;++I)O[I]=V,V>>>=8}(_,_.length-4,V.d()),_}function Hs(O,I){return function(O,I,V){var _=O.length,q=!I||V,Q=!V||V.i;V||(V={}),I||(I=new $(3*_));var Y=function(pt){var vt=I.length;if(pt>vt){var Ot=new $(Math.max(2*vt,pt));Ot.set(I),I=Ot}},ee=V.f||0,te=V.p||0,pe=V.b||0,Ce=V.l,we=V.d,Oe=V.m,ue=V.n,_e=8*_;do{if(!Ce){V.f=ee=A(O,te,1);var Re=A(O,te+1,3);if(te+=3,!Re){var Ie=O[(qe=Z(te)+4)-4]|O[qe-3]<<8,ze=qe+Ie;if(ze>_){if(Q)throw"unexpected EOF";break}q&&Y(pe+Ie),I.set(O.subarray(qe,ze),pe),V.b=pe+=Ie,V.p=te=8*ze;continue}if(1==Re)Ce=M,we=g,Oe=9,ue=5;else{if(2!=Re)throw"invalid block type";var at=A(O,te,31)+257,Et=A(O,te+10,15)+4,Ft=at+A(O,te+5,31)+1;te+=14;for(var Yt=new $(Ft),wt=new $(19),Ye=0;Ye<Et;++Ye)wt[m[Ye]]=A(O,te+3*Ye,7);te+=3*Et;var Kt=P(wt),jt=(1<<Kt)-1;if(!Q&&te+Ft*(Kt+7)>_e)break;var Be=s(wt,Kt,1);for(Ye=0;Ye<Ft;){var qe,Fe=Be[A(O,te,jt)];if(te+=15&Fe,(qe=Fe>>>4)<16)Yt[Ye++]=qe;else{var ot=0,et=0;for(16==qe?(et=3+A(O,te,3),te+=2,ot=Yt[Ye-1]):17==qe?(et=3+A(O,te,7),te+=3):18==qe&&(et=11+A(O,te,127),te+=7);et--;)Yt[Ye++]=ot}}var Ht=Yt.subarray(0,at),Mt=Yt.subarray(at);Oe=P(Ht),ue=P(Mt),Ce=s(Ht,Oe,1),we=s(Mt,ue,1)}if(te>_e)throw"unexpected EOF"}q&&Y(pe+131072);for(var zt=(1<<Oe)-1,Dt=(1<<ue)-1,qt=Oe+ue+18;Q||te+qt<_e;){var St=(ot=Ce[k(O,te)&zt])>>>4;if((te+=15&ot)>_e)throw"unexpected EOF";if(!ot)throw"invalid length/literal";if(St<256)I[pe++]=St;else{if(256==St){Ce=null;break}var In=St-254;St>264&&(In=A(O,te,(1<<(Te=R[Ye=St-257]))-1)+y[Ye],te+=Te);var Ue=we[k(O,te)&Dt],Ge=Ue>>>4;if(!Ue)throw"invalid distance";if(te+=15&Ue,Mt=f[Ge],Ge>3){var Te=L[Ge];Mt+=k(O,te)&(1<<Te)-1,te+=Te}if(te>_e)throw"unexpected EOF";q&&Y(pe+131072);for(var lt=pe+In;pe<lt;pe+=4)I[pe]=I[pe-Mt],I[pe+1]=I[pe+1-Mt],I[pe+2]=I[pe+2-Mt],I[pe+3]=I[pe+3-Mt];pe=lt}}V.l=Ce,V.p=te,V.b=pe,Ce&&(ee=1,V.m=Oe,V.d=we,V.n=ue)}while(!ee);return pe==I.length?I:re(I,0,pe)}((function(O){if(8!=(15&O[0])||O[0]>>>4>7||(O[0]<<8|O[1])%31)throw"invalid zlib data";if(32&O[1])throw"invalid zlib data: preset dictionaries not supported"}(O),O.subarray(2,-4)),I)}var _n=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function Fu(){_n.console&&"function"==typeof _n.console.log&&_n.console.log.apply(_n.console,arguments)}var zn={log:Fu,warn:function(O){_n.console&&("function"==typeof _n.console.warn?_n.console.warn.apply(_n.console,arguments):Fu.call(null,arguments))},error:function(O){_n.console&&("function"==typeof _n.console.error?_n.console.error.apply(_n.console,arguments):Fu(O))}};function lr(O,I,V){var _=new XMLHttpRequest;_.open("GET",O),_.responseType="blob",_.onload=function(){Yn(_.response,I,V)},_.onerror=function(){zn.error("could not download file")},_.send()}function Nu(O){var I=new XMLHttpRequest;I.open("HEAD",O,!1);try{I.send()}catch(V){}return I.status>=200&&I.status<=299}function vf(O){try{O.dispatchEvent(new MouseEvent("click"))}catch(V){var I=document.createEvent("MouseEvents");I.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),O.dispatchEvent(I)}}var wr,Bu,Yn=_n.saveAs||("object"!==("undefined"==typeof window?"undefined":x(window))||window!==_n?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(O,I,V){var _=_n.URL||_n.webkitURL,q=document.createElement("a");q.download=I=I||O.name||"download",q.rel="noopener","string"==typeof O?(q.href=O,q.origin!==location.origin?Nu(q.href)?lr(O,I,V):vf(q,q.target="_blank"):vf(q)):(q.href=_.createObjectURL(O),setTimeout(function(){_.revokeObjectURL(q.href)},4e4),setTimeout(function(){vf(q)},0))}:"msSaveOrOpenBlob"in navigator?function(O,I,V){if(I=I||O.name||"download","string"==typeof O)if(Nu(O))lr(O,I,V);else{var _=document.createElement("a");_.href=O,_.target="_blank",setTimeout(function(){vf(_)})}else navigator.msSaveOrOpenBlob((q=O,void 0===(Q=V)?Q={autoBom:!1}:"object"!==x(Q)&&(zn.warn("Deprecated: Expected third argument to be a object"),Q={autoBom:!Q}),Q.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(q.type)?new Blob([String.fromCharCode(65279),q],{type:q.type}):q),I);var q,Q}:function(O,I,V,_){if((_=_||open("","_blank"))&&(_.document.title=_.document.body.innerText="downloading..."),"string"==typeof O)return lr(O,I,V);var q="application/octet-stream"===O.type,Q=/constructor/i.test(_n.HTMLElement)||_n.safari,Y=/CriOS\/[\d]+/.test(navigator.userAgent);if((Y||q&&Q)&&"object"===("undefined"==typeof FileReader?"undefined":x(FileReader))){var ee=new FileReader;ee.onloadend=function(){var Ce=ee.result;Ce=Y?Ce:Ce.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=Ce:location=Ce,_=null},ee.readAsDataURL(O)}else{var te=_n.URL||_n.webkitURL,pe=te.createObjectURL(O);_?_.location=pe:location.href=pe,_=null,setTimeout(function(){te.revokeObjectURL(pe)},4e4)}});function Gi(O){var I;O=O||"",this.ok=!1,"#"==O.charAt(0)&&(O=O.substr(1,6)),O={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[O=(O=O.replace(/ /g,"")).toLowerCase()]||O;for(var V=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(ee){return[parseInt(ee[1]),parseInt(ee[2]),parseInt(ee[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(ee){return[parseInt(ee[1],16),parseInt(ee[2],16),parseInt(ee[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(ee){return[parseInt(ee[1]+ee[1],16),parseInt(ee[2]+ee[2],16),parseInt(ee[3]+ee[3],16)]}}],_=0;_<V.length;_++){var Q=V[_].process,Y=V[_].re.exec(O);Y&&(I=Q(Y),this.r=I[0],this.g=I[1],this.b=I[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var ee=this.r.toString(16),te=this.g.toString(16),pe=this.b.toString(16);return 1==ee.length&&(ee="0"+ee),1==te.length&&(te="0"+te),1==pe.length&&(pe="0"+pe),"#"+ee+te+pe}}function gc(O,I){var V=O[0],_=O[1],q=O[2],Q=O[3];V=Ro(V,_,q,Q,I[0],7,-680876936),Q=Ro(Q,V,_,q,I[1],12,-389564586),q=Ro(q,Q,V,_,I[2],17,606105819),_=Ro(_,q,Q,V,I[3],22,-1044525330),V=Ro(V,_,q,Q,I[4],7,-176418897),Q=Ro(Q,V,_,q,I[5],12,1200080426),q=Ro(q,Q,V,_,I[6],17,-1473231341),_=Ro(_,q,Q,V,I[7],22,-45705983),V=Ro(V,_,q,Q,I[8],7,1770035416),Q=Ro(Q,V,_,q,I[9],12,-1958414417),q=Ro(q,Q,V,_,I[10],17,-42063),_=Ro(_,q,Q,V,I[11],22,-1990404162),V=Ro(V,_,q,Q,I[12],7,1804603682),Q=Ro(Q,V,_,q,I[13],12,-40341101),q=Ro(q,Q,V,_,I[14],17,-1502002290),V=Ji(V,_=Ro(_,q,Q,V,I[15],22,1236535329),q,Q,I[1],5,-165796510),Q=Ji(Q,V,_,q,I[6],9,-1069501632),q=Ji(q,Q,V,_,I[11],14,643717713),_=Ji(_,q,Q,V,I[0],20,-373897302),V=Ji(V,_,q,Q,I[5],5,-701558691),Q=Ji(Q,V,_,q,I[10],9,38016083),q=Ji(q,Q,V,_,I[15],14,-660478335),_=Ji(_,q,Q,V,I[4],20,-405537848),V=Ji(V,_,q,Q,I[9],5,568446438),Q=Ji(Q,V,_,q,I[14],9,-1019803690),q=Ji(q,Q,V,_,I[3],14,-187363961),_=Ji(_,q,Q,V,I[8],20,1163531501),V=Ji(V,_,q,Q,I[13],5,-1444681467),Q=Ji(Q,V,_,q,I[2],9,-51403784),q=Ji(q,Q,V,_,I[7],14,1735328473),V=ri(V,_=Ji(_,q,Q,V,I[12],20,-1926607734),q,Q,I[5],4,-378558),Q=ri(Q,V,_,q,I[8],11,-2022574463),q=ri(q,Q,V,_,I[11],16,1839030562),_=ri(_,q,Q,V,I[14],23,-35309556),V=ri(V,_,q,Q,I[1],4,-1530992060),Q=ri(Q,V,_,q,I[4],11,1272893353),q=ri(q,Q,V,_,I[7],16,-155497632),_=ri(_,q,Q,V,I[10],23,-1094730640),V=ri(V,_,q,Q,I[13],4,681279174),Q=ri(Q,V,_,q,I[0],11,-358537222),q=ri(q,Q,V,_,I[3],16,-722521979),_=ri(_,q,Q,V,I[6],23,76029189),V=ri(V,_,q,Q,I[9],4,-640364487),Q=ri(Q,V,_,q,I[12],11,-421815835),q=ri(q,Q,V,_,I[15],16,530742520),V=Ao(V,_=ri(_,q,Q,V,I[2],23,-995338651),q,Q,I[0],6,-198630844),Q=Ao(Q,V,_,q,I[7],10,1126891415),q=Ao(q,Q,V,_,I[14],15,-1416354905),_=Ao(_,q,Q,V,I[5],21,-57434055),V=Ao(V,_,q,Q,I[12],6,1700485571),Q=Ao(Q,V,_,q,I[3],10,-1894986606),q=Ao(q,Q,V,_,I[10],15,-1051523),_=Ao(_,q,Q,V,I[1],21,-2054922799),V=Ao(V,_,q,Q,I[8],6,1873313359),Q=Ao(Q,V,_,q,I[15],10,-30611744),q=Ao(q,Q,V,_,I[6],15,-1560198380),_=Ao(_,q,Q,V,I[13],21,1309151649),V=Ao(V,_,q,Q,I[4],6,-145523070),Q=Ao(Q,V,_,q,I[11],10,-1120210379),q=Ao(q,Q,V,_,I[2],15,718787259),_=Ao(_,q,Q,V,I[9],21,-343485551),O[0]=Ka(V,O[0]),O[1]=Ka(_,O[1]),O[2]=Ka(q,O[2]),O[3]=Ka(Q,O[3])}function Cf(O,I,V,_,q,Q){return I=Ka(Ka(I,O),Ka(_,Q)),Ka(I<<q|I>>>32-q,V)}function Ro(O,I,V,_,q,Q,Y){return Cf(I&V|~I&_,O,I,q,Q,Y)}function Ji(O,I,V,_,q,Q,Y){return Cf(I&_|V&~_,O,I,q,Q,Y)}function ri(O,I,V,_,q,Q,Y){return Cf(I^V^_,O,I,q,Q,Y)}function Ao(O,I,V,_,q,Q,Y){return Cf(V^(I|~_),O,I,q,Q,Y)}function bf(O){var I,V=O.length,_=[1732584193,-271733879,-1732584194,271733878];for(I=64;I<=O.length;I+=64)gc(_,Bh(O.substring(I-64,I)));O=O.substring(I-64);var q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(I=0;I<O.length;I++)q[I>>2]|=O.charCodeAt(I)<<(I%4<<3);if(q[I>>2]|=128<<(I%4<<3),I>55)for(gc(_,q),I=0;I<16;I++)q[I]=0;return q[14]=8*V,gc(_,q),_}function Bh(O){var I,V=[];for(I=0;I<64;I+=4)V[I>>2]=O.charCodeAt(I)+(O.charCodeAt(I+1)<<8)+(O.charCodeAt(I+2)<<16)+(O.charCodeAt(I+3)<<24);return V}wr=_n.atob.bind(_n),Bu=_n.btoa.bind(_n);var Ws="0123456789abcdef".split("");function jh(O){for(var I="",V=0;V<4;V++)I+=Ws[O>>8*V+4&15]+Ws[O>>8*V&15];return I}function pg(O){return String.fromCharCode((255&O)>>0,(65280&O)>>8,(16711680&O)>>16,(4278190080&O)>>24)}function vd(O){return bf(O).map(pg).join("")}var gg="5d41402abc4b2a76b9719d911017c592"!=function(O){for(var I=0;I<O.length;I++)O[I]=jh(O[I]);return O.join("")}(bf("hello"));function Ka(O,I){if(gg){var V=(65535&O)+(65535&I);return(O>>16)+(I>>16)+(V>>16)<<16|65535&V}return O+I&4294967295}function Cd(O,I){var V,_,q;if(O!==V){for(var Y=(q=O,new Array(1+(256/O.length>>0)+1).join(q)),ee=[],te=0;te<256;te++)ee[te]=te;var pe=0;for(te=0;te<256;te++){var Ce=ee[te];pe=(pe+Ce+Y.charCodeAt(te))%256,ee[te]=ee[pe],ee[pe]=Ce}V=O,_=ee}else ee=_;var we=I.length,Oe=0,ue=0,_e="";for(te=0;te<we;te++)ue=(ue+(Ce=ee[Oe=(Oe+1)%256]))%256,ee[Oe]=ee[ue],ee[ue]=Ce,Y=ee[(ee[Oe]+ee[ue])%256],_e+=String.fromCharCode(I.charCodeAt(te)^Y);return _e}var Pf={print:4,modify:8,copy:16,"annot-forms":32};function tu(O,I,V,_){this.v=1,this.r=2;var q=192;O.forEach(function(ee){if(void 0!==Pf.perm)throw new Error("Invalid permission: "+ee);q+=Pf[ee]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var Q=(I+this.padding).substr(0,32),Y=(V+this.padding).substr(0,32);this.O=this.processOwnerPassword(Q,Y),this.P=-(1+(255^q)),this.encryptionKey=vd(Q+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(_)).substr(0,5),this.U=Cd(this.encryptionKey,this.padding)}function lo(O){if(/[^\u0000-\u00ff]/.test(O))throw new Error("Invalid PDF Name Object: "+O+", Only accept ASCII characters.");for(var I="",V=O.length,_=0;_<V;_++){var q=O.charCodeAt(_);I+=q<33||35===q||37===q||40===q||41===q||47===q||60===q||62===q||91===q||93===q||123===q||125===q||q>126?"#"+("0"+q.toString(16)).slice(-2):O[_]}return I}function Jr(O){if("object"!==x(O))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var I={};this.subscribe=function(V,_,q){if(q=q||!1,"string"!=typeof V||"function"!=typeof _||"boolean"!=typeof q)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");I.hasOwnProperty(V)||(I[V]={});var Q=Math.random().toString(35);return I[V][Q]=[_,!!q],Q},this.unsubscribe=function(V){for(var _ in I)if(I[_][V])return delete I[_][V],0===Object.keys(I[_]).length&&delete I[_],!0;return!1},this.publish=function(V){if(I.hasOwnProperty(V)){var _=Array.prototype.slice.call(arguments,1),q=[];for(var Q in I[V]){var Y=I[V][Q];try{Y[0].apply(O,_)}catch(ee){_n.console&&zn.error("jsPDF PubSub Error",ee.message,ee)}Y[1]&&q.push(Q)}q.length&&q.forEach(this.unsubscribe)}},this.getTopics=function(){return I}}function mc(O){if(!(this instanceof mc))return new mc(O);var I="opacity,stroke-opacity".split(",");for(var V in O)O.hasOwnProperty(V)&&I.indexOf(V)>=0&&(this[V]=O[V]);this.id="",this.objectNumber=-1}function Hh(O,I){this.gState=O,this.matrix=I,this.id="",this.objectNumber=-1}function Pl(O,I,V,_,q){if(!(this instanceof Pl))return new Pl(O,I,V,_,q);this.type="axial"===O?2:3,this.coords=I,this.colors=V,Hh.call(this,_,q)}function Zn(O,I,V,_,q){if(!(this instanceof Zn))return new Zn(O,I,V,_,q);this.boundingBox=O,this.xStep=I,this.yStep=V,this.stream="",this.cloneIndex=0,Hh.call(this,_,q)}function Xn(O){var I,V="string"==typeof arguments[0]?arguments[0]:"p",_=arguments[1],q=arguments[2],Q=arguments[3],Y=[],ee=1,te=16,pe="S",Ce=null;"object"===x(O=O||{})&&(V=O.orientation,_=O.unit||_,q=O.format||q,Q=O.compress||O.compressPdf||Q,null!==(Ce=O.encryption||null)&&(Ce.userPassword=Ce.userPassword||"",Ce.ownerPassword=Ce.ownerPassword||"",Ce.userPermissions=Ce.userPermissions||[]),ee="number"==typeof O.userUnit?Math.abs(O.userUnit):1,void 0!==O.precision&&(I=O.precision),void 0!==O.floatPrecision&&(te=O.floatPrecision),pe=O.defaultPathOperation||"S"),Y=O.filters||(!0===Q?["FlateEncode"]:Y),_=_||"mm",V=(""+(V||"P")).toLowerCase();var we=O.putOnlyUsedFonts||!1,Oe={},ue={internal:{},__private__:{}};ue.__private__.PubSub=Jr;var _e="1.3",Re=ue.__private__.getPdfVersion=function(){return _e};ue.__private__.setPdfVersion=function(J){_e=J};var qe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};ue.__private__.getPageFormats=function(){return qe};var Ie=ue.__private__.getPageFormat=function(J){return qe[J]};q=q||"a4";var ze={COMPAT:"compat",ADVANCED:"advanced"},at=ze.COMPAT;function Et(){this.saveGraphicsState(),Je(new tr(On,0,0,-On,0,pa()*On).toString()+" cm"),this.setFontSize(this.getFontSize()/On),pe="n",at=ze.ADVANCED}function Ft(){this.restoreGraphicsState(),pe="S",at=ze.COMPAT}var Yt=ue.__private__.combineFontStyleAndFontWeight=function(J,ve){if("bold"==J&&"normal"==ve||"bold"==J&&400==ve||"normal"==J&&"italic"==ve||"bold"==J&&"italic"==ve)throw new Error("Invalid Combination of fontweight and fontstyle");return ve&&(J=400==ve||"normal"===ve?"italic"===J?"italic":"normal":700!=ve&&"bold"!==ve||"normal"!==J?(700==ve?"bold":ve)+""+J:"bold"),J};ue.advancedAPI=function(J){var ve=at===ze.COMPAT;return ve&&Et.call(this),"function"!=typeof J||(J(this),ve&&Ft.call(this)),this},ue.compatAPI=function(J){var ve=at===ze.ADVANCED;return ve&&Ft.call(this),"function"!=typeof J||(J(this),ve&&Et.call(this)),this},ue.isAdvancedAPI=function(){return at===ze.ADVANCED};var wt,Ye=function(J){if(at!==ze.ADVANCED)throw new Error(J+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Kt=ue.roundToPrecision=ue.__private__.roundToPrecision=function(J,ve){var Qe=I||ve;if(isNaN(J)||isNaN(Qe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return J.toFixed(Qe).replace(/0+$/,"")};wt=ue.hpf=ue.__private__.hpf="number"==typeof te?function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.hpf");return Kt(J,te)}:"smart"===te?function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.hpf");return Kt(J,J>-1&&J<1?16:5)}:function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.hpf");return Kt(J,16)};var jt=ue.f2=ue.__private__.f2=function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.f2");return Kt(J,2)},Be=ue.__private__.f3=function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.f3");return Kt(J,3)},Fe=ue.scale=ue.__private__.scale=function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.scale");return at===ze.COMPAT?J*On:at===ze.ADVANCED?J:void 0},ot=function(J){return at===ze.COMPAT?pa()-J:at===ze.ADVANCED?J:void 0},et=function(J){return Fe(ot(J))};ue.__private__.setPrecision=ue.setPrecision=function(J){"number"==typeof parseInt(J,10)&&(I=parseInt(J,10))};var Ht,Mt="00000000000000000000000000000000",zt=ue.__private__.getFileId=function(){return Mt},Dt=ue.__private__.setFileId=function(J){return Mt=void 0!==J&&/^[a-fA-F0-9]{32}$/.test(J)?J.toUpperCase():Mt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==Ce&&(No=new tu(Ce.userPermissions,Ce.userPassword,Ce.ownerPassword,Mt)),Mt};ue.setFileId=function(J){return Dt(J),this},ue.getFileId=function(){return zt()};var qt=ue.__private__.convertDateToPDFDate=function(J){var ve=J.getTimezoneOffset(),Qe=ve<0?"+":"-",rt=Math.floor(Math.abs(ve/60)),yt=Math.abs(ve%60),At=[Qe,Ge(rt),"'",Ge(yt),"'"].join("");return["D:",J.getFullYear(),Ge(J.getMonth()+1),Ge(J.getDate()),Ge(J.getHours()),Ge(J.getMinutes()),Ge(J.getSeconds()),At].join("")},St=ue.__private__.convertPDFDateToDate=function(J){var ve=parseInt(J.substr(2,4),10),Qe=parseInt(J.substr(6,2),10)-1,rt=parseInt(J.substr(8,2),10),yt=parseInt(J.substr(10,2),10),At=parseInt(J.substr(12,2),10),sn=parseInt(J.substr(14,2),10);return new Date(ve,Qe,rt,yt,At,sn,0)},In=ue.__private__.setCreationDate=function(J){var ve;if(void 0===J&&(J=new Date),J instanceof Date)ve=qt(J);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(J))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ve=J}return Ht=ve},Te=ue.__private__.getCreationDate=function(J){var ve=Ht;return"jsDate"===J&&(ve=St(Ht)),ve};ue.setCreationDate=function(J){return In(J),this},ue.getCreationDate=function(J){return Te(J)};var Ue,Ge=ue.__private__.padd2=function(J){return("0"+parseInt(J)).slice(-2)},lt=ue.__private__.padd2Hex=function(J){return("00"+(J=J.toString())).substr(J.length)},pt=0,vt=[],Ot=[],Rt=0,cn=[],nn=[],Sn=!1,An=Ot,ir=function(){pt=0,Rt=0,Ot=[],vt=[],cn=[],rl=ki(),da=ki()};ue.__private__.setCustomOutputDestination=function(J){Sn=!0,An=J};var Bt=function(J){Sn||(An=J)};ue.__private__.resetCustomOutputDestination=function(){Sn=!1,An=Ot};var Je=ue.__private__.out=function(J){return J=J.toString(),Rt+=J.length+1,An.push(J),An},hr=ue.__private__.write=function(J){return Je(1===arguments.length?J.toString():Array.prototype.join.call(arguments," "))},tn=ue.__private__.getArrayBuffer=function(J){for(var ve=J.length,Qe=new ArrayBuffer(ve),rt=new Uint8Array(Qe);ve--;)rt[ve]=J.charCodeAt(ve);return Qe},ln=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];ue.__private__.getStandardFonts=function(){return ln};var bn=O.fontSize||16;ue.__private__.setFontSize=ue.setFontSize=function(J){return bn=at===ze.ADVANCED?J/On:J,this};var Rn,Dn=ue.__private__.getFontSize=ue.getFontSize=function(){return at===ze.COMPAT?bn:bn*On},Qn=O.R2L||!1;ue.__private__.setR2L=ue.setR2L=function(J){return Qn=J,this},ue.__private__.getR2L=ue.getR2L=function(){return Qn};var pr,Dr=ue.__private__.setZoomMode=function(J){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(J))Rn=J;else if(isNaN(J)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(J))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+J+'" is not recognized.');Rn=J}else Rn=parseInt(J,10)};ue.__private__.getZoomMode=function(){return Rn};var Vr,Vt=ue.__private__.setPageMode=function(J){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(J))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+J+'" is not recognized.');pr=J};ue.__private__.getPageMode=function(){return pr};var Un=ue.__private__.setLayoutMode=function(J){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(J))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+J+'" is not recognized.');Vr=J};ue.__private__.getLayoutMode=function(){return Vr},ue.__private__.setDisplayMode=ue.setDisplayMode=function(J,ve,Qe){return Dr(J),Un(ve),Vt(Qe),this};var Nt={title:"",subject:"",author:"",keywords:"",creator:""};ue.__private__.getDocumentProperty=function(J){if(-1===Object.keys(Nt).indexOf(J))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Nt[J]},ue.__private__.getDocumentProperties=function(){return Nt},ue.__private__.setDocumentProperties=ue.setProperties=ue.setDocumentProperties=function(J){for(var ve in Nt)Nt.hasOwnProperty(ve)&&J[ve]&&(Nt[ve]=J[ve]);return this},ue.__private__.setDocumentProperty=function(J,ve){if(-1===Object.keys(Nt).indexOf(J))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Nt[J]=ve};var kn,On,uo,Ir,ks,li={},Qi={},Xa=[],ui={},el={},Hr={},To={},tl=null,Ei=0,er=[],ii=new Jr(ue),ou=O.hotfixes||[],Go={},nl={},ua=[],tr=function J(ve,Qe,rt,yt,At,sn){if(!(this instanceof J))return new J(ve,Qe,rt,yt,At,sn);isNaN(ve)&&(ve=1),isNaN(Qe)&&(Qe=0),isNaN(rt)&&(rt=0),isNaN(yt)&&(yt=1),isNaN(At)&&(At=0),isNaN(sn)&&(sn=0),this._matrix=[ve,Qe,rt,yt,At,sn]};Object.defineProperty(tr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(J){this._matrix[0]=J}}),Object.defineProperty(tr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(J){this._matrix[1]=J}}),Object.defineProperty(tr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(J){this._matrix[2]=J}}),Object.defineProperty(tr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(J){this._matrix[3]=J}}),Object.defineProperty(tr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(J){this._matrix[4]=J}}),Object.defineProperty(tr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(J){this._matrix[5]=J}}),Object.defineProperty(tr.prototype,"a",{get:function(){return this._matrix[0]},set:function(J){this._matrix[0]=J}}),Object.defineProperty(tr.prototype,"b",{get:function(){return this._matrix[1]},set:function(J){this._matrix[1]=J}}),Object.defineProperty(tr.prototype,"c",{get:function(){return this._matrix[2]},set:function(J){this._matrix[2]=J}}),Object.defineProperty(tr.prototype,"d",{get:function(){return this._matrix[3]},set:function(J){this._matrix[3]=J}}),Object.defineProperty(tr.prototype,"e",{get:function(){return this._matrix[4]},set:function(J){this._matrix[4]=J}}),Object.defineProperty(tr.prototype,"f",{get:function(){return this._matrix[5]},set:function(J){this._matrix[5]=J}}),Object.defineProperty(tr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(tr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(tr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(tr.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),tr.prototype.join=function(J){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(wt).join(J)},tr.prototype.multiply=function(J){return new tr(J.sx*this.sx+J.shy*this.shx,J.sx*this.shy+J.shy*this.sy,J.shx*this.sx+J.sy*this.shx,J.shx*this.shy+J.sy*this.sy,J.tx*this.sx+J.ty*this.shx+this.tx,J.tx*this.shy+J.ty*this.sy+this.ty)},tr.prototype.decompose=function(){var J=this.sx,ve=this.shy,Qe=this.shx,rt=this.sy,yt=this.tx,At=this.ty,sn=Math.sqrt(J*J+ve*ve),En=(J/=sn)*Qe+(ve/=sn)*rt;Qe-=J*En,rt-=ve*En;var $n=Math.sqrt(Qe*Qe+rt*rt);return En/=$n,J*(rt/=$n)<ve*(Qe/=$n)&&(J=-J,ve=-ve,En=-En,sn=-sn),{scale:new tr(sn,0,0,$n,0,0),translate:new tr(1,0,0,1,yt,At),rotate:new tr(J,ve,-ve,J,0,0),skew:new tr(1,0,En,1,0,0)}},tr.prototype.toString=function(J){return this.join(" ")},tr.prototype.inversed=function(){var J=this.sx,ve=this.shy,Qe=this.shx,rt=this.sy,yt=this.tx,At=this.ty,sn=1/(J*rt-ve*Qe),En=rt*sn,$n=-ve*sn,mr=-Qe*sn,Sr=J*sn;return new tr(En,$n,mr,Sr,-En*yt-mr*At,-$n*yt-Sr*At)},tr.prototype.applyToPoint=function(J){return new du(J.x*this.sx+J.y*this.shx+this.tx,J.x*this.shy+J.y*this.sy+this.ty)},tr.prototype.applyToRectangle=function(J){var ve=this.applyToPoint(J),Qe=this.applyToPoint(new du(J.x+J.w,J.y+J.h));return new Rl(ve.x,ve.y,Qe.x-ve.x,Qe.y-ve.y)},tr.prototype.clone=function(){return new tr(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},ue.Matrix=tr;var ca=ue.matrixMult=function(J,ve){return ve.multiply(J)},fa=new tr(1,0,0,1,0,0);ue.unitMatrix=ue.identityMatrix=fa;var xs=function(J,ve){if(!el[J]){var Qe=(ve instanceof Pl?"Sh":"P")+(Object.keys(ui).length+1).toString(10);ve.id=Qe,el[J]=Qe,ui[Qe]=ve,ii.publish("addPattern",ve)}};ue.ShadingPattern=Pl,ue.TilingPattern=Zn,ue.addShadingPattern=function(J,ve){return Ye("addShadingPattern()"),xs(J,ve),this},ue.beginTilingPattern=function(J){Ye("beginTilingPattern()"),zd(J.boundingBox[0],J.boundingBox[1],J.boundingBox[2]-J.boundingBox[0],J.boundingBox[3]-J.boundingBox[1],J.matrix)},ue.endTilingPattern=function(J,ve){Ye("endTilingPattern()"),ve.stream=nn[Ue].join("\n"),xs(J,ve),ii.publish("endTilingPattern",ve),ua.pop().restore()};var co=ue.__private__.newObject=function(){var J=ki();return Ts(J,!0),J},ki=ue.__private__.newObjectDeferred=function(){return pt++,vt[pt]=function(){return Rt},pt},Ts=function(J,ve){return ve="boolean"==typeof ve&&ve,vt[J]=Rt,ve&&Je(J+" 0 obj"),J},ku=ue.__private__.newAdditionalObject=function(){var J={objId:ki(),content:""};return cn.push(J),J},rl=ki(),da=ki(),ws=ue.__private__.decodeColorString=function(J){var ve=J.split(" ");if(2!==ve.length||"g"!==ve[1]&&"G"!==ve[1])5===ve.length&&("k"===ve[4]||"K"===ve[4])&&(ve=[(1-ve[0])*(1-ve[3]),(1-ve[1])*(1-ve[3]),(1-ve[2])*(1-ve[3]),"r"]);else{var Qe=parseFloat(ve[0]);ve=[Qe,Qe,Qe,"r"]}for(var rt="#",yt=0;yt<3;yt++)rt+=("0"+Math.floor(255*parseFloat(ve[yt])).toString(16)).slice(-2);return rt},Ma=ue.__private__.encodeColorString=function(J){var ve;"string"==typeof J&&(J={ch1:J});var Qe=J.ch1,rt=J.ch2,yt=J.ch3,At=J.ch4,sn="draw"===J.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof Qe&&"#"!==Qe.charAt(0)){var En=new Gi(Qe);if(En.ok)Qe=En.toHex();else if(!/^\d*\.?\d*$/.test(Qe))throw new Error('Invalid color "'+Qe+'" passed to jsPDF.encodeColorString.')}if("string"==typeof Qe&&/^#[0-9A-Fa-f]{3}$/.test(Qe)&&(Qe="#"+Qe[1]+Qe[1]+Qe[2]+Qe[2]+Qe[3]+Qe[3]),"string"==typeof Qe&&/^#[0-9A-Fa-f]{6}$/.test(Qe)){var $n=parseInt(Qe.substr(1),16);Qe=$n>>16&255,rt=$n>>8&255,yt=255&$n}if(void 0===rt||void 0===At&&Qe===rt&&rt===yt)ve="string"==typeof Qe?Qe+" "+sn[0]:2===J.precision?jt(Qe/255)+" "+sn[0]:Be(Qe/255)+" "+sn[0];else if(void 0===At||"object"===x(At)){if(At&&!isNaN(At.a)&&0===At.a)return["1.","1.","1.",sn[1]].join(" ");ve="string"==typeof Qe?[Qe,rt,yt,sn[1]].join(" "):2===J.precision?[jt(Qe/255),jt(rt/255),jt(yt/255),sn[1]].join(" "):[Be(Qe/255),Be(rt/255),Be(yt/255),sn[1]].join(" ")}else ve="string"==typeof Qe?[Qe,rt,yt,At,sn[2]].join(" "):2===J.precision?[jt(Qe),jt(rt),jt(yt),jt(At),sn[2]].join(" "):[Be(Qe),Be(rt),Be(yt),Be(At),sn[2]].join(" ");return ve},il=ue.__private__.getFilters=function(){return Y},Ii=ue.__private__.putStream=function(J){var ve=(J=J||{}).data||"",Qe=J.filters||il(),rt=J.alreadyAppliedFilters||[],yt=J.addLength1||!1,At=ve.length,sn=J.objectId,En=function(Yo){return Yo};if(null!==Ce&&void 0===sn)throw new Error("ObjectId must be passed to putStream for file encryption");null!==Ce&&(En=No.encryptor(sn,0));var $n={};!0===Qe&&(Qe=["FlateEncode"]);var mr=J.additionalKeyValues||[],Sr=($n=void 0!==Xn.API.processDataByFilters?Xn.API.processDataByFilters(ve,Qe):{data:ve,reverseChain:[]}).reverseChain+(Array.isArray(rt)?rt.join(" "):rt.toString());if(0!==$n.data.length&&(mr.push({key:"Length",value:$n.data.length}),!0===yt&&mr.push({key:"Length1",value:At})),0!=Sr.length)if(Sr.split("/").length-1==1)mr.push({key:"Filter",value:Sr});else{mr.push({key:"Filter",value:"["+Sr+"]"});for(var Kr=0;Kr<mr.length;Kr+=1)if("DecodeParms"===mr[Kr].key){for(var Ki=[],Xi=0;Xi<$n.reverseChain.split("/").length-1;Xi+=1)Ki.push("null");Ki.push(mr[Kr].value),mr[Kr].value="["+Ki.join(" ")+"]"}}Je("<<");for(var fo=0;fo<mr.length;fo++)Je("/"+mr[fo].key+" "+mr[fo].value);Je(">>"),0!==$n.data.length&&(Je("stream"),Je(En($n.data)),Je("endstream"))},Jo=ue.__private__.putPage=function(J){var ve=J.number,Qe=J.data,rt=J.objId,yt=J.contentsObjId;Ts(rt,!0),Je("<</Type /Page"),Je("/Parent "+J.rootDictionaryObjId+" 0 R"),Je("/Resources "+J.resourceDictionaryObjId+" 0 R"),Je("/MediaBox ["+parseFloat(wt(J.mediaBox.bottomLeftX))+" "+parseFloat(wt(J.mediaBox.bottomLeftY))+" "+wt(J.mediaBox.topRightX)+" "+wt(J.mediaBox.topRightY)+"]"),null!==J.cropBox&&Je("/CropBox ["+wt(J.cropBox.bottomLeftX)+" "+wt(J.cropBox.bottomLeftY)+" "+wt(J.cropBox.topRightX)+" "+wt(J.cropBox.topRightY)+"]"),null!==J.bleedBox&&Je("/BleedBox ["+wt(J.bleedBox.bottomLeftX)+" "+wt(J.bleedBox.bottomLeftY)+" "+wt(J.bleedBox.topRightX)+" "+wt(J.bleedBox.topRightY)+"]"),null!==J.trimBox&&Je("/TrimBox ["+wt(J.trimBox.bottomLeftX)+" "+wt(J.trimBox.bottomLeftY)+" "+wt(J.trimBox.topRightX)+" "+wt(J.trimBox.topRightY)+"]"),null!==J.artBox&&Je("/ArtBox ["+wt(J.artBox.bottomLeftX)+" "+wt(J.artBox.bottomLeftY)+" "+wt(J.artBox.topRightX)+" "+wt(J.artBox.topRightY)+"]"),"number"==typeof J.userUnit&&1!==J.userUnit&&Je("/UserUnit "+J.userUnit),ii.publish("putPage",{objId:rt,pageContext:er[ve],pageNumber:ve,page:Qe}),Je("/Contents "+yt+" 0 R"),Je(">>"),Je("endobj");var At=Qe.join("\n");return at===ze.ADVANCED&&(At+="\nQ"),Ts(yt,!0),Ii({data:At,filters:il(),objectId:yt}),Je("endobj"),rt},ci=ue.__private__.putPages=function(){var J,ve,Qe=[];for(J=1;J<=Ei;J++)er[J].objId=ki(),er[J].contentsObjId=ki();for(J=1;J<=Ei;J++)Qe.push(Jo({number:J,data:nn[J],objId:er[J].objId,contentsObjId:er[J].contentsObjId,mediaBox:er[J].mediaBox,cropBox:er[J].cropBox,bleedBox:er[J].bleedBox,trimBox:er[J].trimBox,artBox:er[J].artBox,userUnit:er[J].userUnit,rootDictionaryObjId:rl,resourceDictionaryObjId:da}));Ts(rl,!0),Je("<</Type /Pages");var rt="/Kids [";for(ve=0;ve<Ei;ve++)rt+=Qe[ve]+" 0 R ";Je(rt+"]"),Je("/Count "+Ei),Je(">>"),Je("endobj"),ii.publish("postPutPages")},Er=function(J){ii.publish("putFont",{font:J,out:Je,newObject:co,putStream:Ii}),!0!==J.isAlreadyPutted&&(J.objectNumber=co(),Je("<<"),Je("/Type /Font"),Je("/BaseFont /"+lo(J.postScriptName)),Je("/Subtype /Type1"),"string"==typeof J.encoding&&Je("/Encoding /"+J.encoding),Je("/FirstChar 32"),Je("/LastChar 255"),Je(">>"),Je("endobj"))},Pc=function(){for(var J in li)li.hasOwnProperty(J)&&(!1===we||!0===we&&Oe.hasOwnProperty(J))&&Er(li[J])},Sa=function(J){J.objectNumber=co();var ve=[];ve.push({key:"Type",value:"/XObject"}),ve.push({key:"Subtype",value:"/Form"}),ve.push({key:"BBox",value:"["+[wt(J.x),wt(J.y),wt(J.x+J.width),wt(J.y+J.height)].join(" ")+"]"}),ve.push({key:"Matrix",value:"["+J.matrix.toString()+"]"});var Qe=J.pages[1].join("\n");Ii({data:Qe,additionalKeyValues:ve,objectId:J.objectNumber}),Je("endobj")},Ec=function(){for(var J in Go)Go.hasOwnProperty(J)&&Sa(Go[J])},Md=function(J,ve){var Qe,rt=[],yt=1/(ve-1);for(Qe=0;Qe<1;Qe+=yt)rt.push(Qe);rt.push(1),0!=J[0].offset&&J.unshift({offset:0,color:J[0].color}),1!=J[J.length-1].offset&&J.push({offset:1,color:J[J.length-1].color});for(var En="",$n=0,mr=0;mr<rt.length;mr++){for(Qe=rt[mr];Qe>J[$n+1].offset;)$n++;var Sr=J[$n].offset,Kr=(Qe-Sr)/(J[$n+1].offset-Sr),Ki=J[$n].color,Xi=J[$n+1].color;En+=lt(Math.round((1-Kr)*Ki[0]+Kr*Xi[0]).toString(16))+lt(Math.round((1-Kr)*Ki[1]+Kr*Xi[1]).toString(16))+lt(Math.round((1-Kr)*Ki[2]+Kr*Xi[2]).toString(16))}return En.trim()},Qh=function(J,ve){ve||(ve=21);var Qe=co(),rt=Md(J.colors,ve),yt=[];yt.push({key:"FunctionType",value:"0"}),yt.push({key:"Domain",value:"[0.0 1.0]"}),yt.push({key:"Size",value:"["+ve+"]"}),yt.push({key:"BitsPerSample",value:"8"}),yt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),yt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ii({data:rt,additionalKeyValues:yt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Qe}),Je("endobj"),J.objectNumber=co(),Je("<< /ShadingType "+J.type),Je("/ColorSpace /DeviceRGB");var At="/Coords ["+wt(parseFloat(J.coords[0]))+" "+wt(parseFloat(J.coords[1]))+" ";At+=2===J.type?wt(parseFloat(J.coords[2]))+" "+wt(parseFloat(J.coords[3])):wt(parseFloat(J.coords[2]))+" "+wt(parseFloat(J.coords[3]))+" "+wt(parseFloat(J.coords[4]))+" "+wt(parseFloat(J.coords[5])),Je(At+="]"),J.matrix&&Je("/Matrix ["+J.matrix.toString()+"]"),Je("/Function "+Qe+" 0 R"),Je("/Extend [true true]"),Je(">>"),Je("endobj")},xc=function(J,ve){var Qe=ki(),rt=co();ve.push({resourcesOid:Qe,objectOid:rt}),J.objectNumber=rt;var yt=[];yt.push({key:"Type",value:"/Pattern"}),yt.push({key:"PatternType",value:"1"}),yt.push({key:"PaintType",value:"1"}),yt.push({key:"TilingType",value:"1"}),yt.push({key:"BBox",value:"["+J.boundingBox.map(wt).join(" ")+"]"}),yt.push({key:"XStep",value:wt(J.xStep)}),yt.push({key:"YStep",value:wt(J.yStep)}),yt.push({key:"Resources",value:Qe+" 0 R"}),J.matrix&&yt.push({key:"Matrix",value:"["+J.matrix.toString()+"]"}),Ii({data:J.stream,additionalKeyValues:yt,objectId:J.objectNumber}),Je("endobj")},Tl=function(J){var ve;for(ve in ui)ui.hasOwnProperty(ve)&&(ui[ve]instanceof Pl?Qh(ui[ve]):ui[ve]instanceof Zn&&xc(ui[ve],J))},Ku=function(J){for(var ve in J.objectNumber=co(),Je("<<"),J)switch(ve){case"opacity":Je("/ca "+jt(J[ve]));break;case"stroke-opacity":Je("/CA "+jt(J[ve]))}Je(">>"),Je("endobj")},wf=function(){var J;for(J in Hr)Hr.hasOwnProperty(J)&&Ku(Hr[J])},Tc=function(){for(var J in Je("/XObject <<"),Go)Go.hasOwnProperty(J)&&Go[J].objectNumber>=0&&Je("/"+J+" "+Go[J].objectNumber+" 0 R");ii.publish("putXobjectDict"),Je(">>")},kh=function(){No.oid=co(),Je("<<"),Je("/Filter /Standard"),Je("/V "+No.v),Je("/R "+No.r),Je("/U <"+No.toHexString(No.U)+">"),Je("/O <"+No.toHexString(No.O)+">"),Je("/P "+No.P),Je(">>"),Je("endobj")},Ra=function(){for(var J in Je("/Font <<"),li)li.hasOwnProperty(J)&&(!1===we||!0===we&&Oe.hasOwnProperty(J))&&Je("/"+J+" "+li[J].objectNumber+" 0 R");Je(">>")},qu=function(){if(Object.keys(ui).length>0){for(var J in Je("/Shading <<"),ui)ui.hasOwnProperty(J)&&ui[J]instanceof Pl&&ui[J].objectNumber>=0&&Je("/"+J+" "+ui[J].objectNumber+" 0 R");ii.publish("putShadingPatternDict"),Je(">>")}},wc=function(J){if(Object.keys(ui).length>0){for(var ve in Je("/Pattern <<"),ui)ui.hasOwnProperty(ve)&&ui[ve]instanceof ue.TilingPattern&&ui[ve].objectNumber>=0&&ui[ve].objectNumber<J&&Je("/"+ve+" "+ui[ve].objectNumber+" 0 R");ii.publish("putTilingPatternDict"),Je(">>")}},Kh=function(){if(Object.keys(Hr).length>0){var J;for(J in Je("/ExtGState <<"),Hr)Hr.hasOwnProperty(J)&&Hr[J].objectNumber>=0&&Je("/"+J+" "+Hr[J].objectNumber+" 0 R");ii.publish("putGStateDict"),Je(">>")}},Ri=function(J){Ts(J.resourcesOid,!0),Je("<<"),Je("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ra(),qu(),wc(J.objectOid),Kh(),Tc(),Je(">>"),Je("endobj")},Dc=function(){var J=[];Pc(),wf(),Ec(),Tl(J),ii.publish("putResources"),J.forEach(Ri),Ri({resourcesOid:da,objectOid:Number.MAX_SAFE_INTEGER}),ii.publish("postPutResources")},Sd=function(){ii.publish("putAdditionalObjects");for(var J=0;J<cn.length;J++){var ve=cn[J];Ts(ve.objId,!0),Je(ve.content),Je("endobj")}ii.publish("postPutAdditionalObjects")},Rd=function(J){Qi[J.fontName]=Qi[J.fontName]||{},Qi[J.fontName][J.fontStyle]=J.id},Ad=function(J,ve,Qe,rt,yt){var At={id:"F"+(Object.keys(li).length+1).toString(10),postScriptName:J,fontName:ve,fontStyle:Qe,encoding:rt,isStandardFont:yt||!1,metadata:{}};return ii.publish("addFont",{font:At,instance:this}),li[At.id]=At,Rd(At),At.id},Cg=function(J){for(var ve=0,Qe=ln.length;ve<Qe;ve++){var rt=Ad.call(this,J[ve][0],J[ve][1],J[ve][2],ln[ve][3],!0);!1===we&&(Oe[rt]=!0);var yt=J[ve][0].split("-");Rd({id:rt,fontName:yt[0],fontStyle:yt[1]||""})}ii.publish("addFonts",{fonts:li,dictionary:Qi})},Ds=function(J){return J.foo=function(){try{return J.apply(this,arguments)}catch(rt){var ve=rt.stack||"";~ve.indexOf(" at ")&&(ve=ve.split(" at ")[1]);var Qe="Error in function "+ve.split("\n")[0].split("<")[0]+": "+rt.message;if(!_n.console)throw new Error(Qe);_n.console.error(Qe,rt),_n.alert&&alert(Qe)}},J.foo.bar=J,J.foo},$u=function(J,ve){var Qe,rt,yt,At,sn,En,$n,mr,Sr;if(yt=(ve=ve||{}).sourceEncoding||"Unicode",sn=ve.outputEncoding,(ve.autoencode||sn)&&li[kn].metadata&&li[kn].metadata[yt]&&li[kn].metadata[yt].encoding&&(At=li[kn].metadata[yt].encoding,!sn&&li[kn].encoding&&(sn=li[kn].encoding),!sn&&At.codePages&&(sn=At.codePages[0]),"string"==typeof sn&&(sn=At[sn]),sn)){for($n=!1,En=[],Qe=0,rt=J.length;Qe<rt;Qe++)(mr=sn[J.charCodeAt(Qe)])?En.push(String.fromCharCode(mr)):En.push(J[Qe]),En[Qe].charCodeAt(0)>>8&&($n=!0);J=En.join("")}for(Qe=J.length;void 0===$n&&0!==Qe;)J.charCodeAt(Qe-1)>>8&&($n=!0),Qe--;if(!$n)return J;for(En=ve.noBOM?[]:[254,255],Qe=0,rt=J.length;Qe<rt;Qe++){if((Sr=(mr=J.charCodeAt(Qe))>>8)>>8)throw new Error("Character at position "+Qe+" of string '"+J+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");En.push(Sr),En.push(mr-(Sr<<8))}return String.fromCharCode.apply(void 0,En)},fs=ue.__private__.pdfEscape=ue.pdfEscape=function(J,ve){return $u(J,ve).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},su=ue.__private__.beginPage=function(J){nn[++Ei]=[],er[Ei]={objId:0,contentsObjId:0,userUnit:Number(ee),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(J[0]),topRightY:Number(J[1])}},wl(Ei),Bt(nn[Ue])},Df=function(J,ve){var Qe,rt,yt;switch(V=ve||V,"string"==typeof J&&(Qe=Ie(J.toLowerCase()),Array.isArray(Qe)&&(rt=Qe[0],yt=Qe[1])),Array.isArray(J)&&(rt=J[0]*On,yt=J[1]*On),isNaN(rt)&&(rt=q[0],yt=q[1]),(rt>14400||yt>14400)&&(zn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),rt=Math.min(14400,rt),yt=Math.min(14400,yt)),q=[rt,yt],V.substr(0,1)){case"l":yt>rt&&(q=[yt,rt]);break;case"p":rt>yt&&(q=[yt,rt])}su(q),Ol(sl),Je(al),0!==Sl&&Je(Sl+" J"),0!==Wd&&Je(Wd+" j"),ii.publish("addPage",{pageNumber:Ei})},Vd=function(J){J>0&&J<=Ei&&(nn.splice(J,1),er.splice(J,1),Ei--,Ue>Ei&&(Ue=Ei),this.setPage(Ue))},wl=function(J){J>0&&J<=Ei&&(Ue=J)},qh=ue.__private__.getNumberOfPages=ue.getNumberOfPages=function(){return nn.length-1},Dl=function(J,ve,Qe){var rt,yt=void 0;return Qe=Qe||{},ve=void 0!==ve?ve:li[kn].fontStyle,rt=(J=void 0!==J?J:li[kn].fontName).toLowerCase(),void 0!==Qi[rt]&&void 0!==Qi[rt][ve]?yt=Qi[rt][ve]:void 0!==Qi[J]&&void 0!==Qi[J][ve]?yt=Qi[J][ve]:!1===Qe.disableWarning&&zn.warn("Unable to look up font label for font '"+J+"', '"+ve+"'. Refer to getFontList() for available fonts."),yt||Qe.noFallback||null==(yt=Qi.times[ve])&&(yt=Qi.times.normal),yt},If=ue.__private__.putInfo=function(){var J=co(),ve=function(rt){return rt};for(var Qe in null!==Ce&&(ve=No.encryptor(J,0)),Je("<<"),Je("/Producer ("+fs(ve("jsPDF "+Xn.version))+")"),Nt)Nt.hasOwnProperty(Qe)&&Nt[Qe]&&Je("/"+Qe.substr(0,1).toUpperCase()+Qe.substr(1)+" ("+fs(ve(Nt[Qe]))+")");Je("/CreationDate ("+fs(ve(Ht))+")"),Je(">>"),Je("endobj")},au=ue.__private__.putCatalog=function(J){var ve=(J=J||{}).rootDictionaryObjId||rl;switch(co(),Je("<<"),Je("/Type /Catalog"),Je("/Pages "+ve+" 0 R"),Rn||(Rn="fullwidth"),Rn){case"fullwidth":Je("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Je("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Je("/OpenAction [3 0 R /Fit]");break;case"original":Je("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Qe=""+Rn;"%"===Qe.substr(Qe.length-1)&&(Rn=parseInt(Rn)/100),"number"==typeof Rn&&Je("/OpenAction [3 0 R /XYZ null null "+jt(Rn)+"]")}switch(Vr||(Vr="continuous"),Vr){case"continuous":Je("/PageLayout /OneColumn");break;case"single":Je("/PageLayout /SinglePage");break;case"two":case"twoleft":Je("/PageLayout /TwoColumnLeft");break;case"tworight":Je("/PageLayout /TwoColumnRight")}pr&&Je("/PageMode /"+pr),ii.publish("putCatalog"),Je(">>"),Je("endobj")},bg=ue.__private__.putTrailer=function(){Je("trailer"),Je("<<"),Je("/Size "+(pt+1)),Je("/Root "+pt+" 0 R"),Je("/Info "+(pt-1)+" 0 R"),null!==Ce&&Je("/Encrypt "+No.oid+" 0 R"),Je("/ID [ <"+Mt+"> <"+Mt+"> ]"),Je(">>")},Ld=ue.__private__.putHeader=function(){Je("%PDF-"+_e),Je("%\xba\xdf\xac\xe0")},Fd=ue.__private__.putXRef=function(){var J="0000000000";Je("xref"),Je("0 "+(pt+1)),Je("0000000000 65535 f ");for(var ve=1;ve<=pt;ve++)Je("function"==typeof vt[ve]?(J+vt[ve]()).slice(-10)+" 00000 n ":void 0!==vt[ve]?(J+vt[ve]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Il=ue.__private__.buildDocument=function(){ir(),Bt(Ot),ii.publish("buildDocument"),Ld(),ci(),Sd(),Dc(),null!==Ce&&kh(),If(),au();var J=Rt;return Fd(),bg(),Je("startxref"),Je(""+J),Je("%%EOF"),Bt(nn[Ue]),Ot.join("\n")},Ic=ue.__private__.getBlob=function(J){return new Blob([tn(J)],{type:"application/pdf"})},ol=ue.output=ue.__private__.output=Ds(function(J,ve){switch("string"==typeof(ve=ve||{})?ve={filename:ve}:ve.filename=ve.filename||"generated.pdf",J){case void 0:return Il();case"save":ue.save(ve.filename);break;case"arraybuffer":return tn(Il());case"blob":return Ic(Il());case"bloburi":case"bloburl":if(void 0!==_n.URL&&"function"==typeof _n.URL.createObjectURL)return _n.URL&&_n.URL.createObjectURL(Ic(Il()))||void 0;zn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Qe="",rt=Il();try{Qe=Bu(rt)}catch(Xi){Qe=Bu(unescape(encodeURIComponent(rt)))}return"data:application/pdf;filename="+ve.filename+";base64,"+Qe;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(_n)){var yt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",At=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ve.pdfObjectUrl&&(yt=ve.pdfObjectUrl,At="");var sn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+yt+'"'+At+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ve)+");<\/script></body></html>",En=_n.open();return null!==En&&En.document.write(sn),En}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(_n)){var $n='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ve.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ve.filename+'" width="500px" height="400px" /></body></html>',mr=_n.open();if(null!==mr){mr.document.write($n);var Sr=this;mr.document.documentElement.querySelector("#pdfViewer").onload=function(){mr.document.title=ve.filename,mr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Sr.output("bloburl"))}}return mr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(_n))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Kr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ve)+'"></iframe></body></html>',Ki=_n.open();if(null!==Ki&&(Ki.document.write(Kr),Ki.document.title=ve.filename),Ki||"undefined"==typeof safari)return Ki;break;case"datauri":case"dataurl":return _n.document.location.href=this.output("datauristring",ve);default:return null}}),Oc=function(J){return!0===Array.isArray(ou)&&ou.indexOf(J)>-1};switch(_){case"pt":On=1;break;case"mm":On=72/25.4;break;case"cm":On=72/2.54;break;case"in":On=72;break;case"px":On=1==Oc("px_scaling")?.75:96/72;break;case"pc":case"em":On=12;break;case"ex":On=6;break;default:if("number"!=typeof _)throw new Error("Invalid unit: "+_);On=_}var No=null;In(),Dt();var Mc=function(J){return null!==Ce?No.encryptor(J,0):function(ve){return ve}},Gu=ue.__private__.getPageInfo=ue.getPageInfo=function(J){if(isNaN(J)||J%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:er[J].objId,pageNumber:J,pageContext:er[J]}},gr=ue.__private__.getPageInfoByObjId=function(J){if(isNaN(J)||J%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ve in er)if(er[ve].objId===J)break;return Gu(ve)},Nd=ue.__private__.getCurrentPageInfo=ue.getCurrentPageInfo=function(){return{objId:er[Ue].objId,pageNumber:Ue,pageContext:er[Ue]}};ue.addPage=function(){return Df.apply(this,arguments),this},ue.setPage=function(){return wl.apply(this,arguments),Bt.call(this,nn[Ue]),this},ue.insertPage=function(J){return this.addPage(),this.movePage(Ue,J),this},ue.movePage=function(J,ve){var Qe,rt;if(J>ve){Qe=nn[J],rt=er[J];for(var yt=J;yt>ve;yt--)nn[yt]=nn[yt-1],er[yt]=er[yt-1];nn[ve]=Qe,er[ve]=rt,this.setPage(ve)}else if(J<ve){Qe=nn[J],rt=er[J];for(var At=J;At<ve;At++)nn[At]=nn[At+1],er[At]=er[At+1];nn[ve]=Qe,er[ve]=rt,this.setPage(ve)}return this},ue.deletePage=function(){return Vd.apply(this,arguments),this},ue.__private__.text=ue.text=function(J,ve,Qe,rt,yt){var At,sn,En,$n,mr,Sr,Kr,Ki,Xi,fo=(rt=rt||{}).scope||this;if("number"==typeof J&&"number"==typeof ve&&("string"==typeof Qe||Array.isArray(Qe))){var Yo=Qe;Qe=ve,ve=J,J=Yo}if(arguments[3]instanceof tr?(Ye("The transform parameter of text() with a Matrix value"),Xi=yt):(En=arguments[4],$n=arguments[5],"object"===x(Kr=arguments[3])&&null!==Kr||("string"==typeof En&&($n=En,En=null),"string"==typeof Kr&&($n=Kr,Kr=null),"number"==typeof Kr&&(En=Kr,Kr=null),rt={flags:Kr,angle:En,align:$n})),isNaN(ve)||isNaN(Qe)||null==J)throw new Error("Invalid arguments passed to jsPDF.text");if(0===J.length)return fo;var ho="",Os=!1,ga="number"==typeof rt.lineHeightFactor?rt.lineHeightFactor:Va,Ks=fo.internal.scaleFactor;function Fc(Ai){return Ai=Ai.split("\t").join(Array(rt.TabLen||9).join(" ")),fs(Ai,Kr)}function gu(Ai){for(var Lr,ro=Ai.concat(),wo=[],Nl=ro.length;Nl--;)"string"==typeof(Lr=ro.shift())?wo.push(Lr):Array.isArray(Ai)&&(1===Lr.length||void 0===Lr[1]&&void 0===Lr[2])?wo.push(Lr[0]):wo.push([Lr[0],Lr[1],Lr[2]]);return wo}function Af(Ai,Lr){var ro;if("string"==typeof Ai)ro=Lr(Ai)[0];else if(Array.isArray(Ai)){for(var wo,Nl,Bl=Ai.concat(),po=[],kc=Bl.length;kc--;)"string"==typeof(wo=Bl.shift())?po.push(Lr(wo)[0]):Array.isArray(wo)&&"string"==typeof wo[0]&&(Nl=Lr(wo[0],wo[1],wo[2]),po.push([Nl[0],Nl[1],Nl[2]]));ro=po}return ro}var Nc=!1,Vf=!0;if("string"==typeof J)Nc=!0;else if(Array.isArray(J)){var Bc=J.concat();sn=[];for(var jc,Bo=Bc.length;Bo--;)("string"!=typeof(jc=Bc.shift())||Array.isArray(jc)&&"string"!=typeof jc[0])&&(Vf=!1);Nc=Vf}if(!1===Nc)throw new Error('Type of text must be string or Array. "'+J+'" is not recognized.');"string"==typeof J&&(J=J.match(/[\r?\n]/)?J.split(/\r\n|\r|\n/g):[J]);var Yu=bn/fo.internal.scaleFactor,Hc=Yu*(ga-1);switch(rt.baseline){case"bottom":Qe-=Hc;break;case"top":Qe+=Yu-Hc;break;case"hanging":Qe+=Yu-2*Hc;break;case"middle":Qe+=Yu/2-Hc}if((Sr=rt.maxWidth||0)>0&&("string"==typeof J?J=fo.splitTextToSize(J,Sr):"[object Array]"===Object.prototype.toString.call(J)&&(J=J.reduce(function(Ai,Lr){return Ai.concat(fo.splitTextToSize(Lr,Sr))},[]))),ii.publish("preProcessText",At={text:J,x:ve,y:Qe,options:rt,mutex:{pdfEscape:fs,activeFontKey:kn,fonts:li,activeFontSize:bn}}),J=At.text,En=(rt=At.options).angle,Xi instanceof tr||!En||"number"!=typeof En)En&&En instanceof tr&&(Xi=En);else{En*=Math.PI/180,0===rt.rotationDirection&&(En=-En),at===ze.ADVANCED&&(En=-En);var Nn=Math.cos(En),Uc=Math.sin(En);Xi=new tr(Nn,Uc,-Uc,Nn,0,0)}at!==ze.ADVANCED||Xi||(Xi=fa),void 0!==(mr=rt.charSpace||Rf)&&(ho+=wt(Fe(mr))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(Ki=rt.horizontalScale)&&(ho+=wt(100*Ki)+" Tz\n");var Ms=-1,Lf=void 0!==rt.renderingMode?rt.renderingMode:rt.stroke,Al=fo.internal.getCurrentPageInfo().pageContext;switch(Lf){case 0:case!1:case"fill":Ms=0;break;case 1:case!0:case"stroke":Ms=1;break;case 2:case"fillThenStroke":Ms=2;break;case 3:case"invisible":Ms=3;break;case 4:case"fillAndAddForClipping":Ms=4;break;case 5:case"strokeAndAddPathForClipping":Ms=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ms=6;break;case 7:case"addToPathForClipping":Ms=7}var Qd=void 0!==Al.usedRenderingMode?Al.usedRenderingMode:-1;-1!==Ms?ho+=Ms+" Tr\n":-1!==Qd&&(ho+="0 Tr\n"),-1!==Ms&&(Al.usedRenderingMode=Ms),$n=rt.align||"left";var Fa,Ff=bn*ga,Wc=fo.internal.pageSize.getWidth(),ll=li[kn];mr=rt.charSpace||Rf,Sr=rt.maxWidth||0,Kr=Object.assign({autoencode:!0,noBOM:!0},rt.flags);var Vl=[];if("[object Array]"===Object.prototype.toString.call(J)){var ds;sn=gu(J),"left"!==$n&&(Fa=sn.map(function(Ai){return fo.getStringUnitWidth(Ai,{font:ll,charSpace:mr,fontSize:bn,doKerning:!1})*bn/Ks}));var Na,Ll=0;if("right"===$n){ve-=Fa[0],J=[],Bo=sn.length;for(var ma=0;ma<Bo;ma++)0===ma?(Na=uu(ve),ds=cu(Qe)):(Na=Fe(Ll-Fa[ma]),ds=-Ff),J.push([sn[ma],Na,ds]),Ll=Fa[ma]}else if("center"===$n){ve-=Fa[0]/2,J=[],Bo=sn.length;for(var ya=0;ya<Bo;ya++)0===ya?(Na=uu(ve),ds=cu(Qe)):(Na=Fe((Ll-Fa[ya])/2),ds=-Ff),J.push([sn[ya],Na,ds]),Ll=Fa[ya]}else if("left"===$n){J=[],Bo=sn.length;for(var Zu=0;Zu<Bo;Zu++)J.push(sn[Zu])}else{if("justify"!==$n)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');J=[],Bo=sn.length,Sr=0!==Sr?Sr:Wc;for(var Ba=0;Ba<Bo;Ba++)ds=0===Ba?cu(Qe):-Ff,Na=0===Ba?uu(ve):0,Vl.push(Ba<Bo-1?wt(Fe((Sr-Fa[Ba])/(sn[Ba].split(" ").length-1))):0),J.push([sn[Ba],Na,ds])}}var _c="boolean"==typeof rt.R2L?rt.R2L:Qn;!0===_c&&(J=Af(J,function(Ai,Lr,ro){return[Ai.split("").reverse().join(""),Lr,ro]})),ii.publish("postProcessText",At={text:J,x:ve,y:Qe,options:rt,mutex:{pdfEscape:fs,activeFontKey:kn,fonts:li,activeFontSize:bn}}),J=At.text,Os=At.mutex.isHex||!1;var ul=li[kn].encoding;"WinAnsiEncoding"!==ul&&"StandardEncoding"!==ul||(J=Af(J,function(Ai,Lr,ro){return[Fc(Ai),Lr,ro]})),sn=gu(J),J=[];for(var va,ja,mu,yu=0,zc=1,Qc=Array.isArray(sn[0])?zc:yu,vu="",Nf=function(Ai,Lr,ro){var wo="";return ro instanceof tr?(ro="number"==typeof rt.angle?ca(ro,new tr(1,0,0,1,Ai,Lr)):ca(new tr(1,0,0,1,Ai,Lr),ro),at===ze.ADVANCED&&(ro=ca(new tr(1,0,0,-1,0,0),ro)),wo=ro.join(" ")+" Tm\n"):wo=wt(Ai)+" "+wt(Lr)+" Td\n",wo},Ca=0;Ca<sn.length;Ca++){switch(vu="",Qc){case zc:mu=(Os?"<":"(")+sn[Ca][0]+(Os?">":")"),va=parseFloat(sn[Ca][1]),ja=parseFloat(sn[Ca][2]);break;case yu:mu=(Os?"<":"(")+sn[Ca]+(Os?">":")"),va=uu(ve),ja=cu(Qe)}void 0!==Vl&&void 0!==Vl[Ca]&&(vu=Vl[Ca]+" Tw\n"),0===Ca?J.push(vu+Nf(va,ja,Xi)+mu):Qc===yu?J.push(vu+mu):Qc===zc&&J.push(vu+Nf(va,ja,Xi)+mu)}J=J.join(Qc===yu?" Tj\nT* ":" Tj\n"),J+=" Tj\n";var Fl="BT\n/";return Fl+=kn+" "+bn+" Tf\n",Fl+=wt(bn*ga)+" TL\n",Fl+=Vc+"\n",Fl+=ho,Fl+=J,Je(Fl+="ET"),Oe[kn]=!0,fo};var Bd=ue.__private__.clip=ue.clip=function(J){return Je("evenodd"===J?"W*":"W"),this};ue.clipEvenOdd=function(){return Bd("evenodd")},ue.__private__.discardPath=ue.discardPath=function(){return Je("n"),this};var Aa=ue.__private__.isValidStyle=function(J){var ve=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(J)&&(ve=!0),ve};ue.__private__.setDefaultPathOperation=ue.setDefaultPathOperation=function(J){return Aa(J)&&(pe=J),this};var Of=ue.__private__.getStyle=ue.getStyle=function(J){var ve=pe;switch(J){case"D":case"S":ve="S";break;case"F":ve="f";break;case"FD":case"DF":ve="B";break;case"f":case"f*":case"B":case"B*":ve=J}return ve},jd=ue.close=function(){return Je("h"),this};ue.stroke=function(){return Je("S"),this},ue.fill=function(J){return Sc("f",J),this},ue.fillEvenOdd=function(J){return Sc("f*",J),this},ue.fillStroke=function(J){return Sc("B",J),this},ue.fillStrokeEvenOdd=function(J){return Sc("B*",J),this};var Sc=function(J,ve){"object"===x(ve)?$h(ve,J):Je(J)},lu=function(J){null===J||at===ze.ADVANCED&&void 0===J||(J=Of(J),Je(J))};function Ju(J,ve,Qe,rt,yt){var At=new Zn(ve||this.boundingBox,Qe||this.xStep,rt||this.yStep,this.gState,yt||this.matrix);At.stream=this.stream;var sn=J+"$$"+this.cloneIndex+++"$$";return xs(sn,At),At}var $h=function(J,ve){var Qe=el[J.key],rt=ui[Qe];if(rt instanceof Pl)Je("q"),Je(Hd(ve)),rt.gState&&ue.setGState(rt.gState),Je(J.matrix.toString()+" cm"),Je("/"+Qe+" sh"),Je("Q");else if(rt instanceof Zn){var yt=new tr(1,0,0,-1,0,pa());J.matrix&&(yt=yt.multiply(J.matrix||fa),Qe=Ju.call(rt,J.key,J.boundingBox,J.xStep,J.yStep,yt).id),Je("q"),Je("/Pattern cs"),Je("/"+Qe+" scn"),rt.gState&&ue.setGState(rt.gState),Je(ve),Je("Q")}},Hd=function(J){switch(J){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Rc=ue.moveTo=function(J,ve){return Je(wt(Fe(J))+" "+wt(et(ve))+" m"),this},ha=ue.lineTo=function(J,ve){return Je(wt(Fe(J))+" "+wt(et(ve))+" l"),this},rn=ue.curveTo=function(J,ve,Qe,rt,yt,At){return Je([wt(Fe(J)),wt(et(ve)),wt(Fe(Qe)),wt(et(rt)),wt(Fe(yt)),wt(et(At)),"c"].join(" ")),this};ue.__private__.line=ue.line=function(J,ve,Qe,rt,yt){if(isNaN(J)||isNaN(ve)||isNaN(Qe)||isNaN(rt)||!Aa(yt))throw new Error("Invalid arguments passed to jsPDF.line");return at===ze.COMPAT?this.lines([[Qe-J,rt-ve]],J,ve,[1,1],yt||"S"):this.lines([[Qe-J,rt-ve]],J,ve,[1,1]).stroke()},ue.__private__.lines=ue.lines=function(J,ve,Qe,rt,yt,At){var sn,En,$n,mr,Sr,Yo,ho,Os;if("number"==typeof J&&(Os=Qe,Qe=ve,ve=J,J=Os),rt=rt||[1,1],At=At||!1,isNaN(ve)||isNaN(Qe)||!Array.isArray(J)||!Array.isArray(rt)||!Aa(yt)||"boolean"!=typeof At)throw new Error("Invalid arguments passed to jsPDF.lines");for(Rc(ve,Qe),sn=rt[0],En=rt[1],mr=J.length,Yo=ve,ho=Qe,$n=0;$n<mr;$n++)2===(Sr=J[$n]).length?ha(Yo=Sr[0]*sn+Yo,ho=Sr[1]*En+ho):rn(Sr[0]*sn+Yo,Sr[1]*En+ho,Sr[2]*sn+Yo,Sr[3]*En+ho,Yo=Sr[4]*sn+Yo,ho=Sr[5]*En+ho);return At&&jd(),lu(yt),this},ue.path=function(J){for(var ve=0;ve<J.length;ve++){var Qe=J[ve],rt=Qe.c;switch(Qe.op){case"m":Rc(rt[0],rt[1]);break;case"l":ha(rt[0],rt[1]);break;case"c":rn.apply(this,rt);break;case"h":jd()}}return this},ue.__private__.rect=ue.rect=function(J,ve,Qe,rt,yt){if(isNaN(J)||isNaN(ve)||isNaN(Qe)||isNaN(rt)||!Aa(yt))throw new Error("Invalid arguments passed to jsPDF.rect");return at===ze.COMPAT&&(rt=-rt),Je([wt(Fe(J)),wt(et(ve)),wt(Fe(Qe)),wt(Fe(rt)),"re"].join(" ")),lu(yt),this},ue.__private__.triangle=ue.triangle=function(J,ve,Qe,rt,yt,At,sn){if(isNaN(J)||isNaN(ve)||isNaN(Qe)||isNaN(rt)||isNaN(yt)||isNaN(At)||!Aa(sn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Qe-J,rt-ve],[yt-Qe,At-rt],[J-yt,ve-At]],J,ve,[1,1],sn,!0),this},ue.__private__.roundedRect=ue.roundedRect=function(J,ve,Qe,rt,yt,At,sn){if(isNaN(J)||isNaN(ve)||isNaN(Qe)||isNaN(rt)||isNaN(yt)||isNaN(At)||!Aa(sn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var En=4/3*(Math.SQRT2-1);return yt=Math.min(yt,.5*Qe),At=Math.min(At,.5*rt),this.lines([[Qe-2*yt,0],[yt*En,0,yt,At-At*En,yt,At],[0,rt-2*At],[0,At*En,-yt*En,At,-yt,At],[2*yt-Qe,0],[-yt*En,0,-yt,-At*En,-yt,-At],[0,2*At-rt],[0,-At*En,yt*En,-At,yt,-At]],J+yt,ve,[1,1],sn,!0),this},ue.__private__.ellipse=ue.ellipse=function(J,ve,Qe,rt,yt){if(isNaN(J)||isNaN(ve)||isNaN(Qe)||isNaN(rt)||!Aa(yt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var At=4/3*(Math.SQRT2-1)*Qe,sn=4/3*(Math.SQRT2-1)*rt;return Rc(J+Qe,ve),rn(J+Qe,ve-sn,J+At,ve-rt,J,ve-rt),rn(J-At,ve-rt,J-Qe,ve-sn,J-Qe,ve),rn(J-Qe,ve+sn,J-At,ve+rt,J,ve+rt),rn(J+At,ve+rt,J+Qe,ve+sn,J+Qe,ve),lu(yt),this},ue.__private__.circle=ue.circle=function(J,ve,Qe,rt){if(isNaN(J)||isNaN(ve)||isNaN(Qe)||!Aa(rt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(J,ve,Qe,Qe,rt)},ue.setFont=function(J,ve,Qe){return Qe&&(ve=Yt(ve,Qe)),kn=Dl(J,ve,{disableWarning:!1}),this};var Mf=ue.__private__.getFont=ue.getFont=function(){return li[Dl.apply(ue,arguments)]};ue.__private__.getFontList=ue.getFontList=function(){var J,ve,Qe={};for(J in Qi)if(Qi.hasOwnProperty(J))for(ve in Qe[J]=[],Qi[J])Qi[J].hasOwnProperty(ve)&&Qe[J].push(ve);return Qe},ue.addFont=function(J,ve,Qe,rt,yt){var At=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==At.indexOf(arguments[3])?yt=arguments[3]:arguments[3]&&-1==At.indexOf(arguments[3])&&(Qe=Yt(Qe,rt)),Ad.call(this,J,ve,Qe,yt=yt||"Identity-H")};var Va,sl=O.lineWidth||.200025,La=ue.__private__.getLineWidth=ue.getLineWidth=function(){return sl},Ol=ue.__private__.setLineWidth=ue.setLineWidth=function(J){return sl=J,Je(wt(Fe(J))+" w"),this};ue.__private__.setLineDash=Xn.API.setLineDash=Xn.API.setLineDashPattern=function(J,ve){if(J=J||[],ve=ve||0,isNaN(ve)||!Array.isArray(J))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return J=J.map(function(Qe){return wt(Fe(Qe))}).join(" "),ve=wt(Fe(ve)),Je("["+J+"] "+ve+" d"),this};var Sf=ue.__private__.getLineHeight=ue.getLineHeight=function(){return bn*Va};ue.__private__.getLineHeight=ue.getLineHeight=function(){return bn*Va};var Ac=ue.__private__.setLineHeightFactor=ue.setLineHeightFactor=function(J){return"number"==typeof(J=J||1.15)&&(Va=J),this},Ml=ue.__private__.getLineHeightFactor=ue.getLineHeightFactor=function(){return Va};Ac(O.lineHeight);var uu=ue.__private__.getHorizontalCoordinate=function(J){return Fe(J)},cu=ue.__private__.getVerticalCoordinate=function(J){return at===ze.ADVANCED?J:er[Ue].mediaBox.topRightY-er[Ue].mediaBox.bottomLeftY-Fe(J)},Cr=ue.__private__.getHorizontalCoordinateString=ue.getHorizontalCoordinateString=function(J){return wt(uu(J))},fu=ue.__private__.getVerticalCoordinateString=ue.getVerticalCoordinateString=function(J){return wt(cu(J))},al=O.strokeColor||"0 G";ue.__private__.getStrokeColor=ue.getDrawColor=function(){return ws(al)},ue.__private__.setStrokeColor=ue.setDrawColor=function(J,ve,Qe,rt){return al=Ma({ch1:J,ch2:ve,ch3:Qe,ch4:rt,pdfColorType:"draw",precision:2}),Je(al),this};var Ud=O.fillColor||"0 g";ue.__private__.getFillColor=ue.getFillColor=function(){return ws(Ud)},ue.__private__.setFillColor=ue.setFillColor=function(J,ve,Qe,rt){return Ud=Ma({ch1:J,ch2:ve,ch3:Qe,ch4:rt,pdfColorType:"fill",precision:2}),Je(Ud),this};var Vc=O.textColor||"0 g",Pg=ue.__private__.getTextColor=ue.getTextColor=function(){return ws(Vc)};ue.__private__.setTextColor=ue.setTextColor=function(J,ve,Qe,rt){return Vc=Ma({ch1:J,ch2:ve,ch3:Qe,ch4:rt,pdfColorType:"text",precision:3}),this};var Rf=O.charSpace,Eg=ue.__private__.getCharSpace=ue.getCharSpace=function(){return parseFloat(Rf||0)};ue.__private__.setCharSpace=ue.setCharSpace=function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Rf=J,this};var Sl=0;ue.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},ue.__private__.setLineCap=ue.setLineCap=function(J){var ve=ue.CapJoinStyles[J];if(void 0===ve)throw new Error("Line cap style of '"+J+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sl=ve,Je(ve+" J"),this};var Wd=0;ue.__private__.setLineJoin=ue.setLineJoin=function(J){var ve=ue.CapJoinStyles[J];if(void 0===ve)throw new Error("Line join style of '"+J+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wd=ve,Je(ve+" j"),this},ue.__private__.setLineMiterLimit=ue.__private__.setMiterLimit=ue.setLineMiterLimit=ue.setMiterLimit=function(J){if(J=J||0,isNaN(J))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Je(wt(Fe(J))+" M"),this},ue.GState=mc,ue.setGState=function(J){(J="string"==typeof J?Hr[To[J]]:Zi(null,J)).equals(tl)||(Je("/"+J.id+" gs"),tl=J)};var Zi=function(J,ve){if(!J||!To[J]){var Qe=!1;for(var rt in Hr)if(Hr.hasOwnProperty(rt)&&Hr[rt].equals(ve)){Qe=!0;break}if(Qe)ve=Hr[rt];else{var yt="GS"+(Object.keys(Hr).length+1).toString(10);Hr[yt]=ve,ve.id=yt}return J&&(To[J]=ve.id),ii.publish("addGState",ve),ve}};ue.addGState=function(J,ve){return Zi(J,ve),this},ue.saveGraphicsState=function(){return Je("q"),Xa.push({key:kn,size:bn,color:Vc}),this},ue.restoreGraphicsState=function(){Je("Q");var J=Xa.pop();return kn=J.key,bn=J.size,Vc=J.color,tl=null,this},ue.setCurrentTransformationMatrix=function(J){return Je(J.toString()+" cm"),this},ue.comment=function(J){return Je("#"+J),this};var du=function(J,ve){var Qe=J||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Qe},set:function(At){isNaN(At)||(Qe=parseFloat(At))}});var rt=ve||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return rt},set:function(At){isNaN(At)||(rt=parseFloat(At))}});var yt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return yt},set:function(At){yt=At.toString()}}),this},Rl=function(J,ve,Qe,rt){du.call(this,J,ve),this.type="rect";var yt=Qe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return yt},set:function(sn){isNaN(sn)||(yt=parseFloat(sn))}});var At=rt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return At},set:function(sn){isNaN(sn)||(At=parseFloat(sn))}}),this},_d=function(){this.page=Ei,this.currentPage=Ue,this.pages=nn.slice(0),this.pagesContext=er.slice(0),this.x=uo,this.y=Ir,this.matrix=ks,this.width=hu(Ue),this.height=pa(Ue),this.outputDestination=An,this.id="",this.objectNumber=-1};_d.prototype.restore=function(){Ei=this.page,er=this.pagesContext,nn=this.pages,uo=this.x,Ir=this.y,ks=this.matrix,pu(Ue=this.currentPage,this.width),Lc(Ue,this.height),An=this.outputDestination};var zd=function(J,ve,Qe,rt,yt){ua.push(new _d),Ei=Ue=0,nn=[],uo=J,Ir=ve,ks=yt,su([Qe,rt])},Is=function(J){if(nl[J])ua.pop().restore();else{var ve=new _d,Qe="Xo"+(Object.keys(Go).length+1).toString(10);ve.id=Qe,nl[J]=Qe,Go[Qe]=ve,ii.publish("addFormObject",ve),ua.pop().restore()}};for(var ms in ue.beginFormObject=function(J,ve,Qe,rt,yt){return zd(J,ve,Qe,rt,yt),this},ue.endFormObject=function(J){return Is(J),this},ue.doFormObject=function(J,ve){var Qe=Go[nl[J]];return Je("q"),Je(ve.toString()+" cm"),Je("/"+Qe.id+" Do"),Je("Q"),this},ue.getFormObject=function(J){var ve=Go[nl[J]];return{x:ve.x,y:ve.y,width:ve.width,height:ve.height,matrix:ve.matrix}},ue.save=function(J,ve){return J=J||"generated.pdf",(ve=ve||{}).returnPromise=ve.returnPromise||!1,!1===ve.returnPromise?(Yn(Ic(Il()),J),"function"==typeof Yn.unload&&_n.setTimeout&&setTimeout(Yn.unload,911),this):new Promise(function(Qe,rt){try{var yt=Yn(Ic(Il()),J);"function"==typeof Yn.unload&&_n.setTimeout&&setTimeout(Yn.unload,911),Qe(yt)}catch(At){rt(At.message)}})},Xn.API)Xn.API.hasOwnProperty(ms)&&("events"===ms&&Xn.API.events.length?function(J,ve){var rt,yt;for(yt=ve.length-1;-1!==yt;yt--)J.subscribe.apply(J,[ve[yt][0]].concat("function"==typeof(rt=ve[yt][1])?[rt]:rt))}(ii,Xn.API.events):ue[ms]=Xn.API[ms]);var hu=ue.getPageWidth=function(J){return(er[J=J||Ue].mediaBox.topRightX-er[J].mediaBox.bottomLeftX)/On},pu=ue.setPageWidth=function(J,ve){er[J].mediaBox.topRightX=ve*On+er[J].mediaBox.bottomLeftX},pa=ue.getPageHeight=function(J){return(er[J=J||Ue].mediaBox.topRightY-er[J].mediaBox.bottomLeftY)/On},Lc=ue.setPageHeight=function(J,ve){er[J].mediaBox.topRightY=ve*On+er[J].mediaBox.bottomLeftY};return ue.internal={pdfEscape:fs,getStyle:Of,getFont:Mf,getFontSize:Dn,getCharSpace:Eg,getTextColor:Pg,getLineHeight:Sf,getLineHeightFactor:Ml,getLineWidth:La,write:hr,getHorizontalCoordinate:uu,getVerticalCoordinate:cu,getCoordinateString:Cr,getVerticalCoordinateString:fu,collections:{},newObject:co,newAdditionalObject:ku,newObjectDeferred:ki,newObjectDeferredBegin:Ts,getFilters:il,putStream:Ii,events:ii,scaleFactor:On,pageSize:{getWidth:function(){return hu(Ue)},setWidth:function(J){pu(Ue,J)},getHeight:function(){return pa(Ue)},setHeight:function(J){Lc(Ue,J)}},encryptionOptions:Ce,encryption:No,getEncryptor:Mc,output:ol,getNumberOfPages:qh,pages:nn,out:Je,f2:jt,f3:Be,getPageInfo:Gu,getPageInfoByObjId:gr,getCurrentPageInfo:Nd,getPDFVersion:Re,Point:du,Rectangle:Rl,Matrix:tr,hasHotfix:Oc},Object.defineProperty(ue.internal.pageSize,"width",{get:function(){return hu(Ue)},set:function(J){pu(Ue,J)},enumerable:!0,configurable:!0}),Object.defineProperty(ue.internal.pageSize,"height",{get:function(){return pa(Ue)},set:function(J){Lc(Ue,J)},enumerable:!0,configurable:!0}),Cg.call(ue,ln),kn="F1",Df(q,V),ii.publish("initialized"),ue}tu.prototype.lsbFirstWord=function(O){return String.fromCharCode(O>>0&255,O>>8&255,O>>16&255,O>>24&255)},tu.prototype.toHexString=function(O){return O.split("").map(function(I){return("0"+(255&I.charCodeAt(0)).toString(16)).slice(-2)}).join("")},tu.prototype.hexToBytes=function(O){for(var I=[],V=0;V<O.length;V+=2)I.push(String.fromCharCode(parseInt(O.substr(V,2),16)));return I.join("")},tu.prototype.processOwnerPassword=function(O,I){return Cd(vd(I).substr(0,5),O)},tu.prototype.encryptor=function(O,I){var V=vd(this.encryptionKey+String.fromCharCode(255&O,O>>8&255,O>>16&255,255&I,I>>8&255)).substr(0,10);return function(_){return Cd(V,_)}},mc.prototype.equals=function(O){var I,V="id,objectNumber,equals";if(!O||x(O)!==x(this))return!1;var _=0;for(I in this)if(!(V.indexOf(I)>=0)){if(this.hasOwnProperty(I)&&!O.hasOwnProperty(I)||this[I]!==O[I])return!1;_++}for(I in O)O.hasOwnProperty(I)&&V.indexOf(I)<0&&_--;return 0===_},Xn.API={events:[]},Xn.version="2.5.1";var Nr=Xn.API,ju=1,qa=function(O){return O.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nu=function(O){return O.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},fr=function(O){return O.toFixed(2)},Ta=function(O){return O.toFixed(5)};Nr.__acroform__={};var Po=function(O,I){O.prototype=Object.create(I.prototype),O.prototype.constructor=O},yc=function(O){return O*ju},_s=function(O){var I=new Ed,V=Lt.internal.getHeight(O)||0,_=Lt.internal.getWidth(O)||0;return I.BBox=[0,0,Number(fr(_)),Number(fr(V))],I},Uh=Nr.__acroform__.setBit=function(O,I){if(O=O||0,I=I||0,isNaN(O)||isNaN(I))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return O|1<<I},ur=Nr.__acroform__.clearBit=function(O,I){if(O=O||0,I=I||0,isNaN(O)||isNaN(I))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return O&~(1<<I)},Ef=Nr.__acroform__.getBit=function(O,I){if(isNaN(O)||isNaN(I))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(O&1<<I)?0:1},Ui=Nr.__acroform__.getBitForPdf=function(O,I){if(isNaN(O)||isNaN(I))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ef(O,I-1)},Xr=Nr.__acroform__.setBitForPdf=function(O,I){if(isNaN(O)||isNaN(I))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Uh(O,I-1)},Mi=Nr.__acroform__.clearBitForPdf=function(O,I){if(isNaN(O)||isNaN(I))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ur(O,I-1)},mg=Nr.__acroform__.calculateCoordinates=function(O,I){var V=I.internal.getHorizontalCoordinate,_=I.internal.getVerticalCoordinate,q=O[0],Q=O[1],Y=O[2],ee=O[3],te={};return te.lowerLeft_X=V(q)||0,te.lowerLeft_Y=_(Q+ee)||0,te.upperRight_X=V(q+Y)||0,te.upperRight_Y=_(Q)||0,[Number(fr(te.lowerLeft_X)),Number(fr(te.lowerLeft_Y)),Number(fr(te.upperRight_X)),Number(fr(te.upperRight_Y))]},$a=function(O){if(O.appearanceStreamContent)return O.appearanceStreamContent;if(O.V||O.DV){var I=[],_=us(O,O._V||O.DV),q=O.scope.internal.getFont(O.fontName,O.fontStyle).id;I.push("/Tx BMC"),I.push("q"),I.push("BT"),I.push(O.scope.__private__.encodeColorString(O.color)),I.push("/"+q+" "+fr(_.fontSize)+" Tf"),I.push("1 0 0 1 0 0 Tm"),I.push(_.text),I.push("ET"),I.push("Q"),I.push("EMC");var Q=_s(O);return Q.scope=O.scope,Q.stream=I.join("\n"),Q}},us=function(O,I){var V=0===O.fontSize?O.maxFontSize:O.fontSize,_={text:"",fontSize:""},q=(I=")"==(I="("==I.substr(0,1)?I.substr(1):I).substr(I.length-1)?I.substr(0,I.length-1):I).split(" ");q=q.map(O.multiline?function(Be){return Be.split("\n")}:function(Be){return[Be]});var Q=V,Y=Lt.internal.getHeight(O)||0;Y=Y<0?-Y:Y;var Be,ee=Lt.internal.getWidth(O)||0;ee=ee<0?-ee:ee,Q++;e:for(;Q>0;){I="",Q--;var pe,Ce,we=xf("3",O,Q).height,Oe=O.multiline?Y-Q:(Y-we)/2,ue=Oe+=2,_e=0,Re=0,qe=0;if(Q<=0){I="(...) Tj\n",I+="% Width of Text: "+xf(I,O,Q=12).width+", FieldWidth:"+ee+"\n";break}for(var Ie="",ze=0,at=0;at<q.length;at++)if(q.hasOwnProperty(at)){var Et=!1;if(1!==q[at].length&&qe!==q[at].length-1){if((we+2)*(ze+2)+2>Y)continue e;Ie+=q[at][qe],Et=!0,Re=at,at--}else{Ie=" "==(Ie+=q[at][qe]+" ").substr(Ie.length-1)?Ie.substr(0,Ie.length-1):Ie;var Ft=parseInt(at),Yt=(Be=Ft)+1<q.length&&xf(Ie+" "+q[Be+1][0],O,Q).width<=ee-4,wt=at>=q.length-1;if(Yt&&!wt){Ie+=" ",qe=0;continue}if(Yt||wt){if(wt)Re=Ft;else if(O.multiline&&(we+2)*(ze+2)+2>Y)continue e}else{if(!O.multiline||(we+2)*(ze+2)+2>Y)continue e;Re=Ft}}for(var Ye="",Kt=_e;Kt<=Re;Kt++){var jt=q[Kt];if(O.multiline){if(Kt===Re){Ye+=jt[qe]+" ",qe=(qe+1)%jt.length;continue}if(Kt===_e){Ye+=jt[jt.length-1]+" ";continue}}Ye+=jt[0]+" "}switch(Ye=" "==Ye.substr(Ye.length-1)?Ye.substr(0,Ye.length-1):Ye,Ce=xf(Ye,O,Q).width,O.textAlign){case"right":pe=ee-Ce-2;break;case"center":pe=(ee-Ce)/2;break;default:pe=2}I+=fr(pe)+" "+fr(ue)+" Td\n",I+="("+qa(Ye)+") Tj\n",I+=-fr(pe)+" 0 Td\n",ue=-(Q+2),Ce=0,_e=Et?Re:Re+1,ze++,Ie=""}break}return _.text=I,_.fontSize=Q,_},xf=function(O,I,V){var _=I.scope.internal.getFont(I.fontName,I.fontStyle),q=I.scope.getStringUnitWidth(O,{font:_,fontSize:parseFloat(V),charSpace:0})*parseFloat(V);return{height:I.scope.getStringUnitWidth("3",{font:_,fontSize:parseFloat(V),charSpace:0})*parseFloat(V)*1.5,width:q}},yg={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},sa=function(O,I){var V={type:"reference",object:O};void 0===I.internal.getPageInfo(O.page).pageContext.annotations.find(function(_){return _.type===V.type&&_.object===V.object})&&I.internal.getPageInfo(O.page).pageContext.annotations.push(V)},bd=Nr.__acroform__.arrayToPdfArray=function(O,I,V){var _=function(Y){return Y};if(Array.isArray(O)){for(var q="[",Q=0;Q<O.length;Q++)switch(0!==Q&&(q+=" "),x(O[Q])){case"boolean":case"number":case"object":q+=O[Q].toString();break;case"string":"/"!==O[Q].substr(0,1)?(void 0!==I&&V&&(_=V.internal.getEncryptor(I)),q+="("+qa(_(O[Q].toString()))+")"):q+=O[Q].toString()}return q+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Pd=function(O,I,V){var _=function(q){return q};return void 0!==I&&V&&(_=V.internal.getEncryptor(I)),(O=O||"").toString(),"("+qa(_(O))+")"},Mr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(O){this._objId=O}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Mr.prototype.toString=function(){return this.objId+" 0 R"},Mr.prototype.putStream=function(){var O=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:O,objectId:this.objId}),this.scope.internal.out("endobj")},Mr.prototype.getKeyValueListForStream=function(){var O=[],I=Object.getOwnPropertyNames(this).filter(function(Q){return"content"!=Q&&"appearanceStreamContent"!=Q&&"scope"!=Q&&"objId"!=Q&&"_"!=Q.substring(0,1)});for(var V in I)if(!1===Object.getOwnPropertyDescriptor(this,I[V]).configurable){var _=I[V],q=this[_];q&&(Array.isArray(q)?O.push({key:_,value:bd(q,this.objId,this.scope)}):q instanceof Mr?(q.scope=this.scope,O.push({key:_,value:q.objId+" 0 R"})):"function"!=typeof q&&O.push({key:_,value:q}))}return O};var Ed=function(){Mr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var O,I=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return I},set:function(V){I=V}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(V){O=V.trim()},get:function(){return O||null}})};Po(Ed,Mr);var xd=function(){Mr.call(this);var O,I=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return I.length>0?I:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return I}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(O){var V=function(_){return _};return this.scope&&(V=this.scope.internal.getEncryptor(this.objId)),"("+qa(V(O))+")"}},set:function(V){O=V}})};Po(xd,Mr);var Eo=function O(){Mr.call(this);var I=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return I},set:function(Ie){if(isNaN(Ie))throw new Error('Invalid value "'+Ie+'" for attribute F supplied.');I=Ie}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(I,3))},set:function(Ie){this.F=!0===Boolean(Ie)?Xr(I,3):Mi(I,3)}});var V=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return V},set:function(Ie){if(isNaN(Ie))throw new Error('Invalid value "'+Ie+'" for attribute Ff supplied.');V=Ie}});var _=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==_.length)return _},set:function(Ie){_=void 0!==Ie?Ie:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!_||isNaN(_[0])?0:_[0]},set:function(Ie){_[0]=Ie}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!_||isNaN(_[1])?0:_[1]},set:function(Ie){_[1]=Ie}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!_||isNaN(_[2])?0:_[2]},set:function(Ie){_[2]=Ie}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!_||isNaN(_[3])?0:_[3]},set:function(Ie){_[3]=Ie}});var q="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return q},set:function(Ie){switch(Ie){case"/Btn":case"/Tx":case"/Ch":case"/Sig":q=Ie;break;default:throw new Error('Invalid value "'+Ie+'" for attribute FT supplied.')}}});var Q=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!Q||Q.length<1){if(this instanceof El)return;Q="FieldObject"+O.FieldNum++}var Ie=function(ze){return ze};return this.scope&&(Ie=this.scope.internal.getEncryptor(this.objId)),"("+qa(Ie(Q))+")"},set:function(Ie){Q=Ie.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return Q},set:function(Ie){Q=Ie}});var Y="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Y},set:function(Ie){Y=Ie}});var ee="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return ee},set:function(Ie){ee=Ie}});var te=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return te},set:function(Ie){te=Ie}});var pe=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===pe?50/ju:pe},set:function(Ie){pe=Ie}});var Ce="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Ce},set:function(Ie){Ce=Ie}});var we="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!we||this instanceof El||this instanceof aa))return Pd(we,this.objId,this.scope)},set:function(Ie){Ie=Ie.toString(),we=Ie}});var Oe=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Oe)return this instanceof Wi?Oe:Pd(Oe,this.objId,this.scope)},set:function(Ie){Ie=Ie.toString(),Oe=this instanceof Wi?Ie:"("===Ie.substr(0,1)?nu(Ie.substr(1,Ie.length-2)):nu(Ie)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wi?nu(Oe.substr(1,Oe.length-1)):Oe},set:function(Ie){Ie=Ie.toString(),Oe=this instanceof Wi?"/"+Ie:Ie}});var ue=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(ue)return ue},set:function(Ie){this.V=Ie}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(ue)return this instanceof Wi?ue:Pd(ue,this.objId,this.scope)},set:function(Ie){Ie=Ie.toString(),ue=this instanceof Wi?Ie:"("===Ie.substr(0,1)?nu(Ie.substr(1,Ie.length-2)):nu(Ie)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wi?nu(ue.substr(1,ue.length-1)):ue},set:function(Ie){Ie=Ie.toString(),ue=this instanceof Wi?"/"+Ie:Ie}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _e,Re=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return Re},set:function(Ie){Ie=Boolean(Ie),Re=Ie}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_e)return _e},set:function(Ie){_e=Ie}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,1))},set:function(Ie){this.Ff=!0===Boolean(Ie)?Xr(this.Ff,1):Mi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,2))},set:function(Ie){this.Ff=!0===Boolean(Ie)?Xr(this.Ff,2):Mi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,3))},set:function(Ie){this.Ff=!0===Boolean(Ie)?Xr(this.Ff,3):Mi(this.Ff,3)}});var qe=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==qe)return qe},set:function(Ie){if(-1===[0,1,2].indexOf(Ie))throw new Error('Invalid value "'+Ie+'" for attribute Q supplied.');qe=Ie}}),Object.defineProperty(this,"textAlign",{get:function(){var Ie;switch(qe){case 0:default:Ie="left";break;case 1:Ie="center";break;case 2:Ie="right"}return Ie},configurable:!0,enumerable:!0,set:function(Ie){switch(Ie){case"right":case 2:qe=2;break;case"center":case 1:qe=1;break;default:qe=0}}})};Po(Eo,Mr);var jr=function(){Eo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var O=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return O},set:function(V){O=V}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return O},set:function(V){O=V}});var I=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return bd(I,this.objId,this.scope)},set:function(V){var _,q;q=[],"string"==typeof(_=V)&&(q=function(Q,Y,ee){ee||(ee=1);for(var te,pe=[];te=Y.exec(Q);)pe.push(te[ee]);return pe}(_,/\((.*?)\)/g)),I=q}}),this.getOptions=function(){return I},this.setOptions=function(V){I=V,this.sort&&I.sort()},this.addOption=function(V){V=(V=V||"").toString(),I.push(V),this.sort&&I.sort()},this.removeOption=function(V,_){for(_=_||!1,V=(V=V||"").toString();-1!==I.indexOf(V)&&(I.splice(I.indexOf(V),1),!1!==_););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,18))},set:function(V){this.Ff=!0===Boolean(V)?Xr(this.Ff,18):Mi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,19))},set:function(V){!0===this.combo&&(this.Ff=!0===Boolean(V)?Xr(this.Ff,19):Mi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,20))},set:function(V){!0===Boolean(V)?(this.Ff=Xr(this.Ff,20),I.sort()):this.Ff=Mi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,22))},set:function(V){this.Ff=!0===Boolean(V)?Xr(this.Ff,22):Mi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,23))},set:function(V){this.Ff=!0===Boolean(V)?Xr(this.Ff,23):Mi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,27))},set:function(V){this.Ff=!0===Boolean(V)?Xr(this.Ff,27):Mi(this.Ff,27)}}),this.hasAppearanceStream=!1};Po(jr,Eo);var zs=function(){jr.call(this),this.fontName="helvetica",this.combo=!1};Po(zs,jr);var wa=function(){zs.call(this),this.combo=!0};Po(wa,zs);var Ga=function(){wa.call(this),this.edit=!0};Po(Ga,wa);var Wi=function(){Eo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,15))},set:function(V){this.Ff=!0===Boolean(V)?Xr(this.Ff,15):Mi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,16))},set:function(V){this.Ff=!0===Boolean(V)?Xr(this.Ff,16):Mi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,17))},set:function(V){this.Ff=!0===Boolean(V)?Xr(this.Ff,17):Mi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,26))},set:function(V){this.Ff=!0===Boolean(V)?Xr(this.Ff,26):Mi(this.Ff,26)}});var O,I={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var V=function(Q){return Q};if(this.scope&&(V=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(I).length){var _,q=[];for(_ in q.push("<<"),I)q.push("/"+_+" ("+qa(V(I[_]))+")");return q.push(">>"),q.join("\n")}},set:function(V){"object"===x(V)&&(I=V)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return I.CA||""},set:function(V){"string"==typeof V&&(I.CA=V)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return O},set:function(V){O=V}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return O.substr(1,O.length-1)},set:function(V){O="/"+V}})};Po(Wi,Eo);var ce=function(){Wi.call(this),this.pushButton=!0};Po(ce,Wi);var Tn=function(){Wi.call(this),this.radio=!0,this.pushButton=!1;var O=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return O},set:function(I){O=void 0!==I?I:[]}})};Po(Tn,Wi);var El=function(){var O,I;Eo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return O},set:function(q){O=q}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return I},set:function(q){I=q}});var V,_={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var q=function(ee){return ee};this.scope&&(q=this.scope.internal.getEncryptor(this.objId));var Q,Y=[];for(Q in Y.push("<<"),_)Y.push("/"+Q+" ("+qa(q(_[Q]))+")");return Y.push(">>"),Y.join("\n")},set:function(q){"object"===x(q)&&(_=q)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return _.CA||""},set:function(q){"string"==typeof q&&(_.CA=q)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return V},set:function(q){V=q}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return V.substr(1,V.length-1)},set:function(q){V="/"+q}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Lt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Po(El,Eo),Tn.prototype.setAppearance=function(O){if(!("createAppearanceStream"in O)||!("getCA"in O))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var I in this.Kids)if(this.Kids.hasOwnProperty(I)){var V=this.Kids[I];V.appearanceStreamContent=O.createAppearanceStream(V.optionName),V.caption=O.getCA()}},Tn.prototype.createOption=function(O){var I=new El;return I.Parent=this,I.optionName=O,this.Kids.push(I),Hu.call(this.scope,I),I};var Wt=function(){Wi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Lt.CheckBox.createAppearanceStream()};Po(Wt,Wi);var aa=function(){Eo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,13))},set:function(I){this.Ff=!0===Boolean(I)?Xr(this.Ff,13):Mi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,21))},set:function(I){this.Ff=!0===Boolean(I)?Xr(this.Ff,21):Mi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,23))},set:function(I){this.Ff=!0===Boolean(I)?Xr(this.Ff,23):Mi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,24))},set:function(I){this.Ff=!0===Boolean(I)?Xr(this.Ff,24):Mi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,25))},set:function(I){this.Ff=!0===Boolean(I)?Xr(this.Ff,25):Mi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,26))},set:function(I){this.Ff=!0===Boolean(I)?Xr(this.Ff,26):Mi(this.Ff,26)}});var O=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return O},set:function(I){O=I}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return O},set:function(I){Number.isInteger(I)&&(O=I)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Po(aa,Eo);var yn=function(){aa.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ui(this.Ff,14))},set:function(O){this.Ff=!0===Boolean(O)?Xr(this.Ff,14):Mi(this.Ff,14)}}),this.password=!0};Po(yn,aa);var Lt={CheckBox:{createAppearanceStream:function(){return{N:{On:Lt.CheckBox.YesNormal},D:{On:Lt.CheckBox.YesPushDown,Off:Lt.CheckBox.OffPushDown}}},YesPushDown:function(O){var I=_s(O);I.scope=O.scope;var V=[],_=O.scope.internal.getFont(O.fontName,O.fontStyle).id,q=O.scope.__private__.encodeColorString(O.color),Q=us(O,O.caption);return V.push("0.749023 g"),V.push("0 0 "+fr(Lt.internal.getWidth(O))+" "+fr(Lt.internal.getHeight(O))+" re"),V.push("f"),V.push("BMC"),V.push("q"),V.push("0 0 1 rg"),V.push("/"+_+" "+fr(Q.fontSize)+" Tf "+q),V.push("BT"),V.push(Q.text),V.push("ET"),V.push("Q"),V.push("EMC"),I.stream=V.join("\n"),I},YesNormal:function(O){var I=_s(O);I.scope=O.scope;var V=O.scope.internal.getFont(O.fontName,O.fontStyle).id,_=O.scope.__private__.encodeColorString(O.color),q=[],Q=Lt.internal.getHeight(O),Y=Lt.internal.getWidth(O),ee=us(O,O.caption);return q.push("1 g"),q.push("0 0 "+fr(Y)+" "+fr(Q)+" re"),q.push("f"),q.push("q"),q.push("0 0 1 rg"),q.push("0 0 "+fr(Y-1)+" "+fr(Q-1)+" re"),q.push("W"),q.push("n"),q.push("0 g"),q.push("BT"),q.push("/"+V+" "+fr(ee.fontSize)+" Tf "+_),q.push(ee.text),q.push("ET"),q.push("Q"),I.stream=q.join("\n"),I},OffPushDown:function(O){var I=_s(O);I.scope=O.scope;var V=[];return V.push("0.749023 g"),V.push("0 0 "+fr(Lt.internal.getWidth(O))+" "+fr(Lt.internal.getHeight(O))+" re"),V.push("f"),I.stream=V.join("\n"),I}},RadioButton:{Circle:{createAppearanceStream:function(O){var I={D:{Off:Lt.RadioButton.Circle.OffPushDown},N:{}};return I.N[O]=Lt.RadioButton.Circle.YesNormal,I.D[O]=Lt.RadioButton.Circle.YesPushDown,I},getCA:function(){return"l"},YesNormal:function(O){var I=_s(O);I.scope=O.scope;var V=[],_=Lt.internal.getWidth(O)<=Lt.internal.getHeight(O)?Lt.internal.getWidth(O)/4:Lt.internal.getHeight(O)/4;_=Number((.9*_).toFixed(5));var Q=Number((_*Lt.internal.Bezier_C).toFixed(5));return V.push("q"),V.push("1 0 0 1 "+Ta(Lt.internal.getWidth(O)/2)+" "+Ta(Lt.internal.getHeight(O)/2)+" cm"),V.push(_+" 0 m"),V.push(_+" "+Q+" "+Q+" "+_+" 0 "+_+" c"),V.push("-"+Q+" "+_+" -"+_+" "+Q+" -"+_+" 0 c"),V.push("-"+_+" -"+Q+" -"+Q+" -"+_+" 0 -"+_+" c"),V.push(Q+" -"+_+" "+_+" -"+Q+" "+_+" 0 c"),V.push("f"),V.push("Q"),I.stream=V.join("\n"),I},YesPushDown:function(O){var I=_s(O);I.scope=O.scope;var V=[],_=Lt.internal.getWidth(O)<=Lt.internal.getHeight(O)?Lt.internal.getWidth(O)/4:Lt.internal.getHeight(O)/4;_=Number((.9*_).toFixed(5));var q=Number((2*_).toFixed(5)),Q=Number((q*Lt.internal.Bezier_C).toFixed(5)),Y=Number((_*Lt.internal.Bezier_C).toFixed(5));return V.push("0.749023 g"),V.push("q"),V.push("1 0 0 1 "+Ta(Lt.internal.getWidth(O)/2)+" "+Ta(Lt.internal.getHeight(O)/2)+" cm"),V.push(q+" 0 m"),V.push(q+" "+Q+" "+Q+" "+q+" 0 "+q+" c"),V.push("-"+Q+" "+q+" -"+q+" "+Q+" -"+q+" 0 c"),V.push("-"+q+" -"+Q+" -"+Q+" -"+q+" 0 -"+q+" c"),V.push(Q+" -"+q+" "+q+" -"+Q+" "+q+" 0 c"),V.push("f"),V.push("Q"),V.push("0 g"),V.push("q"),V.push("1 0 0 1 "+Ta(Lt.internal.getWidth(O)/2)+" "+Ta(Lt.internal.getHeight(O)/2)+" cm"),V.push(_+" 0 m"),V.push(_+" "+Y+" "+Y+" "+_+" 0 "+_+" c"),V.push("-"+Y+" "+_+" -"+_+" "+Y+" -"+_+" 0 c"),V.push("-"+_+" -"+Y+" -"+Y+" -"+_+" 0 -"+_+" c"),V.push(Y+" -"+_+" "+_+" -"+Y+" "+_+" 0 c"),V.push("f"),V.push("Q"),I.stream=V.join("\n"),I},OffPushDown:function(O){var I=_s(O);I.scope=O.scope;var V=[],_=Lt.internal.getWidth(O)<=Lt.internal.getHeight(O)?Lt.internal.getWidth(O)/4:Lt.internal.getHeight(O)/4;_=Number((.9*_).toFixed(5));var q=Number((2*_).toFixed(5)),Q=Number((q*Lt.internal.Bezier_C).toFixed(5));return V.push("0.749023 g"),V.push("q"),V.push("1 0 0 1 "+Ta(Lt.internal.getWidth(O)/2)+" "+Ta(Lt.internal.getHeight(O)/2)+" cm"),V.push(q+" 0 m"),V.push(q+" "+Q+" "+Q+" "+q+" 0 "+q+" c"),V.push("-"+Q+" "+q+" -"+q+" "+Q+" -"+q+" 0 c"),V.push("-"+q+" -"+Q+" -"+Q+" -"+q+" 0 -"+q+" c"),V.push(Q+" -"+q+" "+q+" -"+Q+" "+q+" 0 c"),V.push("f"),V.push("Q"),I.stream=V.join("\n"),I}},Cross:{createAppearanceStream:function(O){var I={D:{Off:Lt.RadioButton.Cross.OffPushDown},N:{}};return I.N[O]=Lt.RadioButton.Cross.YesNormal,I.D[O]=Lt.RadioButton.Cross.YesPushDown,I},getCA:function(){return"8"},YesNormal:function(O){var I=_s(O);I.scope=O.scope;var V=[],_=Lt.internal.calculateCross(O);return V.push("q"),V.push("1 1 "+fr(Lt.internal.getWidth(O)-2)+" "+fr(Lt.internal.getHeight(O)-2)+" re"),V.push("W"),V.push("n"),V.push(fr(_.x1.x)+" "+fr(_.x1.y)+" m"),V.push(fr(_.x2.x)+" "+fr(_.x2.y)+" l"),V.push(fr(_.x4.x)+" "+fr(_.x4.y)+" m"),V.push(fr(_.x3.x)+" "+fr(_.x3.y)+" l"),V.push("s"),V.push("Q"),I.stream=V.join("\n"),I},YesPushDown:function(O){var I=_s(O);I.scope=O.scope;var V=Lt.internal.calculateCross(O),_=[];return _.push("0.749023 g"),_.push("0 0 "+fr(Lt.internal.getWidth(O))+" "+fr(Lt.internal.getHeight(O))+" re"),_.push("f"),_.push("q"),_.push("1 1 "+fr(Lt.internal.getWidth(O)-2)+" "+fr(Lt.internal.getHeight(O)-2)+" re"),_.push("W"),_.push("n"),_.push(fr(V.x1.x)+" "+fr(V.x1.y)+" m"),_.push(fr(V.x2.x)+" "+fr(V.x2.y)+" l"),_.push(fr(V.x4.x)+" "+fr(V.x4.y)+" m"),_.push(fr(V.x3.x)+" "+fr(V.x3.y)+" l"),_.push("s"),_.push("Q"),I.stream=_.join("\n"),I},OffPushDown:function(O){var I=_s(O);I.scope=O.scope;var V=[];return V.push("0.749023 g"),V.push("0 0 "+fr(Lt.internal.getWidth(O))+" "+fr(Lt.internal.getHeight(O))+" re"),V.push("f"),I.stream=V.join("\n"),I}}},createDefaultAppearanceStream:function(O){var I=O.scope.internal.getFont(O.fontName,O.fontStyle).id,V=O.scope.__private__.encodeColorString(O.color);return"/"+I+" "+O.fontSize+" Tf "+V}};Lt.internal={Bezier_C:.551915024494,calculateCross:function(O){var I=Lt.internal.getWidth(O),V=Lt.internal.getHeight(O),_=Math.min(I,V);return{x1:{x:(I-_)/2,y:(V-_)/2+_},x2:{x:(I-_)/2+_,y:(V-_)/2},x3:{x:(I-_)/2,y:(V-_)/2},x4:{x:(I-_)/2+_,y:(V-_)/2+_}}}},Lt.internal.getWidth=function(O){var I=0;return"object"===x(O)&&(I=yc(O.Rect[2])),I},Lt.internal.getHeight=function(O){var I=0;return"object"===x(O)&&(I=yc(O.Rect[3])),I};var Hu=Nr.addField=function(O){if(function(O,I){if(I.scope=O,void 0!==O.internal&&(void 0===O.internal.acroformPlugin||!1===O.internal.acroformPlugin.isInitialized)){if(Eo.FieldNum=0,O.internal.acroformPlugin=JSON.parse(JSON.stringify(yg)),O.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ju=O.internal.scaleFactor,O.internal.acroformPlugin.acroFormDictionaryRoot=new xd,O.internal.acroformPlugin.acroFormDictionaryRoot.scope=O,O.internal.acroformPlugin.acroFormDictionaryRoot._eventID=O.internal.events.subscribe("postPutResources",function(){var V;(V=O).internal.events.unsubscribe(V.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete V.internal.acroformPlugin.acroFormDictionaryRoot._eventID,V.internal.acroformPlugin.printedOut=!0}),O.internal.events.subscribe("buildDocument",function(){!function(V){V.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var _=V.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var q in _)if(_.hasOwnProperty(q)){var Q=_[q];Q.objId=void 0,Q.hasAnnotation&&sa(Q,V)}}(O)}),O.internal.events.subscribe("putCatalog",function(){!function(V){if(void 0===V.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");V.internal.write("/AcroForm "+V.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(O)}),O.internal.events.subscribe("postPutPages",function(V){!function(_,q){var Q=!_;for(var Y in _||(q.internal.newObjectDeferredBegin(q.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),q.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),_=_||q.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(_.hasOwnProperty(Y)){var ee=_[Y],te=[],pe=ee.Rect;if(ee.Rect&&(ee.Rect=mg(ee.Rect,q)),q.internal.newObjectDeferredBegin(ee.objId,!0),ee.DA=Lt.createDefaultAppearanceStream(ee),"object"===x(ee)&&"function"==typeof ee.getKeyValueListForStream&&(te=ee.getKeyValueListForStream()),ee.Rect=pe,ee.hasAppearanceStream&&!ee.appearanceStreamContent){var Ce=$a(ee);te.push({key:"AP",value:"<</N "+Ce+">>"}),q.internal.acroformPlugin.xForms.push(Ce)}if(ee.appearanceStreamContent){var we="";for(var Oe in ee.appearanceStreamContent)if(ee.appearanceStreamContent.hasOwnProperty(Oe)){var ue=ee.appearanceStreamContent[Oe];if(we+="/"+Oe+" ",we+="<<",Object.keys(ue).length>=1||Array.isArray(ue)){for(var Y in ue)if(ue.hasOwnProperty(Y)){var _e=ue[Y];"function"==typeof _e&&(_e=_e.call(q,ee)),we+="/"+Y+" "+_e+" ",q.internal.acroformPlugin.xForms.indexOf(_e)>=0||q.internal.acroformPlugin.xForms.push(_e)}}else"function"==typeof(_e=ue)&&(_e=_e.call(q,ee)),we+="/"+Y+" "+_e,q.internal.acroformPlugin.xForms.indexOf(_e)>=0||q.internal.acroformPlugin.xForms.push(_e);we+=">>"}te.push({key:"AP",value:"<<\n"+we+">>"})}q.internal.putStream({additionalKeyValues:te,objectId:ee.objId}),q.internal.out("endobj")}Q&&function(O,I){for(var V in O)if(O.hasOwnProperty(V)){var _=V,q=O[V];I.internal.newObjectDeferredBegin(q.objId,!0),"object"===x(q)&&"function"==typeof q.putStream&&q.putStream(),delete O[_]}}(q.internal.acroformPlugin.xForms,q)}(V,O)}),O.internal.acroformPlugin.isInitialized=!0}}(this,O),!(O instanceof Eo))throw new Error("Invalid argument passed to jsPDF.addField.");var I;return(I=O).scope.internal.acroformPlugin.printedOut&&(I.scope.internal.acroformPlugin.printedOut=!1,I.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),I.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(I),O.page=O.scope.internal.getCurrentPageInfo().pageNumber,this};Nr.AcroFormChoiceField=jr,Nr.AcroFormListBox=zs,Nr.AcroFormComboBox=wa,Nr.AcroFormEditBox=Ga,Nr.AcroFormButton=Wi,Nr.AcroFormPushButton=ce,Nr.AcroFormRadioButton=Tn,Nr.AcroFormCheckBox=Wt,Nr.AcroFormTextField=aa,Nr.AcroFormPasswordField=yn,Nr.AcroFormAppearance=Lt,Nr.AcroForm={ChoiceField:jr,ListBox:zs,ComboBox:wa,EditBox:Ga,Button:Wi,PushButton:ce,RadioButton:Tn,CheckBox:Wt,TextField:aa,PasswordField:yn,Appearance:Lt};var O,I,$o=Xn.AcroForm={ChoiceField:jr,ListBox:zs,ComboBox:wa,EditBox:Ga,Button:Wi,PushButton:ce,RadioButton:Tn,CheckBox:Wt,TextField:aa,PasswordField:yn,Appearance:Lt};function _h(O){return O.reduce(function(I,V,_){return I[V]=_,I},{})}(function(O){O.__addimage__={};var I="UNKNOWN",V={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},_=O.__addimage__.getImageFileTypeByImageData=function(Be,Fe){var ot,et,Ht,Mt,zt,Dt=I;if("RGBA"===(Fe=Fe||I)||void 0!==Be.data&&Be.data instanceof Uint8ClampedArray&&"height"in Be&&"width"in Be)return"RGBA";if(Yt(Be))for(zt in V)for(Ht=V[zt],ot=0;ot<Ht.length;ot+=1){for(Mt=!0,et=0;et<Ht[ot].length;et+=1)if(void 0!==Ht[ot][et]&&Ht[ot][et]!==Be[et]){Mt=!1;break}if(!0===Mt){Dt=zt;break}}else for(zt in V)for(Ht=V[zt],ot=0;ot<Ht.length;ot+=1){for(Mt=!0,et=0;et<Ht[ot].length;et+=1)if(void 0!==Ht[ot][et]&&Ht[ot][et]!==Be.charCodeAt(et)){Mt=!1;break}if(!0===Mt){Dt=zt;break}}return Dt===I&&Fe!==I&&(Dt=Fe),Dt},q=function Be(Fe){for(var ot=this.internal.write,et=this.internal.putStream,Ht=(0,this.internal.getFilters)();-1!==Ht.indexOf("FlateEncode");)Ht.splice(Ht.indexOf("FlateEncode"),1);Fe.objectId=this.internal.newObject();var Mt=[];if(Mt.push({key:"Type",value:"/XObject"}),Mt.push({key:"Subtype",value:"/Image"}),Mt.push({key:"Width",value:Fe.width}),Mt.push({key:"Height",value:Fe.height}),Fe.colorSpace===qe.INDEXED?Mt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Fe.palette.length/3-1)+" "+("sMask"in Fe&&void 0!==Fe.sMask?Fe.objectId+2:Fe.objectId+1)+" 0 R]"}):(Mt.push({key:"ColorSpace",value:"/"+Fe.colorSpace}),Fe.colorSpace===qe.DEVICE_CMYK&&Mt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Mt.push({key:"BitsPerComponent",value:Fe.bitsPerComponent}),"decodeParameters"in Fe&&void 0!==Fe.decodeParameters&&Mt.push({key:"DecodeParms",value:"<<"+Fe.decodeParameters+">>"}),"transparency"in Fe&&Array.isArray(Fe.transparency)){for(var zt="",Dt=0,qt=Fe.transparency.length;Dt<qt;Dt++)zt+=Fe.transparency[Dt]+" "+Fe.transparency[Dt]+" ";Mt.push({key:"Mask",value:"["+zt+"]"})}if(void 0!==Fe.sMask&&Mt.push({key:"SMask",value:Fe.objectId+1+" 0 R"}),et({data:Fe.data,additionalKeyValues:Mt,alreadyAppliedFilters:void 0!==Fe.filter?["/"+Fe.filter]:void 0,objectId:Fe.objectId}),ot("endobj"),"sMask"in Fe&&void 0!==Fe.sMask){var Te={width:Fe.width,height:Fe.height,colorSpace:"DeviceGray",bitsPerComponent:Fe.bitsPerComponent,decodeParameters:"/Predictor "+Fe.predictor+" /Colors 1 /BitsPerComponent "+Fe.bitsPerComponent+" /Columns "+Fe.width,data:Fe.sMask};"filter"in Fe&&(Te.filter=Fe.filter),Be.call(this,Te)}if(Fe.colorSpace===qe.INDEXED){var Ue=this.internal.newObject();et({data:Ye(new Uint8Array(Fe.palette)),objectId:Ue}),ot("endobj")}},Q=function(){var Be=this.internal.collections.addImage_images;for(var Fe in Be)q.call(this,Be[Fe])},Y=function(){var Be,Fe=this.internal.collections.addImage_images,ot=this.internal.write;for(var et in Fe)ot("/I"+(Be=Fe[et]).index,Be.objectId,"0","R")},ee=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",Q),this.internal.events.subscribe("putXobjectDict",Y))},te=function(){var Be=this.internal.collections.addImage_images;return ee.call(this),Be},pe=function(){return Object.keys(this.internal.collections.addImage_images).length},Ce=function(Be){return"function"==typeof O["process"+Be.toUpperCase()]},we=function(Be){return"object"===x(Be)&&1===Be.nodeType},Oe=function(Be,Fe){if("IMG"===Be.nodeName&&Be.hasAttribute("src")){var ot=""+Be.getAttribute("src");if(0===ot.indexOf("data:image/"))return wr(unescape(ot).split("base64,").pop());var et=O.loadFile(ot,!0);if(void 0!==et)return et}if("CANVAS"===Be.nodeName){if(0===Be.width||0===Be.height)throw new Error("Given canvas must have data. Canvas width: "+Be.width+", height: "+Be.height);var Ht;switch(Fe){case"PNG":Ht="image/png";break;case"WEBP":Ht="image/webp";break;default:Ht="image/jpeg"}return wr(Be.toDataURL(Ht,1).split("base64,").pop())}},ue=function(Be){var Fe=this.internal.collections.addImage_images;if(Fe)for(var ot in Fe)if(Be===Fe[ot].alias)return Fe[ot]},_e=function(Be,Fe,ot){return Be||Fe||(Be=-96,Fe=-96),Be<0&&(Be=-1*ot.width*72/Be/this.internal.scaleFactor),Fe<0&&(Fe=-1*ot.height*72/Fe/this.internal.scaleFactor),0===Be&&(Be=Fe*ot.width/ot.height),0===Fe&&(Fe=Be*ot.height/ot.width),[Be,Fe]},Re=function(Be,Fe,ot,et,Ht,Mt){var zt=_e.call(this,ot,et,Ht),Dt=this.internal.getCoordinateString,qt=this.internal.getVerticalCoordinateString,St=te.call(this);if(ot=zt[0],et=zt[1],St[Ht.index]=Ht,Mt){Mt*=Math.PI/180;var In=Math.cos(Mt),Te=Math.sin(Mt),Ue=function(lt){return lt.toFixed(4)},Ge=[Ue(In),Ue(Te),Ue(-1*Te),Ue(In),0,0,"cm"]}this.internal.write("q"),Mt?(this.internal.write([1,"0","0",1,Dt(Be),qt(Fe+et),"cm"].join(" ")),this.internal.write(Ge.join(" ")),this.internal.write([Dt(ot),"0","0",Dt(et),"0","0","cm"].join(" "))):this.internal.write([Dt(ot),"0","0",Dt(et),Dt(Be),qt(Fe+et),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ht.index+" Do"),this.internal.write("Q")},qe=O.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};O.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Ie=O.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},ze=O.__addimage__.sHashCode=function(Be){var Fe,ot,et=0;if("string"==typeof Be)for(ot=Be.length,Fe=0;Fe<ot;Fe++)et=(et<<5)-et+Be.charCodeAt(Fe),et|=0;else if(Yt(Be))for(ot=Be.byteLength/2,Fe=0;Fe<ot;Fe++)et=(et<<5)-et+Be[Fe],et|=0;return et},at=O.__addimage__.validateStringAsBase64=function(Be){(Be=Be||"").toString().trim();var Fe=!0;return 0===Be.length&&(Fe=!1),Be.length%4!=0&&(Fe=!1),!1===/^[A-Za-z0-9+/]+$/.test(Be.substr(0,Be.length-2))&&(Fe=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Be.substr(-2))&&(Fe=!1),Fe},Et=O.__addimage__.extractImageFromDataUrl=function(Be){var Fe=(Be=Be||"").split("base64,"),ot=null;if(2===Fe.length){var et=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Fe[0]);Array.isArray(et)&&(ot={mimeType:et[1],charset:et[2],data:Fe[1]})}return ot},Ft=O.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};O.__addimage__.isArrayBuffer=function(Be){return Ft()&&Be instanceof ArrayBuffer};var Yt=O.__addimage__.isArrayBufferView=function(Be){return Ft()&&"undefined"!=typeof Uint32Array&&(Be instanceof Int8Array||Be instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&Be instanceof Uint8ClampedArray||Be instanceof Int16Array||Be instanceof Uint16Array||Be instanceof Int32Array||Be instanceof Uint32Array||Be instanceof Float32Array||Be instanceof Float64Array)},wt=O.__addimage__.binaryStringToUint8Array=function(Be){for(var Fe=Be.length,ot=new Uint8Array(Fe),et=0;et<Fe;et++)ot[et]=Be.charCodeAt(et);return ot},Ye=O.__addimage__.arrayBufferToBinaryString=function(Be){for(var Fe="",ot=Yt(Be)?Be:new Uint8Array(Be),et=0;et<ot.length;et+=8192)Fe+=String.fromCharCode.apply(null,ot.subarray(et,et+8192));return Fe};O.addImage=function(){var Be,Fe,ot,et,Ht,Mt,zt,Dt,qt;if("number"==typeof arguments[1]?(Fe=I,ot=arguments[1],et=arguments[2],Ht=arguments[3],Mt=arguments[4],zt=arguments[5],Dt=arguments[6],qt=arguments[7]):(Fe=arguments[1],ot=arguments[2],et=arguments[3],Ht=arguments[4],Mt=arguments[5],zt=arguments[6],Dt=arguments[7],qt=arguments[8]),"object"===x(Be=arguments[0])&&!we(Be)&&"imageData"in Be){var St=Be;Be=St.imageData,Fe=St.format||Fe||I,ot=St.x||ot||0,et=St.y||et||0,Ht=St.w||St.width||Ht,Mt=St.h||St.height||Mt,zt=St.alias||zt,Dt=St.compression||Dt,qt=St.rotation||St.angle||qt}var In=this.internal.getFilters();if(void 0===Dt&&-1!==In.indexOf("FlateEncode")&&(Dt="SLOW"),isNaN(ot)||isNaN(et))throw new Error("Invalid coordinates passed to jsPDF.addImage");ee.call(this);var Te=Kt.call(this,Be,Fe,zt,Dt);return Re.call(this,ot,et,Ht,Mt,Te,qt),this};var Kt=function(Be,Fe,ot,et){var Ht,Mt,zt,qt;if("string"==typeof Be&&_(Be)===I){Be=unescape(Be);var Dt=jt(Be,!1);(""!==Dt||void 0!==(Dt=O.loadFile(Be,!0)))&&(Be=Dt)}if(we(Be)&&(Be=Oe(Be,Fe)),Fe=_(Be,Fe),!Ce(Fe))throw new Error("addImage does not support files of type '"+Fe+"', please ensure that a plugin for '"+Fe+"' support is added.");if((null==(zt=ot)||0===zt.length)&&(ot="string"==typeof(qt=Be)||Yt(qt)?ze(qt):Yt(qt.data)?ze(qt.data):null),(Ht=ue.call(this,ot))||(Ft()&&(Be instanceof Uint8Array||"RGBA"===Fe||(Mt=Be,Be=wt(Be))),Ht=this["process"+Fe.toUpperCase()](Be,pe.call(this),ot,function(qt){return qt&&"string"==typeof qt&&(qt=qt.toUpperCase()),qt in O.image_compression?qt:Ie.NONE}(et),Mt)),!Ht)throw new Error("An unknown error occurred whilst processing the image.");return Ht},jt=O.__addimage__.convertBase64ToBinaryString=function(Be,Fe){var ot;Fe="boolean"!=typeof Fe||Fe;var et,Ht="";if("string"==typeof Be){et=null!==(ot=Et(Be))?ot.data:Be;try{Ht=wr(et)}catch(Mt){if(Fe)throw at(et)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Mt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Ht};O.getImageProperties=function(Be){var Fe,ot,et="";if(we(Be)&&(Be=Oe(Be)),"string"==typeof Be&&_(Be)===I&&(""===(et=jt(Be,!1))&&(et=O.loadFile(Be)||""),Be=et),ot=_(Be),!Ce(ot))throw new Error("addImage does not support files of type '"+ot+"', please ensure that a plugin for '"+ot+"' support is added.");if(!Ft()||Be instanceof Uint8Array||(Be=wt(Be)),!(Fe=this["process"+ot.toUpperCase()](Be)))throw new Error("An unknown error occurred whilst processing the image");return Fe.fileType=ot,Fe}})(Xn.API),O=Xn.API,I=function(V){if(void 0!==V&&""!=V)return!0},Xn.API.events.push(["addPage",function(V){this.internal.getPageInfo(V.pageNumber).pageContext.annotations=[]}]),O.events.push(["putPage",function(V){for(var _,q,Q,Y=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,te=this.internal.getPageInfoByObjId(V.objId),pe=V.pageContext.annotations,Ce=!1,we=0;we<pe.length&&!Ce;we++)switch((_=pe[we]).type){case"link":(I(_.options.url)||I(_.options.pageNumber))&&(Ce=!0);break;case"reference":case"text":case"freetext":Ce=!0}if(0!=Ce){this.internal.write("/Annots [");for(var Oe=0;Oe<pe.length;Oe++){_=pe[Oe];var ue=this.internal.pdfEscape,_e=this.internal.getEncryptor(V.objId);switch(_.type){case"reference":this.internal.write(" "+_.object.objId+" 0 R ");break;case"text":var Re=this.internal.newAdditionalObject(),qe=this.internal.newAdditionalObject(),Ie=this.internal.getEncryptor(Re.objId),ze=_.title||"Note";Q="<</Type /Annot /Subtype /Text "+(q="/Rect ["+Y(_.bounds.x)+" "+ee(_.bounds.y+_.bounds.h)+" "+Y(_.bounds.x+_.bounds.w)+" "+ee(_.bounds.y)+"] ")+"/Contents ("+ue(Ie(_.contents))+")",Q+=" /Popup "+qe.objId+" 0 R",Q+=" /P "+te.objId+" 0 R",Q+=" /T ("+ue(Ie(ze))+") >>",Re.content=Q;var at=Re.objId+" 0 R";Q="<</Type /Annot /Subtype /Popup "+(q="/Rect ["+Y(_.bounds.x+30)+" "+ee(_.bounds.y+_.bounds.h)+" "+Y(_.bounds.x+_.bounds.w+30)+" "+ee(_.bounds.y)+"] ")+" /Parent "+at,_.open&&(Q+=" /Open true"),qe.content=Q+=" >>",this.internal.write(Re.objId,"0 R",qe.objId,"0 R");break;case"freetext":q="/Rect ["+Y(_.bounds.x)+" "+ee(_.bounds.y)+" "+Y(_.bounds.x+_.bounds.w)+" "+ee(_.bounds.y+_.bounds.h)+"] ";var Et=_.color||"#000000";Q="<</Type /Annot /Subtype /FreeText "+q+"/Contents ("+ue(_e(_.contents))+")",Q+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Et+")",Q+=" /Border [0 0 0]",this.internal.write(Q+=" >>");break;case"link":if(_.options.name){var Ft=this.annotations._nameMap[_.options.name];_.options.pageNumber=Ft.page,_.options.top=Ft.y}else _.options.top||(_.options.top=0);if(q="/Rect ["+_.finalBounds.x+" "+_.finalBounds.y+" "+_.finalBounds.w+" "+_.finalBounds.h+"] ",Q="",_.options.url)Q="<</Type /Annot /Subtype /Link "+q+"/Border [0 0 0] /A <</S /URI /URI ("+ue(_e(_.options.url))+") >>";else if(_.options.pageNumber)switch(Q="<</Type /Annot /Subtype /Link "+q+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(_.options.pageNumber).objId+" 0 R",_.options.magFactor=_.options.magFactor||"XYZ",_.options.magFactor){case"Fit":Q+=" /Fit]";break;case"FitH":Q+=" /FitH "+_.options.top+"]";break;case"FitV":_.options.left=_.options.left||0,Q+=" /FitV "+_.options.left+"]";break;default:var Yt=ee(_.options.top);_.options.left=_.options.left||0,void 0===_.options.zoom&&(_.options.zoom=0),Q+=" /XYZ "+_.options.left+" "+Yt+" "+_.options.zoom+"]"}""!=Q&&this.internal.write(Q+=" >>")}}this.internal.write("]")}}]),O.createAnnotation=function(V){var _=this.internal.getCurrentPageInfo();switch(V.type){case"link":this.link(V.bounds.x,V.bounds.y,V.bounds.w,V.bounds.h,V);break;case"text":case"freetext":_.pageContext.annotations.push(V)}},O.link=function(V,_,q,Q,Y){var ee=this.internal.getCurrentPageInfo(),te=this.internal.getCoordinateString,pe=this.internal.getVerticalCoordinateString;ee.pageContext.annotations.push({finalBounds:{x:te(V),y:pe(_),w:te(V+q),h:pe(_+Q)},options:Y,type:"link"})},O.textWithLink=function(V,_,q,Q){var Y,ee,te=this.getTextWidth(V),pe=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==Q.maxWidth){var Ce=this.splitTextToSize(V,ee=Q.maxWidth).length;Y=Math.ceil(pe*Ce)}else ee=te,Y=pe;return this.text(V,_,q,Q),"center"===Q.align&&(_-=te/2),"right"===Q.align&&(_-=te),this.link(_,(q+=.2*pe)-pe,ee,Y,Q),te},O.getTextWidth=function(V){var _=this.internal.getFontSize();return this.getStringUnitWidth(V)*_/this.internal.scaleFactor},function(O){var I={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},V={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},_={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},q=[1570,1571,1573,1575];O.__arabicParser__={};var Q=O.__arabicParser__.isInArabicSubstitutionA=function(Re){return void 0!==I[Re.charCodeAt(0)]},Y=O.__arabicParser__.isArabicLetter=function(Re){return"string"==typeof Re&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(Re)},ee=O.__arabicParser__.isArabicEndLetter=function(Re){return Y(Re)&&Q(Re)&&I[Re.charCodeAt(0)].length<=2},te=O.__arabicParser__.isArabicAlfLetter=function(Re){return Y(Re)&&q.indexOf(Re.charCodeAt(0))>=0};O.__arabicParser__.arabicLetterHasIsolatedForm=function(Re){return Y(Re)&&Q(Re)&&I[Re.charCodeAt(0)].length>=1};var pe=O.__arabicParser__.arabicLetterHasFinalForm=function(Re){return Y(Re)&&Q(Re)&&I[Re.charCodeAt(0)].length>=2};O.__arabicParser__.arabicLetterHasInitialForm=function(Re){return Y(Re)&&Q(Re)&&I[Re.charCodeAt(0)].length>=3};var Ce=O.__arabicParser__.arabicLetterHasMedialForm=function(Re){return Y(Re)&&Q(Re)&&4==I[Re.charCodeAt(0)].length},we=O.__arabicParser__.resolveLigatures=function(Re){var qe=0,Ie=V,ze="",at=0;for(qe=0;qe<Re.length;qe+=1)void 0!==Ie[Re.charCodeAt(qe)]?(at++,"number"==typeof(Ie=Ie[Re.charCodeAt(qe)])&&(ze+=String.fromCharCode(Ie),Ie=V,at=0),qe===Re.length-1&&(Ie=V,ze+=Re.charAt(qe-(at-1)),qe-=at-1,at=0)):(Ie=V,ze+=Re.charAt(qe-at),qe-=at,at=0);return ze};O.__arabicParser__.isArabicDiacritic=function(Re){return void 0!==Re&&void 0!==_[Re.charCodeAt(0)]};var Oe=O.__arabicParser__.getCorrectForm=function(Re,qe,Ie){return Y(Re)?!1===Q(Re)?-1:!pe(Re)||!Y(qe)&&!Y(Ie)||!Y(Ie)&&ee(qe)||ee(Re)&&!Y(qe)||ee(Re)&&te(qe)||ee(Re)&&ee(qe)?0:Ce(Re)&&Y(qe)&&!ee(qe)&&Y(Ie)&&pe(Ie)?3:ee(Re)||!Y(Ie)?1:2:-1},ue=function(Re){var qe=0,Ie=0,ze=0,at="",Et="",Ft="",Yt=(Re=Re||"").split("\\s+"),wt=[];for(qe=0;qe<Yt.length;qe+=1){for(wt.push(""),Ie=0;Ie<Yt[qe].length;Ie+=1)Et=Yt[qe][Ie-1],Ft=Yt[qe][Ie+1],Y(at=Yt[qe][Ie])?(ze=Oe(at,Et,Ft),wt[qe]+=-1!==ze?String.fromCharCode(I[at.charCodeAt(0)][ze]):at):wt[qe]+=at;wt[qe]=we(wt[qe])}return wt.join(" ")},_e=O.__arabicParser__.processArabic=O.processArabic=function(){var Re,qe="string"==typeof arguments[0]?arguments[0]:arguments[0].text,Ie=[];if(Array.isArray(qe)){var ze=0;for(Ie=[],ze=0;ze<qe.length;ze+=1)Array.isArray(qe[ze])?Ie.push([ue(qe[ze][0]),qe[ze][1],qe[ze][2]]):Ie.push([ue(qe[ze])]);Re=Ie}else Re=ue(qe);return"string"==typeof arguments[0]?Re:(arguments[0].text=Re,arguments[0])};O.events.push(["preProcessText",_e])}(Xn.API),Xn.API.autoPrint=function(O){var I;return"javascript"===((O=O||{}).variant=O.variant||"non-conform",O.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){I=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+I+" 0 R")})),this},function(O){var I=function(){var V=void 0;Object.defineProperty(this,"pdf",{get:function(){return V},set:function(ee){V=ee}});var _=150;Object.defineProperty(this,"width",{get:function(){return _},set:function(ee){_=isNaN(ee)||!1===Number.isInteger(ee)||ee<0?150:ee,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=_+1)}});var q=300;Object.defineProperty(this,"height",{get:function(){return q},set:function(ee){q=isNaN(ee)||!1===Number.isInteger(ee)||ee<0?300:ee,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=q+1)}});var Q=[];Object.defineProperty(this,"childNodes",{get:function(){return Q},set:function(ee){Q=ee}});var Y={};Object.defineProperty(this,"style",{get:function(){return Y},set:function(ee){Y=ee}}),Object.defineProperty(this,"parentNode",{})};I.prototype.getContext=function(V,_){var q;if("2d"!==(V=V||"2d"))return null;for(q in _)this.pdf.context2d.hasOwnProperty(q)&&(this.pdf.context2d[q]=_[q]);return this.pdf.context2d._canvas=this,this.pdf.context2d},I.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},O.events.push(["initialized",function(){this.canvas=new I,this.canvas.pdf=this}])}(Xn.API),function(O){var I={left:0,top:0,bottom:0,right:0},V=!1,_=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},I),this.internal.__cell__.margins.width=this.getPageWidth(),q.call(this))},q=function(){this.internal.__cell__.lastCell=new Q,this.internal.__cell__.pages=1},Q=function(){var te=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Re){te=Re}});var pe=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(Re){pe=Re}});var Ce=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Ce},set:function(Re){Ce=Re}});var we=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return we},set:function(Re){we=Re}});var Oe=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Oe},set:function(Re){Oe=Re}});var ue=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return ue},set:function(Re){ue=Re}});var _e=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _e},set:function(Re){_e=Re}}),this};Q.prototype.clone=function(){return new Q(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},Q.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},O.setHeaderFunction=function(te){return _.call(this),this.internal.__cell__.headerFunction="function"==typeof te?te:void 0,this},O.getTextDimensions=function(te,pe){_.call(this);var Ce=(pe=pe||{}).fontSize||this.getFontSize(),we=pe.font||this.getFont(),Oe=pe.scaleFactor||this.internal.scaleFactor,ue=0,_e=0,Re=0,qe=this;if(!Array.isArray(te)&&"string"!=typeof te){if("number"!=typeof te)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");te=String(te)}var Ie=pe.maxWidth;Ie>0?"string"==typeof te?te=this.splitTextToSize(te,Ie):"[object Array]"===Object.prototype.toString.call(te)&&(te=te.reduce(function(at,Et){return at.concat(qe.splitTextToSize(Et,Ie))},[])):te=Array.isArray(te)?te:[te];for(var ze=0;ze<te.length;ze++)ue<(Re=this.getStringUnitWidth(te[ze],{font:we})*Ce)&&(ue=Re);return 0!==ue&&(_e=te.length),{w:ue/=Oe,h:Math.max((_e*Ce*this.getLineHeightFactor()-Ce*(this.getLineHeightFactor()-1))/Oe,0)}},O.cellAddPage=function(){_.call(this),this.addPage();var te=this.internal.__cell__.margins||I;return this.internal.__cell__.lastCell=new Q(te.left,te.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Y=O.cell=function(){var te;te=arguments[0]instanceof Q?arguments[0]:new Q(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),_.call(this);var pe=this.internal.__cell__.lastCell,Ce=this.internal.__cell__.padding,we=this.internal.__cell__.margins||I,Oe=this.internal.__cell__.tableHeaderRow,ue=this.internal.__cell__.printHeaders;return void 0!==pe.lineNumber&&(pe.lineNumber===te.lineNumber?(te.x=(pe.x||0)+(pe.width||0),te.y=pe.y||0):pe.y+pe.height+te.height+we.bottom>this.getPageHeight()?(this.cellAddPage(),te.y=we.top,ue&&Oe&&(this.printHeaderRow(te.lineNumber,!0),te.y+=Oe[0].height)):te.y=pe.y+pe.height||te.y),void 0!==te.text[0]&&(this.rect(te.x,te.y,te.width,te.height,!0===V?"FD":void 0),"right"===te.align?this.text(te.text,te.x+te.width-Ce,te.y+Ce,{align:"right",baseline:"top"}):"center"===te.align?this.text(te.text,te.x+te.width/2,te.y+Ce,{align:"center",baseline:"top",maxWidth:te.width-Ce-Ce}):this.text(te.text,te.x+Ce,te.y+Ce,{align:"left",baseline:"top",maxWidth:te.width-Ce-Ce})),this.internal.__cell__.lastCell=te,this};O.table=function(te,pe,Ce,we,Oe){if(_.call(this),!Ce)throw new Error("No data for PDF table.");var ue,_e,Re,qe,Ie=[],ze=[],at=[],Et={},Ft={},Yt=[],wt=[],Ye=(Oe=Oe||{}).autoSize||!1,Kt=!1!==Oe.printHeaders,jt=Oe.css&&void 0!==Oe.css["font-size"]?16*Oe.css["font-size"]:Oe.fontSize||12,Be=Oe.margins||Object.assign({width:this.getPageWidth()},I),Fe="number"==typeof Oe.padding?Oe.padding:3,ot=Oe.headerBackgroundColor||"#c8c8c8",et=Oe.headerTextColor||"#000";if(q.call(this),this.internal.__cell__.printHeaders=Kt,this.internal.__cell__.margins=Be,this.internal.__cell__.table_font_size=jt,this.internal.__cell__.padding=Fe,this.internal.__cell__.headerBackgroundColor=ot,this.internal.__cell__.headerTextColor=et,this.setFontSize(jt),null==we)ze=Ie=Object.keys(Ce[0]),at=Ie.map(function(){return"left"});else if(Array.isArray(we)&&"object"===x(we[0]))for(Ie=we.map(function(St){return St.name}),ze=we.map(function(St){return St.prompt||St.name||""}),at=we.map(function(St){return St.align||"left"}),ue=0;ue<we.length;ue+=1)Ft[we[ue].name]=we[ue].width*(19.049976/25.4);else Array.isArray(we)&&"string"==typeof we[0]&&(ze=Ie=we,at=Ie.map(function(){return"left"}));if(Ye||Array.isArray(we)&&"string"==typeof we[0])for(ue=0;ue<Ie.length;ue+=1){for(Et[qe=Ie[ue]]=Ce.map(function(St){return St[qe]}),this.setFont(void 0,"bold"),Yt.push(this.getTextDimensions(ze[ue],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_e=Et[qe],this.setFont(void 0,"normal"),Re=0;Re<_e.length;Re+=1)Yt.push(this.getTextDimensions(_e[Re],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Ft[qe]=Math.max.apply(null,Yt)+Fe+Fe,Yt=[]}if(Kt){var Ht={};for(ue=0;ue<Ie.length;ue+=1)Ht[Ie[ue]]={},Ht[Ie[ue]].text=ze[ue],Ht[Ie[ue]].align=at[ue];var Mt=ee.call(this,Ht,Ft);wt=Ie.map(function(St){return new Q(te,pe,Ft[St],Mt,Ht[St].text,void 0,Ht[St].align)}),this.setTableHeaderRow(wt),this.printHeaderRow(1,!1)}var zt=we.reduce(function(St,In){return St[In.name]=In.align,St},{});for(ue=0;ue<Ce.length;ue+=1){"rowStart"in Oe&&Oe.rowStart instanceof Function&&Oe.rowStart({row:ue,data:Ce[ue]},this);var Dt=ee.call(this,Ce[ue],Ft);for(Re=0;Re<Ie.length;Re+=1){var qt=Ce[ue][Ie[Re]];"cellStart"in Oe&&Oe.cellStart instanceof Function&&Oe.cellStart({row:ue,col:Re,data:qt},this),Y.call(this,new Q(te,pe,Ft[Ie[Re]],Dt,qt,ue+2,zt[Ie[Re]]))}}return this.internal.__cell__.table_x=te,this.internal.__cell__.table_y=pe,this};var ee=function(te,pe){var Ce=this.internal.__cell__.padding,we=this.internal.__cell__.table_font_size,Oe=this.internal.scaleFactor;return Object.keys(te).map(function(ue){var _e=te[ue];return this.splitTextToSize(_e.hasOwnProperty("text")?_e.text:_e,pe[ue]-Ce-Ce)},this).map(function(ue){return this.getLineHeightFactor()*ue.length*we/Oe+Ce+Ce},this).reduce(function(ue,_e){return Math.max(ue,_e)},0)};O.setTableHeaderRow=function(te){_.call(this),this.internal.__cell__.tableHeaderRow=te},O.printHeaderRow=function(te,pe){if(_.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Ce;if(V=!0,"function"==typeof this.internal.__cell__.headerFunction){var we=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new Q(we[0],we[1],we[2],we[3],void 0,-1)}this.setFont(void 0,"bold");for(var Oe=[],ue=0;ue<this.internal.__cell__.tableHeaderRow.length;ue+=1){Ce=this.internal.__cell__.tableHeaderRow[ue].clone(),pe&&(Ce.y=this.internal.__cell__.margins.top||0,Oe.push(Ce)),Ce.lineNumber=te;var _e=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Y.call(this,Ce),this.setTextColor(_e)}Oe.length>0&&this.setTableHeaderRow(Oe),this.setFont(void 0,"normal"),V=!1}}(Xn.API);var Td={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},qn=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],wn=_h(qn),Di=[100,200,300,400,500,600,700,800,900],xl=_h(Di);function Da(O){var Q,I=O.family.replace(/"|'/g,"").toLowerCase(),V=Td[Q=(Q=O.style)||"normal"]?Q:"normal",_=function(Q){return Q?"number"==typeof Q?Q>=100&&Q<=900&&Q%100==0?Q:400:/^\d00$/.test(Q)?parseInt(Q):"bold"===Q?700:400:400}(O.weight),q=function(Q){return"number"==typeof wn[Q=Q||"normal"]?Q:"normal"}(O.stretch);return{family:I,style:V,weight:_,stretch:q,src:O.src||[],ref:O.ref||{name:I,style:[q,V,_].join(" ")}}}function cs(O,I,V,_){var q;for(q=V;q>=0&&q<I.length;q+=_)if(O[I[q]])return O[I[q]];for(q=V;q>=0&&q<I.length;q-=_)if(O[I[q]])return O[I[q]]}var Uu={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ja={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function vn(O){return[O.stretch,O.style,O.weight,O.family].join(" ")}function Ia(O){return O.trimLeft()}function Ni(O,I){for(var V=0;V<O.length;){if(O.charAt(V)===I)return[O.substring(0,V),O.substring(V+1)];V+=1}return null}function wd(O){var I=O.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===I?null:[I[0],O.substring(I[0].length)]}var xo,Pn,yr,ai=["times"];(function(O){var I,V,_,q,Q,Y,ee,te,pe,Ce=function(Te){return this.isStrokeTransparent=(Te=Te||{}).isStrokeTransparent||!1,this.strokeOpacity=Te.strokeOpacity||1,this.strokeStyle=Te.strokeStyle||"#000000",this.fillStyle=Te.fillStyle||"#000000",this.isFillTransparent=Te.isFillTransparent||!1,this.fillOpacity=Te.fillOpacity||1,this.font=Te.font||"10px sans-serif",this.textBaseline=Te.textBaseline||"alphabetic",this.textAlign=Te.textAlign||"left",this.lineWidth=Te.lineWidth||1,this.lineJoin=Te.lineJoin||"miter",this.lineCap=Te.lineCap||"butt",this.path=Te.path||[],this.transform=void 0!==Te.transform?Te.transform.clone():new te,this.globalCompositeOperation=Te.globalCompositeOperation||"normal",this.globalAlpha=Te.globalAlpha||1,this.clip_path=Te.clip_path||[],this.currentPoint=Te.currentPoint||new Y,this.miterLimit=Te.miterLimit||10,this.lastPoint=Te.lastPoint||new Y,this.lineDashOffset=Te.lineDashOffset||0,this.lineDash=Te.lineDash||[],this.margin=Te.margin||[0,0,0,0],this.prevPageLastElemOffset=Te.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof Te.ignoreClearRect||Te.ignoreClearRect,this};O.events.push(["initialized",function(){this.context2d=new we(this),I=this.internal.f2,V=this.internal.getCoordinateString,_=this.internal.getVerticalCoordinateString,q=this.internal.getHorizontalCoordinate,Q=this.internal.getVerticalCoordinate,Y=this.internal.Point,ee=this.internal.Rectangle,te=this.internal.Matrix,pe=new Ce}]);var we=function(Te){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Ue=Te;Object.defineProperty(this,"pdf",{get:function(){return Ue}});var Ge=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Ge},set:function(Bt){Ge=Boolean(Bt)}});var lt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return lt},set:function(Bt){lt=Boolean(Bt)}});var pt=0;Object.defineProperty(this,"posX",{get:function(){return pt},set:function(Bt){isNaN(Bt)||(pt=Bt)}});var vt=0;Object.defineProperty(this,"posY",{get:function(){return vt},set:function(Bt){isNaN(Bt)||(vt=Bt)}}),Object.defineProperty(this,"margin",{get:function(){return pe.margin},set:function(Bt){var Je;"number"==typeof Bt?Je=[Bt,Bt,Bt,Bt]:((Je=new Array(4))[0]=Bt[0],Je[1]=Bt.length>=2?Bt[1]:Je[0],Je[2]=Bt.length>=3?Bt[2]:Je[0],Je[3]=Bt.length>=4?Bt[3]:Je[1]),pe.margin=Je}});var Ot=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ot},set:function(Bt){Ot=Bt}});var Rt=0;Object.defineProperty(this,"lastBreak",{get:function(){return Rt},set:function(Bt){Rt=Bt}});var cn=[];Object.defineProperty(this,"pageBreaks",{get:function(){return cn},set:function(Bt){cn=Bt}}),Object.defineProperty(this,"ctx",{get:function(){return pe},set:function(Bt){Bt instanceof Ce&&(pe=Bt)}}),Object.defineProperty(this,"path",{get:function(){return pe.path},set:function(Bt){pe.path=Bt}});var nn=[];Object.defineProperty(this,"ctxStack",{get:function(){return nn},set:function(Bt){nn=Bt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Bt){var Je;Je=Oe(Bt),this.ctx.fillStyle=Je.style,this.ctx.isFillTransparent=0===Je.a,this.ctx.fillOpacity=Je.a,this.pdf.setFillColor(Je.r,Je.g,Je.b,{a:Je.a}),this.pdf.setTextColor(Je.r,Je.g,Je.b,{a:Je.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Bt){var Je=Oe(Bt);this.ctx.strokeStyle=Je.style,this.ctx.isStrokeTransparent=0===Je.a,this.ctx.strokeOpacity=Je.a,0===Je.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(Je.r,Je.g,Je.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Bt){-1!==["butt","round","square"].indexOf(Bt)&&(this.ctx.lineCap=Bt,this.pdf.setLineCap(Bt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Bt){isNaN(Bt)||(this.ctx.lineWidth=Bt,this.pdf.setLineWidth(Bt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Bt){-1!==["bevel","round","miter"].indexOf(Bt)&&(this.ctx.lineJoin=Bt,this.pdf.setLineJoin(Bt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Bt){isNaN(Bt)||(this.ctx.miterLimit=Bt,this.pdf.setMiterLimit(Bt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Bt){this.ctx.textBaseline=Bt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Bt){-1!==["right","end","center","left","start"].indexOf(Bt)&&(this.ctx.textAlign=Bt)}});var Sn=null,ir=null;Object.defineProperty(this,"fontFaces",{get:function(){return ir},set:function(Bt){Sn=null,ir=Bt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Bt){var Je;if(this.ctx.font=Bt,null!==(Je=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Bt))){var hr=Je[1],tn=Je[3],ln=Je[4],bn=Je[6],Rn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ln)[2];ln=Math.floor("px"===Rn?parseFloat(ln)*this.pdf.internal.scaleFactor:"em"===Rn?parseFloat(ln)*this.pdf.getFontSize():parseFloat(ln)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ln);var Dn=function(Nt){var kn,On,uo=[],Ir=Nt.trim();if(""===Ir)return ai;if(Ir in Ja)return[Ja[Ir]];for(;""!==Ir;){switch(On=null,kn=(Ir=Ia(Ir)).charAt(0)){case'"':case"'":On=Ni(Ir.substring(1),kn);break;default:On=wd(Ir)}if(null===On||(uo.push(On[0]),""!==(Ir=Ia(On[1]))&&","!==Ir.charAt(0)))return ai;Ir=Ir.replace(/^,/,"")}return uo}(bn);if(this.fontFaces){var Qn=function vc(O,I,V){for(var _=(V=V||{}).defaultFontFamily||"times",q=Object.assign({},Uu,V.genericFontFamilies||{}),Q=null,Y=null,ee=0;ee<I.length;++ee)if(q[(Q=Da(I[ee])).family]&&(Q.family=q[Q.family]),O.hasOwnProperty(Q.family)){Y=O[Q.family];break}if(!(Y=Y||O[_]))throw new Error("Could not find a font-family for the rule '"+vn(Q)+"' and default family '"+_+"'.");if(Y=function(te,pe){if(pe[te])return pe[te];var Ce=wn[te],Oe=cs(pe,qn,Ce,Ce<=wn.normal?-1:1);if(!Oe)throw new Error("Could not find a matching font-stretch value for "+te);return Oe}(Q.stretch,Y),Y=function(te,pe){if(pe[te])return pe[te];for(var Ce=Td[te],we=0;we<Ce.length;++we)if(pe[Ce[we]])return pe[Ce[we]];throw new Error("Could not find a matching font-style for "+te)}(Q.style,Y),!(Y=function(te,pe){if(pe[te])return pe[te];if(400===te&&pe[500])return pe[500];if(500===te&&pe[400])return pe[400];var we=cs(pe,Di,xl[te],te<400?-1:1);if(!we)throw new Error("Could not find a matching font-weight for value "+te);return we}(Q.weight,Y)))throw new Error("Failed to resolve a font for the rule '"+vn(Q)+"'.");return Y}(function An(Bt,Je){if(null===Sn){var hr=(tn=Bt.getFontList(),ln=[],Object.keys(tn).forEach(function(bn){tn[bn].forEach(function(Rn){var Dn=null;switch(Rn){case"bold":Dn={family:bn,weight:"bold"};break;case"italic":Dn={family:bn,style:"italic"};break;case"bolditalic":Dn={family:bn,weight:"bold",style:"italic"};break;case"":case"normal":Dn={family:bn}}null!==Dn&&(Dn.ref={name:bn,style:Rn},ln.push(Dn))})}),ln);Sn=function(tn){for(var ln={},bn=0;bn<tn.length;++bn){var Rn=Da(tn[bn]),Dn=Rn.family,Qn=Rn.stretch,pr=Rn.style,Dr=Rn.weight;ln[Dn]=ln[Dn]||{},ln[Dn][Qn]=ln[Dn][Qn]||{},ln[Dn][Qn][pr]=ln[Dn][Qn][pr]||{},ln[Dn][Qn][pr][Dr]=Rn}return ln}(hr.concat(Je))}var tn,ln;return Sn}(this.pdf,this.fontFaces),Dn.map(function(Nt){return{family:Nt,stretch:"normal",weight:tn,style:hr}}));this.pdf.setFont(Qn.ref.name,Qn.ref.style)}else{var pr="";("bold"===tn||parseInt(tn,10)>=700||"bold"===hr)&&(pr="bold"),"italic"===hr&&(pr+="italic"),0===pr.length&&(pr="normal");for(var Dr="",Vr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Vt=0;Vt<Dn.length;Vt++){if(void 0!==this.pdf.internal.getFont(Dn[Vt],pr,{noFallback:!0,disableWarning:!0})){Dr=Dn[Vt];break}if("bolditalic"===pr&&void 0!==this.pdf.internal.getFont(Dn[Vt],"bold",{noFallback:!0,disableWarning:!0}))Dr=Dn[Vt],pr="bold";else if(void 0!==this.pdf.internal.getFont(Dn[Vt],"normal",{noFallback:!0,disableWarning:!0})){Dr=Dn[Vt],pr="normal";break}}if(""===Dr)for(var Un=0;Un<Dn.length;Un++)if(Vr[Dn[Un]]){Dr=Vr[Dn[Un]];break}this.pdf.setFont(Dr=""===Dr?"Times":Dr,pr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Bt){this.ctx.globalCompositeOperation=Bt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Bt){this.ctx.globalAlpha=Bt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Bt){this.ctx.lineDashOffset=Bt,In.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Bt){this.ctx.lineDash=Bt,In.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Bt){this.ctx.ignoreClearRect=Boolean(Bt)}})};we.prototype.setLineDash=function(Te){this.lineDash=Te},we.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},we.prototype.fill=function(){Et.call(this,"fill",!1)},we.prototype.stroke=function(){Et.call(this,"stroke",!1)},we.prototype.beginPath=function(){this.path=[{type:"begin"}]},we.prototype.moveTo=function(Te,Ue){if(isNaN(Te)||isNaN(Ue))throw zn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Ge=this.ctx.transform.applyToPoint(new Y(Te,Ue));this.path.push({type:"mt",x:Ge.x,y:Ge.y}),this.ctx.lastPoint=new Y(Te,Ue)},we.prototype.closePath=function(){var Te=new Y(0,0),Ue=0;for(Ue=this.path.length-1;-1!==Ue;Ue--)if("begin"===this.path[Ue].type&&"object"===x(this.path[Ue+1])&&"number"==typeof this.path[Ue+1].x){Te=new Y(this.path[Ue+1].x,this.path[Ue+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Y(Te.x,Te.y)},we.prototype.lineTo=function(Te,Ue){if(isNaN(Te)||isNaN(Ue))throw zn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Ge=this.ctx.transform.applyToPoint(new Y(Te,Ue));this.path.push({type:"lt",x:Ge.x,y:Ge.y}),this.ctx.lastPoint=new Y(Ge.x,Ge.y)},we.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Et.call(this,null,!0)},we.prototype.quadraticCurveTo=function(Te,Ue,Ge,lt){if(isNaN(Ge)||isNaN(lt)||isNaN(Te)||isNaN(Ue))throw zn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var pt=this.ctx.transform.applyToPoint(new Y(Ge,lt)),vt=this.ctx.transform.applyToPoint(new Y(Te,Ue));this.path.push({type:"qct",x1:vt.x,y1:vt.y,x:pt.x,y:pt.y}),this.ctx.lastPoint=new Y(pt.x,pt.y)},we.prototype.bezierCurveTo=function(Te,Ue,Ge,lt,pt,vt){if(isNaN(pt)||isNaN(vt)||isNaN(Te)||isNaN(Ue)||isNaN(Ge)||isNaN(lt))throw zn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ot=this.ctx.transform.applyToPoint(new Y(pt,vt)),Rt=this.ctx.transform.applyToPoint(new Y(Te,Ue)),cn=this.ctx.transform.applyToPoint(new Y(Ge,lt));this.path.push({type:"bct",x1:Rt.x,y1:Rt.y,x2:cn.x,y2:cn.y,x:Ot.x,y:Ot.y}),this.ctx.lastPoint=new Y(Ot.x,Ot.y)},we.prototype.arc=function(Te,Ue,Ge,lt,pt,vt){if(isNaN(Te)||isNaN(Ue)||isNaN(Ge)||isNaN(lt)||isNaN(pt))throw zn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(vt=Boolean(vt),!this.ctx.transform.isIdentity){var Ot=this.ctx.transform.applyToPoint(new Y(Te,Ue));Te=Ot.x,Ue=Ot.y;var Rt=this.ctx.transform.applyToPoint(new Y(0,Ge)),cn=this.ctx.transform.applyToPoint(new Y(0,0));Ge=Math.sqrt(Math.pow(Rt.x-cn.x,2)+Math.pow(Rt.y-cn.y,2))}Math.abs(pt-lt)>=2*Math.PI&&(lt=0,pt=2*Math.PI),this.path.push({type:"arc",x:Te,y:Ue,radius:Ge,startAngle:lt,endAngle:pt,counterclockwise:vt})},we.prototype.arcTo=function(Te,Ue,Ge,lt,pt){throw new Error("arcTo not implemented.")},we.prototype.rect=function(Te,Ue,Ge,lt){if(isNaN(Te)||isNaN(Ue)||isNaN(Ge)||isNaN(lt))throw zn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Te,Ue),this.lineTo(Te+Ge,Ue),this.lineTo(Te+Ge,Ue+lt),this.lineTo(Te,Ue+lt),this.lineTo(Te,Ue),this.lineTo(Te+Ge,Ue),this.lineTo(Te,Ue)},we.prototype.fillRect=function(Te,Ue,Ge,lt){if(isNaN(Te)||isNaN(Ue)||isNaN(Ge)||isNaN(lt))throw zn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!ue.call(this)){var pt={};"butt"!==this.lineCap&&(pt.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(pt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Te,Ue,Ge,lt),this.fill(),pt.hasOwnProperty("lineCap")&&(this.lineCap=pt.lineCap),pt.hasOwnProperty("lineJoin")&&(this.lineJoin=pt.lineJoin)}},we.prototype.strokeRect=function(Te,Ue,Ge,lt){if(isNaN(Te)||isNaN(Ue)||isNaN(Ge)||isNaN(lt))throw zn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_e.call(this)||(this.beginPath(),this.rect(Te,Ue,Ge,lt),this.stroke())},we.prototype.clearRect=function(Te,Ue,Ge,lt){if(isNaN(Te)||isNaN(Ue)||isNaN(Ge)||isNaN(lt))throw zn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Te,Ue,Ge,lt))},we.prototype.save=function(Te){Te="boolean"!=typeof Te||Te;for(var Ue=this.pdf.internal.getCurrentPageInfo().pageNumber,Ge=0;Ge<this.pdf.internal.getNumberOfPages();Ge++)this.pdf.setPage(Ge+1),this.pdf.internal.out("q");if(this.pdf.setPage(Ue),Te){this.ctx.fontSize=this.pdf.internal.getFontSize();var lt=new Ce(this.ctx);this.ctxStack.push(this.ctx),this.ctx=lt}},we.prototype.restore=function(Te){Te="boolean"!=typeof Te||Te;for(var Ue=this.pdf.internal.getCurrentPageInfo().pageNumber,Ge=0;Ge<this.pdf.internal.getNumberOfPages();Ge++)this.pdf.setPage(Ge+1),this.pdf.internal.out("Q");this.pdf.setPage(Ue),Te&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},we.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Oe=function(Te){var Ue,Ge,lt,pt;if(!0===Te.isCanvasGradient&&(Te=Te.getColor()),!Te)return{r:0,g:0,b:0,a:0,style:Te};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Te))Ue=0,Ge=0,lt=0,pt=0;else{var vt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Te);if(null!==vt)Ue=parseInt(vt[1]),Ge=parseInt(vt[2]),lt=parseInt(vt[3]),pt=1;else if(null!==(vt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Te)))Ue=parseInt(vt[1]),Ge=parseInt(vt[2]),lt=parseInt(vt[3]),pt=parseFloat(vt[4]);else{if(pt=1,"string"==typeof Te&&"#"!==Te.charAt(0)){var Ot=new Gi(Te);Te=Ot.ok?Ot.toHex():"#000000"}4===Te.length?(Ue=Te.substring(1,2),Ue+=Ue,Ge=Te.substring(2,3),Ge+=Ge,lt=Te.substring(3,4),lt+=lt):(Ue=Te.substring(1,3),Ge=Te.substring(3,5),lt=Te.substring(5,7)),Ue=parseInt(Ue,16),Ge=parseInt(Ge,16),lt=parseInt(lt,16)}}return{r:Ue,g:Ge,b:lt,a:pt,style:Te}},ue=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},_e=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};we.prototype.fillText=function(Te,Ue,Ge,lt){if(isNaN(Ue)||isNaN(Ge)||"string"!=typeof Te)throw zn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(lt=isNaN(lt)?void 0:lt,!ue.call(this)){var pt=Dt(this.ctx.transform.rotation),vt=this.ctx.transform.scaleX;Fe.call(this,{text:Te,x:Ue,y:Ge,scale:vt,angle:pt,align:this.textAlign,maxWidth:lt})}},we.prototype.strokeText=function(Te,Ue,Ge,lt){if(isNaN(Ue)||isNaN(Ge)||"string"!=typeof Te)throw zn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_e.call(this)){lt=isNaN(lt)?void 0:lt;var pt=Dt(this.ctx.transform.rotation),vt=this.ctx.transform.scaleX;Fe.call(this,{text:Te,x:Ue,y:Ge,scale:vt,renderingMode:"stroke",angle:pt,align:this.textAlign,maxWidth:lt})}},we.prototype.measureText=function(Te){if("string"!=typeof Te)throw zn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Ue=this.pdf,Ge=this.pdf.internal.scaleFactor,lt=Ue.internal.getFontSize(),pt=Ue.getStringUnitWidth(Te)*lt/Ue.internal.scaleFactor,vt=function(Ot){var Rt=(Ot=Ot||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Rt}}),this};return new vt({width:pt*=Math.round(96*Ge/72*1e4)/1e4})},we.prototype.scale=function(Te,Ue){if(isNaN(Te)||isNaN(Ue))throw zn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Ge=new te(Te,0,0,Ue,0,0);this.ctx.transform=this.ctx.transform.multiply(Ge)},we.prototype.rotate=function(Te){if(isNaN(Te))throw zn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Ue=new te(Math.cos(Te),Math.sin(Te),-Math.sin(Te),Math.cos(Te),0,0);this.ctx.transform=this.ctx.transform.multiply(Ue)},we.prototype.translate=function(Te,Ue){if(isNaN(Te)||isNaN(Ue))throw zn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Ge=new te(1,0,0,1,Te,Ue);this.ctx.transform=this.ctx.transform.multiply(Ge)},we.prototype.transform=function(Te,Ue,Ge,lt,pt,vt){if(isNaN(Te)||isNaN(Ue)||isNaN(Ge)||isNaN(lt)||isNaN(pt)||isNaN(vt))throw zn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ot=new te(Te,Ue,Ge,lt,pt,vt);this.ctx.transform=this.ctx.transform.multiply(Ot)},we.prototype.setTransform=function(Te,Ue,Ge,lt,pt,vt){Te=isNaN(Te)?1:Te,Ue=isNaN(Ue)?0:Ue,Ge=isNaN(Ge)?0:Ge,lt=isNaN(lt)?1:lt,pt=isNaN(pt)?0:pt,vt=isNaN(vt)?0:vt,this.ctx.transform=new te(Te,Ue,Ge,lt,pt,vt)};var Re=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};we.prototype.drawImage=function(Te,Ue,Ge,lt,pt,vt,Ot,Rt,cn){var nn=this.pdf.getImageProperties(Te),Sn=1,An=1,ir=1,Bt=1;void 0!==lt&&void 0!==Rt&&(ir=Rt/lt,Bt=cn/pt,Sn=nn.width/lt*Rt/lt,An=nn.height/pt*cn/pt),void 0===vt&&(vt=Ue,Ot=Ge,Ue=0,Ge=0),void 0!==lt&&void 0===Rt&&(Rt=lt,cn=pt),void 0===lt&&void 0===Rt&&(Rt=nn.width,cn=nn.height);for(var Je,hr=this.ctx.transform.decompose(),tn=Dt(hr.rotate.shx),ln=new te,bn=(ln=(ln=(ln=ln.multiply(hr.translate)).multiply(hr.skew)).multiply(hr.scale)).applyToRectangle(new ee(vt-Ue*ir,Ot-Ge*Bt,lt*Sn,pt*An)),Rn=qe.call(this,bn),Dn=[],Qn=0;Qn<Rn.length;Qn+=1)-1===Dn.indexOf(Rn[Qn])&&Dn.push(Rn[Qn]);if(at(Dn),this.autoPaging)for(var pr=Dn[0],Dr=Dn[Dn.length-1],Vr=pr;Vr<Dr+1;Vr++){this.pdf.setPage(Vr);var Vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Un=1===Vr?this.posY+this.margin[0]:this.margin[0],kn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],On=1===Vr?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Vr-2)*kn;if(0!==this.ctx.clip_path.length){var uo=this.path;Je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ze(Je,this.posX+this.margin[3],-On+Un+this.ctx.prevPageLastElemOffset),Ft.call(this,"fill",!0),this.path=uo}var Ir=JSON.parse(JSON.stringify(bn));Ir=ze([Ir],this.posX+this.margin[3],-On+Un+this.ctx.prevPageLastElemOffset)[0];var ks=(Vr>pr||Vr<Dr)&&Re.call(this);ks&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,kn,null).clip().discardPath()),this.pdf.addImage(Te,"JPEG",Ir.x,Ir.y,Ir.w,Ir.h,null,null,tn),ks&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Te,"JPEG",bn.x,bn.y,bn.w,bn.h,null,null,tn)};var qe=function(Te,Ue,Ge){var lt=[];Ue=Ue||this.pdf.internal.pageSize.width,Ge=Ge||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var pt=this.posY+this.ctx.prevPageLastElemOffset;switch(Te.type){default:case"mt":case"lt":lt.push(Math.floor((Te.y+pt)/Ge)+1);break;case"arc":lt.push(Math.floor((Te.y+pt-Te.radius)/Ge)+1),lt.push(Math.floor((Te.y+pt+Te.radius)/Ge)+1);break;case"qct":var vt=qt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Te.x1,Te.y1,Te.x,Te.y);lt.push(Math.floor((vt.y+pt)/Ge)+1),lt.push(Math.floor((vt.y+vt.h+pt)/Ge)+1);break;case"bct":var Ot=St(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Te.x1,Te.y1,Te.x2,Te.y2,Te.x,Te.y);lt.push(Math.floor((Ot.y+pt)/Ge)+1),lt.push(Math.floor((Ot.y+Ot.h+pt)/Ge)+1);break;case"rect":lt.push(Math.floor((Te.y+pt)/Ge)+1),lt.push(Math.floor((Te.y+Te.h+pt)/Ge)+1)}for(var Rt=0;Rt<lt.length;Rt+=1)for(;this.pdf.internal.getNumberOfPages()<lt[Rt];)Ie.call(this);return lt},Ie=function(){var Te=this.fillStyle,Ue=this.strokeStyle,Ge=this.font,lt=this.lineCap,pt=this.lineWidth,vt=this.lineJoin;this.pdf.addPage(),this.fillStyle=Te,this.strokeStyle=Ue,this.font=Ge,this.lineCap=lt,this.lineWidth=pt,this.lineJoin=vt},ze=function(Te,Ue,Ge){for(var lt=0;lt<Te.length;lt++)switch(Te[lt].type){case"bct":Te[lt].x2+=Ue,Te[lt].y2+=Ge;case"qct":Te[lt].x1+=Ue,Te[lt].y1+=Ge;default:Te[lt].x+=Ue,Te[lt].y+=Ge}return Te},at=function(Te){return Te.sort(function(Ue,Ge){return Ue-Ge})},Et=function(Te,Ue){for(var Ge,lt,pt=this.fillStyle,vt=this.strokeStyle,Ot=this.lineCap,Rt=this.lineWidth,cn=Math.abs(Rt*this.ctx.transform.scaleX),nn=this.lineJoin,Sn=JSON.parse(JSON.stringify(this.path)),An=JSON.parse(JSON.stringify(this.path)),ir=[],Bt=0;Bt<An.length;Bt++)if(void 0!==An[Bt].x)for(var Je=qe.call(this,An[Bt]),hr=0;hr<Je.length;hr+=1)-1===ir.indexOf(Je[hr])&&ir.push(Je[hr]);for(var tn=0;tn<ir.length;tn++)for(;this.pdf.internal.getNumberOfPages()<ir[tn];)Ie.call(this);if(at(ir),this.autoPaging)for(var ln=ir[0],bn=ir[ir.length-1],Rn=ln;Rn<bn+1;Rn++){this.pdf.setPage(Rn),this.fillStyle=pt,this.strokeStyle=vt,this.lineCap=Ot,this.lineWidth=cn,this.lineJoin=nn;var Dn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qn=1===Rn?this.posY+this.margin[0]:this.margin[0],Dr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Vr=1===Rn?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Rn-2)*Dr;if(0!==this.ctx.clip_path.length){var Vt=this.path;Ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ze(Ge,this.posX+this.margin[3],-Vr+Qn+this.ctx.prevPageLastElemOffset),Ft.call(this,Te,!0),this.path=Vt}if(lt=JSON.parse(JSON.stringify(Sn)),this.path=ze(lt,this.posX+this.margin[3],-Vr+Qn+this.ctx.prevPageLastElemOffset),!1===Ue||0===Rn){var Un=(Rn>ln||Rn<bn)&&Re.call(this);Un&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dn,Dr,null).clip().discardPath()),Ft.call(this,Te,Ue),Un&&this.pdf.restoreGraphicsState()}this.lineWidth=Rt}else this.lineWidth=cn,Ft.call(this,Te,Ue),this.lineWidth=Rt;this.path=Sn},Ft=function(Te,Ue){if(("stroke"!==Te||Ue||!_e.call(this))&&("stroke"===Te||Ue||!ue.call(this))){for(var Ge,lt,pt=[],vt=this.path,Ot=0;Ot<vt.length;Ot++){var Rt=vt[Ot];switch(Rt.type){case"begin":pt.push({begin:!0});break;case"close":pt.push({close:!0});break;case"mt":pt.push({start:Rt,deltas:[],abs:[]});break;case"lt":var cn=pt.length;if(vt[Ot-1]&&!isNaN(vt[Ot-1].x)&&(Ge=[Rt.x-vt[Ot-1].x,Rt.y-vt[Ot-1].y],cn>0))for(;cn>=0;cn--)if(!0!==pt[cn-1].close&&!0!==pt[cn-1].begin){pt[cn-1].deltas.push(Ge),pt[cn-1].abs.push(Rt);break}break;case"bct":pt[pt.length-1].deltas.push(Ge=[Rt.x1-vt[Ot-1].x,Rt.y1-vt[Ot-1].y,Rt.x2-vt[Ot-1].x,Rt.y2-vt[Ot-1].y,Rt.x-vt[Ot-1].x,Rt.y-vt[Ot-1].y]);break;case"qct":pt[pt.length-1].deltas.push(Ge=[vt[Ot-1].x+2/3*(Rt.x1-vt[Ot-1].x)-vt[Ot-1].x,vt[Ot-1].y+2/3*(Rt.y1-vt[Ot-1].y)-vt[Ot-1].y,Rt.x+2/3*(Rt.x1-Rt.x)-vt[Ot-1].x,Rt.y+2/3*(Rt.y1-Rt.y)-vt[Ot-1].y,Rt.x-vt[Ot-1].x,Rt.y-vt[Ot-1].y]);break;case"arc":pt.push({deltas:[],abs:[],arc:!0}),Array.isArray(pt[pt.length-1].abs)&&pt[pt.length-1].abs.push(Rt)}}lt=Ue?null:"stroke"===Te?"stroke":"fill";for(var hr=!1,tn=0;tn<pt.length;tn++)if(pt[tn].arc)for(var ln=pt[tn].abs,bn=0;bn<ln.length;bn++){var Rn=ln[bn];"arc"===Rn.type?Ye.call(this,Rn.x,Rn.y,Rn.radius,Rn.startAngle,Rn.endAngle,Rn.counterclockwise,void 0,Ue,!hr):ot.call(this,Rn.x,Rn.y),hr=!0}else!0===pt[tn].close?(this.pdf.internal.out("h"),hr=!1):!0!==pt[tn].begin&&(et.call(this,pt[tn].deltas,pt[tn].start.x,pt[tn].start.y),hr=!0);lt&&Kt.call(this,lt),Ue&&jt.call(this)}},Yt=function(Te){var Ue=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Ge=Ue*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Te-Ge;case"top":return Te+Ue-Ge;case"hanging":return Te+Ue-2*Ge;case"middle":return Te+Ue/2-Ge;default:return Te}},wt=function(Te){return Te+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};we.prototype.createLinearGradient=function(){var Te=function(){};return Te.colorStops=[],Te.addColorStop=function(Ue,Ge){this.colorStops.push([Ue,Ge])},Te.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},Te.isCanvasGradient=!0,Te},we.prototype.createPattern=function(){return this.createLinearGradient()},we.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Ye=function(Te,Ue,Ge,lt,pt,vt,Ot,Rt,cn){for(var nn=Mt.call(this,Ge,lt,pt,vt),Sn=0;Sn<nn.length;Sn++){var An=nn[Sn];0===Sn&&(cn?Be.call(this,An.x1+Te,An.y1+Ue):ot.call(this,An.x1+Te,An.y1+Ue)),Ht.call(this,Te,Ue,An.x2,An.y2,An.x3,An.y3,An.x4,An.y4)}Rt?jt.call(this):Kt.call(this,Ot)},Kt=function(Te){switch(Te){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},jt=function(){this.pdf.clip(),this.pdf.discardPath()},Be=function(Te,Ue){this.pdf.internal.out(V(Te)+" "+_(Ue)+" m")},Fe=function(Te){var Ue;switch(Te.align){case"right":case"end":Ue="right";break;case"center":Ue="center";break;default:Ue="left"}var Ge=this.pdf.getTextDimensions(Te.text),lt=Yt.call(this,Te.y),pt=wt.call(this,lt)-Ge.h,vt=this.ctx.transform.applyToPoint(new Y(Te.x,lt)),Ot=this.ctx.transform.decompose(),Rt=new te;Rt=(Rt=(Rt=Rt.multiply(Ot.translate)).multiply(Ot.skew)).multiply(Ot.scale);for(var cn,nn,Sn,An=this.ctx.transform.applyToRectangle(new ee(Te.x,lt,Ge.w,Ge.h)),ir=Rt.applyToRectangle(new ee(Te.x,pt,Ge.w,Ge.h)),Bt=qe.call(this,ir),Je=[],hr=0;hr<Bt.length;hr+=1)-1===Je.indexOf(Bt[hr])&&Je.push(Bt[hr]);if(at(Je),this.autoPaging)for(var tn=Je[0],ln=Je[Je.length-1],bn=tn;bn<ln+1;bn++){this.pdf.setPage(bn);var Rn=1===bn?this.posY+this.margin[0]:this.margin[0],Qn=this.pdf.internal.pageSize.height-this.margin[2],pr=Qn-this.margin[0],Dr=this.pdf.internal.pageSize.width-this.margin[1],Vr=Dr-this.margin[3],Vt=1===bn?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(bn-2)*pr;if(0!==this.ctx.clip_path.length){var Un=this.path;cn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ze(cn,this.posX+this.margin[3],-1*Vt+Rn),Ft.call(this,"fill",!0),this.path=Un}var Nt=ze([JSON.parse(JSON.stringify(ir))],this.posX+this.margin[3],-Vt+Rn+this.ctx.prevPageLastElemOffset)[0];Te.scale>=.01&&(nn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(nn*Te.scale),this.lineWidth=(Sn=this.lineWidth)*Te.scale);var kn="text"!==this.autoPaging;if(kn||Nt.y+Nt.h<=Qn){if(kn||Nt.y>=Rn&&Nt.x<=Dr){var On=kn?Te.text:this.pdf.splitTextToSize(Te.text,Te.maxWidth||Dr-Nt.x)[0],uo=ze([JSON.parse(JSON.stringify(An))],this.posX+this.margin[3],-Vt+Rn+this.ctx.prevPageLastElemOffset)[0],Ir=kn&&(bn>tn||bn<ln)&&Re.call(this);Ir&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vr,pr,null).clip().discardPath()),this.pdf.text(On,uo.x,uo.y,{angle:Te.angle,align:Ue,renderingMode:Te.renderingMode}),Ir&&this.pdf.restoreGraphicsState()}}else Nt.y<Qn&&(this.ctx.prevPageLastElemOffset+=Qn-Nt.y);Te.scale>=.01&&(this.pdf.setFontSize(nn),this.lineWidth=Sn)}else Te.scale>=.01&&(nn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(nn*Te.scale),this.lineWidth=(Sn=this.lineWidth)*Te.scale),this.pdf.text(Te.text,vt.x+this.posX,vt.y+this.posY,{angle:Te.angle,align:Ue,renderingMode:Te.renderingMode,maxWidth:Te.maxWidth}),Te.scale>=.01&&(this.pdf.setFontSize(nn),this.lineWidth=Sn)},ot=function(Te,Ue,Ge,lt){lt=lt||0,this.pdf.internal.out(V(Te+(Ge=Ge||0))+" "+_(Ue+lt)+" l")},et=function(Te,Ue,Ge){return this.pdf.lines(Te,Ue,Ge,null,null)},Ht=function(Te,Ue,Ge,lt,pt,vt,Ot,Rt){this.pdf.internal.out([I(q(Ge+Te)),I(Q(lt+Ue)),I(q(pt+Te)),I(Q(vt+Ue)),I(q(Ot+Te)),I(Q(Rt+Ue)),"c"].join(" "))},Mt=function(Te,Ue,Ge,lt){for(var pt=2*Math.PI,vt=Math.PI/2;Ue>Ge;)Ue-=pt;var Ot=Math.abs(Ge-Ue);Ot<pt&&lt&&(Ot=pt-Ot);for(var Rt=[],cn=lt?-1:1,nn=Ue;Ot>1e-5;){var Sn=nn+cn*Math.min(Ot,vt);Rt.push(zt.call(this,Te,nn,Sn)),Ot-=Math.abs(Sn-nn),nn=Sn}return Rt},zt=function(Te,Ue,Ge){var lt=(Ge-Ue)/2,pt=Te*Math.cos(lt),vt=Te*Math.sin(lt),Ot=pt,Rt=-vt,cn=Ot*Ot+Rt*Rt,nn=cn+Ot*pt+Rt*vt,Sn=4/3*(Math.sqrt(2*cn*nn)-nn)/(Ot*vt-Rt*pt),An=Ot-Sn*Rt,ir=Rt+Sn*Ot,Bt=An,Je=-ir,hr=lt+Ue,tn=Math.cos(hr),ln=Math.sin(hr);return{x1:Te*Math.cos(Ue),y1:Te*Math.sin(Ue),x2:An*tn-ir*ln,y2:An*ln+ir*tn,x3:Bt*tn-Je*ln,y3:Bt*ln+Je*tn,x4:Te*Math.cos(Ge),y4:Te*Math.sin(Ge)}},Dt=function(Te){return 180*Te/Math.PI},qt=function(Te,Ue,Ge,lt,pt,vt){var Ot=Te+.5*(Ge-Te),Rt=Ue+.5*(lt-Ue),cn=pt+.5*(Ge-pt),nn=vt+.5*(lt-vt),Sn=Math.min(Te,pt,Ot,cn),An=Math.max(Te,pt,Ot,cn),ir=Math.min(Ue,vt,Rt,nn),Bt=Math.max(Ue,vt,Rt,nn);return new ee(Sn,ir,An-Sn,Bt-ir)},St=function(Te,Ue,Ge,lt,pt,vt,Ot,Rt){var cn,nn,Sn,An,ir,Bt,Je,hr,tn,ln,bn,Rn,Dn,Qn,pr=Ge-Te,Dr=lt-Ue,Vr=pt-Ge,Vt=vt-lt,Un=Ot-pt,Nt=Rt-vt;for(nn=0;nn<41;nn++)tn=(Je=(Sn=Te+(cn=nn/40)*pr)+cn*((ir=Ge+cn*Vr)-Sn))+cn*(ir+cn*(pt+cn*Un-ir)-Je),ln=(hr=(An=Ue+cn*Dr)+cn*((Bt=lt+cn*Vt)-An))+cn*(Bt+cn*(vt+cn*Nt-Bt)-hr),0==nn?(bn=tn,Rn=ln,Dn=tn,Qn=ln):(bn=Math.min(bn,tn),Rn=Math.min(Rn,ln),Dn=Math.max(Dn,tn),Qn=Math.max(Qn,ln));return new ee(Math.round(bn),Math.round(Rn),Math.round(Dn-bn),Math.round(Qn-Rn))},In=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Ge=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==Ge&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Ge)}}})(Xn.API),function(O){var I=function(Q){var Y,ee,te,pe,Ce,we,Oe,ue,_e,Re;for(/[^\x00-\xFF]/.test(Q),ee=[],te=0,pe=(Q+=Y="\0\0\0\0".slice(Q.length%4||4)).length;pe>te;te+=4)0!==(Ce=(Q.charCodeAt(te)<<24)+(Q.charCodeAt(te+1)<<16)+(Q.charCodeAt(te+2)<<8)+Q.charCodeAt(te+3))?(we=(Ce=((Ce=((Ce=((Ce=(Ce-(Re=Ce%85))/85)-(_e=Ce%85))/85)-(ue=Ce%85))/85)-(Oe=Ce%85))/85)%85,ee.push(we+33,Oe+33,ue+33,_e+33,Re+33)):ee.push(122);return function(qe,Ie){for(var ze=Ie;ze>0;ze--)qe.pop()}(ee,Y.length),String.fromCharCode.apply(String,ee)+"~>"},V=function(Q){var Y,ee,te,pe,Ce,we=String,Oe="length",_e="charCodeAt",Re="slice",qe="replace";for(Q[Re](-2),Q=Q[Re](0,-2)[qe](/\s/g,"")[qe]("z","!!!!!"),te=[],pe=0,Ce=(Q+=Y="uuuuu"[Re](Q[Oe]%5||5))[Oe];Ce>pe;pe+=5)ee=52200625*(Q[_e](pe)-33)+614125*(Q[_e](pe+1)-33)+7225*(Q[_e](pe+2)-33)+85*(Q[_e](pe+3)-33)+(Q[_e](pe+4)-33),te.push(255&ee>>24,255&ee>>16,255&ee>>8,255&ee);return function(Ie,ze){for(var at=ze;at>0;at--)Ie.pop()}(te,Y[Oe]),we.fromCharCode.apply(we,te)},_=function(Q){var Y=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(Q=Q.replace(/\s/g,"")).indexOf(">")&&(Q=Q.substr(0,Q.indexOf(">"))),Q.length%2&&(Q+="0"),!1===Y.test(Q))return"";for(var ee="",te=0;te<Q.length;te+=2)ee+=String.fromCharCode("0x"+(Q[te]+Q[te+1]));return ee},q=function(Q){for(var Y=new Uint8Array(Q.length),ee=Q.length;ee--;)Y[ee]=Q.charCodeAt(ee);return(Y=Ps(Y)).reduce(function(te,pe){return te+String.fromCharCode(pe)},"")};O.processDataByFilters=function(Q,Y){var ee=0,te=Q||"",pe=[];for("string"==typeof(Y=Y||[])&&(Y=[Y]),ee=0;ee<Y.length;ee+=1)switch(Y[ee]){case"ASCII85Decode":case"/ASCII85Decode":te=V(te),pe.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":te=I(te),pe.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":te=_(te),pe.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":te=te.split("").map(function(Ce){return("0"+Ce.charCodeAt().toString(16)).slice(-2)}).join("")+">",pe.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":te=q(te),pe.push("/FlateDecode");break;default:throw new Error('The filter: "'+Y[ee]+'" is not implemented')}return{data:te,reverseChain:pe.reverse().join(" ")}}}(Xn.API),function(O){O.loadFile=function(I,V,_){return function(q,Q,Y){Q=!1!==Q,Y="function"==typeof Y?Y:function(){};var ee=void 0;try{ee=function(te,pe,Ce){var we=new XMLHttpRequest,Oe=0,ue=function(_e){var Re=_e.length,qe=[],Ie=String.fromCharCode;for(Oe=0;Oe<Re;Oe+=1)qe.push(Ie(255&_e.charCodeAt(Oe)));return qe.join("")};if(we.open("GET",te,!pe),we.overrideMimeType("text/plain; charset=x-user-defined"),!1===pe&&(we.onload=function(){Ce(200===we.status?ue(this.responseText):void 0)}),we.send(null),pe&&200===we.status)return ue(we.responseText)}(q,Q,Y)}catch(te){}return ee}(I,V,_)},O.loadImageFile=O.loadFile}(Xn.API),function(O){function I(){return(_n.html2canvas?Promise.resolve(_n.html2canvas):j.e(159).then(j.t.bind(j,4159,23))).catch(function(Y){return Promise.reject(new Error("Could not load html2canvas: "+Y))}).then(function(Y){return Y.default?Y.default:Y})}function V(){return(_n.DOMPurify?Promise.resolve(_n.DOMPurify):j.e(735).then(j.t.bind(j,2735,23))).catch(function(Y){return Promise.reject(new Error("Could not load dompurify: "+Y))}).then(function(Y){return Y.default?Y.default:Y})}var _=function(Y){var ee=x(Y);return"undefined"===ee?"undefined":"string"===ee||Y instanceof String?"string":"number"===ee||Y instanceof Number?"number":"function"===ee||Y instanceof Function?"function":Y&&Y.constructor===Array?"array":Y&&1===Y.nodeType?"element":"object"===ee?"object":"unknown"},q=function(Y,ee){var te=document.createElement(Y);for(var pe in ee.className&&(te.className=ee.className),ee.innerHTML&&ee.dompurify&&(te.innerHTML=ee.dompurify.sanitize(ee.innerHTML)),ee.style)te.style[pe]=ee.style[pe];return te},Q=function Y(ee){var te=Object.assign(Y.convert(Promise.resolve()),JSON.parse(JSON.stringify(Y.template))),pe=Y.convert(Promise.resolve(),te);return(pe=pe.setProgress(1,Y,1,[Y])).set(ee)};(Q.prototype=Object.create(Promise.prototype)).constructor=Q,Q.convert=function(Y,ee){return Y.__proto__=ee||Q.prototype,Y},Q.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Q.prototype.from=function(Y,ee){return this.then(function(){switch(ee=ee||function(te){switch(_(te)){case"string":return"string";case"element":return"canvas"===te.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(Y)){case"string":return this.then(V).then(function(te){return this.set({src:q("div",{innerHTML:Y,dompurify:te})})});case"element":return this.set({src:Y});case"canvas":return this.set({canvas:Y});case"img":return this.set({img:Y});default:return this.error("Unknown source type.")}})},Q.prototype.to=function(Y){switch(Y){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Q.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var Y={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},ee=function te(pe,Ce){for(var we=3===pe.nodeType?document.createTextNode(pe.nodeValue):pe.cloneNode(!1),Oe=pe.firstChild;Oe;Oe=Oe.nextSibling)!0!==Ce&&1===Oe.nodeType&&"SCRIPT"===Oe.nodeName||we.appendChild(te(Oe,Ce));return 1===pe.nodeType&&("CANVAS"===pe.nodeName?(we.width=pe.width,we.height=pe.height,we.getContext("2d").drawImage(pe,0,0)):"TEXTAREA"!==pe.nodeName&&"SELECT"!==pe.nodeName||(we.value=pe.value),we.addEventListener("load",function(){we.scrollTop=pe.scrollTop,we.scrollLeft=pe.scrollLeft},!0)),we}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===ee.tagName&&(Y.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=q("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=q("div",{className:"html2pdf__container",style:Y}),this.prop.container.appendChild(ee),this.prop.container.firstChild.appendChild(q("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Q.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(I).then(function(ee){var te=Object.assign({},this.opt.html2canvas);return delete te.onrendered,ee(this.prop.container,te)}).then(function(ee){(this.opt.html2canvas.onrendered||function(){})(ee),this.prop.canvas=ee,document.body.removeChild(this.prop.overlay)})},Q.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(I).then(function(ee){var te=this.opt.jsPDF,pe=this.opt.fontFaces,Ce="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,we=Object.assign({async:!0,allowTaint:!0,scale:Ce,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete we.onrendered,te.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,te.context2d.posX=this.opt.x,te.context2d.posY=this.opt.y,te.context2d.margin=this.opt.margin,te.context2d.fontFaces=pe,pe)for(var Oe=0;Oe<pe.length;++Oe){var ue=pe[Oe],_e=ue.src.find(function(Re){return"truetype"===Re.format});_e&&te.addFont(_e.url,ue.ref.name,ue.ref.style)}return we.windowHeight=we.windowHeight||0,we.windowHeight=0==we.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):we.windowHeight,te.context2d.save(!0),ee(this.prop.container,we)}).then(function(ee){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(ee),this.prop.canvas=ee,document.body.removeChild(this.prop.overlay)})},Q.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var Y=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=Y})},Q.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Q.prototype.output=function(Y,ee,te){return"img"===(te=te||"pdf").toLowerCase()||"image"===te.toLowerCase()?this.outputImg(Y,ee):this.outputPdf(Y,ee)},Q.prototype.outputPdf=function(Y,ee){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(Y,ee)})},Q.prototype.outputImg=function(Y){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(Y){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Y+'" is not supported.'}})},Q.prototype.save=function(Y){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(Y?{filename:Y}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Q.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Q.prototype.set=function(Y){if("object"!==_(Y))return this;var ee=Object.keys(Y||{}).map(function(te){if(te in Q.template.prop)return function(){this.prop[te]=Y[te]};switch(te){case"margin":return this.setMargin.bind(this,Y.margin);case"jsPDF":return function(){return this.opt.jsPDF=Y.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Y.pageSize);default:return function(){this.opt[te]=Y[te]}}},this);return this.then(function(){return this.thenList(ee)})},Q.prototype.get=function(Y,ee){return this.then(function(){var te=Y in Q.template.prop?this.prop[Y]:this.opt[Y];return ee?ee(te):te})},Q.prototype.setMargin=function(Y){return this.then(function(){switch(_(Y)){case"number":Y=[Y,Y,Y,Y];case"array":if(2===Y.length&&(Y=[Y[0],Y[1],Y[0],Y[1]]),4===Y.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=Y}).then(this.setPageSize)},Q.prototype.setPageSize=function(Y){function ee(te,pe){return Math.floor(te*pe/72*96)}return this.then(function(){(Y=Y||Xn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(Y.inner={width:Y.width-this.opt.margin[1]-this.opt.margin[3],height:Y.height-this.opt.margin[0]-this.opt.margin[2]},Y.inner.px={width:ee(Y.inner.width,Y.k),height:ee(Y.inner.height,Y.k)},Y.inner.ratio=Y.inner.height/Y.inner.width),this.prop.pageSize=Y})},Q.prototype.setProgress=function(Y,ee,te,pe){return null!=Y&&(this.progress.val=Y),null!=ee&&(this.progress.state=ee),null!=te&&(this.progress.n=te),null!=pe&&(this.progress.stack=pe),this.progress.ratio=this.progress.val/this.progress.state,this},Q.prototype.updateProgress=function(Y,ee,te,pe){return this.setProgress(Y?this.progress.val+Y:null,ee||null,te?this.progress.n+te:null,pe?this.progress.stack.concat(pe):null)},Q.prototype.then=function(Y,ee){var te=this;return this.thenCore(Y,ee,function(pe,Ce){return te.updateProgress(null,null,1,[pe]),Promise.prototype.then.call(this,function(we){return te.updateProgress(null,pe),we}).then(pe,Ce).then(function(we){return te.updateProgress(1),we})})},Q.prototype.thenCore=function(Y,ee,te){te=te||Promise.prototype.then,Y&&(Y=Y.bind(this)),ee&&(ee=ee.bind(this));var pe=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:Q.convert(Object.assign({},this),Promise.prototype),Ce=te.call(pe,Y,ee);return Q.convert(Ce,this.__proto__)},Q.prototype.thenExternal=function(Y,ee){return Promise.prototype.then.call(this,Y,ee)},Q.prototype.thenList=function(Y){var ee=this;return Y.forEach(function(te){ee=ee.thenCore(te)}),ee},Q.prototype.catch=function(Y){Y&&(Y=Y.bind(this));var ee=Promise.prototype.catch.call(this,Y);return Q.convert(ee,this)},Q.prototype.catchExternal=function(Y){return Promise.prototype.catch.call(this,Y)},Q.prototype.error=function(Y){return this.then(function(){throw new Error(Y)})},Q.prototype.using=Q.prototype.set,Q.prototype.saveAs=Q.prototype.save,Q.prototype.export=Q.prototype.output,Q.prototype.run=Q.prototype.then,Xn.getPageSize=function(Y,ee,te){if("object"===x(Y)){var pe=Y;Y=pe.orientation,ee=pe.unit||ee,te=pe.format||te}ee=ee||"mm",te=te||"a4",Y=(""+(Y||"P")).toLowerCase();var Ce,we=(""+te).toLowerCase(),Oe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(ee){case"pt":Ce=1;break;case"mm":Ce=72/25.4;break;case"cm":Ce=72/2.54;break;case"in":Ce=72;break;case"px":Ce=.75;break;case"pc":case"em":Ce=12;break;case"ex":Ce=6;break;default:throw"Invalid unit: "+ee}var ue,_e=0,Re=0;if(Oe.hasOwnProperty(we))_e=Oe[we][1]/Ce,Re=Oe[we][0]/Ce;else try{_e=te[1],Re=te[0]}catch(qe){throw new Error("Invalid format: "+te)}if("p"===Y||"portrait"===Y)Y="p",Re>_e&&(ue=Re,Re=_e,_e=ue);else{if("l"!==Y&&"landscape"!==Y)throw"Invalid orientation: "+Y;Y="l",_e>Re&&(ue=Re,Re=_e,_e=ue)}return{width:Re,height:_e,unit:ee,k:Ce,orientation:Y}},O.html=function(Y,ee){(ee=ee||{}).callback=ee.callback||function(){},ee.html2canvas=ee.html2canvas||{},ee.html2canvas.canvas=ee.html2canvas.canvas||this.canvas,ee.jsPDF=ee.jsPDF||this,ee.fontFaces=ee.fontFaces?ee.fontFaces.map(Da):null;var te=new Q(ee);return ee.worker?te:te.from(Y).doCallback()}}(Xn.API),Xn.API.addJS=function(O){return yr=O,this.internal.events.subscribe("postPutResources",function(){xo=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(xo+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Pn=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+yr+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==xo&&void 0!==Pn&&this.internal.out("/Names <</JavaScript "+xo+" 0 R>>")}),this},function(O){var I;O.events.push(["postPutResources",function(){var V=this,_=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var q=V.outline.render().split(/\r\n/),Q=0;Q<q.length;Q++){var Y=q[Q],ee=_.exec(Y);null!=ee&&V.internal.newObjectDeferredBegin(ee[1],!1),V.internal.write(Y)}if(this.outline.createNamedDestinations){var pe=this.internal.pages.length,Ce=[];for(Q=0;Q<pe;Q++){var we=V.internal.newObject();Ce.push(we);var Oe=V.internal.getPageInfo(Q+1);V.internal.write("<< /D["+Oe.objId+" 0 R /XYZ null null null]>> endobj")}var ue=V.internal.newObject();for(V.internal.write("<< /Names [ "),Q=0;Q<Ce.length;Q++)V.internal.write("(page_"+(Q+1)+")"+Ce[Q]+" 0 R");V.internal.write(" ] >>","endobj"),I=V.internal.newObject(),V.internal.write("<< /Dests "+ue+" 0 R"),V.internal.write(">>","endobj")}}]),O.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+I+" 0 R"))}]),O.events.push(["initialized",function(){var V=this;V.outline={createNamedDestinations:!1,root:{children:[]}},V.outline.add=function(_,q,Q){var Y={title:q,options:Q,children:[]};return null==_&&(_=this.root),_.children.push(Y),Y},V.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=V,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},V.outline.genIds_r=function(_){_.id=V.internal.newObjectDeferred();for(var q=0;q<_.children.length;q++)this.genIds_r(_.children[q])},V.outline.renderRoot=function(_){this.objStart(_),this.line("/Type /Outlines"),_.children.length>0&&(this.line("/First "+this.makeRef(_.children[0])),this.line("/Last "+this.makeRef(_.children[_.children.length-1]))),this.line("/Count "+this.count_r({count:0},_)),this.objEnd()},V.outline.renderItems=function(_){for(var q=this.ctx.pdf.internal.getVerticalCoordinateString,Q=0;Q<_.children.length;Q++){var Y=_.children[Q];this.objStart(Y),this.line("/Title "+this.makeString(Y.title)),this.line("/Parent "+this.makeRef(_)),Q>0&&this.line("/Prev "+this.makeRef(_.children[Q-1])),Q<_.children.length-1&&this.line("/Next "+this.makeRef(_.children[Q+1])),Y.children.length>0&&(this.line("/First "+this.makeRef(Y.children[0])),this.line("/Last "+this.makeRef(Y.children[Y.children.length-1])));var ee=this.count=this.count_r({count:0},Y);if(ee>0&&this.line("/Count "+ee),Y.options&&Y.options.pageNumber){var te=V.internal.getPageInfo(Y.options.pageNumber);this.line("/Dest ["+te.objId+" 0 R /XYZ 0 "+q(0)+" 0]")}this.objEnd()}for(var pe=0;pe<_.children.length;pe++)this.renderItems(_.children[pe])},V.outline.line=function(_){this.ctx.val+=_+"\r\n"},V.outline.makeRef=function(_){return _.id+" 0 R"},V.outline.makeString=function(_){return"("+V.internal.pdfEscape(_)+")"},V.outline.objStart=function(_){this.ctx.val+="\r\n"+_.id+" 0 obj\r\n<<\r\n"},V.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},V.outline.count_r=function(_,q){for(var Q=0;Q<q.children.length;Q++)_.count++,this.count_r(_,q.children[Q]);return _.count}}])}(Xn.API),function(O){var I=[192,193,194,195,196,197,198,199];O.processJPEG=function(V,_,q,Q,Y,ee){var te,pe=this.decode.DCT_DECODE,Ce=null;if("string"==typeof V||this.__addimage__.isArrayBuffer(V)||this.__addimage__.isArrayBufferView(V)){switch(V=this.__addimage__.isArrayBuffer(V=Y||V)?new Uint8Array(V):V,(te=function(we){for(var Oe,ue=256*we.charCodeAt(4)+we.charCodeAt(5),_e=we.length,Re={width:0,height:0,numcomponents:1},qe=4;qe<_e;qe+=2){if(-1!==I.indexOf(we.charCodeAt((qe+=ue)+1))){Oe=256*we.charCodeAt(qe+5)+we.charCodeAt(qe+6),Re={width:256*we.charCodeAt(qe+7)+we.charCodeAt(qe+8),height:Oe,numcomponents:we.charCodeAt(qe+9)};break}ue=256*we.charCodeAt(qe+2)+we.charCodeAt(qe+3)}return Re}(V=this.__addimage__.isArrayBufferView(V)?this.__addimage__.arrayBufferToBinaryString(V):V)).numcomponents){case 1:ee=this.color_spaces.DEVICE_GRAY;break;case 4:ee=this.color_spaces.DEVICE_CMYK;break;case 3:ee=this.color_spaces.DEVICE_RGB}Ce={data:V,width:te.width,height:te.height,colorSpace:ee,bitsPerComponent:8,filter:pe,index:_,alias:q}}return Ce}}(Xn.API);var Yi,Qs,_i,Oa,Pi,ru=function(){var O,I,V;function _(Q){var Y,te,pe,Ce,we,Oe,ue,_e,Re,qe,Ie,ze,at;for(this.data=Q,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},we=null;;){switch(Y=this.readUInt32(),_e=function(){var Et,Ft;for(Ft=[],Et=0;Et<4;++Et)Ft.push(String.fromCharCode(this.data[this.pos++]));return Ft}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(Y);break;case"fcTL":we&&this.animation.frames.push(we),this.pos+=4,we={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},Ce=this.readUInt16(),pe=this.readUInt16()||100,we.delay=1e3*Ce/pe,we.disposeOp=this.data[this.pos++],we.blendOp=this.data[this.pos++],we.data=[];break;case"IDAT":case"fdAT":for("fdAT"===_e&&(this.pos+=4,Y-=4),Q=(null!=we?we.data:void 0)||this.imgData,Ie=0;0<=Y?Ie<Y:Ie>Y;0<=Y?++Ie:--Ie)Q.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(te=this.palette.length/3,this.transparency.indexed=this.read(Y),this.transparency.indexed.length>te)throw new Error("More transparent colors than palette size");if((Re=te-this.transparency.indexed.length)>0)for(ze=0;0<=Re?ze<Re:ze>Re;0<=Re?++ze:--ze)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(Y)[0];break;case 2:this.transparency.rgb=this.read(Y)}break;case"tEXt":Oe=(qe=this.read(Y)).indexOf(0),ue=String.fromCharCode.apply(String,qe.slice(0,Oe)),this.text[ue]=String.fromCharCode.apply(String,qe.slice(Oe+1));break;case"IEND":return we&&this.animation.frames.push(we),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(at=this.colorType)||6===at,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=Y}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}_.prototype.read=function(Q){var Y,ee;for(ee=[],Y=0;0<=Q?Y<Q:Y>Q;0<=Q?++Y:--Y)ee.push(this.data[this.pos++]);return ee},_.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},_.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},_.prototype.decodePixels=function(Q){var Y=this.pixelBitlength/8,ee=new Uint8Array(this.width*this.height*Y),te=0,pe=this;if(null==Q&&(Q=this.imgData),0===Q.length)return new Uint8Array(0);function Ce(we,Oe,ue,_e){var Re,qe,Ie,ze,at,Et,Ft,Yt,Ye,Kt,jt,Be,Fe,ot,et,Ht,Mt,zt,Dt,qt,St=Math.ceil((pe.width-we)/ue),In=Math.ceil((pe.height-Oe)/_e),Te=pe.width==St&&pe.height==In;for(Fe=Y*St,jt=Te?ee:new Uint8Array(Fe*In),Et=Q.length,Be=0,qe=0;Be<In&&te<Et;){switch(Q[te++]){case 0:for(ze=Ht=0;Ht<Fe;ze=Ht+=1)jt[qe++]=Q[te++];break;case 1:for(ze=Mt=0;Mt<Fe;ze=Mt+=1)Re=Q[te++],at=ze<Y?0:jt[qe-Y],jt[qe++]=(Re+at)%256;break;case 2:for(ze=zt=0;zt<Fe;ze=zt+=1)Re=Q[te++],Ie=(ze-ze%Y)/Y,jt[qe++]=((ot=Be&&jt[(Be-1)*Fe+Ie*Y+ze%Y])+Re)%256;break;case 3:for(ze=Dt=0;Dt<Fe;ze=Dt+=1)Re=Q[te++],Ie=(ze-ze%Y)/Y,at=ze<Y?0:jt[qe-Y],ot=Be&&jt[(Be-1)*Fe+Ie*Y+ze%Y],jt[qe++]=(Re+Math.floor((at+ot)/2))%256;break;case 4:for(ze=qt=0;qt<Fe;ze=qt+=1)Re=Q[te++],Ie=(ze-ze%Y)/Y,0===Be?ot=et=0:(ot=jt[(Be-1)*Fe+Ie*Y+ze%Y],et=Ie&&jt[(Be-1)*Fe+(Ie-1)*Y+ze%Y]),Ft=(at=ze<Y?0:jt[qe-Y])+ot-et,Yt=Math.abs(Ft-at),Ye=Math.abs(Ft-ot),Kt=Math.abs(Ft-et),jt[qe++]=(Re+(Yt<=Ye&&Yt<=Kt?at:Ye<=Kt?ot:et))%256;break;default:throw new Error("Invalid filter algorithm: "+Q[te-1])}if(!Te){var Ue=((Oe+Be*_e)*pe.width+we)*Y,Ge=Be*Fe;for(ze=0;ze<St;ze+=1){for(var lt=0;lt<Y;lt+=1)ee[Ue++]=jt[Ge++];Ue+=(ue-1)*Y}}Be++}}return Q=Hs(Q),1==pe.interlaceMethod?(Ce(0,0,8,8),Ce(4,0,8,8),Ce(0,4,4,8),Ce(2,0,4,4),Ce(0,2,2,4),Ce(1,0,2,2),Ce(0,1,1,2)):Ce(0,0,1,1),ee},_.prototype.decodePalette=function(){var Q,Y,ee,te,pe,Ce,we,Oe,ue;for(ee=this.palette,Ce=this.transparency.indexed||[],pe=new Uint8Array((Ce.length||0)+ee.length),te=0,Q=0,Y=we=0,Oe=ee.length;we<Oe;Y=we+=3)pe[te++]=ee[Y],pe[te++]=ee[Y+1],pe[te++]=ee[Y+2],pe[te++]=null!=(ue=Ce[Q++])?ue:255;return pe},_.prototype.copyToImageData=function(Q,Y){var ee,te,pe,Ce,we,Oe,ue,_e,Re,qe,Ie;if(te=this.colors,Re=null,ee=this.hasAlphaChannel,this.palette.length&&(Re=null!=(Ie=this._decodedPalette)?Ie:this._decodedPalette=this.decodePalette(),te=4,ee=!0),_e=(pe=Q.data||Q).length,we=Re||Y,Ce=Oe=0,1===te)for(;Ce<_e;)ue=Re?4*Y[Ce/4]:Oe,qe=we[ue++],pe[Ce++]=qe,pe[Ce++]=qe,pe[Ce++]=qe,pe[Ce++]=ee?we[ue++]:255,Oe=ue;else for(;Ce<_e;)ue=Re?4*Y[Ce/4]:Oe,pe[Ce++]=we[ue++],pe[Ce++]=we[ue++],pe[Ce++]=we[ue++],pe[Ce++]=ee?we[ue++]:255,Oe=ue},_.prototype.decode=function(){var Q;return Q=new Uint8Array(this.width*this.height*4),this.copyToImageData(Q,this.decodePixels()),Q};var q=function(){if("[object Window]"===Object.prototype.toString.call(_n)){try{I=_n.document.createElement("canvas"),V=I.getContext("2d")}catch(Q){return!1}return!0}return!1};return q(),O=function(Q){var Y;if(!0===q())return V.width=Q.width,V.height=Q.height,V.clearRect(0,0,Q.width,Q.height),V.putImageData(Q,0,0),(Y=new Image).src=I.toDataURL(),Y;throw new Error("This method requires a Browser with Canvas-capability.")},_.prototype.decodeFrames=function(Q){var Y,ee,te,pe,Ce,we,Oe,ue;if(this.animation){for(ue=[],ee=Ce=0,we=(Oe=this.animation.frames).length;Ce<we;ee=++Ce)te=Q.createImageData((Y=Oe[ee]).width,Y.height),pe=this.decodePixels(new Uint8Array(Y.data)),this.copyToImageData(te,pe),Y.imageData=te,ue.push(Y.image=O(te));return ue}},_.prototype.renderFrame=function(Q,Y){var ee,te,pe;return ee=(te=this.animation.frames)[Y],pe=te[Y-1],0===Y&&Q.clearRect(0,0,this.width,this.height),1===(null!=pe?pe.disposeOp:void 0)?Q.clearRect(pe.xOffset,pe.yOffset,pe.width,pe.height):2===(null!=pe?pe.disposeOp:void 0)&&Q.putImageData(pe.imageData,pe.xOffset,pe.yOffset),0===ee.blendOp&&Q.clearRect(ee.xOffset,ee.yOffset,ee.width,ee.height),Q.drawImage(ee.image,ee.xOffset,ee.yOffset)},_.prototype.animate=function(Q){var Y,ee,te,pe,Ce,we,Oe=this;return ee=0,pe=(we=this.animation).numFrames,te=we.frames,Ce=we.numPlays,(Y=function(){var ue,_e;if(ue=ee++%pe,_e=te[ue],Oe.renderFrame(Q,ue),pe>1&&ee/pe<Ce)return Oe.animation._timeout=setTimeout(Y,_e.delay)})()},_.prototype.stopAnimation=function(){var Q;return clearTimeout(null!=(Q=this.animation)?Q._timeout:void 0)},_.prototype.render=function(Q){var Y,ee;return Q._png&&Q._png.stopAnimation(),Q._png=this,Q.width=this.width,Q.height=this.height,Y=Q.getContext("2d"),this.animation?(this.decodeFrames(Y),this.animate(Y)):(ee=Y.createImageData(this.width,this.height),this.copyToImageData(ee,this.decodePixels()),Y.putImageData(ee,0,0))},_}();function Ya(O){var I=0;if(71!==O[I++]||73!==O[I++]||70!==O[I++]||56!==O[I++]||56!=(O[I++]+1&253)||97!==O[I++])throw new Error("Invalid GIF 87a/89a header.");var V=O[I++]|O[I++]<<8,_=O[I++]|O[I++]<<8,q=O[I++],Y=1<<1+(7&q);I++,I++;var ee=null,te=null;q>>7&&(ee=I,te=Y,I+=3*Y);var pe=!0,Ce=[],we=0,Oe=null,ue=0,_e=null;for(this.width=V,this.height=_;pe&&I<O.length;)switch(O[I++]){case 33:switch(O[I++]){case 255:if(11!==O[I]||78==O[I+1]&&69==O[I+2]&&84==O[I+3]&&83==O[I+4]&&67==O[I+5]&&65==O[I+6]&&80==O[I+7]&&69==O[I+8]&&50==O[I+9]&&46==O[I+10]&&48==O[I+11]&&3==O[I+12]&&1==O[I+13]&&0==O[I+16])I+=14,_e=O[I++]|O[I++]<<8,I++;else for(I+=12;;){if(!((Be=O[I++])>=0))throw Error("Invalid block size");if(0===Be)break;I+=Be}break;case 249:if(4!==O[I++]||0!==O[I+4])throw new Error("Invalid graphics extension block.");var Re=O[I++];we=O[I++]|O[I++]<<8,Oe=O[I++],0==(1&Re)&&(Oe=null),ue=Re>>2&7,I++;break;case 254:for(;;){if(!((Be=O[I++])>=0))throw Error("Invalid block size");if(0===Be)break;I+=Be}break;default:throw new Error("Unknown graphic control label: 0x"+O[I-1].toString(16))}break;case 44:var qe=O[I++]|O[I++]<<8,Ie=O[I++]|O[I++]<<8,ze=O[I++]|O[I++]<<8,at=O[I++]|O[I++]<<8,Et=O[I++],Ft=Et>>6&1,Yt=1<<1+(7&Et),wt=ee,Ye=te,Kt=!1;Et>>7&&(Kt=!0,wt=I,Ye=Yt,I+=3*Yt);var jt=I;for(I++;;){var Be;if(!((Be=O[I++])>=0))throw Error("Invalid block size");if(0===Be)break;I+=Be}Ce.push({x:qe,y:Ie,width:ze,height:at,has_local_palette:Kt,palette_offset:wt,palette_size:Ye,data_offset:jt,data_length:I-jt,transparent_index:Oe,interlaced:!!Ft,delay:we,disposal:ue});break;case 59:pe=!1;break;default:throw new Error("Unknown gif block: 0x"+O[I-1].toString(16))}this.numFrames=function(){return Ce.length},this.loopCount=function(){return _e},this.frameInfo=function(Fe){if(Fe<0||Fe>=Ce.length)throw new Error("Frame index out of range.");return Ce[Fe]},this.decodeAndBlitFrameBGRA=function(Fe,ot){var et=this.frameInfo(Fe),Ht=et.width*et.height,Mt=new Uint8Array(Ht);dr(O,et.data_offset,Mt,Ht);var zt=et.palette_offset,Dt=et.transparent_index;null===Dt&&(Dt=256);var qt=et.width,St=V-qt,In=qt,Te=4*(et.y*V+et.x),Ue=4*((et.y+et.height)*V+et.x),Ge=Te,lt=4*St;!0===et.interlaced&&(lt+=4*V*7);for(var pt=8,vt=0,Ot=Mt.length;vt<Ot;++vt){var Rt=Mt[vt];if(0===In&&(In=qt,(Ge+=lt)>=Ue&&(lt=4*St+4*V*(pt-1),Ge=Te+(qt+St)*(pt<<1),pt>>=1)),Rt===Dt)Ge+=4;else{var cn=O[zt+3*Rt],nn=O[zt+3*Rt+1];ot[Ge++]=O[zt+3*Rt+2],ot[Ge++]=nn,ot[Ge++]=cn,ot[Ge++]=255}--In}},this.decodeAndBlitFrameRGBA=function(Fe,ot){var et=this.frameInfo(Fe),Ht=et.width*et.height,Mt=new Uint8Array(Ht);dr(O,et.data_offset,Mt,Ht);var zt=et.palette_offset,Dt=et.transparent_index;null===Dt&&(Dt=256);var qt=et.width,St=V-qt,In=qt,Te=4*(et.y*V+et.x),Ue=4*((et.y+et.height)*V+et.x),Ge=Te,lt=4*St;!0===et.interlaced&&(lt+=4*V*7);for(var pt=8,vt=0,Ot=Mt.length;vt<Ot;++vt){var Rt=Mt[vt];if(0===In&&(In=qt,(Ge+=lt)>=Ue&&(lt=4*St+4*V*(pt-1),Ge=Te+(qt+St)*(pt<<1),pt>>=1)),Rt===Dt)Ge+=4;else{var nn=O[zt+3*Rt+1],Sn=O[zt+3*Rt+2];ot[Ge++]=O[zt+3*Rt],ot[Ge++]=nn,ot[Ge++]=Sn,ot[Ge++]=255}--In}}}function dr(O,I,V,_){for(var q=O[I++],Q=1<<q,Y=Q+1,ee=Y+1,te=q+1,pe=(1<<te)-1,Ce=0,we=0,Oe=0,ue=O[I++],_e=new Int32Array(4096),Re=null;;){for(;Ce<16&&0!==ue;)we|=O[I++]<<Ce,Ce+=8,1===ue?ue=O[I++]:--ue;if(Ce<te)break;var qe=we&pe;if(we>>=te,Ce-=te,qe!==Q){if(qe===Y)break;for(var Ie=qe<ee?qe:Re,ze=0,at=Ie;at>Q;)at=_e[at]>>8,++ze;var Et=at;if(Oe+ze+(Ie!==qe?1:0)>_)return void zn.log("Warning, gif stream longer than expected.");V[Oe++]=Et;var Ft=Oe+=ze;for(Ie!==qe&&(V[Oe++]=Et),at=Ie;ze--;)V[--Ft]=255&(at=_e[at]),at>>=8;null!==Re&&ee<4096&&(_e[ee++]=Re<<8|Et,ee>=pe+1&&te<12&&(++te,pe=pe<<1|1)),Re=qe}else ee=Y+1,pe=(1<<(te=q+1))-1,Re=null}return Oe!==_&&zn.log("Warning, gif stream shorter than expected."),V}function Za(O){var I,V,_,q,Q,Y=Math.floor,ee=new Array(64),te=new Array(64),pe=new Array(64),Ce=new Array(64),we=new Array(65535),Oe=new Array(65535),ue=new Array(64),_e=new Array(64),Re=[],qe=0,Ie=7,ze=new Array(64),at=new Array(64),Et=new Array(64),Ft=new Array(256),Yt=new Array(2048),wt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Ye=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Kt=[0,1,2,3,4,5,6,7,8,9,10,11],jt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Be=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Fe=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ot=[0,1,2,3,4,5,6,7,8,9,10,11],et=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ht=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Mt(Te,Ue){for(var Ge=0,lt=0,pt=new Array,vt=1;vt<=16;vt++){for(var Ot=1;Ot<=Te[vt];Ot++)pt[Ue[lt]]=[],pt[Ue[lt]][0]=Ge,pt[Ue[lt]][1]=vt,lt++,Ge++;Ge*=2}return pt}function zt(Te){for(var Ue=Te[0],Ge=Te[1]-1;Ge>=0;)Ue&1<<Ge&&(qe|=1<<Ie),Ge--,--Ie<0&&(255==qe?(Dt(255),Dt(0)):Dt(qe),Ie=7,qe=0)}function Dt(Te){Re.push(Te)}function qt(Te){Dt(Te>>8&255),Dt(255&Te)}function St(Te,Ue,Ge,lt,pt){for(var vt,Ot=pt[0],Rt=pt[240],cn=function(ln,bn){var Rn,Dn,Qn,pr,Dr,Vr,Vt,Un,Nt,kn,On=0;for(Nt=0;Nt<8;++Nt){var uo=(Rn=ln[On])+(Un=ln[On+7]),Ir=Rn-Un,ks=(Dn=ln[On+1])+(Vt=ln[On+6]),li=Dn-Vt,Qi=(Qn=ln[On+2])+(Vr=ln[On+5]),Xa=Qn-Vr,ui=(pr=ln[On+3])+(Dr=ln[On+4]),el=pr-Dr,Hr=uo+ui,To=uo-ui,tl=ks+Qi,Ei=ks-Qi;ln[On]=Hr+tl,ln[On+4]=Hr-tl;var er=.707106781*(Ei+To);ln[On+2]=To+er,ln[On+6]=To-er;var ii=.382683433*((Hr=el+Xa)-(Ei=li+Ir)),ou=.5411961*Hr+ii,Go=1.306562965*Ei+ii,nl=.707106781*(tl=Xa+li),ua=Ir+nl,tr=Ir-nl;ln[On+5]=tr+ou,ln[On+3]=tr-ou,ln[On+1]=ua+Go,ln[On+7]=ua-Go,On+=8}for(On=0,Nt=0;Nt<8;++Nt){var ca=(Rn=ln[On])+(Un=ln[On+56]),fa=Rn-Un,xs=(Dn=ln[On+8])+(Vt=ln[On+48]),co=Dn-Vt,ki=(Qn=ln[On+16])+(Vr=ln[On+40]),Ts=Qn-Vr,ku=(pr=ln[On+24])+(Dr=ln[On+32]),rl=pr-Dr,da=ca+ku,ws=ca-ku,Ma=xs+ki,il=xs-ki;ln[On]=da+Ma,ln[On+32]=da-Ma;var Ii=.707106781*(il+ws);ln[On+16]=ws+Ii,ln[On+48]=ws-Ii;var Jo=.382683433*((da=rl+Ts)-(il=co+fa)),ci=.5411961*da+Jo,Er=1.306562965*il+Jo,Pc=.707106781*(Ma=Ts+co),Sa=fa+Pc,Ec=fa-Pc;ln[On+40]=Ec+ci,ln[On+24]=Ec-ci,ln[On+8]=Sa+Er,ln[On+56]=Sa-Er,On++}for(Nt=0;Nt<64;++Nt)ue[Nt]=(kn=ln[Nt]*bn[Nt])>0?kn+.5|0:kn-.5|0;return ue}(Te,Ue),nn=0;nn<64;++nn)_e[wt[nn]]=cn[nn];var Sn=_e[0]-Ge;Ge=_e[0],0==Sn?zt(lt[0]):(zt(lt[Oe[vt=32767+Sn]]),zt(we[vt]));for(var An=63;An>0&&0==_e[An];)An--;if(0==An)return zt(Ot),Ge;for(var ir,Bt=1;Bt<=An;){for(var Je=Bt;0==_e[Bt]&&Bt<=An;)++Bt;var hr=Bt-Je;if(hr>=16){ir=hr>>4;for(var tn=1;tn<=ir;++tn)zt(Rt);hr&=15}zt(pt[(hr<<4)+Oe[vt=32767+_e[Bt]]]),zt(we[vt]),Bt++}return 63!=An&&zt(Ot),Ge}function In(Te){Te=Math.min(Math.max(Te,1),100),Q!=Te&&(function(Ue){for(var Ge=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],lt=0;lt<64;lt++){var pt=Y((Ge[lt]*Ue+50)/100);pt=Math.min(Math.max(pt,1),255),ee[wt[lt]]=pt}for(var vt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ot=0;Ot<64;Ot++){var Rt=Y((vt[Ot]*Ue+50)/100);Rt=Math.min(Math.max(Rt,1),255),te[wt[Ot]]=Rt}for(var cn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],nn=0,Sn=0;Sn<8;Sn++)for(var An=0;An<8;An++)pe[nn]=1/(ee[wt[nn]]*cn[Sn]*cn[An]*8),Ce[nn]=1/(te[wt[nn]]*cn[Sn]*cn[An]*8),nn++}(Te<50?Math.floor(5e3/Te):Math.floor(200-2*Te)),Q=Te)}this.encode=function(Te,Ue){var Dn,Qn;Ue&&In(Ue),Re=new Array,qe=0,Ie=7,qt(65496),qt(65504),qt(16),Dt(74),Dt(70),Dt(73),Dt(70),Dt(0),Dt(1),Dt(1),Dt(0),qt(1),qt(1),Dt(0),Dt(0),function(){qt(65499),qt(132),Dt(0);for(var Dn=0;Dn<64;Dn++)Dt(ee[Dn]);Dt(1);for(var Qn=0;Qn<64;Qn++)Dt(te[Qn])}(),Dn=Te.width,Qn=Te.height,qt(65472),qt(17),Dt(8),qt(Qn),qt(Dn),Dt(3),Dt(1),Dt(17),Dt(0),Dt(2),Dt(17),Dt(1),Dt(3),Dt(17),Dt(1),function(){qt(65476),qt(418),Dt(0);for(var Dn=0;Dn<16;Dn++)Dt(Ye[Dn+1]);for(var Qn=0;Qn<=11;Qn++)Dt(Kt[Qn]);Dt(16);for(var pr=0;pr<16;pr++)Dt(jt[pr+1]);for(var Dr=0;Dr<=161;Dr++)Dt(Be[Dr]);Dt(1);for(var Vr=0;Vr<16;Vr++)Dt(Fe[Vr+1]);for(var Vt=0;Vt<=11;Vt++)Dt(ot[Vt]);Dt(17);for(var Un=0;Un<16;Un++)Dt(et[Un+1]);for(var Nt=0;Nt<=161;Nt++)Dt(Ht[Nt])}(),qt(65498),qt(12),Dt(3),Dt(1),Dt(0),Dt(2),Dt(17),Dt(3),Dt(17),Dt(0),Dt(63),Dt(0);var Ge=0,lt=0,pt=0;qe=0,Ie=7,this.encode.displayName="_encode_";for(var vt,Ot,Rt,cn,nn,Sn,An,ir,Bt,Je=Te.data,tn=Te.height,ln=4*Te.width,bn=0;bn<tn;){for(vt=0;vt<ln;){for(nn=ln*bn+vt,An=-1,ir=0,Bt=0;Bt<64;Bt++)Sn=nn+(ir=Bt>>3)*ln+(An=4*(7&Bt)),bn+ir>=tn&&(Sn-=ln*(bn+1+ir-tn)),vt+An>=ln&&(Sn-=vt+An-ln+4),Ot=Je[Sn++],Rt=Je[Sn++],cn=Je[Sn++],ze[Bt]=(Yt[Ot]+Yt[Rt+256>>0]+Yt[cn+512>>0]>>16)-128,at[Bt]=(Yt[Ot+768>>0]+Yt[Rt+1024>>0]+Yt[cn+1280>>0]>>16)-128,Et[Bt]=(Yt[Ot+1280>>0]+Yt[Rt+1536>>0]+Yt[cn+1792>>0]>>16)-128;Ge=St(ze,pe,Ge,I,_),lt=St(at,Ce,lt,V,q),pt=St(Et,Ce,pt,V,q),vt+=32}bn+=8}if(Ie>=0){var Rn=[];Rn[1]=Ie+1,Rn[0]=(1<<Ie+1)-1,zt(Rn)}return qt(65497),new Uint8Array(Re)},O=O||50,function(){for(var Te=String.fromCharCode,Ue=0;Ue<256;Ue++)Ft[Ue]=Te(Ue)}(),I=Mt(Ye,Kt),V=Mt(Fe,ot),_=Mt(jt,Be),q=Mt(et,Ht),function(){for(var Te=1,Ue=2,Ge=1;Ge<=15;Ge++){for(var lt=Te;lt<Ue;lt++)Oe[32767+lt]=Ge,we[32767+lt]=[],we[32767+lt][1]=Ge,we[32767+lt][0]=lt;for(var pt=-(Ue-1);pt<=-Te;pt++)Oe[32767+pt]=Ge,we[32767+pt]=[],we[32767+pt][1]=Ge,we[32767+pt][0]=Ue-1+pt;Te<<=1,Ue<<=1}}(),function(){for(var Te=0;Te<256;Te++)Yt[Te]=19595*Te,Yt[Te+256>>0]=38470*Te,Yt[Te+512>>0]=7471*Te+32768,Yt[Te+768>>0]=-11059*Te,Yt[Te+1024>>0]=-21709*Te,Yt[Te+1280>>0]=32768*Te+8421375,Yt[Te+1536>>0]=-27439*Te,Yt[Te+1792>>0]=-5329*Te}(),In(O)}function Vo(O,I){if(this.pos=0,this.buffer=O,this.datav=new DataView(O.buffer),this.is_with_alpha=!!I,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Cc(O){function I(Ye){if(!Ye)throw Error("assert :P")}function V(Ye,Kt,jt){for(var Be=0;4>Be;Be++)if(Ye[Kt+Be]!=jt.charCodeAt(Be))return!0;return!1}function _(Ye,Kt,jt,Be,Fe){for(var ot=0;ot<Fe;ot++)Ye[Kt+ot]=jt[Be+ot]}function q(Ye,Kt,jt,Be){for(var Fe=0;Fe<Be;Fe++)Ye[Kt+Fe]=jt}function Q(Ye){return new Int32Array(Ye)}function Y(Ye,Kt){for(var jt=[],Be=0;Be<Ye;Be++)jt.push(new Kt);return jt}function ee(Ye,Kt){var jt=[];return function Be(Fe,ot,et){for(var Ht=et[ot],Mt=0;Mt<Ht&&(Fe.push(et.length>ot+1?[]:new Kt),!(et.length<ot+1));Mt++)Be(Fe[Mt],ot+1,et)}(jt,0,Ye),jt}var te=function(){var Ye=this;function Kt(N,z){for(var X=1<<z-1>>>0;N&X;)X>>>=1;return X?(N&X-1)+X:N}function jt(N,z,X,le,ye){I(!(le%X));do{N[z+(le-=X)]=ye}while(0<le)}function Be(N,z,X,le,ye){if(I(2328>=ye),512>=ye)var Ee=Q(512);else if(null==(Ee=Q(ye)))return 0;return function(xe,De,Me,Ne,st,Ct){var bt,ht,Jt=De,It=1<<Me,nt=Q(16),ct=Q(16);for(I(0!=st),I(null!=Ne),I(null!=xe),I(0<Me),ht=0;ht<st;++ht){if(15<Ne[ht])return 0;++nt[Ne[ht]]}if(nt[0]==st)return 0;for(ct[1]=0,bt=1;15>bt;++bt){if(nt[bt]>1<<bt)return 0;ct[bt+1]=ct[bt]+nt[bt]}for(ht=0;ht<st;++ht)bt=Ne[ht],0<Ne[ht]&&(Ct[ct[bt]++]=ht);if(1==ct[15])return(Ne=new Fe).g=0,Ne.value=Ct[0],jt(xe,Jt,1,It,Ne),It;var $t,en=-1,Gt=It-1,Vn=0,Cn=1,Gn=1,xn=1<<Me;for(ht=0,bt=1,st=2;bt<=Me;++bt,st<<=1){if(Cn+=Gn<<=1,0>(Gn-=nt[bt]))return 0;for(;0<nt[bt];--nt[bt])(Ne=new Fe).g=bt,Ne.value=Ct[ht++],jt(xe,Jt+Vn,st,xn,Ne),Vn=Kt(Vn,bt)}for(bt=Me+1,st=2;15>=bt;++bt,st<<=1){if(Cn+=Gn<<=1,0>(Gn-=nt[bt]))return 0;for(;0<nt[bt];--nt[bt]){if(Ne=new Fe,(Vn&Gt)!=en){for(Jt+=xn,$t=1<<(en=bt)-Me;15>en&&!(0>=($t-=nt[en]));)++en,$t<<=1;It+=xn=1<<($t=en-Me),xe[De+(en=Vn&Gt)].g=$t+Me,xe[De+en].value=Jt-De-en}Ne.g=bt-Me,Ne.value=Ct[ht++],jt(xe,Jt+(Vn>>Me),st,xn,Ne),Vn=Kt(Vn,bt)}}return Cn!=2*ct[15]-1?0:It}(N,z,X,le,ye,Ee)}function Fe(){this.value=this.g=0}function ot(){this.value=this.g=0}function et(){this.G=Y(5,Fe),this.H=Q(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Y(Bo,ot)}function Ht(N,z,X,le){I(null!=N),I(null!=z),I(2147483648>le),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=z,N.pa=X,N.Jd=z,N.Yc=X+le,N.Zc=4<=le?X+le-4+1:X,vt(N)}function Mt(N,z){for(var X=0;0<z--;)X|=Rt(N,128)<<z;return X}function zt(N,z){var X=Mt(N,z);return Ot(N)?-X:X}function Dt(N,z,X,le){var ye,Ee=0;for(I(null!=N),I(null!=z),I(4294967288>le),N.Sb=le,N.Ra=0,N.u=0,N.h=0,4<le&&(le=4),ye=0;ye<le;++ye)Ee+=z[X+ye]<<8*ye;N.Ra=Ee,N.bb=le,N.oa=z,N.pa=X}function qt(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<Nn-8>>>0,++N.bb,N.u-=8;Ge(N)&&(N.h=1,N.u=0)}function St(N,z){if(I(0<=z),!N.h&&z<=Hc){var X=Ue(N)&Yu[z];return N.u+=z,qt(N),X}return N.h=1,N.u=0}function In(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Te(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Ue(N){return N.Ra>>>(N.u&Nn-1)>>>0}function Ge(N){return I(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>Nn}function lt(N,z){N.u=z,N.h=Ge(N)}function pt(N){N.u>=Uc&&(I(N.u>=Uc),qt(N))}function vt(N){I(null!=N&&null!=N.oa),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(I(null!=N&&null!=N.oa),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function Ot(N){return Mt(N,1)}function Rt(N,z){var X=N.Ca;0>N.b&&vt(N);var le=N.b,ye=X*z>>>8,Ee=(N.I>>>le>ye)+0;for(Ee?(X-=ye,N.I-=ye+1<<le>>>0):X=ye+1,le=X,ye=0;256<=le;)ye+=8,le>>=8;return N.b-=le=7^ye+Ms[le],N.Ca=(X<<le)-1,Ee}function cn(N,z,X){N[z+0]=X>>24&255,N[z+1]=X>>16&255,N[z+2]=X>>8&255,N[z+3]=X>>0&255}function nn(N,z){return N[z+0]<<0|N[z+1]<<8}function Sn(N,z){return nn(N,z)|N[z+2]<<16}function An(N,z){return nn(N,z)|nn(N,z+2)<<16}function ir(N,z){var X=1<<z;return I(null!=N),I(0<z),N.X=Q(X),null==N.X?0:(N.Mb=32-z,N.Xa=z,1)}function Bt(N,z){I(null!=N),I(null!=z),I(N.Xa==z.Xa),_(z.X,0,N.X,0,1<<z.Xa)}function Je(){this.X=[],this.Xa=this.Mb=0}function hr(N,z,X,le){I(null!=X),I(null!=le);var ye=X[0],Ee=le[0];return 0==ye&&(ye=(N*Ee+z/2)/z),0==Ee&&(Ee=(z*ye+N/2)/N),0>=ye||0>=Ee?0:(X[0]=ye,le[0]=Ee,1)}function tn(N,z){return N+(1<<z)-1>>>z}function ln(N,z){return((4278255360&N)+(4278255360&z)>>>0&4278255360)+((16711935&N)+(16711935&z)>>>0&16711935)>>>0}function bn(N,z){Ye[z]=function(X,le,ye,Ee,xe,De,Me){var Ne;for(Ne=0;Ne<xe;++Ne){var st=Ye[N](De[Me+Ne-1],ye,Ee+Ne);De[Me+Ne]=ln(X[le+Ne],st)}}}function Rn(){this.ud=this.hd=this.jd=0}function Dn(N,z){return((4278124286&(N^z))>>>1)+(N&z)>>>0}function Qn(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function pr(N,z){return Qn(N+(N-z+.5>>1))}function Dr(N,z,X){return Math.abs(z-X)-Math.abs(N-X)}function Vr(N,z,X,le,ye,Ee,xe){for(le=Ee[xe-1],X=0;X<ye;++X)Ee[xe+X]=le=ln(N[z+X],le)}function Vt(N,z,X,le,ye){var Ee;for(Ee=0;Ee<X;++Ee){var xe=N[z+Ee],De=xe>>8&255,Me=16711935&(Me=(Me=16711935&xe)+((De<<16)+De));le[ye+Ee]=(4278255360&xe)+Me>>>0}}function Un(N,z){z.jd=N>>0&255,z.hd=N>>8&255,z.ud=N>>16&255}function Nt(N,z,X,le,ye,Ee){var xe;for(xe=0;xe<le;++xe){var De=z[X+xe],Me=De>>>8,Ne=De,st=255&(st=(st=De>>>16)+((N.jd<<24>>24)*(Me<<24>>24)>>>5));Ne=255&(Ne=(Ne+=(N.hd<<24>>24)*(Me<<24>>24)>>>5)+((N.ud<<24>>24)*(st<<24>>24)>>>5)),ye[Ee+xe]=(4278255360&De)+(st<<16)+Ne}}function kn(N,z,X,le,ye){Ye[z]=function(Ee,xe,De,Me,Ne,st,Ct,bt,ht){for(Me=Ct;Me<bt;++Me)for(Ct=0;Ct<ht;++Ct)Ne[st++]=ye(De[le(Ee[xe++])])},Ye[N]=function(Ee,xe,De,Me,Ne,st,Ct){var bt=8>>Ee.b,ht=Ee.Ea,Jt=Ee.K[0],It=Ee.w;if(8>bt)for(Ee=(1<<Ee.b)-1,It=(1<<bt)-1;xe<De;++xe){var nt,ct=0;for(nt=0;nt<ht;++nt)nt&Ee||(ct=le(Me[Ne++])),st[Ct++]=ye(Jt[ct&It]),ct>>=bt}else Ye["VP8LMapColor"+X](Me,Ne,Jt,It,st,Ct,xe,De,ht)}}function On(N,z,X,le,ye){for(X=z+X;z<X;){var Ee=N[z++];le[ye++]=Ee>>16&255,le[ye++]=Ee>>8&255,le[ye++]=Ee>>0&255}}function uo(N,z,X,le,ye){for(X=z+X;z<X;){var Ee=N[z++];le[ye++]=Ee>>16&255,le[ye++]=Ee>>8&255,le[ye++]=Ee>>0&255,le[ye++]=Ee>>24&255}}function Ir(N,z,X,le,ye){for(X=z+X;z<X;){var Ee=(xe=N[z++])>>16&240|xe>>12&15,xe=xe>>0&240|xe>>28&15;le[ye++]=Ee,le[ye++]=xe}}function ks(N,z,X,le,ye){for(X=z+X;z<X;){var Ee=(xe=N[z++])>>16&248|xe>>13&7,xe=xe>>5&224|xe>>3&31;le[ye++]=Ee,le[ye++]=xe}}function li(N,z,X,le,ye){for(X=z+X;z<X;){var Ee=N[z++];le[ye++]=Ee>>0&255,le[ye++]=Ee>>8&255,le[ye++]=Ee>>16&255}}function Qi(N,z,X,le,ye,Ee){if(0==Ee)for(X=z+X;z<X;)cn(le,((Ee=N[z++])[0]>>24|Ee[1]>>8&65280|Ee[2]<<8&16711680|Ee[3]<<24)>>>0),ye+=32;else _(le,ye,N,z,X)}function Xa(N,z){Ye[z][0]=Ye[N+"0"],Ye[z][1]=Ye[N+"1"],Ye[z][2]=Ye[N+"2"],Ye[z][3]=Ye[N+"3"],Ye[z][4]=Ye[N+"4"],Ye[z][5]=Ye[N+"5"],Ye[z][6]=Ye[N+"6"],Ye[z][7]=Ye[N+"7"],Ye[z][8]=Ye[N+"8"],Ye[z][9]=Ye[N+"9"],Ye[z][10]=Ye[N+"10"],Ye[z][11]=Ye[N+"11"],Ye[z][12]=Ye[N+"12"],Ye[z][13]=Ye[N+"13"],Ye[z][14]=Ye[N+"0"],Ye[z][15]=Ye[N+"0"]}function ui(N){return N==$d||N==Xu||N==Uf||N==Gd}function el(){this.eb=[],this.size=this.A=this.fb=0}function Hr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function To(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new el,this.f.kb=new Hr,this.sd=null}function tl(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ei(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function er(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function ii(N,z){var X=N.T,le=z.ba.f.RGBA,ye=le.eb,Ee=le.fb+N.ka*le.A,xe=Gs[z.ba.S],De=N.y,Me=N.O,Ne=N.f,st=N.N,Ct=N.ea,bt=N.W,ht=z.cc,Jt=z.dc,It=z.Mc,nt=z.Nc,ct=N.ka,$t=N.ka+N.T,en=N.U,Gt=en+1>>1;for(0==ct?xe(De,Me,null,null,Ne,st,Ct,bt,Ne,st,Ct,bt,ye,Ee,null,null,en):(xe(z.ec,z.fc,De,Me,ht,Jt,It,nt,Ne,st,Ct,bt,ye,Ee-le.A,ye,Ee,en),++X);ct+2<$t;ct+=2)xe(De,(Me+=2*N.fa)-N.fa,De,Me,ht=Ne,Jt=st,It=Ct,nt=bt,Ne,st+=N.Rc,Ct,bt+=N.Rc,ye,(Ee+=2*le.A)-le.A,ye,Ee,en);return Me+=N.fa,N.j+$t<N.o?(_(z.ec,z.fc,De,Me,en),_(z.cc,z.dc,Ne,st,Gt),_(z.Mc,z.Nc,Ct,bt,Gt),X--):1&$t||xe(De,Me,null,null,Ne,st,Ct,bt,Ne,st,Ct,bt,ye,Ee+le.A,null,null,en),X}function ou(N,z,X){var le=N.F,ye=[N.J];if(null!=le){var Ee=N.U,xe=z.ba.S,De=xe==qc||xe==Uf;z=z.ba.f.RGBA;var Me=[0],Ne=N.ka;Me[0]=N.T,N.Kb&&(0==Ne?--Me[0]:(--Ne,ye[0]-=N.width),N.j+N.ka+N.T==N.o&&(Me[0]=N.o-N.j-Ne));var st=z.eb;N=kc(le,ye[0],N.width,Ee,Me,st,(Ne=z.fb+Ne*z.A)+(De?0:3),z.A),I(X==Me),N&&ui(xe)&&Bl(st,Ne,De,Ee,Me,z.A)}return 0}function Go(N){var z=N.ma,X=z.ba.S,le=11>X,ye=X==jf||X==qd||X==qc||X==Hf||12==X||ui(X);if(z.memory=null,z.Ib=null,z.Jb=null,z.Nd=null,!Vf(z.Oa,N,ye?11:12))return 0;if(ye&&ui(X)&&sn(),N.da)alert("todo:use_scaling");else{if(le){if(z.Ib=er,N.Kb){if(z.memory=Q(N.U+2*(X=N.U+1>>1)),null==z.memory)return 0;z.ec=z.memory,z.fc=0,z.cc=z.ec,z.dc=z.fc+N.U,z.Mc=z.cc,z.Nc=z.dc+X,z.Ib=ii,sn()}}else alert("todo:EmitYUV");ye&&(z.Jb=ou,le&&yt())}if(le&&!Jd){for(N=0;256>N;++N)up[N]=89858*(N-128)+Qf>>Gc,Lg[N]=-22014*(N-128)+Qf,xy[N]=-45773*(N-128),kf[N]=113618*(N-128)+Qf>>Gc;for(N=Cu;N<Jc;++N)Ty[N-Cu]=ga(z=76283*(N-16)+Qf>>Gc,255),wy[N-Cu]=ga(z+8>>4,15);Jd=1}return 1}function nl(N){var z=N.ma,X=N.U,le=N.T;return I(!(1&N.ka)),0>=X||0>=le?0:(X=z.Ib(N,z),null!=z.Jb&&z.Jb(N,z,X),z.Dc+=X,1)}function ua(N){N.ma.memory=null}function tr(N,z,X,le){return 47!=St(N,8)?0:(z[0]=St(N,14)+1,X[0]=St(N,14)+1,le[0]=St(N,1),0!=St(N,3)?0:!N.h)}function ca(N,z){if(4>N)return N+1;var X=N-2>>1;return(2+(1&N)<<X)+St(z,X)+1}function fa(N,z){return 120<z?z-120:1<=(X=((X=tp[z-1])>>4)*N+(8-(15&X)))?X:1;var X}function xs(N,z,X){var le=Ue(X),ye=N[z+=255&le].g-8;return 0<ye&&(lt(X,X.u+8),le=Ue(X),z+=N[z].value,z+=le&(1<<ye)-1),lt(X,X.u+N[z].g),N[z].value}function co(N,z,X){return X.g+=N.g,X.value+=N.value<<z>>>0,I(8>=X.g),N.g}function ki(N,z,X){var le=N.xc;return I((z=0==le?0:N.vc[N.md*(X>>le)+(z>>le)])<N.Wb),N.Ya[z]}function Ts(N,z,X,le){var ye=N.ab,Ee=N.c*z,xe=N.C;z=xe+z;var De=X,Me=le;for(le=N.Ta,X=N.Ua;0<ye--;){var Ne=N.gc[ye],st=xe,Ct=z,bt=De,ht=Me,Jt=(Me=le,De=X,Ne.Ea);switch(I(st<Ct),I(Ct<=Ne.nc),Ne.hc){case 2:Qd(bt,ht,(Ct-st)*Jt,Me,De);break;case 0:var It=st,nt=Ct,ct=Me,$t=De,en=(xn=Ne).Ea;0==It&&(Lf(bt,ht,null,null,1,ct,$t),Vr(bt,ht+1,0,0,en-1,ct,$t+1),ht+=en,$t+=en,++It);for(var Gt=1<<xn.b,Vn=Gt-1,Cn=tn(en,xn.b),Gn=xn.K,xn=xn.w+(It>>xn.b)*Cn;It<nt;){var ei=Gn,fi=xn,Gr=1;for(Al(bt,ht,ct,$t-en,1,ct,$t);Gr<en;){var zr=(Gr&~Vn)+Gt;zr>en&&(zr=en),(0,Vl[ei[fi++]>>8&15])(bt,ht+ +Gr,ct,$t+Gr-en,zr-Gr,ct,$t+Gr),Gr=zr}ht+=en,$t+=en,++It&Vn||(xn+=Cn)}Ct!=Ne.nc&&_(Me,De-Jt,Me,De+(Ct-st-1)*Jt,Jt);break;case 1:for(Jt=bt,nt=ht,en=(bt=Ne.Ea)-($t=bt&~(ct=(ht=1<<Ne.b)-1)),It=tn(bt,Ne.b),Gt=Ne.K,Ne=Ne.w+(st>>Ne.b)*It;st<Ct;){for(Vn=Gt,Cn=Ne,Gn=new Rn,xn=nt+$t,ei=nt+bt;nt<xn;)Un(Vn[Cn++],Gn),ds(Gn,Jt,nt,ht,Me,De),nt+=ht,De+=ht;nt<ei&&(Un(Vn[Cn++],Gn),ds(Gn,Jt,nt,en,Me,De),nt+=en,De+=en),++st&ct||(Ne+=It)}break;case 3:if(bt==Me&&ht==De&&0<Ne.b){for(nt=Me,bt=Jt=De+(Ct-st)*Jt-($t=(Ct-st)*tn(Ne.Ea,Ne.b)),ht=Me,ct=De,It=[],$t=(en=$t)-1;0<=$t;--$t)It[$t]=ht[ct+$t];for($t=en-1;0<=$t;--$t)nt[bt+$t]=It[$t];Fa(Ne,st,Ct,Me,Jt,Me,De)}else Fa(Ne,st,Ct,bt,ht,Me,De)}De=le,Me=X}Me!=X&&_(le,X,De,Me,Ee)}function ku(N,z){var X=N.V,le=N.Ba+N.c*N.C,ye=z-N.C;if(I(z<=N.l.o),I(16>=ye),0<ye){var Ee=N.l,xe=N.Ta,De=N.Ua,Me=Ee.width;if(Ts(N,ye,X,le),ye=De=[De],I((X=N.C)<(le=z)),I(Ee.v<Ee.va),le>Ee.o&&(le=Ee.o),X<Ee.j){var Ne=Ee.j-X;X=Ee.j,ye[0]+=Ne*Me}if(X>=le?X=0:(ye[0]+=4*Ee.v,Ee.ka=X-Ee.j,Ee.U=Ee.va-Ee.v,Ee.T=le-X,X=1),X){if(De=De[0],11>(X=N.ca).S){var st=X.f.RGBA,Ct=(le=X.S,ye=Ee.U,Ee=Ee.T,Ne=st.eb,st.A),bt=Ee;for(st=st.fb+N.Ma*st.A;0<bt--;){var ht=xe,Jt=De,It=ye,nt=Ne,ct=st;switch(le){case Kd:Na(ht,Jt,It,nt,ct);break;case jf:Ll(ht,Jt,It,nt,ct);break;case $d:Ll(ht,Jt,It,nt,ct),Bl(nt,ct,0,It,1,0);break;case Tg:Zu(ht,Jt,It,nt,ct);break;case qd:Qi(ht,Jt,It,nt,ct,1);break;case Xu:Qi(ht,Jt,It,nt,ct,1),Bl(nt,ct,0,It,1,0);break;case qc:Qi(ht,Jt,It,nt,ct,0);break;case Uf:Qi(ht,Jt,It,nt,ct,0),Bl(nt,ct,1,It,1,0);break;case Hf:ma(ht,Jt,It,nt,ct);break;case Gd:ma(ht,Jt,It,nt,ct),po(nt,ct,It,1,0);break;case wg:ya(ht,Jt,It,nt,ct);break;default:I(0)}De+=Me,st+=Ct}N.Ma+=Ee}else alert("todo:EmitRescaledRowsYUVA");I(N.Ma<=X.height)}}N.C=z,I(N.C<=N.i)}function rl(N){var z;if(0<N.ua)return 0;for(z=0;z<N.Wb;++z){var X=N.Ya[z].G,le=N.Ya[z].H;if(0<X[1][le[1]+0].g||0<X[2][le[2]+0].g||0<X[3][le[3]+0].g)return 0}return 1}function da(N,z,X,le,ye,Ee){if(0!=N.Z){var xe=N.qd,De=N.rd;for(I(null!=Ss[N.Z]);z<X;++z)Ss[N.Z](xe,De,le,ye,le,ye,Ee),xe=le,De=ye,ye+=Ee;N.qd=xe,N.rd=De}}function ws(N,z){var X=N.l.ma,le=0==X.Z||1==X.Z?N.l.j:N.C;if(le=N.C<le?le:N.C,I(z<=N.l.o),z>le){var ye=N.l.width,Ee=X.ca,xe=X.tb+ye*le,De=N.V,Me=N.Ba+N.c*le,Ne=N.gc;I(1==N.ab),I(3==Ne[0].hc),Wc(Ne[0],le,z,De,Me,Ee,xe),da(X,le,z,Ee,xe,ye)}N.C=N.Ma=z}function Ma(N,z,X,le,ye,Ee,xe){var De=N.$/le,Me=N.$%le,Ne=N.m,st=N.s,Ct=X+N.$,bt=Ct;ye=X+le*ye;var ht=X+le*Ee,Jt=280+st.ua,It=N.Pb?De:16777216,nt=0<st.ua?st.Wa:null,ct=st.wc,$t=Ct<ht?ki(st,Me,De):null;I(N.C<Ee),I(ht<=ye);var en=!1;e:for(;;){for(;en||Ct<ht;){var Gt=0;if(De>=It){var Vn=Ct-X;I((It=N).Pb),It.wd=It.m,It.xd=Vn,0<It.s.ua&&Bt(It.s.Wa,It.s.vb),It=De+vy}if(Me&ct||($t=ki(st,Me,De)),I(null!=$t),$t.Qb&&(z[Ct]=$t.qb,en=!0),!en)if(pt(Ne),$t.jc){Vn=z;var Cn=Ct,Gn=$t.pd[Ue(Gt=Ne)&Bo-1];I($t.jc),256>Gn.g?(lt(Gt,Gt.u+Gn.g),Vn[Cn]=Gn.value,Gt=0):(lt(Gt,Gt.u+Gn.g-256),I(256<=Gn.value),Gt=Gn.value),0==Gt&&(en=!0)}else Gt=xs($t.G[0],$t.H[0],Ne);if(Ne.h)break;if(en||256>Gt){if(!en)if($t.nd)z[Ct]=($t.qb|Gt<<8)>>>0;else{if(pt(Ne),en=xs($t.G[1],$t.H[1],Ne),pt(Ne),Vn=xs($t.G[2],$t.H[2],Ne),Cn=xs($t.G[3],$t.H[3],Ne),Ne.h)break;z[Ct]=(Cn<<24|en<<16|Gt<<8|Vn)>>>0}if(en=!1,++Ct,++Me>=le&&(Me=0,++De,null!=xe&&De<=Ee&&!(De%16)&&xe(N,De),null!=nt))for(;bt<Ct;)Gt=z[bt++],nt.X[(506832829*Gt&4294967295)>>>nt.Mb]=Gt}else if(280>Gt){if(Gt=ca(Gt-256,Ne),Vn=xs($t.G[4],$t.H[4],Ne),pt(Ne),Vn=fa(le,Vn=ca(Vn,Ne)),Ne.h)break;if(Ct-X<Vn||ye-Ct<Gt)break e;for(Cn=0;Cn<Gt;++Cn)z[Ct+Cn]=z[Ct+Cn-Vn];for(Ct+=Gt,Me+=Gt;Me>=le;)Me-=le,++De,null!=xe&&De<=Ee&&!(De%16)&&xe(N,De);if(I(Ct<=ye),Me&ct&&($t=ki(st,Me,De)),null!=nt)for(;bt<Ct;)Gt=z[bt++],nt.X[(506832829*Gt&4294967295)>>>nt.Mb]=Gt}else{if(!(Gt<Jt))break e;for(en=Gt-280,I(null!=nt);bt<Ct;)Gt=z[bt++],nt.X[(506832829*Gt&4294967295)>>>nt.Mb]=Gt;Gt=Ct,I(!(en>>>(Vn=nt).Xa)),z[Gt]=Vn.X[en],en=!0}en||I(Ne.h==Ge(Ne))}if(N.Pb&&Ne.h&&Ct<ye)I(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&Bt(N.s.vb,N.s.Wa);else{if(Ne.h)break e;null!=xe&&xe(N,De>Ee?Ee:De),N.a=0,N.$=Ct-X}return 1}return N.a=3,0}function il(N){I(null!=N),N.vc=null,N.yc=null,N.Ya=null;var z=N.Wa;null!=z&&(z.X=null),N.vb=null,I(null!=N)}function Ii(){var N=new Is;return null==N?null:(N.a=0,N.xb=ip,Xa("Predictor","VP8LPredictors"),Xa("Predictor","VP8LPredictors_C"),Xa("PredictorAdd","VP8LPredictorsAdd"),Xa("PredictorAdd","VP8LPredictorsAdd_C"),Qd=Vt,ds=Nt,Na=On,Ll=uo,ma=Ir,ya=ks,Zu=li,Ye.VP8LMapColor32b=Ff,Ye.VP8LMapColor8b=ll,N)}function Jo(N,z,X,le,ye){var Ee=1,xe=[N],De=[z],Me=le.m,Ne=le.s,st=null,Ct=0;e:for(;;){if(X)for(;Ee&&St(Me,1);){var bt=xe,ht=De,Jt=le,It=1,nt=Jt.m,ct=Jt.gc[Jt.ab],$t=St(nt,2);if(Jt.Oc&1<<$t)Ee=0;else{switch(Jt.Oc|=1<<$t,ct.hc=$t,ct.Ea=bt[0],ct.nc=ht[0],ct.K=[null],++Jt.ab,I(4>=Jt.ab),$t){case 0:case 1:ct.b=St(nt,3)+2,It=Jo(tn(ct.Ea,ct.b),tn(ct.nc,ct.b),0,Jt,ct.K),ct.K=ct.K[0];break;case 3:var en,Gt=St(nt,8)+1,Vn=16<Gt?0:4<Gt?1:2<Gt?2:3;if(bt[0]=tn(ct.Ea,Vn),ct.b=Vn,en=It=Jo(Gt,1,0,Jt,ct.K)){var Cn,Gn=Gt,xn=ct,ei=1<<(8>>xn.b),fi=Q(ei);if(null==fi)en=0;else{var Gr=xn.K[0],zr=xn.w;for(fi[0]=xn.K[0][0],Cn=1;Cn<1*Gn;++Cn)fi[Cn]=ln(Gr[zr+Cn],fi[Cn-1]);for(;Cn<4*ei;++Cn)fi[Cn]=0;xn.K[0]=null,xn.K[0]=fi,en=1}}It=en;break;case 2:break;default:I(0)}Ee=It}}if(xe=xe[0],De=De[0],Ee&&St(Me,1)&&!(Ee=1<=(Ct=St(Me,4))&&11>=Ct)){le.a=3;break e}var xi;if(xi=Ee)t:{var Yr,br,di,jo=le,io=xe,ys=De,oi=Ct,ba=X,Pa=jo.m,Xo=jo.s,Do=[null],es=1,Rs=0,Hl=Dg[oi];n:for(;;){if(ba&&St(Pa,1)){var ts=St(Pa,3)+2,fl=tn(io,ts),ec=tn(ys,ts),Zc=fl*ec;if(!Jo(fl,ec,0,jo,Do))break n;for(Do=Do[0],Xo.xc=ts,Yr=0;Yr<Zc;++Yr){var Pu=Do[Yr]>>8&65535;Do[Yr]=Pu,Pu>=es&&(es=Pu+1)}}if(Pa.h)break n;for(br=0;5>br;++br){var eo=ep[br];!br&&0<oi&&(eo+=1<<oi),Rs<eo&&(Rs=eo)}var Zd=Y(es*Hl,Fe),Kf=es,dp=Y(Kf,et);if(null==dp)var Xc=null;else I(65536>=Kf),Xc=dp;var qf=Q(Rs);if(null==Xc||null==qf||null==Zd){jo.a=1;break n}var hi=Zd;for(Yr=di=0;Yr<es;++Yr){var Ho=Xc[Yr],ef=Ho.G,ns=Ho.H,Xd=0,eh=1,Fg=0;for(br=0;5>br;++br){eo=ep[br],ef[br]=hi,ns[br]=di,!br&&0<oi&&(eo+=1<<oi);i:{var th,hp=eo,nh=jo,rh=qf,Nb=hi,$f=di,Gf=0,Eu=nh.m,Dy=St(Eu,1);if(q(rh,0,0,hp),Dy){var pp=St(Eu,1)+1,Iy=St(Eu,1),Ng=St(Eu,0==Iy?1:8);rh[Ng]=1,2==pp&&(rh[Ng=St(Eu,8)]=1);var xu=1}else{var Bg=Q(19),jg=St(Eu,4)+4;if(19<jg){nh.a=3;var ih=0;break i}for(th=0;th<jg;++th)Bg[$c[th]]=St(Eu,3);var gp=void 0,Jf=void 0,Hg=nh,Oy=Bg,oh=hp,Ug=rh,mp=0,Js=Hg.m,Ua=8,My=Y(128,Fe);r:for(;Be(My,0,7,Oy,19);){if(St(Js,1)){var Bb=2+2*St(Js,3);if((gp=2+St(Js,Bb))>oh)break r}else gp=oh;for(Jf=0;Jf<oh&&gp--;){pt(Js);var yp=My[0+(127&Ue(Js))];lt(Js,Js.u+yp.g);var Yf=yp.value;if(16>Yf)Ug[Jf++]=Yf,0!=Yf&&(Ua=Yf);else{var Wg=16==Yf,Sy=Yf-16,_g=Xh[Sy],zg=St(Js,Zh[Sy])+_g;if(Jf+zg>oh)break r;for(var Qg=Wg?Ua:0;0<zg--;)Ug[Jf++]=Qg}}mp=1;break r}mp||(Hg.a=3),xu=mp}(xu=xu&&!Eu.h)&&(Gf=Be(Nb,$f,8,rh,hp)),xu&&0!=Gf?ih=Gf:(nh.a=3,ih=0)}if(0==ih)break n;if(eh&&1==Fb[br]&&(eh=0==hi[di].g),Xd+=hi[di].g,di+=ih,3>=br){var Zf,vp=qf[0];for(Zf=1;Zf<eo;++Zf)qf[Zf]>vp&&(vp=qf[Zf]);Fg+=vp}}if(Ho.nd=eh,Ho.Qb=0,eh&&(Ho.qb=(ef[3][ns[3]+0].value<<24|ef[1][ns[1]+0].value<<16|ef[2][ns[2]+0].value)>>>0,0==Xd&&256>ef[0][ns[0]+0].value&&(Ho.Qb=1,Ho.qb+=ef[0][ns[0]+0].value<<8)),Ho.jc=!Ho.Qb&&6>Fg,Ho.jc){var As,Ul=Ho;for(As=0;As<Bo;++As){var Wl=As,Tu=Ul.pd[Wl],sh=Ul.G[0][Ul.H[0]+Wl];256<=sh.value?(Tu.g=sh.g+256,Tu.value=sh.value):(Tu.g=0,Tu.value=0,Wl>>=co(sh,8,Tu),Wl>>=co(Ul.G[1][Ul.H[1]+Wl],16,Tu),Wl>>=co(Ul.G[2][Ul.H[2]+Wl],0,Tu),co(Ul.G[3][Ul.H[3]+Wl],24,Tu))}}}Xo.vc=Do,Xo.Wb=es,Xo.Ya=Xc,Xo.yc=Zd,xi=1;break t}xi=0}if(!(Ee=xi)){le.a=3;break e}if(0<Ct){if(Ne.ua=1<<Ct,!ir(Ne.Wa,Ct)){le.a=1,Ee=0;break e}}else Ne.ua=0;var Cp=le,kg=xe,Kg=De,bp=Cp.s,Pp=bp.xc;if(Cp.c=kg,Cp.i=Kg,bp.md=tn(kg,Pp),bp.wc=0==Pp?-1:(1<<Pp)-1,X){le.xb=Sg;break e}if(null==(st=Q(xe*De))){le.a=1,Ee=0;break e}Ee=(Ee=Ma(le,st,0,xe,De,De,null))&&!Me.h;break e}return Ee?(null!=ye?ye[0]=st:(I(null==st),I(X)),le.$=0,X||il(Ne)):il(Ne),Ee}function ci(N,z){var X=N.c*N.i,le=X+z+16*z;return I(N.c<=z),N.V=Q(le),null==N.V?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+X+z,1)}function Er(N,z){var X=N.C,le=z-X,ye=N.V,Ee=N.Ba+N.c*X;for(I(z<=N.l.o);0<le;){var xe=16<le?16:le,De=N.l.ma,Me=N.l.width,Ne=Me*xe,st=De.ca,Ct=De.tb+Me*X,bt=N.Ta,ht=N.Ua;Ts(N,xe,ye,Ee),Gh(bt,ht,st,Ct,Ne),da(De,X,X+xe,st,Ct,Me),le-=xe,ye+=xe*N.c,X+=xe}I(X==z),N.C=N.Ma=z}function Pc(){this.ub=this.yd=this.td=this.Rb=0}function Sa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ec(){this.Fb=this.Bb=this.Cb=0,this.Zb=Q(4),this.Lb=Q(4)}function Md(){var N;this.Yb=(function z(X,le,ye){for(var Ee=ye[le],xe=0;xe<Ee&&(X.push(ye.length>le+1?[]:0),!(ye.length<le+1));xe++)z(X[xe],le+1,ye)}(N=[],0,[3,11]),N)}function Qh(){this.jb=Q(3),this.Wc=ee([4,8],Md),this.Xc=ee([4,17],Md)}function xc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new Q(4),this.od=new Q(4)}function Tl(){this.ld=this.La=this.dd=this.tc=0}function Ku(){this.Na=this.la=0}function wf(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Tc(){this.ad=Q(384),this.Za=0,this.Ob=Q(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function kh(){this.uc=this.M=this.Nb=0,this.wa=Array(new Tl),this.Y=0,this.ya=Array(new Tc),this.aa=0,this.l=new wc}function Ra(){this.y=Q(16),this.f=Q(8),this.ea=Q(8)}function qu(){this.cb=this.a=0,this.sc="",this.m=new In,this.Od=new Pc,this.Kc=new Sa,this.ed=new xc,this.Qa=new Ec,this.Ic=this.$c=this.Aa=0,this.D=new kh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Y(8,In),this.ia=0,this.pb=Y(4,wf),this.Pa=new Qh,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ra),this.Hd=0,this.rb=Array(new Ku),this.sb=0,this.wa=Array(new Tl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Tc),this.L=this.aa=0,this.gd=ee([4,2],Tl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function wc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Kh(){var N=new qu;return null!=N&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,_f||(_f=Rd)),N}function Ri(N,z,X){return 0==N.a&&(N.a=z,N.sc=X,N.cb=0),0}function Dc(N,z,X){return 3<=X&&157==N[z+0]&&1==N[z+1]&&42==N[z+2]}function Sd(N,z){if(null==N)return 0;if(N.a=0,N.sc="OK",null==z)return Ri(N,2,"null VP8Io passed to VP8GetHeaders()");var X=z.data,le=z.w,ye=z.ha;if(4>ye)return Ri(N,7,"Truncated header.");var Ee=X[le+0]|X[le+1]<<8|X[le+2]<<16,xe=N.Od;if(xe.Rb=!(1&Ee),xe.td=Ee>>1&7,xe.yd=Ee>>4&1,xe.ub=Ee>>5,3<xe.td)return Ri(N,3,"Incorrect keyframe parameters.");if(!xe.yd)return Ri(N,4,"Frame not displayable.");le+=3,ye-=3;var De=N.Kc;if(xe.Rb){if(7>ye)return Ri(N,7,"cannot parse picture header");if(!Dc(X,le,ye))return Ri(N,3,"Bad code word");De.c=16383&(X[le+4]<<8|X[le+3]),De.Td=X[le+4]>>6,De.i=16383&(X[le+6]<<8|X[le+5]),De.Ud=X[le+6]>>6,le+=7,ye-=7,N.za=De.c+15>>4,N.Ub=De.i+15>>4,z.width=De.c,z.height=De.i,z.Da=0,z.j=0,z.v=0,z.va=z.width,z.o=z.height,z.da=0,z.ib=z.width,z.hb=z.height,z.U=z.width,z.T=z.height,q((Ee=N.Pa).jb,0,255,Ee.jb.length),I(null!=(Ee=N.Qa)),Ee.Cb=0,Ee.Bb=0,Ee.Fb=1,q(Ee.Zb,0,0,Ee.Zb.length),q(Ee.Lb,0,0,Ee.Lb)}if(xe.ub>ye)return Ri(N,7,"bad partition length");Ht(Ee=N.m,X,le,xe.ub),le+=xe.ub,ye-=xe.ub,xe.Rb&&(De.Ld=Ot(Ee),De.Kd=Ot(Ee)),De=N.Qa;var Me,Ne=N.Pa;if(I(null!=Ee),I(null!=De),De.Cb=Ot(Ee),De.Cb){if(De.Bb=Ot(Ee),Ot(Ee)){for(De.Fb=Ot(Ee),Me=0;4>Me;++Me)De.Zb[Me]=Ot(Ee)?zt(Ee,7):0;for(Me=0;4>Me;++Me)De.Lb[Me]=Ot(Ee)?zt(Ee,6):0}if(De.Bb)for(Me=0;3>Me;++Me)Ne.jb[Me]=Ot(Ee)?Mt(Ee,8):255}else De.Bb=0;if(Ee.Ka)return Ri(N,3,"cannot parse segment header");if((De=N.ed).zd=Ot(Ee),De.Tb=Mt(Ee,6),De.wb=Mt(Ee,3),De.Pc=Ot(Ee),De.Pc&&Ot(Ee)){for(Ne=0;4>Ne;++Ne)Ot(Ee)&&(De.vd[Ne]=zt(Ee,6));for(Ne=0;4>Ne;++Ne)Ot(Ee)&&(De.od[Ne]=zt(Ee,6))}if(N.L=0==De.Tb?0:De.zd?1:2,Ee.Ka)return Ri(N,3,"cannot parse filter header");var st=ye;if(ye=Me=le,le=Me+st,De=st,N.Xb=(1<<Mt(N.m,2))-1,st<3*(Ne=N.Xb))X=7;else{for(Me+=3*Ne,De-=3*Ne,st=0;st<Ne;++st){var Ct=X[ye+0]|X[ye+1]<<8|X[ye+2]<<16;Ct>De&&(Ct=De),Ht(N.Jc[+st],X,Me,Ct),Me+=Ct,De-=Ct,ye+=3}Ht(N.Jc[+Ne],X,Me,De),X=Me<le?0:5}if(0!=X)return Ri(N,X,"cannot parse partitions");for(X=Mt(Me=N.m,7),ye=Ot(Me)?zt(Me,4):0,le=Ot(Me)?zt(Me,4):0,De=Ot(Me)?zt(Me,4):0,Ne=Ot(Me)?zt(Me,4):0,Me=Ot(Me)?zt(Me,4):0,st=N.Qa,Ct=0;4>Ct;++Ct){if(st.Cb){var bt=st.Zb[Ct];st.Fb||(bt+=X)}else{if(0<Ct){N.pb[Ct]=N.pb[0];continue}bt=X}var ht=N.pb[Ct];ht.Sc[0]=Wf[ga(bt+ye,127)],ht.Sc[1]=np[ga(bt+0,127)],ht.Eb[0]=2*Wf[ga(bt+le,127)],ht.Eb[1]=101581*np[ga(bt+De,127)]>>16,8>ht.Eb[1]&&(ht.Eb[1]=8),ht.Qc[0]=Wf[ga(bt+Ne,117)],ht.Qc[1]=np[ga(bt+Me,127)],ht.lc=bt+Me}if(!xe.Rb)return Ri(N,4,"Not a key frame.");for(Ot(Ee),xe=N.Pa,X=0;4>X;++X){for(ye=0;8>ye;++ye)for(le=0;3>le;++le)for(De=0;11>De;++De)Ne=Rt(Ee,rp[X][ye][le][De])?Mt(Ee,8):Py[X][ye][le][De],xe.Wc[X][ye].Yb[le][De]=Ne;for(ye=0;17>ye;++ye)xe.Xc[X][ye]=xe.Wc[X][Mg[ye]]}return N.kc=Ot(Ee),N.kc&&(N.Bd=Mt(Ee,8)),N.cb=1}function Rd(N,z,X,le,ye,Ee,xe){var De=z[ye].Yb[X];for(X=0;16>ye;++ye){if(!Rt(N,De[X+0]))return ye;for(;!Rt(N,De[X+1]);)if(De=z[++ye].Yb[0],X=0,16==ye)return 16;var Me=z[ye+1].Yb;if(Rt(N,De[X+2])){var Ne=N,st=0;if(Rt(Ne,(bt=De)[(Ct=X)+3]))if(Rt(Ne,bt[Ct+6])){for(De=0,Ct=2*(st=Rt(Ne,bt[Ct+8]))+(bt=Rt(Ne,bt[Ct+9+st])),st=0,bt=Cy[Ct];bt[De];++De)st+=st+Rt(Ne,bt[De]);st+=3+(8<<Ct)}else Rt(Ne,bt[Ct+7])?(st=7+2*Rt(Ne,165),st+=Rt(Ne,145)):st=5+Rt(Ne,159);else st=Rt(Ne,bt[Ct+4])?3+Rt(Ne,bt[Ct+5]):2;De=Me[2]}else st=1,De=Me[1];Me=xe+by[ye],0>(Ne=N).b&&vt(Ne);var Ct,bt=Ne.b,ht=(Ct=Ne.Ca>>1)-(Ne.I>>bt)>>31;--Ne.b,Ne.Ca+=ht,Ne.Ca|=1,Ne.I-=(Ct+1&ht)<<bt,Ee[Me]=((st^ht)-ht)*le[(0<ye)+0]}return 16}function Ad(N){var z=N.rb[N.sb-1];z.la=0,z.Na=0,q(N.zc,0,0,N.zc.length),N.ja=0}function Ds(N,z,X,le,ye){N[z+X+32*le]=-256&(ye=N[z+X+32*le]+(ye>>3))?0>ye?0:255:ye}function $u(N,z,X,le,ye,Ee){Ds(N,z,0,X,le+ye),Ds(N,z,1,X,le+Ee),Ds(N,z,2,X,le-Ee),Ds(N,z,3,X,le-ye)}function fs(N){return(20091*N>>16)+N}function su(N,z,X,le){var ye,Ee=0,xe=Q(16);for(ye=0;4>ye;++ye){var De=N[z+0]+N[z+8],Me=N[z+0]-N[z+8],Ne=(35468*N[z+4]>>16)-fs(N[z+12]),st=fs(N[z+4])+(35468*N[z+12]>>16);xe[Ee+0]=De+st,xe[Ee+1]=Me+Ne,xe[Ee+2]=Me-Ne,xe[Ee+3]=De-st,Ee+=4,z++}for(ye=Ee=0;4>ye;++ye)De=(N=xe[Ee+0]+4)+xe[Ee+8],Me=N-xe[Ee+8],Ne=(35468*xe[Ee+4]>>16)-fs(xe[Ee+12]),Ds(X,le,0,0,De+(st=fs(xe[Ee+4])+(35468*xe[Ee+12]>>16))),Ds(X,le,1,0,Me+Ne),Ds(X,le,2,0,Me-Ne),Ds(X,le,3,0,De-st),Ee++,le+=32}function Df(N,z,X,le){var ye=N[z+0]+4,Ee=35468*N[z+4]>>16,xe=fs(N[z+4]),De=35468*N[z+1]>>16;$u(X,le,0,ye+xe,N=fs(N[z+1]),De),$u(X,le,1,ye+Ee,N,De),$u(X,le,2,ye-Ee,N,De),$u(X,le,3,ye-xe,N,De)}function Vd(N,z,X,le,ye){su(N,z,X,le),ye&&su(N,z+16,X,le+4)}function wl(N,z,X,le){_c(N,z+0,X,le,1),_c(N,z+32,X,le+128,1)}function qh(N,z,X,le){var ye;for(N=N[z+0]+4,ye=0;4>ye;++ye)for(z=0;4>z;++z)Ds(X,le,z,ye,N)}function Dl(N,z,X,le){N[z+0]&&ja(N,z+0,X,le),N[z+16]&&ja(N,z+16,X,le+4),N[z+32]&&ja(N,z+32,X,le+128),N[z+48]&&ja(N,z+48,X,le+128+4)}function If(N,z,X,le){var ye,Ee=Q(16);for(ye=0;4>ye;++ye){var xe=N[z+0+ye]+N[z+12+ye],De=N[z+4+ye]+N[z+8+ye],Me=N[z+4+ye]-N[z+8+ye],Ne=N[z+0+ye]-N[z+12+ye];Ee[0+ye]=xe+De,Ee[8+ye]=xe-De,Ee[4+ye]=Ne+Me,Ee[12+ye]=Ne-Me}for(ye=0;4>ye;++ye)xe=(N=Ee[0+4*ye]+3)+Ee[3+4*ye],Me=Ee[1+4*ye]-Ee[2+4*ye],Ne=N-Ee[3+4*ye],X[le+0]=xe+(De=Ee[1+4*ye]+Ee[2+4*ye])>>3,X[le+16]=Ne+Me>>3,X[le+32]=xe-De>>3,X[le+48]=Ne-Me>>3,le+=64}function au(N,z,X){var le,ye=z-32,Ee=qs,xe=255-N[ye-1];for(le=0;le<X;++le){var De,Me=Ee,Ne=xe+N[z-1];for(De=0;De<X;++De)N[z+De]=Me[Ne+N[ye+De]];z+=32}}function bg(N,z){au(N,z,4)}function Ld(N,z){au(N,z,8)}function Fd(N,z){au(N,z,16)}function Il(N,z){var X;for(X=0;16>X;++X)_(N,z+32*X,N,z-32,16)}function Ic(N,z){var X;for(X=16;0<X;--X)q(N,z,N[z-1],16),z+=32}function ol(N,z,X){var le;for(le=0;16>le;++le)q(z,X+32*le,N,16)}function Oc(N,z){var X,le=16;for(X=0;16>X;++X)le+=N[z-1+32*X]+N[z+X-32];ol(le>>5,N,z)}function No(N,z){var X,le=8;for(X=0;16>X;++X)le+=N[z-1+32*X];ol(le>>4,N,z)}function Mc(N,z){var X,le=8;for(X=0;16>X;++X)le+=N[z+X-32];ol(le>>4,N,z)}function Gu(N,z){ol(128,N,z)}function gr(N,z,X){return N+2*z+X+2>>2}function Nd(N,z){var X,le=z-32;for(le=new Uint8Array([gr(N[le-1],N[le+0],N[le+1]),gr(N[le+0],N[le+1],N[le+2]),gr(N[le+1],N[le+2],N[le+3]),gr(N[le+2],N[le+3],N[le+4])]),X=0;4>X;++X)_(N,z+32*X,le,0,le.length)}function Bd(N,z){var X=N[z-1],le=N[z-1+32],ye=N[z-1+64],Ee=N[z-1+96];cn(N,z+0,16843009*gr(N[z-1-32],X,le)),cn(N,z+32,16843009*gr(X,le,ye)),cn(N,z+64,16843009*gr(le,ye,Ee)),cn(N,z+96,16843009*gr(ye,Ee,Ee))}function Aa(N,z){var X,le=4;for(X=0;4>X;++X)le+=N[z+X-32]+N[z-1+32*X];for(le>>=3,X=0;4>X;++X)q(N,z+32*X,le,4)}function Of(N,z){var X=N[z-1+0],le=N[z-1+32],ye=N[z-1+64],Ee=N[z-1-32],xe=N[z+0-32],De=N[z+1-32],Me=N[z+2-32],Ne=N[z+3-32];N[z+0+96]=gr(le,ye,N[z-1+96]),N[z+1+96]=N[z+0+64]=gr(X,le,ye),N[z+2+96]=N[z+1+64]=N[z+0+32]=gr(Ee,X,le),N[z+3+96]=N[z+2+64]=N[z+1+32]=N[z+0+0]=gr(xe,Ee,X),N[z+3+64]=N[z+2+32]=N[z+1+0]=gr(De,xe,Ee),N[z+3+32]=N[z+2+0]=gr(Me,De,xe),N[z+3+0]=gr(Ne,Me,De)}function jd(N,z){var X=N[z+1-32],le=N[z+2-32],ye=N[z+3-32],Ee=N[z+4-32],xe=N[z+5-32],De=N[z+6-32],Me=N[z+7-32];N[z+0+0]=gr(N[z+0-32],X,le),N[z+1+0]=N[z+0+32]=gr(X,le,ye),N[z+2+0]=N[z+1+32]=N[z+0+64]=gr(le,ye,Ee),N[z+3+0]=N[z+2+32]=N[z+1+64]=N[z+0+96]=gr(ye,Ee,xe),N[z+3+32]=N[z+2+64]=N[z+1+96]=gr(Ee,xe,De),N[z+3+64]=N[z+2+96]=gr(xe,De,Me),N[z+3+96]=gr(De,Me,Me)}function Sc(N,z){var X=N[z-1+0],le=N[z-1+32],ye=N[z-1+64],Ee=N[z-1-32],xe=N[z+0-32],De=N[z+1-32],Me=N[z+2-32],Ne=N[z+3-32];N[z+0+0]=N[z+1+64]=Ee+xe+1>>1,N[z+1+0]=N[z+2+64]=xe+De+1>>1,N[z+2+0]=N[z+3+64]=De+Me+1>>1,N[z+3+0]=Me+Ne+1>>1,N[z+0+96]=gr(ye,le,X),N[z+0+64]=gr(le,X,Ee),N[z+0+32]=N[z+1+96]=gr(X,Ee,xe),N[z+1+32]=N[z+2+96]=gr(Ee,xe,De),N[z+2+32]=N[z+3+96]=gr(xe,De,Me),N[z+3+32]=gr(De,Me,Ne)}function lu(N,z){var X=N[z+0-32],le=N[z+1-32],ye=N[z+2-32],Ee=N[z+3-32],xe=N[z+4-32],De=N[z+5-32],Me=N[z+6-32],Ne=N[z+7-32];N[z+0+0]=X+le+1>>1,N[z+1+0]=N[z+0+64]=le+ye+1>>1,N[z+2+0]=N[z+1+64]=ye+Ee+1>>1,N[z+3+0]=N[z+2+64]=Ee+xe+1>>1,N[z+0+32]=gr(X,le,ye),N[z+1+32]=N[z+0+96]=gr(le,ye,Ee),N[z+2+32]=N[z+1+96]=gr(ye,Ee,xe),N[z+3+32]=N[z+2+96]=gr(Ee,xe,De),N[z+3+64]=gr(xe,De,Me),N[z+3+96]=gr(De,Me,Ne)}function Ju(N,z){var X=N[z-1+0],le=N[z-1+32],ye=N[z-1+64],Ee=N[z-1+96];N[z+0+0]=X+le+1>>1,N[z+2+0]=N[z+0+32]=le+ye+1>>1,N[z+2+32]=N[z+0+64]=ye+Ee+1>>1,N[z+1+0]=gr(X,le,ye),N[z+3+0]=N[z+1+32]=gr(le,ye,Ee),N[z+3+32]=N[z+1+64]=gr(ye,Ee,Ee),N[z+3+64]=N[z+2+64]=N[z+0+96]=N[z+1+96]=N[z+2+96]=N[z+3+96]=Ee}function $h(N,z){var X=N[z-1+0],le=N[z-1+32],ye=N[z-1+64],Ee=N[z-1+96],xe=N[z-1-32],De=N[z+0-32],Me=N[z+1-32],Ne=N[z+2-32];N[z+0+0]=N[z+2+32]=X+xe+1>>1,N[z+0+32]=N[z+2+64]=le+X+1>>1,N[z+0+64]=N[z+2+96]=ye+le+1>>1,N[z+0+96]=Ee+ye+1>>1,N[z+3+0]=gr(De,Me,Ne),N[z+2+0]=gr(xe,De,Me),N[z+1+0]=N[z+3+32]=gr(X,xe,De),N[z+1+32]=N[z+3+64]=gr(le,X,xe),N[z+1+64]=N[z+3+96]=gr(ye,le,X),N[z+1+96]=gr(Ee,ye,le)}function Hd(N,z){var X;for(X=0;8>X;++X)_(N,z+32*X,N,z-32,8)}function Rc(N,z){var X;for(X=0;8>X;++X)q(N,z,N[z-1],8),z+=32}function ha(N,z,X){var le;for(le=0;8>le;++le)q(z,X+32*le,N,8)}function rn(N,z){var X,le=8;for(X=0;8>X;++X)le+=N[z+X-32]+N[z-1+32*X];ha(le>>4,N,z)}function Mf(N,z){var X,le=4;for(X=0;8>X;++X)le+=N[z+X-32];ha(le>>3,N,z)}function Va(N,z){var X,le=4;for(X=0;8>X;++X)le+=N[z-1+32*X];ha(le>>3,N,z)}function sl(N,z){ha(128,N,z)}function La(N,z,X){var le=N[z-X],ye=N[z+0],Ee=3*(ye-le)+Yh[1020+N[z-2*X]-N[z+X]],xe=Bf[112+(Ee+4>>3)];N[z-X]=qs[255+le+Bf[112+(Ee+3>>3)]],N[z+0]=qs[255+ye-xe]}function Ol(N,z,X,le){return $s[255+N[z-2*X]-N[z-X]]>le||$s[255+N[z+X]-N[z+0]]>le}function Sf(N,z,X,le){return 4*$s[255+N[z-X]-N[z+0]]+$s[255+N[z-2*X]-N[z+X]]<=le}function Ac(N,z,X,le,ye){var Ee=N[z-3*X],xe=N[z-2*X],De=N[z-X],Me=N[z+0],Ne=N[z+X],st=N[z+2*X];return 4*$s[255+De-Me]+$s[255+xe-Ne]>le?0:$s[255+N[z-4*X]-Ee]<=ye&&$s[255+Ee-xe]<=ye&&$s[255+xe-De]<=ye&&$s[255+N[z+3*X]-st]<=ye&&$s[255+st-Ne]<=ye&&$s[255+Ne-Me]<=ye}function Ml(N,z,X,le){var ye=2*le+1;for(le=0;16>le;++le)Sf(N,z+le,X,ye)&&La(N,z+le,X)}function uu(N,z,X,le){var ye=2*le+1;for(le=0;16>le;++le)Sf(N,z+le*X,1,ye)&&La(N,z+le*X,1)}function cu(N,z,X,le){var ye;for(ye=3;0<ye;--ye)Ml(N,z+=4*X,X,le)}function Cr(N,z,X,le){var ye;for(ye=3;0<ye;--ye)uu(N,z+=4,X,le)}function fu(N,z,X,le,ye,Ee,xe,De){for(Ee=2*Ee+1;0<ye--;){if(Ac(N,z,X,Ee,xe))if(Ol(N,z,X,De))La(N,z,X);else{var Me=N,Ne=z,st=X,Ct=Me[Ne-2*st],bt=Me[Ne-st],ht=Me[Ne+0],Jt=Me[Ne+st],It=Me[Ne+2*st],nt=27*($t=Yh[1020+3*(ht-bt)+Yh[1020+Ct-Jt]])+63>>7,ct=18*$t+63>>7,$t=9*$t+63>>7;Me[Ne-3*st]=qs[255+Me[Ne-3*st]+$t],Me[Ne-2*st]=qs[255+Ct+ct],Me[Ne-st]=qs[255+bt+nt],Me[Ne+0]=qs[255+ht-nt],Me[Ne+st]=qs[255+Jt-ct],Me[Ne+2*st]=qs[255+It-$t]}z+=le}}function al(N,z,X,le,ye,Ee,xe,De){for(Ee=2*Ee+1;0<ye--;){if(Ac(N,z,X,Ee,xe))if(Ol(N,z,X,De))La(N,z,X);else{var Me=N,Ne=z,st=X,Ct=Me[Ne-st],bt=Me[Ne+0],ht=Me[Ne+st],Jt=Bf[112+(4+(It=3*(bt-Ct))>>3)],It=Bf[112+(It+3>>3)],nt=Jt+1>>1;Me[Ne-2*st]=qs[255+Me[Ne-2*st]+nt],Me[Ne-st]=qs[255+Ct+It],Me[Ne+0]=qs[255+bt-Jt],Me[Ne+st]=qs[255+ht-nt]}z+=le}}function Ud(N,z,X,le,ye,Ee){fu(N,z,X,1,16,le,ye,Ee)}function Vc(N,z,X,le,ye,Ee){fu(N,z,1,X,16,le,ye,Ee)}function Pg(N,z,X,le,ye,Ee){var xe;for(xe=3;0<xe;--xe)al(N,z+=4*X,X,1,16,le,ye,Ee)}function Rf(N,z,X,le,ye,Ee){var xe;for(xe=3;0<xe;--xe)al(N,z+=4,1,X,16,le,ye,Ee)}function Eg(N,z,X,le,ye,Ee,xe,De){fu(N,z,ye,1,8,Ee,xe,De),fu(X,le,ye,1,8,Ee,xe,De)}function Sl(N,z,X,le,ye,Ee,xe,De){fu(N,z,1,ye,8,Ee,xe,De),fu(X,le,1,ye,8,Ee,xe,De)}function Wd(N,z,X,le,ye,Ee,xe,De){al(N,z+4*ye,ye,1,8,Ee,xe,De),al(X,le+4*ye,ye,1,8,Ee,xe,De)}function Zi(N,z,X,le,ye,Ee,xe,De){al(N,z+4,1,ye,8,Ee,xe,De),al(X,le+4,1,ye,8,Ee,xe,De)}function du(){this.ba=new To,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ei,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Rl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function _d(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function zd(){this.ua=0,this.Wa=new Je,this.vb=new Je,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new et,this.yc=new Fe}function Is(){this.xb=this.a=0,this.l=new wc,this.ca=new To,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Te,this.Pb=0,this.wd=new Te,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new zd,this.ab=0,this.gc=Y(4,_d),this.Oc=0}function ms(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new wc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function hu(N,z,X,le,ye,Ee,xe){for(N=null==N?0:N[z+0],z=0;z<xe;++z)ye[Ee+z]=N+X[le+z]&255,N=ye[Ee+z]}function pu(N,z,X,le,ye,Ee,xe){var De;if(null==N)hu(null,null,X,le,ye,Ee,xe);else for(De=0;De<xe;++De)ye[Ee+De]=N[z+De]+X[le+De]&255}function pa(N,z,X,le,ye,Ee,xe){if(null==N)hu(null,null,X,le,ye,Ee,xe);else{var De,Me=N[z+0],Ne=Me,st=Me;for(De=0;De<xe;++De)Ne=st+(Me=N[z+De])-Ne,st=X[le+De]+(-256&Ne?0>Ne?0:255:Ne)&255,Ne=Me,ye[Ee+De]=st}}function Lc(N,z,X,le){var ye=z.width,Ee=z.o;if(I(null!=N&&null!=z),0>X||0>=le||X+le>Ee)return null;if(!N.Cc){if(null==N.ga){var xe;if(N.ga=new ms,(xe=null==N.ga)||(xe=z.width*z.o,I(0==N.Gb.length),N.Gb=Q(xe),N.Uc=0,null==N.Gb?xe=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,xe=1),xe=!xe),!xe){var De=N.Fa,Me=N.P,Ne=N.qc,st=N.mb,Ct=N.nb,bt=Me+1,ht=Ne-1,Jt=(xe=N.ga).l;if(I(null!=De&&null!=st&&null!=z),Ss[0]=null,Ss[1]=hu,Ss[2]=pu,Ss[3]=pa,xe.ca=st,xe.tb=Ct,xe.c=z.width,xe.i=z.height,I(0<xe.c&&0<xe.i),1>=Ne)z=0;else if(xe.$a=De[Me+0]>>0&3,xe.Z=De[Me+0]>>2&3,xe.Lc=De[Me+0]>>4&3,Me=De[Me+0]>>6&3,0>xe.$a||1<xe.$a||4<=xe.Z||1<xe.Lc||Me)z=0;else if(Jt.put=nl,Jt.ac=Go,Jt.bc=ua,Jt.ma=xe,Jt.width=z.width,Jt.height=z.height,Jt.Da=z.Da,Jt.v=z.v,Jt.va=z.va,Jt.j=z.j,Jt.o=z.o,xe.$a)e:{I(1==xe.$a),z=Ii();t:for(;;){if(null==z){z=0;break e}if(I(null!=xe),xe.mc=z,z.c=xe.c,z.i=xe.i,z.l=xe.l,z.l.ma=xe,z.l.width=xe.c,z.l.height=xe.i,z.a=0,Dt(z.m,De,bt,ht),!Jo(xe.c,xe.i,1,z,null)||(1==z.ab&&3==z.gc[0].hc&&rl(z.s)?(xe.ic=1,De=z.c*z.i,z.Ta=null,z.Ua=0,z.V=Q(De),z.Ba=0,null==z.V?(z.a=1,z=0):z=1):(xe.ic=0,z=ci(z,xe.c)),!z))break t;z=1;break e}xe.mc=null,z=0}else z=ht>=xe.c*xe.i;xe=!z}if(xe)return null;1!=N.ga.Lc?N.Ga=0:le=Ee-X}I(null!=N.ga),I(X+le<=Ee);e:{if(z=(De=N.ga).c,Ee=De.l.o,0==De.$a){if(bt=N.rc,ht=N.Vc,Jt=N.Fa,Ne=N.mb,st=N.nb+X*z,I((Me=N.P+1+X*z)<=N.P+N.qc),0!=De.Z)for(I(null!=Ss[De.Z]),xe=0;xe<le;++xe)Ss[De.Z](bt,ht,Jt,Me,Ne,st,z),bt=Ne,ht=st,st+=z,Me+=z;else for(xe=0;xe<le;++xe)_(Ne,st,Jt,Me,z),bt=Ne,ht=st,st+=z,Me+=z;N.rc=bt,N.Vc=ht}else{if(I(null!=De.mc),z=X+le,I(null!=(xe=De.mc)),I(z<=xe.i),xe.C>=z)z=1;else if(De.ic||yt(),De.ic){De=xe.V,bt=xe.Ba;var It=xe.i,nt=(Jt=1,Me=xe.$/(ht=xe.c),Ne=xe.$%ht,st=xe.m,Ct=xe.s,xe.$),ct=ht*It,$t=ht*z,en=Ct.wc,Gt=nt<$t?ki(Ct,Ne,Me):null;I(nt<=ct),I(z<=It),I(rl(Ct));t:for(;;){for(;!st.h&&nt<$t;){if(Ne&en||(Gt=ki(Ct,Ne,Me)),I(null!=Gt),pt(st),256>(It=xs(Gt.G[0],Gt.H[0],st)))De[bt+nt]=It,++nt,++Ne>=ht&&(Ne=0,++Me<=z&&!(Me%16)&&ws(xe,Me));else{if(!(280>It)){Jt=0;break t}It=ca(It-256,st);var Vn,Cn=xs(Gt.G[4],Gt.H[4],st);if(pt(st),!(nt>=(Cn=fa(ht,Cn=ca(Cn,st)))&&ct-nt>=It)){Jt=0;break t}for(Vn=0;Vn<It;++Vn)De[bt+nt+Vn]=De[bt+nt+Vn-Cn];for(nt+=It,Ne+=It;Ne>=ht;)Ne-=ht,++Me<=z&&!(Me%16)&&ws(xe,Me);nt<$t&&Ne&en&&(Gt=ki(Ct,Ne,Me))}I(st.h==Ge(st))}ws(xe,Me>z?z:Me);break t}!Jt||st.h&&nt<ct?(Jt=0,xe.a=st.h?5:3):xe.$=nt,z=Jt}else z=Ma(xe,xe.V,xe.Ba,xe.c,xe.i,z,Er);if(!z){le=0;break e}}X+le>=Ee&&(N.Cc=1),le=1}if(!le)return null;if(N.Cc&&(null!=(le=N.ga)&&(le.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+X*ye}function J(N,z,X,le,ye,Ee){for(;0<ye--;){var xe,De=N,Me=z+(X?1:0),Ne=N,st=z+(X?0:3);for(xe=0;xe<le;++xe){var Ct=Ne[st+4*xe];255!=Ct&&(De[Me+4*xe+0]=De[Me+4*xe+0]*(Ct*=32897)>>23,De[Me+4*xe+1]=De[Me+4*xe+1]*Ct>>23,De[Me+4*xe+2]=De[Me+4*xe+2]*Ct>>23)}z+=Ee}}function ve(N,z,X,le,ye){for(;0<le--;){var Ee;for(Ee=0;Ee<X;++Ee){var xe=N[z+2*Ee+0],De=15&(Ne=N[z+2*Ee+1]),Me=4369*De,Ne=(240&Ne|Ne>>4)*Me>>16;N[z+2*Ee+0]=(240&xe|xe>>4)*Me>>16&240|(15&xe|xe<<4)*Me>>16>>4&15,N[z+2*Ee+1]=240&Ne|De}z+=ye}}function Qe(N,z,X,le,ye,Ee,xe,De){var Me,Ne,st=255;for(Ne=0;Ne<ye;++Ne){for(Me=0;Me<le;++Me){var Ct=N[z+Me];Ee[xe+4*Me]=Ct,st&=Ct}z+=X,xe+=De}return 255!=st}function rt(N,z,X,le,ye){var Ee;for(Ee=0;Ee<ye;++Ee)X[le+Ee]=N[z+Ee]>>8}function yt(){Bl=J,po=ve,kc=Qe,Gh=rt}function At(N,z,X){Ye[N]=function(le,ye,Ee,xe,De,Me,Ne,st,Ct,bt,ht,Jt,It,nt,ct,$t,en){var Gt,Vn=en-1>>1,Cn=De[Me+0]|Ne[st+0]<<16,Gn=Ct[bt+0]|ht[Jt+0]<<16;I(null!=le);var xn=3*Cn+Gn+131074>>2;for(z(le[ye+0],255&xn,xn>>16,It,nt),null!=Ee&&z(Ee[xe+0],255&(xn=3*Gn+Cn+131074>>2),xn>>16,ct,$t),Gt=1;Gt<=Vn;++Gt){var ei=De[Me+Gt]|Ne[st+Gt]<<16,fi=Ct[bt+Gt]|ht[Jt+Gt]<<16,Gr=Cn+ei+Gn+fi+524296,zr=Gr+2*(ei+Gn)>>3;xn=zr+Cn>>1,Cn=(Gr=Gr+2*(Cn+fi)>>3)+ei>>1,z(le[ye+2*Gt-1],255&xn,xn>>16,It,nt+(2*Gt-1)*X),z(le[ye+2*Gt-0],255&Cn,Cn>>16,It,nt+(2*Gt-0)*X),null!=Ee&&(Cn=zr+fi>>1,z(Ee[xe+2*Gt-1],255&(xn=Gr+Gn>>1),xn>>16,ct,$t+(2*Gt-1)*X),z(Ee[xe+2*Gt+0],255&Cn,Cn>>16,ct,$t+(2*Gt+0)*X)),Cn=ei,Gn=fi}1&en||(z(le[ye+en-1],255&(xn=3*Cn+Gn+131074>>2),xn>>16,It,nt+(en-1)*X),null!=Ee&&z(Ee[xe+en-1],255&(xn=3*Gn+Cn+131074>>2),xn>>16,ct,$t+(en-1)*X))}}function sn(){Gs[Kd]=Rg,Gs[jf]=zf,Gs[Tg]=Ey,Gs[qd]=Ag,Gs[qc]=op,Gs[Hf]=sp,Gs[wg]=Vg,Gs[$d]=zf,Gs[Xu]=Ag,Gs[Uf]=op,Gs[Gd]=sp}function En(N){return N&~lp?0>N?0:255:N>>ap}function $n(N,z){return En((19077*N>>8)+(26149*z>>8)-14234)}function mr(N,z,X){return En((19077*N>>8)-(6419*z>>8)-(13320*X>>8)+8708)}function Sr(N,z){return En((19077*N>>8)+(33050*z>>8)-17685)}function Kr(N,z,X,le,ye){le[ye+0]=$n(N,X),le[ye+1]=mr(N,z,X),le[ye+2]=Sr(N,z)}function Ki(N,z,X,le,ye){le[ye+0]=Sr(N,z),le[ye+1]=mr(N,z,X),le[ye+2]=$n(N,X)}function Xi(N,z,X,le,ye){var Ee=mr(N,z,X);z=Ee<<3&224|Sr(N,z)>>3,le[ye+0]=248&$n(N,X)|Ee>>5,le[ye+1]=z}function fo(N,z,X,le,ye){var Ee=240&Sr(N,z)|15;le[ye+0]=240&$n(N,X)|mr(N,z,X)>>4,le[ye+1]=Ee}function Yo(N,z,X,le,ye){le[ye+0]=255,Kr(N,z,X,le,ye+1)}function ho(N,z,X,le,ye){Ki(N,z,X,le,ye),le[ye+3]=255}function Os(N,z,X,le,ye){Kr(N,z,X,le,ye),le[ye+3]=255}function ga(N,z){return 0>N?0:N>z?z:N}function Ks(N,z,X){Ye[N]=function(le,ye,Ee,xe,De,Me,Ne,st,Ct){for(var bt=st+(-2&Ct)*X;st!=bt;)z(le[ye+0],Ee[xe+0],De[Me+0],Ne,st),z(le[ye+1],Ee[xe+0],De[Me+0],Ne,st+X),ye+=2,++xe,++Me,st+=2*X;1&Ct&&z(le[ye+0],Ee[xe+0],De[Me+0],Ne,st)}}function Fc(N,z,X){return 0==X?0==N?0==z?6:5:0==z?4:0:X}function gu(N,z,X,le,ye){switch(N>>>30){case 3:_c(z,X,le,ye,0);break;case 2:ul(z,X,le,ye);break;case 1:ja(z,X,le,ye)}}function Af(N,z){var X,le,ye=z.M,Ee=z.Nb,xe=N.oc,De=N.pc+40,Me=N.oc,Ne=N.pc+584,st=N.oc,Ct=N.pc+600;for(X=0;16>X;++X)xe[De+32*X-1]=129;for(X=0;8>X;++X)Me[Ne+32*X-1]=129,st[Ct+32*X-1]=129;for(0<ye?xe[De-1-32]=Me[Ne-1-32]=st[Ct-1-32]=129:(q(xe,De-32-1,127,21),q(Me,Ne-32-1,127,9),q(st,Ct-32-1,127,9)),le=0;le<N.za;++le){var bt=z.ya[z.aa+le];if(0<le){for(X=-1;16>X;++X)_(xe,De+32*X-4,xe,De+32*X+12,4);for(X=-1;8>X;++X)_(Me,Ne+32*X-4,Me,Ne+32*X+4,4),_(st,Ct+32*X-4,st,Ct+32*X+4,4)}var ht=N.Gd,Jt=N.Hd+le,It=bt.ad,nt=bt.Hc;if(0<ye&&(_(xe,De-32,ht[Jt].y,0,16),_(Me,Ne-32,ht[Jt].f,0,8),_(st,Ct-32,ht[Jt].ea,0,8)),bt.Za){var ct=xe,$t=De-32+16;for(0<ye&&(le>=N.za-1?q(ct,$t,ht[Jt].y[15],4):_(ct,$t,ht[Jt+1].y,0,4)),X=0;4>X;X++)ct[$t+128+X]=ct[$t+256+X]=ct[$t+384+X]=ct[$t+0+X];for(X=0;16>X;++X,nt<<=2)Ha[bt.Ob[X]](ct=xe,$t=De+cp[X]),gu(nt,It,16*+X,ct,$t)}else if(ct=Fc(le,ye,bt.Ob[0]),cl[ct](xe,De),0!=nt)for(X=0;16>X;++X,nt<<=2)gu(nt,It,16*+X,xe,De+cp[X]);for(X=bt.Gc,ct=Fc(le,ye,bt.Dd),jl[ct](Me,Ne),jl[ct](st,Ct),nt=It,ct=Me,$t=Ne,255&(bt=X>>0)&&(170&bt?va(nt,256,ct,$t):mu(nt,256,ct,$t)),bt=st,nt=Ct,255&(X>>=8)&&(170&X?va(It,320,bt,nt):mu(It,320,bt,nt)),ye<N.Ub-1&&(_(ht[Jt].y,0,xe,De+480,16),_(ht[Jt].f,0,Me,Ne+224,8),_(ht[Jt].ea,0,st,Ct+224,8)),ht=N.sa,Jt=N.ta+16*le+16*Ee*N.R,It=N.qa,bt=N.ra+8*le+(X=8*Ee*N.B),nt=N.Ha,ct=N.Ia+8*le+X,X=0;16>X;++X)_(ht,Jt+X*N.R,xe,De+32*X,16);for(X=0;8>X;++X)_(It,bt+X*N.B,Me,Ne+32*X,8),_(nt,ct+X*N.B,st,Ct+32*X,8)}}function Nc(N,z,X,le,ye,Ee,xe,De,Me){var Ne=[0],st=[0],Ct=0,bt=null!=Me?Me.kd:0,ht=null!=Me?Me:new Rl;if(null==N||12>X)return 7;ht.data=N,ht.w=z,ht.ha=X,z=[z],X=[X],ht.gb=[ht.gb];e:{var Jt=z,It=X,nt=ht.gb;if(I(null!=N),I(null!=It),I(null!=nt),nt[0]=0,12<=It[0]&&!V(N,Jt[0],"RIFF")){if(V(N,Jt[0]+8,"WEBP")){nt=3;break e}var ct=An(N,Jt[0]+4);if(12>ct||4294967286<ct){nt=3;break e}if(bt&&ct>It[0]-8){nt=7;break e}nt[0]=ct,Jt[0]+=12,It[0]-=12}nt=0}if(0!=nt)return nt;for(ct=0<ht.gb[0],X=X[0];;){e:{var $t=N;It=z,nt=X;var en=Ne,Gt=st,Vn=Jt=[0];if((xn=Ct=[Ct])[0]=0,8>nt[0])nt=7;else{if(!V($t,It[0],"VP8X")){if(10!=An($t,It[0]+4)){nt=3;break e}if(18>nt[0]){nt=7;break e}var Cn=An($t,It[0]+8),Gn=1+Sn($t,It[0]+12);if(2147483648<=Gn*($t=1+Sn($t,It[0]+15))){nt=3;break e}null!=Vn&&(Vn[0]=Cn),null!=en&&(en[0]=Gn),null!=Gt&&(Gt[0]=$t),It[0]+=18,nt[0]-=18,xn[0]=1}nt=0}}if(Ct=Ct[0],0!=nt)return nt;if(It=!!(2&(Jt=Jt[0])),!ct&&Ct)return 3;if(null!=Ee&&(Ee[0]=!!(16&Jt)),null!=xe&&(xe[0]=It),null!=De&&(De[0]=0),xe=Ne[0],Jt=st[0],Ct&&It&&null==Me){nt=0;break}if(4>X){nt=7;break}if(ct&&Ct||!ct&&!Ct&&!V(N,z[0],"ALPH")){X=[X],ht.na=[ht.na],ht.P=[ht.P],ht.Sa=[ht.Sa];e:{nt=z,ct=X;var xn=ht.gb;en=ht.na,Gt=ht.P,Vn=ht.Sa,Gn=22,I(null!=(Cn=N)),I(null!=ct),$t=nt[0];var ei=ct[0];for(I(null!=en),I(null!=Vn),en[0]=null,Gt[0]=null,Vn[0]=0;;){if(nt[0]=$t,ct[0]=ei,8>ei){nt=7;break e}var fi=An(Cn,$t+4);if(4294967286<fi){nt=3;break e}var Gr=8+fi+1&-2;if(Gn+=Gr,0<xn&&Gn>xn){nt=3;break e}if(!V(Cn,$t,"VP8 ")||!V(Cn,$t,"VP8L")){nt=0;break e}if(ei[0]<Gr){nt=7;break e}V(Cn,$t,"ALPH")||(en[0]=Cn,Gt[0]=$t+8,Vn[0]=fi),$t+=Gr,ei-=Gr}}if(X=X[0],ht.na=ht.na[0],ht.P=ht.P[0],ht.Sa=ht.Sa[0],0!=nt)break}X=[X],ht.Ja=[ht.Ja],ht.xa=[ht.xa];e:if(xn=N,nt=z,ct=X,en=ht.gb[0],Gt=ht.Ja,Vn=ht.xa,Cn=nt[0],$t=!V(xn,Cn,"VP8 "),Gn=!V(xn,Cn,"VP8L"),I(null!=xn),I(null!=ct),I(null!=Gt),I(null!=Vn),8>ct[0])nt=7;else{if($t||Gn){if(xn=An(xn,Cn+4),12<=en&&xn>en-12){nt=3;break e}if(bt&&xn>ct[0]-8){nt=7;break e}Gt[0]=xn,nt[0]+=8,ct[0]-=8,Vn[0]=Gn}else Vn[0]=5<=ct[0]&&47==xn[Cn+0]&&!(xn[Cn+4]>>5),Gt[0]=ct[0];nt=0}if(X=X[0],ht.Ja=ht.Ja[0],ht.xa=ht.xa[0],z=z[0],0!=nt)break;if(4294967286<ht.Ja)return 3;if(null==De||It||(De[0]=ht.xa?2:1),xe=[xe],Jt=[Jt],ht.xa){if(5>X){nt=7;break}De=xe,bt=Jt,It=Ee,null==N||5>X?N=0:5<=X&&47==N[z+0]&&!(N[z+4]>>5)?(ct=[0],xn=[0],en=[0],Dt(Gt=new Te,N,z,X),tr(Gt,ct,xn,en)?(null!=De&&(De[0]=ct[0]),null!=bt&&(bt[0]=xn[0]),null!=It&&(It[0]=en[0]),N=1):N=0):N=0}else{if(10>X){nt=7;break}De=Jt,null==N||10>X||!Dc(N,z+3,X-3)?N=0:(bt=N[z+0]|N[z+1]<<8|N[z+2]<<16,It=16383&(N[z+7]<<8|N[z+6]),N=16383&(N[z+9]<<8|N[z+8]),1&bt||3<(bt>>1&7)||!(bt>>4&1)||bt>>5>=ht.Ja||!It||!N?N=0:(xe&&(xe[0]=It),De&&(De[0]=N),N=1))}if(!N||(xe=xe[0],Jt=Jt[0],Ct&&(Ne[0]!=xe||st[0]!=Jt)))return 3;null!=Me&&(Me[0]=ht,Me.offset=z-Me.w,I(4294967286>z-Me.w),I(Me.offset==Me.ha-X));break}return 0==nt||7==nt&&Ct&&null==Me?(null!=Ee&&(Ee[0]|=null!=ht.na&&0<ht.na.length),null!=le&&(le[0]=xe),null!=ye&&(ye[0]=Jt),0):nt}function Vf(N,z,X){var le=z.width,ye=z.height,Ee=0,xe=0,De=le,Me=ye;if(z.Da=null!=N&&0<N.Da,z.Da&&(De=N.cd,Me=N.bd,Ee=N.v,xe=N.j,11>X||(Ee&=-2,xe&=-2),0>Ee||0>xe||0>=De||0>=Me||Ee+De>le||xe+Me>ye))return 0;if(z.v=Ee,z.j=xe,z.va=Ee+De,z.o=xe+Me,z.U=De,z.T=Me,z.da=null!=N&&0<N.da,z.da){if(!hr(De,Me,X=[N.ib],Ee=[N.hb]))return 0;z.ib=X[0],z.hb=Ee[0]}return z.ob=null!=N&&N.ob,z.Kb=null==N||!N.Sd,z.da&&(z.ob=z.ib<3*le/4&&z.hb<3*ye/4,z.Kb=0),1}function Bc(N){if(null==N)return 2;if(11>N.S){var z=N.f.RGBA;z.fb+=(N.height-1)*z.A,z.A=-z.A}else(z=N.f.kb).O+=((N=N.height)-1)*z.fa,z.fa=-z.fa,z.N+=(N-1>>1)*z.Ab,z.Ab=-z.Ab,z.W+=(N-1>>1)*z.Db,z.Db=-z.Db,null!=z.F&&(z.J+=(N-1)*z.lb,z.lb=-z.lb);return 0}function jc(N,z,X,le){if(null==le||0>=N||0>=z)return 2;if(null!=X){if(X.Da){var ye=X.cd,Ee=X.bd,xe=-2&X.v,De=-2&X.j;if(0>xe||0>De||0>=ye||0>=Ee||xe+ye>N||De+Ee>z)return 2;N=ye,z=Ee}if(X.da){if(!hr(N,z,ye=[X.ib],Ee=[X.hb]))return 2;N=ye[0],z=Ee[0]}}le.width=N,le.height=z;e:{var Me=le.width,Ne=le.height;if(N=le.S,0>=Me||0>=Ne||!(N>=Kd&&13>N))N=2;else{if(0>=le.Rd&&null==le.sd){xe=Ee=ye=z=0;var st=(De=Me*bu[N])*Ne;if(11>N||(Ee=(Ne+1)/2*(z=(Me+1)/2),12==N&&(xe=(ye=Me)*Ne)),null==(Ne=Q(st+2*Ee+xe))){N=1;break e}le.sd=Ne,11>N?((Me=le.f.RGBA).eb=Ne,Me.fb=0,Me.A=De,Me.size=st):((Me=le.f.kb).y=Ne,Me.O=0,Me.fa=De,Me.Fd=st,Me.f=Ne,Me.N=0+st,Me.Ab=z,Me.Cd=Ee,Me.ea=Ne,Me.W=0+st+Ee,Me.Db=z,Me.Ed=Ee,12==N&&(Me.F=Ne,Me.J=0+st+2*Ee),Me.Tc=xe,Me.lb=ye)}if(z=1,Ee=le.width,xe=le.height,(ye=le.S)>=Kd&&13>ye)if(11>ye)N=le.f.RGBA,z&=(De=Math.abs(N.A))*(xe-1)+Ee<=N.size,z&=De>=Ee*bu[ye],z&=null!=N.eb;else{N=le.f.kb,De=(Ee+1)/2,st=(xe+1)/2,Me=Math.abs(N.fa),Ne=Math.abs(N.Ab);var Ct=Math.abs(N.Db),bt=Math.abs(N.lb);z&=Me*(xe-1)+Ee<=N.Fd,z&=Ne*(st-1)+De<=N.Cd,z=(z&=Ct*(st-1)+De<=N.Ed)&Me>=Ee&Ne>=De&Ct>=De,z&=null!=N.y,z&=null!=N.f,z&=null!=N.ea,12==ye&&(z&=bt>=Ee,z&=bt*(xe-1)+Ee<=N.Tc,z&=null!=N.F)}else z=0;N=z?0:2}}return 0!=N||null!=X&&X.fd&&(N=Bc(le)),N}var Bo=64,Yu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Hc=24,Nn=32,Uc=8,Ms=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];bn("Predictor0","PredictorAdd0"),Ye.Predictor0=function(){return 4278190080},Ye.Predictor1=function(N){return N},Ye.Predictor2=function(N,z,X){return z[X+0]},Ye.Predictor3=function(N,z,X){return z[X+1]},Ye.Predictor4=function(N,z,X){return z[X-1]},Ye.Predictor5=function(N,z,X){return Dn(Dn(N,z[X+1]),z[X+0])},Ye.Predictor6=function(N,z,X){return Dn(N,z[X-1])},Ye.Predictor7=function(N,z,X){return Dn(N,z[X+0])},Ye.Predictor8=function(N,z,X){return Dn(z[X-1],z[X+0])},Ye.Predictor9=function(N,z,X){return Dn(z[X+0],z[X+1])},Ye.Predictor10=function(N,z,X){return Dn(Dn(N,z[X-1]),Dn(z[X+0],z[X+1]))},Ye.Predictor11=function(N,z,X){var le=z[X+0];return 0>=Dr(le>>24&255,N>>24&255,(z=z[X-1])>>24&255)+Dr(le>>16&255,N>>16&255,z>>16&255)+Dr(le>>8&255,N>>8&255,z>>8&255)+Dr(255&le,255&N,255&z)?le:N},Ye.Predictor12=function(N,z,X){var le=z[X+0];return(Qn((N>>24&255)+(le>>24&255)-((z=z[X-1])>>24&255))<<24|Qn((N>>16&255)+(le>>16&255)-(z>>16&255))<<16|Qn((N>>8&255)+(le>>8&255)-(z>>8&255))<<8|Qn((255&N)+(255&le)-(255&z)))>>>0},Ye.Predictor13=function(N,z,X){var le=z[X-1];return(pr((N=Dn(N,z[X+0]))>>24&255,le>>24&255)<<24|pr(N>>16&255,le>>16&255)<<16|pr(N>>8&255,le>>8&255)<<8|pr(N>>0&255,le>>0&255))>>>0};var Lf=Ye.PredictorAdd0;Ye.PredictorAdd1=Vr,bn("Predictor2","PredictorAdd2"),bn("Predictor3","PredictorAdd3"),bn("Predictor4","PredictorAdd4"),bn("Predictor5","PredictorAdd5"),bn("Predictor6","PredictorAdd6"),bn("Predictor7","PredictorAdd7"),bn("Predictor8","PredictorAdd8"),bn("Predictor9","PredictorAdd9"),bn("Predictor10","PredictorAdd10"),bn("Predictor11","PredictorAdd11"),bn("Predictor12","PredictorAdd12"),bn("Predictor13","PredictorAdd13");var Al=Ye.PredictorAdd2;kn("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),kn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var Qd,Fa=Ye.ColorIndexInverseTransform,Ff=Ye.MapARGB,Wc=Ye.VP8LColorIndexInverseTransformAlpha,ll=Ye.MapAlpha,Vl=Ye.VP8LPredictorsAdd=[];Vl.length=16,(Ye.VP8LPredictors=[]).length=16,(Ye.VP8LPredictorsAdd_C=[]).length=16,(Ye.VP8LPredictors_C=[]).length=16;var ds,Na,Ll,ma,ya,Zu,Ba,_c,ul,va,ja,mu,yu,zc,Qc,vu,Nf,Ca,Fl,Ai,Lr,ro,wo,Nl,Bl,po,kc,Gh,Jh=Q(511),Zo=Q(2041),Kc=Q(225),kd=Q(767),xg=0,Yh=Zo,Bf=Kc,qs=kd,$s=Jh,Kd=0,jf=1,Tg=2,qd=3,qc=4,Hf=5,wg=6,$d=7,Xu=8,Uf=9,Gd=10,Zh=[2,3,7],Xh=[3,3,11],ep=[280,256,256,256,40],Fb=[0,1,1,1,0],$c=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],tp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Dg=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],vy=8,Wf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],np=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_f=null,Cy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],by=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ig=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Py=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Og=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],rp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Mg=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],cl=[],Ha=[],jl=[],Sg=1,ip=2,Ss=[],Gs=[];At("UpsampleRgbLinePair",Kr,3),At("UpsampleBgrLinePair",Ki,3),At("UpsampleRgbaLinePair",Os,4),At("UpsampleBgraLinePair",ho,4),At("UpsampleArgbLinePair",Yo,4),At("UpsampleRgba4444LinePair",fo,2),At("UpsampleRgb565LinePair",Xi,2);var Rg=Ye.UpsampleRgbLinePair,Ey=Ye.UpsampleBgrLinePair,zf=Ye.UpsampleRgbaLinePair,Ag=Ye.UpsampleBgraLinePair,op=Ye.UpsampleArgbLinePair,sp=Ye.UpsampleRgba4444LinePair,Vg=Ye.UpsampleRgb565LinePair,Gc=16,Qf=1<<Gc-1,Cu=-227,Jc=482,ap=6,lp=(256<<ap)-1,Jd=0,up=Q(256),kf=Q(256),xy=Q(256),Lg=Q(256),Ty=Q(Jc-Cu),wy=Q(Jc-Cu);Ks("YuvToRgbRow",Kr,3),Ks("YuvToBgrRow",Ki,3),Ks("YuvToRgbaRow",Os,4),Ks("YuvToBgraRow",ho,4),Ks("YuvToArgbRow",Yo,4),Ks("YuvToRgba4444Row",fo,2),Ks("YuvToRgb565Row",Xi,2);var cp=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Yc=[0,2,8],Yd=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(N,z,X,le,ye){var Ee=jf,xe=new du,De=new To;xe.ba=De,De.S=Ee,De.width=[De.width],De.height=[De.height];var Me=De.width,Ne=De.height,st=new tl;if(null==st||null==N)var Ct=2;else I(null!=st),Ct=Nc(N,z,X,st.width,st.height,st.Pd,st.Qd,st.format,null);if(0!=Ct?Me=0:(null!=Me&&(Me[0]=st.width[0]),null!=Ne&&(Ne[0]=st.height[0]),Me=1),Me){De.width=De.width[0],De.height=De.height[0],null!=le&&(le[0]=De.width),null!=ye&&(ye[0]=De.height);e:{if(le=new wc,(ye=new Rl).data=N,ye.w=z,ye.ha=X,ye.kd=1,z=[0],I(null!=ye),(0==(N=Nc(ye.data,ye.w,ye.ha,null,null,null,z,null,ye))||7==N)&&z[0]&&(N=4),0==(z=N)){if(I(null!=xe),le.data=ye.data,le.w=ye.w+ye.offset,le.ha=ye.ha-ye.offset,le.put=nl,le.ac=Go,le.bc=ua,le.ma=xe,ye.xa){if(null==(N=Ii())){xe=1;break e}if(function(bt,ht){var Jt=[0],It=[0],nt=[0];t:for(;;){if(null==bt)return 0;if(null==ht)return bt.a=2,0;if(bt.l=ht,bt.a=0,Dt(bt.m,ht.data,ht.w,ht.ha),!tr(bt.m,Jt,It,nt)){bt.a=3;break t}if(bt.xb=ip,ht.width=Jt[0],ht.height=It[0],!Jo(Jt[0],It[0],1,bt,null))break t;return 1}return I(0!=bt.a),0}(N,le)){if(le=0==(z=jc(le.width,le.height,xe.Oa,xe.ba))){t:{le=N;n:for(;;){if(null==le){le=0;break t}if(I(null!=le.s.yc),I(null!=le.s.Ya),I(0<le.s.Wb),I(null!=(X=le.l)),I(null!=(ye=X.ma)),0!=le.xb){if(le.ca=ye.ba,le.tb=ye.tb,I(null!=le.ca),!Vf(ye.Oa,X,qd)){le.a=2;break n}if(!ci(le,X.width)||X.da)break n;if((X.da||ui(le.ca.S))&&yt(),11>le.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=le.ca.f.kb.F&&yt()),le.Pb&&0<le.s.ua&&null==le.s.vb.X&&!ir(le.s.vb,le.s.Wa.Xa)){le.a=1;break n}le.xb=0}if(!Ma(le,le.V,le.Ba,le.c,le.i,X.o,ku))break n;ye.Dc=le.Ma,le=1;break t}I(0!=le.a),le=0}le=!le}le&&(z=N.a)}else z=N.a}else{if(null==(N=new Kh)){xe=1;break e}if(N.Fa=ye.na,N.P=ye.P,N.qc=ye.Sa,Sd(N,le)){if(0==(z=jc(le.width,le.height,xe.Oa,xe.ba))){if(N.Aa=0,X=xe.Oa,I(null!=(ye=N)),null!=X){if(0<(Me=0>(Me=X.Md)?0:100<Me?255:255*Me/100)){for(Ne=st=0;4>Ne;++Ne)12>(Ct=ye.pb[Ne]).lc&&(Ct.ia=Me*Yd[0>Ct.lc?0:Ct.lc]>>3),st|=Ct.ia;st&&(alert("todo:VP8InitRandom"),ye.ia=1)}ye.Ga=X.Id,100<ye.Ga?ye.Ga=100:0>ye.Ga&&(ye.Ga=0)}(function Cg(N,z){if(null==N)return 0;if(null==z)return Ri(N,2,"NULL VP8Io parameter in VP8Decode().");if(!N.cb&&!Sd(N,z))return 0;if(I(N.cb),null==z.ac||z.ac(z)){z.ob&&(N.L=0);var X=Yc[N.L];if(2==N.L?(N.yb=0,N.zb=0):(N.yb=z.v-X>>4,N.zb=z.j-X>>4,0>N.yb&&(N.yb=0),0>N.zb&&(N.zb=0)),N.Va=z.o+15+X>>4,N.Hb=z.va+15+X>>4,N.Hb>N.za&&(N.Hb=N.za),N.Va>N.Ub&&(N.Va=N.Ub),0<N.L){var le=N.ed;for(X=0;4>X;++X){var ye;if(N.Qa.Cb){var Ee=N.Qa.Lb[X];N.Qa.Fb||(Ee+=le.Tb)}else Ee=le.Tb;for(ye=0;1>=ye;++ye){var xe=N.gd[X][ye],De=Ee;if(le.Pc&&(De+=le.vd[0],ye&&(De+=le.od[0])),0<(De=0>De?0:63<De?63:De)){var Me=De;0<le.wb&&(Me=4<le.wb?Me>>2:Me>>1)>9-le.wb&&(Me=9-le.wb),1>Me&&(Me=1),xe.dd=Me,xe.tc=2*De+Me,xe.ld=40<=De?2:15<=De?1:0}else xe.tc=0;xe.La=ye}}}X=0}else Ri(N,6,"Frame setup failed"),X=N.a;if(X=0==X){if(X){N.$c=0,0<N.Aa||(N.Ic=1);e:{le=4*(Me=N.za);var Ne=32*Me,st=Me+1,Ct=0<N.L?Me*(0<N.Aa?2:1):0,bt=(2==N.Aa?2:1)*Me;if((xe=le+832+(ye=3*(16*(X=N.Ic)+Yc[N.L])/2*Ne)+(Ee=null!=N.Fa&&0<N.Fa.length?N.Kc.c*N.Kc.i:0))!=xe)X=0;else{if(xe>N.Vb){if(N.Vb=0,N.Ec=Q(xe),N.Fc=0,null==N.Ec){X=Ri(N,1,"no memory during frame initialization.");break e}N.Vb=xe}De=N.Fc,N.Ac=xe=N.Ec,N.Bc=De,De+=le,N.Gd=Y(Ne,Ra),N.Hd=0,N.rb=Y(st+1,Ku),N.sb=1,N.wa=Ct?Y(Ct,Tl):null,N.Y=0,N.D.Nb=0,N.D.wa=N.wa,N.D.Y=N.Y,0<N.Aa&&(N.D.Y+=Me),I(!0),N.oc=xe,N.pc=De,De+=832,N.ya=Y(bt,Tc),N.aa=0,N.D.ya=N.ya,N.D.aa=N.aa,2==N.Aa&&(N.D.aa+=Me),N.R=16*Me,N.B=8*Me,Me=(Ne=Yc[N.L])*N.R,Ne=Ne/2*N.B,N.sa=xe,N.ta=De+Me,N.qa=N.sa,N.ra=N.ta+16*X*N.R+Ne,N.Ha=N.qa,N.Ia=N.ra+8*X*N.B+Ne,N.$c=0,De+=ye,N.mb=Ee?xe:null,N.nb=Ee?De:null,I(De+Ee<=N.Fc+N.Vb),Ad(N),q(N.Ac,N.Bc,0,le),X=1}}if(X){if(z.ka=0,z.y=N.sa,z.O=N.ta,z.f=N.qa,z.N=N.ra,z.ea=N.Ha,z.Vd=N.Ia,z.fa=N.R,z.Rc=N.B,z.F=null,z.J=0,!xg){for(X=-255;255>=X;++X)Jh[255+X]=0>X?-X:X;for(X=-1020;1020>=X;++X)Zo[1020+X]=-128>X?-128:127<X?127:X;for(X=-112;112>=X;++X)Kc[112+X]=-16>X?-16:15<X?15:X;for(X=-255;510>=X;++X)kd[255+X]=0>X?0:255<X?255:X;xg=1}Ba=If,_c=Vd,va=wl,ja=qh,mu=Dl,ul=Df,yu=Ud,zc=Vc,Qc=Eg,vu=Sl,Nf=Pg,Ca=Rf,Fl=Wd,Ai=Zi,Lr=Ml,ro=uu,wo=cu,Nl=Cr,Ha[0]=Aa,Ha[1]=bg,Ha[2]=Nd,Ha[3]=Bd,Ha[4]=Of,Ha[5]=Sc,Ha[6]=jd,Ha[7]=lu,Ha[8]=$h,Ha[9]=Ju,cl[0]=Oc,cl[1]=Fd,cl[2]=Il,cl[3]=Ic,cl[4]=No,cl[5]=Mc,cl[6]=Gu,jl[0]=rn,jl[1]=Ld,jl[2]=Hd,jl[3]=Rc,jl[4]=Va,jl[5]=Mf,jl[6]=sl,X=1}else X=0}X&&(X=function(ht,Jt){for(ht.M=0;ht.M<ht.Va;++ht.M){var It,nt=ht.Jc[ht.M&ht.Xb],ct=ht.m,$t=ht;for(It=0;It<$t.za;++It){var en=ct,Gt=$t,Vn=Gt.Ac,Cn=Gt.Bc+4*It,Gn=Gt.zc,xn=Gt.ya[Gt.aa+It];if(xn.$b=Gt.Qa.Bb?Rt(en,Gt.Pa.jb[0])?2+Rt(en,Gt.Pa.jb[2]):Rt(en,Gt.Pa.jb[1]):0,Gt.kc&&(xn.Ad=Rt(en,Gt.Bd)),xn.Za=!Rt(en,145)+0,xn.Za){var ei=xn.Ob,fi=0;for(Gt=0;4>Gt;++Gt){var Gr,zr=Gn[0+Gt];for(Gr=0;4>Gr;++Gr){for(var xi=Ig[Rt(en,(zr=Og[Vn[Cn+Gr]][zr])[0])];0<xi;)xi=Ig[2*xi+Rt(en,zr[xi])];Vn[Cn+Gr]=zr=-xi}_(ei,fi,Vn,Cn,4),fi+=4,Gn[0+Gt]=zr}}else zr=Rt(en,156)?Rt(en,128)?1:3:Rt(en,163)?2:0,xn.Ob[0]=zr,q(Vn,Cn,zr,4),q(Gn,0,zr,4);xn.Dd=Rt(en,142)?Rt(en,114)?Rt(en,183)?1:3:2:0}if($t.m.Ka)return Ri(ht,7,"Premature end-of-partition0 encountered.");for(;ht.ja<ht.za;++ht.ja){if($t=nt,en=(ct=ht).rb[ct.sb-1],Vn=ct.rb[ct.sb+ct.ja],It=ct.ya[ct.aa+ct.ja],Cn=ct.kc?It.Ad:0)en.la=Vn.la=0,It.Za||(en.Na=Vn.Na=0),It.Hc=0,It.Gc=0,It.ia=0;else{var Yr,br;if(en=Vn,Vn=$t,Cn=ct.Pa.Xc,xn=ct.pb[(Gn=ct.ya[ct.aa+ct.ja]).$b],fi=ct.rb[ct.sb-1],zr=Gr=0,q(Gt=Gn.ad,ei=0,0,384),Gn.Za)var di=0,jo=Cn[3];else{xi=Q(16);var io=en.Na+fi.Na;if(io=_f(Vn,Cn[1],io,xn.Eb,0,xi,0),en.Na=fi.Na=(0<io)+0,1<io)Ba(xi,0,Gt,ei);else{var ys=xi[0]+3>>3;for(xi=0;256>xi;xi+=16)Gt[ei+xi]=ys}di=1,jo=Cn[0]}var oi=15&en.la,ba=15&fi.la;for(xi=0;4>xi;++xi){var Pa=1&ba;for(ys=br=0;4>ys;++ys)oi=oi>>1|(Pa=(io=_f(Vn,jo,io=Pa+(1&oi),xn.Sc,di,Gt,ei))>di)<<7,br=br<<2|(3<io?3:1<io?2:0!=Gt[ei+0]),ei+=16;oi>>=4,ba=ba>>1|Pa<<7,Gr=(Gr<<8|br)>>>0}for(jo=oi,di=ba>>4,Yr=0;4>Yr;Yr+=2){for(br=0,oi=en.la>>4+Yr,ba=fi.la>>4+Yr,xi=0;2>xi;++xi){for(Pa=1&ba,ys=0;2>ys;++ys)oi=oi>>1|(Pa=0<(io=_f(Vn,Cn[2],io=Pa+(1&oi),xn.Qc,0,Gt,ei)))<<3,br=br<<2|(3<io?3:1<io?2:0!=Gt[ei+0]),ei+=16;oi>>=2,ba=ba>>1|Pa<<5}zr|=br<<4*Yr,jo|=oi<<4<<Yr,di|=(240&ba)<<Yr}en.la=jo,fi.la=di,Gn.Hc=Gr,Gn.Gc=zr,Gn.ia=43690&zr?0:xn.ia,Cn=!(Gr|zr)}if(0<ct.L&&(ct.wa[ct.Y+ct.ja]=ct.gd[It.$b][It.Za],ct.wa[ct.Y+ct.ja].La|=!Cn),$t.Ka)return Ri(ht,7,"Premature end-of-file encountered.")}if(Ad(ht),ct=Jt,$t=1,It=(nt=ht).D,en=0<nt.L&&nt.M>=nt.zb&&nt.M<=nt.Va,0==nt.Aa)e:{if(It.M=nt.M,It.uc=en,Af(nt,It),$t=1,It=(br=nt.D).Nb,en=(zr=Yc[nt.L])*nt.R,Cn=nt.sa,Gn=nt.ta-en+(xi=16*It*nt.R),xn=nt.qa,Gt=nt.ra-(Vn=zr/2*nt.B)+(ys=8*It*nt.B),ei=nt.Ha,fi=nt.Ia-Vn+ys,ba=0==(oi=br.M),Gr=oi>=nt.Va-1,2==nt.Aa&&Af(nt,br),br.uc)for(Pa=(io=nt).D.M,I(io.D.uc),br=io.yb;br<io.Hb;++br){jo=Pa;var Xo=(Do=(eo=io).D).Nb,Do=Do.wa[Do.Y+(di=br)],es=eo.sa,Rs=eo.ta+16*Xo*(Yr=eo.R)+16*di,Hl=Do.dd,ts=Do.tc;if(0!=ts)if(I(3<=ts),1==eo.L)0<di&&ro(es,Rs,Yr,ts+4),Do.La&&Nl(es,Rs,Yr,ts),0<jo&&Lr(es,Rs,Yr,ts+4),Do.La&&wo(es,Rs,Yr,ts);else{var fl=eo.B,ec=eo.qa,Zc=eo.ra+8*Xo*fl+8*di,Pu=eo.Ha,eo=eo.Ia+8*Xo*fl+8*di;Xo=Do.ld,0<di&&(zc(es,Rs,Yr,ts+4,Hl,Xo),vu(ec,Zc,Pu,eo,fl,ts+4,Hl,Xo)),Do.La&&(Ca(es,Rs,Yr,ts,Hl,Xo),Ai(ec,Zc,Pu,eo,fl,ts,Hl,Xo)),0<jo&&(yu(es,Rs,Yr,ts+4,Hl,Xo),Qc(ec,Zc,Pu,eo,fl,ts+4,Hl,Xo)),Do.La&&(Nf(es,Rs,Yr,ts,Hl,Xo),Fl(ec,Zc,Pu,eo,fl,ts,Hl,Xo))}}if(nt.ia&&alert("todo:DitherRow"),null!=ct.put){if(br=16*oi,oi=16*(oi+1),ba?(ct.y=nt.sa,ct.O=nt.ta+xi,ct.f=nt.qa,ct.N=nt.ra+ys,ct.ea=nt.Ha,ct.W=nt.Ia+ys):(br-=zr,ct.y=Cn,ct.O=Gn,ct.f=xn,ct.N=Gt,ct.ea=ei,ct.W=fi),Gr||(oi-=zr),oi>ct.o&&(oi=ct.o),ct.F=null,ct.J=null,null!=nt.Fa&&0<nt.Fa.length&&br<oi&&(ct.J=Lc(nt,ct,br,oi-br),ct.F=nt.mb,null==ct.F&&0==ct.F.length)){$t=Ri(nt,3,"Could not decode alpha data.");break e}br<ct.j&&(zr=ct.j-br,br=ct.j,I(!(1&zr)),ct.O+=nt.R*zr,ct.N+=nt.B*(zr>>1),ct.W+=nt.B*(zr>>1),null!=ct.F&&(ct.J+=ct.width*zr)),br<oi&&(ct.O+=ct.v,ct.N+=ct.v>>1,ct.W+=ct.v>>1,null!=ct.F&&(ct.J+=ct.v),ct.ka=br-ct.j,ct.U=ct.va-ct.v,ct.T=oi-br,$t=ct.put(ct))}It+1!=nt.Ic||Gr||(_(nt.sa,nt.ta-en,Cn,Gn+16*nt.R,en),_(nt.qa,nt.ra-Vn,xn,Gt+8*nt.B,Vn),_(nt.Ha,nt.Ia-Vn,ei,fi+8*nt.B,Vn))}if(!$t)return Ri(ht,6,"Output aborted.")}return 1}(N,z)),null!=z.bc&&z.bc(z),X&=1}return X?(N.cb=0,X):0})(N,le)||(z=N.a)}}else z=N.a}0==z&&null!=xe.Oa&&xe.Oa.fd&&(z=Bc(xe.ba))}xe=z}Ee=0!=xe?null:11>Ee?De.f.RGBA.eb:De.f.kb.y}else Ee=null;return Ee};var bu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function pe(Ye,Kt){for(var jt="",Be=0;Be<4;Be++)jt+=String.fromCharCode(Ye[Kt++]);return jt}function Ce(Ye,Kt){return(Ye[Kt+0]<<0|Ye[Kt+1]<<8|Ye[Kt+2]<<16)>>>0}function we(Ye,Kt){return(Ye[Kt+0]<<0|Ye[Kt+1]<<8|Ye[Kt+2]<<16|Ye[Kt+3]<<24)>>>0}new te;var Oe=[0],ue=[0],_e=[],Re=new te,qe=O,Ie=function(Ye,Kt){var jt={},Be=0,Fe=!1,ot=0,et=0;if(jt.frames=[],!function(Ue,Ge,lt,pt){for(var vt=0;vt<4;vt++)if(Ue[Ge+vt]!="RIFF".charCodeAt(vt))return!0;return!1}(Ye,Kt)){var Ht,Mt;for(we(Ye,Kt+=4),Kt+=8;Kt<Ye.length;){var zt=pe(Ye,Kt),Dt=we(Ye,Kt+=4);Kt+=4;var qt=Dt+(1&Dt);switch(zt){case"VP8 ":case"VP8L":void 0===jt.frames[Be]&&(jt.frames[Be]={}),(Te=jt.frames[Be]).src_off=Fe?et:Kt-8,Te.src_size=ot+Dt+8,Be++,Fe&&(Fe=!1,ot=0,et=0);break;case"VP8X":(Te=jt.header={}).feature_flags=Ye[Kt];var St=Kt+4;Te.canvas_width=1+Ce(Ye,St),Te.canvas_height=1+Ce(Ye,St+=3),St+=3;break;case"ALPH":Fe=!0,ot=qt+8,et=Kt-8;break;case"ANIM":(Te=jt.header).bgcolor=we(Ye,Kt),Te.loop_count=(Ht=Ye)[(Mt=St=Kt+4)+0]<<0|Ht[Mt+1]<<8,St+=2;break;case"ANMF":var In,Te;(Te=jt.frames[Be]={}).offset_x=2*Ce(Ye,Kt),Te.offset_y=2*Ce(Ye,Kt+=3),Te.width=1+Ce(Ye,Kt+=3),Te.height=1+Ce(Ye,Kt+=3),Te.duration=Ce(Ye,Kt+=3),Kt+=3,In=Ye[Kt++],Te.dispose=1&In,Te.blend=In>>1&1}"ANMF"!=zt&&(Kt+=qt)}return jt}}(qe,0);Ie.response=qe,Ie.rgbaoutput=!0,Ie.dataurl=!1;var ze=Ie.header?Ie.header:null,at=Ie.frames?Ie.frames:null;if(ze){ze.loop_counter=ze.loop_count,Oe=[ze.canvas_height],ue=[ze.canvas_width];for(var Et=0;Et<at.length&&0!=at[Et].blend;Et++);}var Ft=at[0],Yt=Re.WebPDecodeRGBA(qe,Ft.src_off,Ft.src_size,ue,Oe);Ft.rgba=Yt,Ft.imgwidth=ue[0],Ft.imgheight=Oe[0];for(var wt=0;wt<ue[0]*Oe[0]*4;wt++)_e[wt]=Yt[wt];return this.width=ue,this.height=Oe,this.data=_e,this}(function(O){var V=function(Oe,ue,_e,Re){var qe=4,Ie=Y;switch(Re){case O.image_compression.FAST:qe=1,Ie=Q;break;case O.image_compression.MEDIUM:qe=6,Ie=ee;break;case O.image_compression.SLOW:qe=9,Ie=te}var ze=Ps(Oe=_(Oe,ue,_e,Ie),{level:qe});return O.__addimage__.arrayBufferToBinaryString(ze)},_=function(Oe,ue,_e,Re){for(var qe,Ie,ze,at=Oe.length/ue,Et=new Uint8Array(Oe.length+at),Ft=Ce(),Yt=0;Yt<at;Yt+=1){if(qe=Oe.subarray(ze=Yt*ue,ze+ue),Re)Et.set(Re(qe,_e,Ie),ze+Yt);else{for(var wt,Ye=Ft.length,Kt=[];wt<Ye;wt+=1)Kt[wt]=Ft[wt](qe,_e,Ie);var jt=we(Kt.concat());Et.set(Kt[jt],ze+Yt)}Ie=qe}return Et},q=function(Oe){var ue=Array.apply([],Oe);return ue.unshift(0),ue},Q=function(Oe,ue){var Re=[],qe=Oe.length;Re[0]=1;for(var Ie=0;Ie<qe;Ie+=1)Re[Ie+1]=Oe[Ie]-(Oe[Ie-ue]||0)+256&255;return Re},Y=function(Oe,ue,_e){var qe=[],Ie=Oe.length;qe[0]=2;for(var ze=0;ze<Ie;ze+=1)qe[ze+1]=Oe[ze]-(_e&&_e[ze]||0)+256&255;return qe},ee=function(Oe,ue,_e){var Ie=[],ze=Oe.length;Ie[0]=3;for(var at=0;at<ze;at+=1)Ie[at+1]=Oe[at]+256-((Oe[at-ue]||0)+(_e&&_e[at]||0)>>>1)&255;return Ie},te=function(Oe,ue,_e){var ze,at=[],Et=Oe.length;at[0]=4;for(var Ft=0;Ft<Et;Ft+=1)ze=pe(Oe[Ft-ue]||0,_e&&_e[Ft]||0,_e&&_e[Ft-ue]||0),at[Ft+1]=Oe[Ft]-ze+256&255;return at},pe=function(Oe,ue,_e){if(Oe===ue&&ue===_e)return Oe;var Re=Math.abs(ue-_e),qe=Math.abs(Oe-_e),Ie=Math.abs(Oe+ue-_e-_e);return Re<=qe&&Re<=Ie?Oe:qe<=Ie?ue:_e},Ce=function(){return[q,Q,Y,ee,te]},we=function(Oe){var ue=Oe.map(function(_e){return _e.reduce(function(Re,qe){return Re+Math.abs(qe)},0)});return ue.indexOf(Math.min.apply(null,ue))};O.processPNG=function(Oe,ue,_e,Re){var qe,Ie,ze,at,Et,Ft,Yt,wt,Ye,Kt,jt,Be,Fe,ot,et,Ht=this.decode.FLATE_DECODE,Mt="";if(this.__addimage__.isArrayBuffer(Oe)&&(Oe=new Uint8Array(Oe)),this.__addimage__.isArrayBufferView(Oe)){if(Oe=(ze=new ru(Oe)).imgData,Ie=ze.bits,qe=ze.colorSpace,Et=ze.colors,-1!==[4,6].indexOf(ze.colorType)){if(8===ze.bits){Ye=(wt=32==ze.pixelBitlength?new Uint32Array(ze.decodePixels().buffer):16==ze.pixelBitlength?new Uint16Array(ze.decodePixels().buffer):new Uint8Array(ze.decodePixels().buffer)).length,jt=new Uint8Array(Ye*ze.colors),Kt=new Uint8Array(Ye);var zt,Dt=ze.pixelBitlength-ze.bits;for(ot=0,et=0;ot<Ye;ot++){for(Fe=wt[ot],zt=0;zt<Dt;)jt[et++]=Fe>>>zt&255,zt+=ze.bits;Kt[ot]=Fe>>>zt&255}}if(16===ze.bits){Ye=(wt=new Uint32Array(ze.decodePixels().buffer)).length,jt=new Uint8Array(Ye*(32/ze.pixelBitlength)*ze.colors),Kt=new Uint8Array(Ye*(32/ze.pixelBitlength)),Be=ze.colors>1,ot=0,et=0;for(var qt=0;ot<Ye;)Fe=wt[ot++],jt[et++]=Fe>>>0&255,Be&&(jt[et++]=Fe>>>16&255,Fe=wt[ot++],jt[et++]=Fe>>>0&255),Kt[qt++]=Fe>>>16&255;Ie=8}Re!==O.image_compression.NONE?(Oe=V(jt,ze.width*ze.colors,ze.colors,Re),Yt=V(Kt,ze.width,1,Re)):(Oe=jt,Yt=Kt,Ht=void 0)}if(3===ze.colorType&&(qe=this.color_spaces.INDEXED,Ft=ze.palette,ze.transparency.indexed)){var St=ze.transparency.indexed,In=0;for(ot=0,Ye=St.length;ot<Ye;++ot)In+=St[ot];if((In/=255)==Ye-1&&-1!==St.indexOf(0))at=[St.indexOf(0)];else if(In!==Ye){for(wt=ze.decodePixels(),Kt=new Uint8Array(wt.length),ot=0,Ye=wt.length;ot<Ye;ot++)Kt[ot]=St[wt[ot]];Yt=V(Kt,ze.width,1)}}var Te=function(Ue){var Ge;switch(Ue){case O.image_compression.FAST:Ge=11;break;case O.image_compression.MEDIUM:Ge=13;break;case O.image_compression.SLOW:Ge=14;break;default:Ge=12}return Ge}(Re);return Ht===this.decode.FLATE_DECODE&&(Mt="/Predictor "+Te+" "),Mt+="/Colors "+Et+" /BitsPerComponent "+Ie+" /Columns "+ze.width,(this.__addimage__.isArrayBuffer(Oe)||this.__addimage__.isArrayBufferView(Oe))&&(Oe=this.__addimage__.arrayBufferToBinaryString(Oe)),(Yt&&this.__addimage__.isArrayBuffer(Yt)||this.__addimage__.isArrayBufferView(Yt))&&(Yt=this.__addimage__.arrayBufferToBinaryString(Yt)),{alias:_e,data:Oe,index:ue,filter:Ht,decodeParameters:Mt,transparency:at,palette:Ft,sMask:Yt,predictor:Te,width:ze.width,height:ze.height,bitsPerComponent:Ie,colorSpace:qe}}}})(Xn.API),function(O){O.processGIF89A=function(I,V,_,q){var Q=new Ya(I),Y=Q.width,ee=Q.height,te=[];Q.decodeAndBlitFrameRGBA(0,te);var pe={data:te,width:Y,height:ee},Ce=new Za(100).encode(pe,100);return O.processJPEG.call(this,Ce,V,_,q)},O.processGIF87A=O.processGIF89A}(Xn.API),Vo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var O=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(O);for(var I=0;I<O;I++){var V=this.datav.getUint8(this.pos++,!0),_=this.datav.getUint8(this.pos++,!0),q=this.datav.getUint8(this.pos++,!0),Q=this.datav.getUint8(this.pos++,!0);this.palette[I]={red:q,green:_,blue:V,quad:Q}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vo.prototype.parseBGR=function(){this.pos=this.offset;try{var O="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[O]()}catch(V){zn.log("bit decode error:"+V)}},Vo.prototype.bit1=function(){var O,I=Math.ceil(this.width/8),V=I%4;for(O=this.height-1;O>=0;O--){for(var _=this.bottom_up?O:this.height-1-O,q=0;q<I;q++)for(var Q=this.datav.getUint8(this.pos++,!0),Y=_*this.width*4+8*q*4,ee=0;ee<8&&8*q+ee<this.width;ee++){var te=this.palette[Q>>7-ee&1];this.data[Y+4*ee]=te.blue,this.data[Y+4*ee+1]=te.green,this.data[Y+4*ee+2]=te.red,this.data[Y+4*ee+3]=255}0!==V&&(this.pos+=4-V)}},Vo.prototype.bit4=function(){for(var O=Math.ceil(this.width/2),I=O%4,V=this.height-1;V>=0;V--){for(var _=this.bottom_up?V:this.height-1-V,q=0;q<O;q++){var Q=this.datav.getUint8(this.pos++,!0),Y=_*this.width*4+2*q*4,te=15&Q,pe=this.palette[Q>>4];if(this.data[Y]=pe.blue,this.data[Y+1]=pe.green,this.data[Y+2]=pe.red,this.data[Y+3]=255,2*q+1>=this.width)break;this.data[Y+4]=(pe=this.palette[te]).blue,this.data[Y+4+1]=pe.green,this.data[Y+4+2]=pe.red,this.data[Y+4+3]=255}0!==I&&(this.pos+=4-I)}},Vo.prototype.bit8=function(){for(var O=this.width%4,I=this.height-1;I>=0;I--){for(var V=this.bottom_up?I:this.height-1-I,_=0;_<this.width;_++){var q=this.datav.getUint8(this.pos++,!0),Q=V*this.width*4+4*_;if(q<this.palette.length){var Y=this.palette[q];this.data[Q]=Y.red,this.data[Q+1]=Y.green,this.data[Q+2]=Y.blue,this.data[Q+3]=255}else this.data[Q]=255,this.data[Q+1]=255,this.data[Q+2]=255,this.data[Q+3]=255}0!==O&&(this.pos+=4-O)}},Vo.prototype.bit15=function(){for(var O=this.width%3,I=parseInt("11111",2),V=this.height-1;V>=0;V--){for(var _=this.bottom_up?V:this.height-1-V,q=0;q<this.width;q++){var Q=this.datav.getUint16(this.pos,!0);this.pos+=2;var Y=(Q&I)/I*255|0,ee=(Q>>5&I)/I*255|0,pe=Q>>15?255:0,Ce=_*this.width*4+4*q;this.data[Ce]=(Q>>10&I)/I*255|0,this.data[Ce+1]=ee,this.data[Ce+2]=Y,this.data[Ce+3]=pe}this.pos+=O}},Vo.prototype.bit16=function(){for(var O=this.width%3,I=parseInt("11111",2),V=parseInt("111111",2),_=this.height-1;_>=0;_--){for(var q=this.bottom_up?_:this.height-1-_,Q=0;Q<this.width;Q++){var Y=this.datav.getUint16(this.pos,!0);this.pos+=2;var ee=(Y&I)/I*255|0,te=(Y>>5&V)/V*255|0,Ce=q*this.width*4+4*Q;this.data[Ce]=(Y>>11)/I*255|0,this.data[Ce+1]=te,this.data[Ce+2]=ee,this.data[Ce+3]=255}this.pos+=O}},Vo.prototype.bit24=function(){for(var O=this.height-1;O>=0;O--){for(var I=this.bottom_up?O:this.height-1-O,V=0;V<this.width;V++){var _=this.datav.getUint8(this.pos++,!0),q=this.datav.getUint8(this.pos++,!0),Q=this.datav.getUint8(this.pos++,!0),Y=I*this.width*4+4*V;this.data[Y]=Q,this.data[Y+1]=q,this.data[Y+2]=_,this.data[Y+3]=255}this.pos+=this.width%4}},Vo.prototype.bit32=function(){for(var O=this.height-1;O>=0;O--)for(var I=this.bottom_up?O:this.height-1-O,V=0;V<this.width;V++){var _=this.datav.getUint8(this.pos++,!0),q=this.datav.getUint8(this.pos++,!0),Q=this.datav.getUint8(this.pos++,!0),Y=this.datav.getUint8(this.pos++,!0),ee=I*this.width*4+4*V;this.data[ee]=Q,this.data[ee+1]=q,this.data[ee+2]=_,this.data[ee+3]=Y}},Vo.prototype.getData=function(){return this.data},function(O){O.processBMP=function(I,V,_,q){var Q=new Vo(I,!1),Y=Q.width,ee=Q.height,te={data:Q.getData(),width:Y,height:ee},pe=new Za(100).encode(te,100);return O.processJPEG.call(this,pe,V,_,q)}}(Xn.API),Cc.prototype.getData=function(){return this.data},function(O){O.processWEBP=function(I,V,_,q){var Q=new Cc(I,!1),Y=Q.width,ee=Q.height,te={data:Q.getData(),width:Y,height:ee},pe=new Za(100).encode(te,100);return O.processJPEG.call(this,pe,V,_,q)}}(Xn.API),Xn.API.processRGBA=function(O,I,V){for(var _=O.data,q=_.length,Q=new Uint8Array(q/4*3),Y=new Uint8Array(q/4),ee=0,te=0,pe=0;pe<q;pe+=4){var we=_[pe+1],Oe=_[pe+2],ue=_[pe+3];Q[ee++]=_[pe],Q[ee++]=we,Q[ee++]=Oe,Y[te++]=ue}var _e=this.__addimage__.arrayBufferToBinaryString(Q);return{alpha:this.__addimage__.arrayBufferToBinaryString(Y),data:_e,index:I,alias:V,colorSpace:"DeviceRGB",bitsPerComponent:8,width:O.width,height:O.height}},Xn.API.setLanguage=function(O){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[O]&&(this.internal.languageSettings.languageCode=O,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Qs=(Yi=Xn.API).getCharWidthsArray=function(O,I){var V,_,q=(I=I||{}).font||this.internal.getFont(),Q=I.fontSize||this.internal.getFontSize(),Y=I.charSpace||this.internal.getCharSpace(),ee=I.widths?I.widths:q.metadata.Unicode.widths,te=ee.fof?ee.fof:1,pe=I.kerning?I.kerning:q.metadata.Unicode.kerning,Ce=pe.fof?pe.fof:1,we=!1!==I.doKerning,Oe=0,ue=O.length,_e=0,Re=ee[0]||te,qe=[];for(V=0;V<ue;V++)_=O.charCodeAt(V),"function"==typeof q.metadata.widthOfString?qe.push((q.metadata.widthOfGlyph(q.metadata.characterToGlyph(_))+Y*(1e3/Q)||0)/1e3):(Oe=we&&"object"===x(pe[_])&&!isNaN(parseInt(pe[_][_e],10))?pe[_][_e]/Ce:0,qe.push((ee[_]||Re)/te+Oe)),_e=_;return qe},_i=Yi.getStringUnitWidth=function(O,I){var V=(I=I||{}).fontSize||this.internal.getFontSize(),_=I.font||this.internal.getFont(),q=I.charSpace||this.internal.getCharSpace();return Yi.processArabic&&(O=Yi.processArabic(O)),"function"==typeof _.metadata.widthOfString?_.metadata.widthOfString(O,V,q)/V:Qs.apply(this,arguments).reduce(function(Q,Y){return Q+Y},0)},Oa=function(O,I,V,_){for(var q=[],Q=0,Y=O.length,ee=0;Q!==Y&&ee+I[Q]<V;)ee+=I[Q],Q++;q.push(O.slice(0,Q));var te=Q;for(ee=0;Q!==Y;)ee+I[Q]>_&&(q.push(O.slice(te,Q)),ee=0,te=Q),ee+=I[Q],Q++;return te!==Q&&q.push(O.slice(te,Q)),q},Pi=function(O,I,V){V||(V={});var _,q,Q,Y,ee,te,Ce=[],we=[Ce],Oe=V.textIndent||0,ue=0,_e=0,Re=O.split(" "),qe=Qs.apply(this,[" ",V])[0];if(te=-1===V.lineIndent?Re[0].length+2:V.lineIndent||0){var Ie=Array(te).join(" "),ze=[];Re.map(function(Et){(Et=Et.split(/\s*\n/)).length>1?ze=ze.concat(Et.map(function(Ft,Yt){return(Yt&&Ft.length?"\n":"")+Ft})):ze.push(Et[0])}),Re=ze,te=_i.apply(this,[Ie,V])}for(Q=0,Y=Re.length;Q<Y;Q++){var at=0;if(_=Re[Q],te&&"\n"==_[0]&&(_=_.substr(1),at=1),Oe+ue+(_e=(q=Qs.apply(this,[_,V])).reduce(function(Et,Ft){return Et+Ft},0))>I||at){if(_e>I){for(ee=Oa.apply(this,[_,q,I-(Oe+ue),I]),Ce.push(ee.shift()),Ce=[ee.pop()];ee.length;)we.push([ee.shift()]);_e=q.slice(_.length-(Ce[0]?Ce[0].length:0)).reduce(function(Et,Ft){return Et+Ft},0)}else Ce=[_];we.push(Ce),Oe=_e+te,ue=qe}else Ce.push(_),Oe+=ue+_e,ue=qe}return we.map(te?function(Et,Ft){return(Ft?Ie:"")+Et.join(" ")}:function(Et){return Et.join(" ")})},Yi.splitTextToSize=function(O,I,V){var _,q=(V=V||{}).fontSize||this.internal.getFontSize(),Q=function(Ce){if(Ce.widths&&Ce.kerning)return{widths:Ce.widths,kerning:Ce.kerning};var we=this.internal.getFont(Ce.fontName,Ce.fontStyle);return we.metadata.Unicode?{widths:we.metadata.Unicode.widths||{0:1},kerning:we.metadata.Unicode.kerning||{}}:{font:we.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,V);_=Array.isArray(O)?O:String(O).split(/\r?\n/);var Y=1*this.internal.scaleFactor*I/q;Q.textIndent=V.textIndent?1*V.textIndent*this.internal.scaleFactor/q:0,Q.lineIndent=V.lineIndent;var ee,te,pe=[];for(ee=0,te=_.length;ee<te;ee++)pe=pe.concat(Pi.apply(this,[_[ee],Y,Q]));return pe},function(O){O.__fontmetrics__=O.__fontmetrics__||{};for(var I="klmnopqrstuvwxyz",V={},_={},q=0;q<I.length;q++)V[I[q]]="0123456789abcdef"[q],_["0123456789abcdef"[q]]=I[q];var Q=function(we){return"0x"+parseInt(we,10).toString(16)},Y=O.__fontmetrics__.compress=function(we){var Oe,ue,_e,Re,qe=["{"];for(var Ie in we){if(Oe=we[Ie],isNaN(parseInt(Ie,10))?ue="'"+Ie+"'":(Ie=parseInt(Ie,10),ue=(ue=Q(Ie).slice(2)).slice(0,-1)+_[ue.slice(-1)]),"number"==typeof Oe)Oe<0?(_e=Q(Oe).slice(3),Re="-"):(_e=Q(Oe).slice(2),Re=""),_e=Re+_e.slice(0,-1)+_[_e.slice(-1)];else{if("object"!==x(Oe))throw new Error("Don't know what to do with value type "+x(Oe)+".");_e=Y(Oe)}qe.push(ue+_e)}return qe.push("}"),qe.join("")},ee=O.__fontmetrics__.uncompress=function(we){if("string"!=typeof we)throw new Error("Invalid argument passed to uncompress.");for(var Oe,ue,_e,Re,qe={},Ie=1,ze=qe,at=[],Et="",Ft="",Yt=we.length-1,wt=1;wt<Yt;wt+=1)"'"==(Re=we[wt])?Oe?(_e=Oe.join(""),Oe=void 0):Oe=[]:Oe?Oe.push(Re):"{"==Re?(at.push([ze,_e]),ze={},_e=void 0):"}"==Re?((ue=at.pop())[0][ue[1]]=ze,_e=void 0,ze=ue[0]):"-"==Re?Ie=-1:void 0===_e?V.hasOwnProperty(Re)?(Et+=V[Re],_e=parseInt(Et,16)*Ie,Ie=1,Et=""):Et+=Re:V.hasOwnProperty(Re)?(Ft+=V[Re],ze[_e]=parseInt(Ft,16)*Ie,Ie=1,_e=void 0,Ft=""):Ft+=Re;return qe},te={codePages:["WinAnsiEncoding"],WinAnsiEncoding:ee("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},pe={Unicode:{Courier:te,"Courier-Bold":te,"Courier-BoldOblique":te,"Courier-Oblique":te,Helvetica:te,"Helvetica-Bold":te,"Helvetica-BoldOblique":te,"Helvetica-Oblique":te,"Times-Roman":te,"Times-Bold":te,"Times-BoldItalic":te,"Times-Italic":te}},Ce={Unicode:{"Courier-Oblique":ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":ee("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":ee("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":ee("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:ee("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:ee("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":ee("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:ee("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":ee("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":ee("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":ee("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};O.events.push(["addFont",function(we){var Oe=we.font,ue=Ce.Unicode[Oe.postScriptName];ue&&(Oe.metadata.Unicode={},Oe.metadata.Unicode.widths=ue.widths,Oe.metadata.Unicode.kerning=ue.kerning);var _e=pe.Unicode[Oe.postScriptName];_e&&(Oe.metadata.Unicode.encoding=_e,Oe.encoding=_e.codePages[0])}])}(Xn.API),function(O){var I=function(V){for(var _=V.length,q=new Uint8Array(_),Q=0;Q<_;Q++)q[Q]=V.charCodeAt(Q);return q};O.API.events.push(["addFont",function(V){var Y,ee,_=void 0,q=V.font,Q=V.instance;if(!q.isStandardFont){if(void 0===Q)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+q.postScriptName+"').");if("string"!=typeof(_=!1===Q.existsFileInVFS(q.postScriptName)?Q.loadFile(q.postScriptName):Q.getFileFromVFS(q.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+q.postScriptName+"').");Y=q,ee=/^\x00\x01\x00\x00/.test(ee=_)?I(ee):I(wr(ee)),Y.metadata=O.API.TTFFont.open(ee),Y.metadata.Unicode=Y.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Y.metadata.glyIdsUsed=[0]}}])}(Xn),function(O){function I(){return(_n.canvg?Promise.resolve(_n.canvg):j.e(399).then(j.bind(j,7399))).catch(function(V){return Promise.reject(new Error("Could not load canvg: "+V))}).then(function(V){return V.default?V.default:V})}Xn.API.addSvgAsImage=function(V,_,q,Q,Y,ee,te,pe){if(isNaN(_)||isNaN(q))throw zn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(Q)||isNaN(Y))throw zn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Ce=document.createElement("canvas");Ce.width=Q,Ce.height=Y;var we=Ce.getContext("2d");we.fillStyle="#fff",we.fillRect(0,0,Ce.width,Ce.height);var Oe={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},ue=this;return I().then(function(_e){return _e.fromString(we,V,Oe)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_e){return _e.render(Oe)}).then(function(){ue.addImage(Ce.toDataURL("image/jpeg",1),_,q,Q,Y,te,pe)})}}(),Xn.API.putTotalPages=function(O){var I,V=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(I=new RegExp(O,"g"),V=this.internal.getNumberOfPages()):(I=new RegExp(this.pdfEscape16(O,this.internal.getFont()),"g"),V=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var _=1;_<=this.internal.getNumberOfPages();_++)for(var q=0;q<this.internal.pages[_].length;q++)this.internal.pages[_][q]=this.internal.pages[_][q].replace(I,V);return this},Xn.API.viewerPreferences=function(O,I){var V;O=O||{},I=I||!1;var _,q,Q,Y={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},ee=Object.keys(Y),te=[],pe=0,Ce=0,we=0;function Oe(_e,Re){var qe,Ie=!1;for(qe=0;qe<_e.length;qe+=1)_e[qe]===Re&&(Ie=!0);return Ie}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Y)),this.internal.viewerpreferences.isSubscribed=!1),V=this.internal.viewerpreferences.configuration,"reset"===O||!0===I){var ue=ee.length;for(we=0;we<ue;we+=1)V[ee[we]].value=V[ee[we]].defaultValue,V[ee[we]].explicitSet=!1}if("object"===x(O))for(q in O)if(Q=O[q],Oe(ee,q)&&void 0!==Q){if("boolean"===V[q].type&&"boolean"==typeof Q)V[q].value=Q;else if("name"===V[q].type&&Oe(V[q].valueSet,Q))V[q].value=Q;else if("integer"===V[q].type&&Number.isInteger(Q))V[q].value=Q;else if("array"===V[q].type){for(pe=0;pe<Q.length;pe+=1)if(_=!0,1===Q[pe].length&&"number"==typeof Q[pe][0])te.push(String(Q[pe]-1));else if(Q[pe].length>1){for(Ce=0;Ce<Q[pe].length;Ce+=1)"number"!=typeof Q[pe][Ce]&&(_=!1);!0===_&&te.push([Q[pe][0]-1,Q[pe][1]-1].join(" "))}V[q].value="["+te.join(" ")+"]"}else V[q].value=V[q].defaultValue;V[q].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var _e,Re=[];for(_e in V)!0===V[_e].explicitSet&&Re.push("name"===V[_e].type?"/"+_e+" /"+V[_e].value:"/"+_e+" "+V[_e].value);0!==Re.length&&this.internal.write("/ViewerPreferences\n<<\n"+Re.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=V,this},function(O){var I=function(){var _='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',q=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),Q=unescape(encodeURIComponent(_)),Y=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),ee=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),te=unescape(encodeURIComponent("</x:xmpmeta>")),pe=Q.length+Y.length+ee.length+q.length+te.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+pe+" >>"),this.internal.write("stream"),this.internal.write(q+Q+Y+ee+te),this.internal.write("endstream"),this.internal.write("endobj")},V=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};O.addMetadata=function(_,q){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:_,namespaceuri:q||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",V),this.internal.events.subscribe("postPutResources",I)),this}}(Xn.API),function(O){var I=O.API,V=I.pdfEscape16=function(Q,Y){for(var ee,te=Y.metadata.Unicode.widths,pe=["","0","00","000","0000"],Ce=[""],we=0,Oe=Q.length;we<Oe;++we){if(ee=Y.metadata.characterToGlyph(Q.charCodeAt(we)),Y.metadata.glyIdsUsed.push(ee),Y.metadata.toUnicode[ee]=Q.charCodeAt(we),-1==te.indexOf(ee)&&(te.push(ee),te.push([parseInt(Y.metadata.widthOfGlyph(ee),10)])),"0"==ee)return Ce.join("");ee=ee.toString(16),Ce.push(pe[4-ee.length],ee)}return Ce.join("")},_=function(Q){var Y,ee,te,pe,Ce,we,Oe;for(Ce="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",te=[],we=0,Oe=(ee=Object.keys(Q).sort(function(ue,_e){return ue-_e})).length;we<Oe;we++)Y=ee[we],te.length>=100&&(Ce+="\n"+te.length+" beginbfchar\n"+te.join("\n")+"\nendbfchar",te=[]),null!=Q[Y]&&"function"==typeof Q[Y].toString&&(pe=("0000"+Q[Y].toString(16)).slice(-4),Y=("0000"+(+Y).toString(16)).slice(-4),te.push("<"+Y+"><"+pe+">"));return te.length&&(Ce+="\n"+te.length+" beginbfchar\n"+te.join("\n")+"\nendbfchar\n"),Ce+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};I.events.push(["putFont",function(Q){!function(Y){var ee=Y.font,te=Y.out,pe=Y.newObject,Ce=Y.putStream;if(ee.metadata instanceof O.API.TTFFont&&"Identity-H"===ee.encoding){for(var we=ee.metadata.Unicode.widths,Oe=ee.metadata.subset.encode(ee.metadata.glyIdsUsed,1),ue="",_e=0;_e<Oe.length;_e++)ue+=String.fromCharCode(Oe[_e]);var Re=pe();Ce({data:ue,addLength1:!0,objectId:Re}),te("endobj");var qe=pe();Ce({data:_(ee.metadata.toUnicode),addLength1:!0,objectId:qe}),te("endobj");var Ie=pe();te("<<"),te("/Type /FontDescriptor"),te("/FontName /"+lo(ee.fontName)),te("/FontFile2 "+Re+" 0 R"),te("/FontBBox "+O.API.PDFObject.convert(ee.metadata.bbox)),te("/Flags "+ee.metadata.flags),te("/StemV "+ee.metadata.stemV),te("/ItalicAngle "+ee.metadata.italicAngle),te("/Ascent "+ee.metadata.ascender),te("/Descent "+ee.metadata.decender),te("/CapHeight "+ee.metadata.capHeight),te(">>"),te("endobj");var ze=pe();te("<<"),te("/Type /Font"),te("/BaseFont /"+lo(ee.fontName)),te("/FontDescriptor "+Ie+" 0 R"),te("/W "+O.API.PDFObject.convert(we)),te("/CIDToGIDMap /Identity"),te("/DW 1000"),te("/Subtype /CIDFontType2"),te("/CIDSystemInfo"),te("<<"),te("/Supplement 0"),te("/Registry (Adobe)"),te("/Ordering ("+ee.encoding+")"),te(">>"),te(">>"),te("endobj"),ee.objectNumber=pe(),te("<<"),te("/Type /Font"),te("/Subtype /Type0"),te("/ToUnicode "+qe+" 0 R"),te("/BaseFont /"+lo(ee.fontName)),te("/Encoding /"+ee.encoding),te("/DescendantFonts ["+ze+" 0 R]"),te(">>"),te("endobj"),ee.isAlreadyPutted=!0}}(Q)}]),I.events.push(["putFont",function(Q){!function(Y){var ee=Y.font,te=Y.out,pe=Y.newObject,Ce=Y.putStream;if(ee.metadata instanceof O.API.TTFFont&&"WinAnsiEncoding"===ee.encoding){for(var we=ee.metadata.rawData,Oe="",ue=0;ue<we.length;ue++)Oe+=String.fromCharCode(we[ue]);var _e=pe();Ce({data:Oe,addLength1:!0,objectId:_e}),te("endobj");var Re=pe();Ce({data:_(ee.metadata.toUnicode),addLength1:!0,objectId:Re}),te("endobj");var qe=pe();te("<<"),te("/Descent "+ee.metadata.decender),te("/CapHeight "+ee.metadata.capHeight),te("/StemV "+ee.metadata.stemV),te("/Type /FontDescriptor"),te("/FontFile2 "+_e+" 0 R"),te("/Flags 96"),te("/FontBBox "+O.API.PDFObject.convert(ee.metadata.bbox)),te("/FontName /"+lo(ee.fontName)),te("/ItalicAngle "+ee.metadata.italicAngle),te("/Ascent "+ee.metadata.ascender),te(">>"),te("endobj"),ee.objectNumber=pe();for(var Ie=0;Ie<ee.metadata.hmtx.widths.length;Ie++)ee.metadata.hmtx.widths[Ie]=parseInt(ee.metadata.hmtx.widths[Ie]*(1e3/ee.metadata.head.unitsPerEm));te("<</Subtype/TrueType/Type/Font/ToUnicode "+Re+" 0 R/BaseFont/"+lo(ee.fontName)+"/FontDescriptor "+qe+" 0 R/Encoding/"+ee.encoding+" /FirstChar 29 /LastChar 255 /Widths "+O.API.PDFObject.convert(ee.metadata.hmtx.widths)+">>"),te("endobj"),ee.isAlreadyPutted=!0}}(Q)}]);var q=function(Q){var Y,ee=Q.text||"",te=Q.x,pe=Q.y,Ce=Q.options||{},we=Q.mutex||{},Oe=we.pdfEscape,ue=we.activeFontKey,_e=we.fonts,Re=ue,qe="",Ie=0,ze="",at=_e[Re].encoding;if("Identity-H"!==_e[Re].encoding)return{text:ee,x:te,y:pe,options:Ce,mutex:we};for(ze=ee,Re=ue,Array.isArray(ee)&&(ze=ee[0]),Ie=0;Ie<ze.length;Ie+=1)_e[Re].metadata.hasOwnProperty("cmap")&&(Y=_e[Re].metadata.cmap.unicode.codeMap[ze[Ie].charCodeAt(0)]),Y||ze[Ie].charCodeAt(0)<256&&_e[Re].metadata.hasOwnProperty("Unicode")?qe+=ze[Ie]:qe+="";var Et="";return parseInt(Re.slice(1))<14||"WinAnsiEncoding"===at?Et=Oe(qe,Re).split("").map(function(Ft){return Ft.charCodeAt(0).toString(16)}).join(""):"Identity-H"===at&&(Et=V(qe,_e[Re])),we.isHex=!0,{text:Et,x:te,y:pe,options:Ce,mutex:we}};I.events.push(["postProcessText",function(Q){var Y=Q.text||"",ee=[],te={text:Y,x:Q.x,y:Q.y,options:Q.options,mutex:Q.mutex};if(Array.isArray(Y)){var pe=0;for(pe=0;pe<Y.length;pe+=1)Array.isArray(Y[pe])&&3===Y[pe].length?ee.push([q(Object.assign({},te,{text:Y[pe][0]})).text,Y[pe][1],Y[pe][2]]):ee.push(q(Object.assign({},te,{text:Y[pe]})).text);Q.text=ee}else Q.text=q(Object.assign({},te,{text:Y})).text}])}(Xn),function(O){var I=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};O.existsFileInVFS=function(V){return I.call(this),void 0!==this.internal.vFS[V]},O.addFileToVFS=function(V,_){return I.call(this),this.internal.vFS[V]=_,this},O.getFileFromVFS=function(V){return I.call(this),void 0!==this.internal.vFS[V]?this.internal.vFS[V]:null}}(Xn.API),function(O){O.__bidiEngine__=O.prototype.__bidiEngine__=function(_){var q,Q,Y,ee,te,pe,Ce,we=I,Oe=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],ue=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_e={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},Re={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},qe=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],Ie=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),ze=!1,at=0;this.__bidiEngine__={};var Et=function(Be){var Fe=Be.charCodeAt(),ot=Fe>>8,et=Re[ot];return void 0!==et?we[256*et+(255&Fe)]:252===ot||253===ot?"AL":Ie.test(ot)?"L":8===ot?"R":"N"},Ft=function(Be){for(var Fe,ot=0;ot<Be.length;ot++){if("L"===(Fe=Et(Be.charAt(ot))))return!1;if("R"===Fe)return!0}return!1},Yt=function(Be,Fe,ot,et){var Ht,Mt,zt,Dt,qt=Fe[et];switch(qt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":ze=!1;break;case"N":case"AN":break;case"EN":ze&&(qt="AN");break;case"AL":ze=!0,qt="R";break;case"WS":case"BN":qt="N";break;case"CS":et<1||et+1>=Fe.length||"EN"!==(Ht=ot[et-1])&&"AN"!==Ht||"EN"!==(Mt=Fe[et+1])&&"AN"!==Mt?qt="N":ze&&(Mt="AN"),qt=Mt===Ht?Mt:"N";break;case"ES":qt="EN"===(Ht=et>0?ot[et-1]:"B")&&et+1<Fe.length&&"EN"===Fe[et+1]?"EN":"N";break;case"ET":if(et>0&&"EN"===ot[et-1]){qt="EN";break}if(ze){qt="N";break}for(zt=et+1,Dt=Fe.length;zt<Dt&&"ET"===Fe[zt];)zt++;qt=zt<Dt&&"EN"===Fe[zt]?"EN":"N";break;case"NSM":if(Y&&!ee){for(Dt=Fe.length,zt=et+1;zt<Dt&&"NSM"===Fe[zt];)zt++;if(zt<Dt){var St=Be[et];if(Ht=Fe[zt],(St>=1425&&St<=2303||64286===St)&&("R"===Ht||"AL"===Ht)){qt="R";break}}}qt=et<1||"B"===(Ht=Fe[et-1])?"N":ot[et-1];break;case"B":ze=!1,q=!0,qt=at;break;case"S":Q=!0,qt="N"}return qt},wt=function(Be,Fe,ot){var et=Be.split("");return ot&&Ye(et,ot,{hiLevel:at}),et.reverse(),Fe&&Fe.reverse(),et.join("")},Ye=function(Be,Fe,ot){var et,Ht,Mt,zt,Dt,qt=-1,St=Be.length,In=0,Te=[],Ue=at?ue:Oe,Ge=[];for(ze=!1,q=!1,Q=!1,Ht=0;Ht<St;Ht++)Ge[Ht]=Et(Be[Ht]);for(Mt=0;Mt<St;Mt++){if(Dt=In,Te[Mt]=Yt(Be,Ge,Te,Mt),et=240&(In=Ue[Dt][_e[Te[Mt]]]),Fe[Mt]=zt=Ue[In&=15][5],et>0)if(16===et){for(Ht=qt;Ht<Mt;Ht++)Fe[Ht]=1;qt=-1}else qt=-1;if(Ue[In][6])-1===qt&&(qt=Mt);else if(qt>-1){for(Ht=qt;Ht<Mt;Ht++)Fe[Ht]=zt;qt=-1}"B"===Ge[Mt]&&(Fe[Mt]=0),ot.hiLevel|=zt}Q&&function(lt,pt,vt){for(var Ot=0;Ot<vt;Ot++)if("S"===lt[Ot]){pt[Ot]=at;for(var Rt=Ot-1;Rt>=0&&"WS"===lt[Rt];Rt--)pt[Rt]=at}}(Ge,Fe,St)},Kt=function(Be,Fe,ot,et,Ht){if(!(Ht.hiLevel<Be)){if(1===Be&&1===at&&!q)return Fe.reverse(),void(ot&&ot.reverse());for(var Mt,zt,Dt,qt,St=Fe.length,In=0;In<St;){if(et[In]>=Be){for(Dt=In+1;Dt<St&&et[Dt]>=Be;)Dt++;for(qt=In,zt=Dt-1;qt<zt;qt++,zt--)Mt=Fe[qt],Fe[qt]=Fe[zt],Fe[zt]=Mt,ot&&(Mt=ot[qt],ot[qt]=ot[zt],ot[zt]=Mt);In=Dt}In++}}},jt=function(Be,Fe,ot){var et=Be.split(""),Ht={hiLevel:at};return ot||(ot=[]),Ye(et,ot,Ht),function(Mt,zt,Dt){if(0!==Dt.hiLevel&&Ce)for(var qt,St=0;St<Mt.length;St++)1===zt[St]&&(qt=qe.indexOf(Mt[St]))>=0&&(Mt[St]=qe[qt+1])}(et,ot,Ht),Kt(2,et,Fe,ot,Ht),Kt(1,et,Fe,ot,Ht),et.join("")};return this.__bidiEngine__.doBidiReorder=function(Be,Fe,ot){if(function(Ht,Mt){if(Mt)for(var zt=0;zt<Ht.length;zt++)Mt[zt]=zt;void 0===ee&&(ee=Ft(Ht)),void 0===pe&&(pe=Ft(Ht))}(Be,Fe),Y||!te||pe)if(Y&&te&&ee^pe)at=ee?1:0,Be=wt(Be,Fe,ot);else if(!Y&&te&&pe)at=ee?1:0,Be=jt(Be,Fe,ot),Be=wt(Be,Fe);else if(!Y||ee||te||pe){if(Y&&!te&&ee^pe)Be=wt(Be,Fe),ee?(at=0,Be=jt(Be,Fe,ot)):(at=1,Be=jt(Be,Fe,ot),Be=wt(Be,Fe));else if(Y&&ee&&!te&&pe)at=1,Be=jt(Be,Fe,ot),Be=wt(Be,Fe);else if(!Y&&!te&&ee^pe){var et=Ce;ee?(at=1,Be=jt(Be,Fe,ot),at=0,Ce=!1,Be=jt(Be,Fe,ot),Ce=et):(at=0,Be=jt(Be,Fe,ot),Be=wt(Be,Fe),at=1,Ce=!1,Be=jt(Be,Fe,ot),Ce=et,Be=wt(Be,Fe))}}else at=0,Be=jt(Be,Fe,ot);else at=ee?1:0,Be=jt(Be,Fe,ot);return Be},this.__bidiEngine__.setOptions=function(Be){Be&&(Y=Be.isInputVisual,te=Be.isOutputVisual,ee=Be.isInputRtl,pe=Be.isOutputRtl,Ce=Be.isSymmetricSwapping)},this.__bidiEngine__.setOptions(_),this.__bidiEngine__};var I=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],V=new O.__bidiEngine__({isInputVisual:!0});O.API.events.push(["postProcessText",function(_){var q=_.text,Q=_.options||{},Y=[];if(Q.isInputVisual="boolean"!=typeof Q.isInputVisual||Q.isInputVisual,V.setOptions(Q),"[object Array]"===Object.prototype.toString.call(q)){var ee=0;for(Y=[],ee=0;ee<q.length;ee+=1)"[object Array]"===Object.prototype.toString.call(q[ee])?Y.push([V.doBidiReorder(q[ee][0]),q[ee][1],q[ee][2]]):Y.push([V.doBidiReorder(q[ee])]);_.text=Y}else _.text=V.doBidiReorder(q);V.setOptions({isInputVisual:!0})}])}(Xn),Xn.API.TTFFont=function(){function O(I){var V;if(this.rawData=I,V=this.contents=new Si(I),this.contents.pos=4,"ttcf"===V.readString(4))throw new Error("TTCF not supported.");V.pos=0,this.parse(),this.subset=new me(this),this.registerTTF()}return O.open=function(I){return new O(I)},O.prototype.parse=function(){return this.directory=new Wu(this.contents),this.head=new vi(this),this.name=new zu(this),this.cmap=new Id(this),this.toUnicode={},this.hhea=new la(this),this.maxp=new Fo(this),this.hmtx=new zh(this),this.post=new bc(this),this.os2=new Es(this),this.loca=new fe(this),this.glyf=new vr(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},O.prototype.registerTTF=function(){var V,_,q,Q;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var Y,ee,te,pe;for(pe=[],Y=0,ee=(te=this.bbox).length;Y<ee;Y++)pe.push(Math.round(te[Y]*this.scaleFactor));return pe}.call(this),this.stemV=0,this.post.exists?(_=255&(q=this.post.italic_angle),0!=(32768&(V=q>>16))&&(V=-(1+(65535^V))),this.italicAngle=+(V+"."+_)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(Q=this.familyClass)||2===Q||3===Q||4===Q||5===Q||7===Q,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},O.prototype.characterToGlyph=function(I){var V;return(null!=(V=this.cmap.unicode)?V.codeMap[I]:void 0)||0},O.prototype.widthOfGlyph=function(I){var V;return V=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(I).advance*V},O.prototype.widthOfString=function(I,V,_){var q,Q,Y,ee;for(Y=0,Q=0,ee=(I=""+I).length;0<=ee?Q<ee:Q>ee;Q=0<=ee?++Q:--Q)q=I.charCodeAt(Q),Y+=this.widthOfGlyph(this.characterToGlyph(q))+_*(1e3/V)||0;return Y*(V/1e3)},O.prototype.lineHeight=function(I,V){return null==V&&(V=!1),(this.ascender+(V?this.lineGap:0)-this.decender)/1e3*I},O}();var Lo,Si=function(){function O(I){this.data=null!=I?I:[],this.pos=0,this.length=this.data.length}return O.prototype.readByte=function(){return this.data[this.pos++]},O.prototype.writeByte=function(I){return this.data[this.pos++]=I},O.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},O.prototype.writeUInt32=function(I){return this.writeByte(I>>>24&255),this.writeByte(I>>16&255),this.writeByte(I>>8&255),this.writeByte(255&I)},O.prototype.readInt32=function(){var I;return(I=this.readUInt32())>=2147483648?I-4294967296:I},O.prototype.writeInt32=function(I){return I<0&&(I+=4294967296),this.writeUInt32(I)},O.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},O.prototype.writeUInt16=function(I){return this.writeByte(I>>8&255),this.writeByte(255&I)},O.prototype.readInt16=function(){var I;return(I=this.readUInt16())>=32768?I-65536:I},O.prototype.writeInt16=function(I){return I<0&&(I+=65536),this.writeUInt16(I)},O.prototype.readString=function(I){var V,_;for(_=[],V=0;0<=I?V<I:V>I;V=0<=I?++V:--V)_[V]=String.fromCharCode(this.readByte());return _.join("")},O.prototype.writeString=function(I){var V,_,q;for(q=[],V=0,_=I.length;0<=_?V<_:V>_;V=0<=_?++V:--V)q.push(this.writeByte(I.charCodeAt(V)));return q},O.prototype.readShort=function(){return this.readInt16()},O.prototype.writeShort=function(I){return this.writeInt16(I)},O.prototype.readLongLong=function(){var I,V,_,q,Q,Y,ee,te;return I=this.readByte(),V=this.readByte(),_=this.readByte(),q=this.readByte(),Q=this.readByte(),Y=this.readByte(),ee=this.readByte(),te=this.readByte(),128&I?-1*(72057594037927940*(255^I)+281474976710656*(255^V)+1099511627776*(255^_)+4294967296*(255^q)+16777216*(255^Q)+65536*(255^Y)+256*(255^ee)+(255^te)+1):72057594037927940*I+281474976710656*V+1099511627776*_+4294967296*q+16777216*Q+65536*Y+256*ee+te},O.prototype.writeLongLong=function(I){var V,_;return V=Math.floor(I/4294967296),_=4294967295&I,this.writeByte(V>>24&255),this.writeByte(V>>16&255),this.writeByte(V>>8&255),this.writeByte(255&V),this.writeByte(_>>24&255),this.writeByte(_>>16&255),this.writeByte(_>>8&255),this.writeByte(255&_)},O.prototype.readInt=function(){return this.readInt32()},O.prototype.writeInt=function(I){return this.writeInt32(I)},O.prototype.read=function(I){var V,_;for(V=[],_=0;0<=I?_<I:_>I;_=0<=I?++_:--_)V.push(this.readByte());return V},O.prototype.write=function(I){var _,q,Q;for(Q=[],_=0,q=I.length;_<q;_++)Q.push(this.writeByte(I[_]));return Q},O}(),Wu=function(){var O;function I(V){var _,q,Q;for(this.scalarType=V.readInt(),this.tableCount=V.readShort(),this.searchRange=V.readShort(),this.entrySelector=V.readShort(),this.rangeShift=V.readShort(),this.tables={},q=0,Q=this.tableCount;0<=Q?q<Q:q>Q;q=0<=Q?++q:--q)_={tag:V.readString(4),checksum:V.readInt(),offset:V.readInt(),length:V.readInt()},this.tables[_.tag]=_}return I.prototype.encode=function(V){var _,q,Y,ee,te,pe,Ce,we,Oe,ue,_e,Re;for(Re in ue=Object.keys(V).length,te=Math.log(2),we=16*Math.floor(Math.log(ue)/te),Y=Math.floor(we/te),Ce=16*ue-we,(q=new Si).writeInt(this.scalarType),q.writeShort(ue),q.writeShort(we),q.writeShort(Y),q.writeShort(Ce),pe=q.pos+16*ue,ee=null,_e=[],V)for(Oe=V[Re],q.writeString(Re),q.writeInt(O(Oe)),q.writeInt(pe),q.writeInt(Oe.length),_e=_e.concat(Oe),"head"===Re&&(ee=pe),pe+=Oe.length;pe%4;)_e.push(0),pe++;return q.write(_e),_=2981146554-O(q.data),q.pos=ee+8,q.writeUInt32(_),q.data},O=function(V){var _,q,Q,Y;for(V=Qu.call(V);V.length%4;)V.push(0);for(Q=new Si(V),q=0,_=0,Y=V.length;_<Y;_=_+=4)q+=Q.readUInt32();return 4294967295&q},I}(),iu={}.hasOwnProperty,zi=function(O,I){for(var V in I)iu.call(I,V)&&(O[V]=I[V]);function _(){this.constructor=O}return _.prototype=I.prototype,O.prototype=new _,O.__super__=I.prototype,O};Lo=function(){function O(I){var V;this.file=I,this.exists=!!(V=this.file.directory.tables[this.tag]),V&&(this.offset=V.offset,this.length=V.length,this.parse(this.file.contents))}return O.prototype.parse=function(){},O.prototype.encode=function(){},O.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},O}();var vi=function(O){function I(){return I.__super__.constructor.apply(this,arguments)}return zi(I,Lo),I.prototype.tag="head",I.prototype.parse=function(V){return V.pos=this.offset,this.version=V.readInt(),this.revision=V.readInt(),this.checkSumAdjustment=V.readInt(),this.magicNumber=V.readInt(),this.flags=V.readShort(),this.unitsPerEm=V.readShort(),this.created=V.readLongLong(),this.modified=V.readLongLong(),this.xMin=V.readShort(),this.yMin=V.readShort(),this.xMax=V.readShort(),this.yMax=V.readShort(),this.macStyle=V.readShort(),this.lowestRecPPEM=V.readShort(),this.fontDirectionHint=V.readShort(),this.indexToLocFormat=V.readShort(),this.glyphDataFormat=V.readShort()},I.prototype.encode=function(V){var _;return(_=new Si).writeInt(this.version),_.writeInt(this.revision),_.writeInt(this.checkSumAdjustment),_.writeInt(this.magicNumber),_.writeShort(this.flags),_.writeShort(this.unitsPerEm),_.writeLongLong(this.created),_.writeLongLong(this.modified),_.writeShort(this.xMin),_.writeShort(this.yMin),_.writeShort(this.xMax),_.writeShort(this.yMax),_.writeShort(this.macStyle),_.writeShort(this.lowestRecPPEM),_.writeShort(this.fontDirectionHint),_.writeShort(V),_.writeShort(this.glyphDataFormat),_.data},I}(),Dd=function(){function O(I,V){var _,q,Q,Y,ee,te,pe,Ce,we,Oe,ue,_e,Re,qe,Ie,ze,at;switch(this.platformID=I.readUInt16(),this.encodingID=I.readShort(),this.offset=V+I.readInt(),we=I.pos,I.pos=this.offset,this.format=I.readUInt16(),this.length=I.readUInt16(),this.language=I.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(te=0;te<256;++te)this.codeMap[te]=I.readByte();break;case 4:for(ue=I.readUInt16(),Oe=ue/2,I.pos+=6,Q=function(){var Et,Ft;for(Ft=[],te=Et=0;0<=Oe?Et<Oe:Et>Oe;te=0<=Oe?++Et:--Et)Ft.push(I.readUInt16());return Ft}(),I.pos+=2,Re=function(){var Et,Ft;for(Ft=[],te=Et=0;0<=Oe?Et<Oe:Et>Oe;te=0<=Oe?++Et:--Et)Ft.push(I.readUInt16());return Ft}(),pe=function(){var Et,Ft;for(Ft=[],te=Et=0;0<=Oe?Et<Oe:Et>Oe;te=0<=Oe?++Et:--Et)Ft.push(I.readUInt16());return Ft}(),Ce=function(){var Et,Ft;for(Ft=[],te=Et=0;0<=Oe?Et<Oe:Et>Oe;te=0<=Oe?++Et:--Et)Ft.push(I.readUInt16());return Ft}(),q=(this.length-I.pos+this.offset)/2,ee=function(){var Et,Ft;for(Ft=[],te=Et=0;0<=q?Et<q:Et>q;te=0<=q?++Et:--Et)Ft.push(I.readUInt16());return Ft}(),te=Ie=0,at=Q.length;Ie<at;te=++Ie)for(qe=Q[te],_=ze=_e=Re[te];_e<=qe?ze<=qe:ze>=qe;_=_e<=qe?++ze:--ze)0===Ce[te]?Y=_+pe[te]:0!==(Y=ee[Ce[te]/2+(_-_e)-(Oe-te)]||0)&&(Y+=pe[te]),this.codeMap[_]=65535&Y}I.pos=we}return O.encode=function(I,V){var _,q,Q,Y,ee,te,pe,Ce,we,Oe,ue,_e,Re,qe,Ie,ze,at,Ft,Yt,wt,Ye,Kt,jt,Be,Fe,ot,et,Ht,Mt,zt,Dt,qt,St,In,Te,Ue,Ge,lt,pt,vt,Ot,Rt,cn,nn,Sn;switch(et=new Si,Y=Object.keys(I).sort(function(An,ir){return An-ir}),V){case"macroman":for(Re=0,qe=function(){var An=[];for(_e=0;_e<256;++_e)An.push(0);return An}(),ze={0:0},Q={},Ht=0,qt=Y.length;Ht<qt;Ht++)null==ze[Rt=I[q=Y[Ht]]]&&(ze[Rt]=++Re),Q[q]={old:I[q],new:ze[I[q]]},qe[q]=ze[I[q]];return et.writeUInt16(1),et.writeUInt16(0),et.writeUInt32(12),et.writeUInt16(0),et.writeUInt16(262),et.writeUInt16(0),et.write(qe),{charMap:Q,subtable:et.data,maxGlyphID:Re+1};case"unicode":for(Fe=[],we=[],at=0,ze={},_={},Ie=pe=null,Mt=0,St=Y.length;Mt<St;Mt++)null==ze[Ft=I[q=Y[Mt]]]&&(ze[Ft]=++at),_[q]={old:Ft,new:ze[Ft]},ee=ze[Ft]-q,null!=Ie&&ee===pe||(Ie&&we.push(Ie),Fe.push(q),pe=ee),Ie=q;for(Ie&&we.push(Ie),we.push(65535),Fe.push(65535),jt=2*(Kt=Fe.length),Ye=2*Math.pow(Math.log(Kt)/Math.LN2,2),Oe=Math.log(Ye/2)/Math.LN2,wt=2*Kt-Ye,te=[],Yt=[],ue=[],_e=zt=0,In=Fe.length;zt<In;_e=++zt){if(Ce=we[_e],65535===(Be=Fe[_e])){te.push(0),Yt.push(0);break}if(Be-(ot=_[Be].new)>=32768)for(te.push(0),Yt.push(2*(ue.length+Kt-_e)),q=Dt=Be;Be<=Ce?Dt<=Ce:Dt>=Ce;q=Be<=Ce?++Dt:--Dt)ue.push(_[q].new);else te.push(ot-Be),Yt.push(0)}for(et.writeUInt16(3),et.writeUInt16(1),et.writeUInt32(12),et.writeUInt16(4),et.writeUInt16(16+8*Kt+2*ue.length),et.writeUInt16(0),et.writeUInt16(jt),et.writeUInt16(Ye),et.writeUInt16(Oe),et.writeUInt16(wt),vt=0,Te=we.length;vt<Te;vt++)et.writeUInt16(q=we[vt]);for(et.writeUInt16(0),Ot=0,Ue=Fe.length;Ot<Ue;Ot++)et.writeUInt16(q=Fe[Ot]);for(cn=0,Ge=te.length;cn<Ge;cn++)et.writeUInt16(ee=te[cn]);for(nn=0,lt=Yt.length;nn<lt;nn++)et.writeUInt16(Yt[nn]);for(Sn=0,pt=ue.length;Sn<pt;Sn++)et.writeUInt16(Re=ue[Sn]);return{charMap:_,subtable:et.data,maxGlyphID:at+1}}},O}(),Id=function(O){function I(){return I.__super__.constructor.apply(this,arguments)}return zi(I,Lo),I.prototype.tag="cmap",I.prototype.parse=function(V){var _,q,Q;for(V.pos=this.offset,this.version=V.readUInt16(),Q=V.readUInt16(),this.tables=[],this.unicode=null,q=0;0<=Q?q<Q:q>Q;q=0<=Q?++q:--q)_=new Dd(V,this.offset),this.tables.push(_),_.isUnicode&&null==this.unicode&&(this.unicode=_);return!0},I.encode=function(V,_){var q,Q;return null==_&&(_="macroman"),q=Dd.encode(V,_),(Q=new Si).writeUInt16(0),Q.writeUInt16(1),q.table=Q.data.concat(q.subtable),q},I}(),la=function(O){function I(){return I.__super__.constructor.apply(this,arguments)}return zi(I,Lo),I.prototype.tag="hhea",I.prototype.parse=function(V){return V.pos=this.offset,this.version=V.readInt(),this.ascender=V.readShort(),this.decender=V.readShort(),this.lineGap=V.readShort(),this.advanceWidthMax=V.readShort(),this.minLeftSideBearing=V.readShort(),this.minRightSideBearing=V.readShort(),this.xMaxExtent=V.readShort(),this.caretSlopeRise=V.readShort(),this.caretSlopeRun=V.readShort(),this.caretOffset=V.readShort(),V.pos+=8,this.metricDataFormat=V.readShort(),this.numberOfMetrics=V.readUInt16()},I}(),Es=function(O){function I(){return I.__super__.constructor.apply(this,arguments)}return zi(I,Lo),I.prototype.tag="OS/2",I.prototype.parse=function(V){if(V.pos=this.offset,this.version=V.readUInt16(),this.averageCharWidth=V.readShort(),this.weightClass=V.readUInt16(),this.widthClass=V.readUInt16(),this.type=V.readShort(),this.ySubscriptXSize=V.readShort(),this.ySubscriptYSize=V.readShort(),this.ySubscriptXOffset=V.readShort(),this.ySubscriptYOffset=V.readShort(),this.ySuperscriptXSize=V.readShort(),this.ySuperscriptYSize=V.readShort(),this.ySuperscriptXOffset=V.readShort(),this.ySuperscriptYOffset=V.readShort(),this.yStrikeoutSize=V.readShort(),this.yStrikeoutPosition=V.readShort(),this.familyClass=V.readShort(),this.panose=function(){var _,q;for(q=[],_=0;_<10;++_)q.push(V.readByte());return q}(),this.charRange=function(){var _,q;for(q=[],_=0;_<4;++_)q.push(V.readInt());return q}(),this.vendorID=V.readString(4),this.selection=V.readShort(),this.firstCharIndex=V.readShort(),this.lastCharIndex=V.readShort(),this.version>0&&(this.ascent=V.readShort(),this.descent=V.readShort(),this.lineGap=V.readShort(),this.winAscent=V.readShort(),this.winDescent=V.readShort(),this.codePageRange=function(){var _,q;for(q=[],_=0;_<2;_=++_)q.push(V.readInt());return q}(),this.version>1))return this.xHeight=V.readShort(),this.capHeight=V.readShort(),this.defaultChar=V.readShort(),this.breakChar=V.readShort(),this.maxContext=V.readShort()},I}(),bc=function(O){function I(){return I.__super__.constructor.apply(this,arguments)}return zi(I,Lo),I.prototype.tag="post",I.prototype.parse=function(V){var _,q,Q;switch(V.pos=this.offset,this.format=V.readInt(),this.italicAngle=V.readInt(),this.underlinePosition=V.readShort(),this.underlineThickness=V.readShort(),this.isFixedPitch=V.readInt(),this.minMemType42=V.readInt(),this.maxMemType42=V.readInt(),this.minMemType1=V.readInt(),this.maxMemType1=V.readInt(),this.format){case 65536:case 196608:break;case 131072:var Y;for(q=V.readUInt16(),this.glyphNameIndex=[],Y=0;0<=q?Y<q:Y>q;Y=0<=q?++Y:--Y)this.glyphNameIndex.push(V.readUInt16());for(this.names=[],Q=[];V.pos<this.offset+this.length;)_=V.readByte(),Q.push(this.names.push(V.readString(_)));return Q;case 151552:return q=V.readUInt16(),this.offsets=V.read(q);case 262144:return this.map=function(){var ee,te,pe;for(pe=[],Y=ee=0,te=this.file.maxp.numGlyphs;0<=te?ee<te:ee>te;Y=0<=te?++ee:--ee)pe.push(V.readUInt32());return pe}.call(this)}},I}(),_u=function(O,I){this.raw=O,this.length=O.length,this.platformID=I.platformID,this.encodingID=I.encodingID,this.languageID=I.languageID},zu=function(O){function I(){return I.__super__.constructor.apply(this,arguments)}return zi(I,Lo),I.prototype.tag="name",I.prototype.parse=function(V){var _,q,Q,Y,ee,te,pe,Ce,we,Oe,ue;for(V.pos=this.offset,V.readShort(),_=V.readShort(),te=V.readShort(),q=[],Y=0;0<=_?Y<_:Y>_;Y=0<=_?++Y:--Y)q.push({platformID:V.readShort(),encodingID:V.readShort(),languageID:V.readShort(),nameID:V.readShort(),length:V.readShort(),offset:this.offset+te+V.readShort()});for(pe={},Y=we=0,Oe=q.length;we<Oe;Y=++we)V.pos=(Q=q[Y]).offset,Ce=V.readString(Q.length),ee=new _u(Ce,Q),null==pe[ue=Q.nameID]&&(pe[ue]=[]),pe[Q.nameID].push(ee);this.strings=pe,this.copyright=pe[0],this.fontFamily=pe[1],this.fontSubfamily=pe[2],this.uniqueSubfamily=pe[3],this.fontName=pe[4],this.version=pe[5];try{this.postscriptName=pe[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(_e){this.postscriptName=pe[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=pe[7],this.manufacturer=pe[8],this.designer=pe[9],this.description=pe[10],this.vendorUrl=pe[11],this.designerUrl=pe[12],this.license=pe[13],this.licenseUrl=pe[14],this.preferredFamily=pe[15],this.preferredSubfamily=pe[17],this.compatibleFull=pe[18],this.sampleText=pe[19]},I}(),Fo=function(O){function I(){return I.__super__.constructor.apply(this,arguments)}return zi(I,Lo),I.prototype.tag="maxp",I.prototype.parse=function(V){return V.pos=this.offset,this.version=V.readInt(),this.numGlyphs=V.readUInt16(),this.maxPoints=V.readUInt16(),this.maxContours=V.readUInt16(),this.maxCompositePoints=V.readUInt16(),this.maxComponentContours=V.readUInt16(),this.maxZones=V.readUInt16(),this.maxTwilightPoints=V.readUInt16(),this.maxStorage=V.readUInt16(),this.maxFunctionDefs=V.readUInt16(),this.maxInstructionDefs=V.readUInt16(),this.maxStackElements=V.readUInt16(),this.maxSizeOfInstructions=V.readUInt16(),this.maxComponentElements=V.readUInt16(),this.maxComponentDepth=V.readUInt16()},I}(),zh=function(O){function I(){return I.__super__.constructor.apply(this,arguments)}return zi(I,Lo),I.prototype.tag="hmtx",I.prototype.parse=function(V){var _,q,Q,ee,te,pe;for(V.pos=this.offset,this.metrics=[],_=0,te=this.file.hhea.numberOfMetrics;0<=te?_<te:_>te;_=0<=te?++_:--_)this.metrics.push({advance:V.readUInt16(),lsb:V.readInt16()});for(Q=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var Ce,we;for(we=[],_=Ce=0;0<=Q?Ce<Q:Ce>Q;_=0<=Q?++Ce:--Ce)we.push(V.readInt16());return we}(),this.widths=function(){var Ce,we,Oe,ue;for(ue=[],Ce=0,we=(Oe=this.metrics).length;Ce<we;Ce++)ue.push(Oe[Ce].advance);return ue}.call(this),q=this.widths[this.widths.length-1],pe=[],_=ee=0;0<=Q?ee<Q:ee>Q;_=0<=Q?++ee:--ee)pe.push(this.widths.push(q));return pe},I.prototype.forGlyph=function(V){return V in this.metrics?this.metrics[V]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[V-this.metrics.length]}},I}(),Qu=[].slice,vr=function(O){function I(){return I.__super__.constructor.apply(this,arguments)}return zi(I,Lo),I.prototype.tag="glyf",I.prototype.parse=function(){return this.cache={}},I.prototype.glyphFor=function(V){var _,q,Q,Y,ee,te,pe,Ce,we,Oe;return V in this.cache?this.cache[V]:(_=this.file.contents,q=(Y=this.file.loca).indexOf(V),0===(Q=Y.lengthOf(V))?this.cache[V]=null:(_.pos=this.offset+q,ee=(te=new Si(_.read(Q))).readShort(),Ce=te.readShort(),Oe=te.readShort(),pe=te.readShort(),we=te.readShort(),this.cache[V]=-1===ee?new vg(te,Ce,Oe,pe,we):new Od(te,ee,Ce,Oe,pe,we),this.cache[V]))},I.prototype.encode=function(V,_,q){var Q,Y,ee,te,pe;for(ee=[],Y=[],te=0,pe=_.length;te<pe;te++)Q=V[_[te]],Y.push(ee.length),Q&&(ee=ee.concat(Q.encode(q)));return Y.push(ee.length),{table:ee,offsets:Y}},I}(),Od=function(){function O(I,V,_,q,Q,Y){this.raw=I,this.numberOfContours=V,this.xMin=_,this.yMin=q,this.xMax=Q,this.yMax=Y,this.compound=!1}return O.prototype.encode=function(){return this.raw.data},O}(),vg=function(){function O(I,V,_,q,Q){var Y,ee;for(this.raw=I,this.xMin=V,this.yMin=_,this.xMax=q,this.yMax=Q,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Y=this.raw;ee=Y.readShort(),this.glyphOffsets.push(Y.pos),this.glyphIDs.push(Y.readUInt16()),32&ee;)Y.pos+=1&ee?4:2,128&ee?Y.pos+=8:64&ee?Y.pos+=4:8&ee&&(Y.pos+=2)}return O.prototype.encode=function(){var I,V,_;for(V=new Si(Qu.call(this.raw.data)),I=0,_=this.glyphIDs.length;I<_;++I)V.pos=this.glyphOffsets[I];return V.data},O}(),fe=function(O){function I(){return I.__super__.constructor.apply(this,arguments)}return zi(I,Lo),I.prototype.tag="loca",I.prototype.parse=function(V){var q;return V.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var Q,Y;for(Y=[],q=0,Q=this.length;q<Q;q+=2)Y.push(2*V.readUInt16());return Y}.call(this):function(){var Q,Y;for(Y=[],q=0,Q=this.length;q<Q;q+=4)Y.push(V.readUInt32());return Y}.call(this)},I.prototype.indexOf=function(V){return this.offsets[V]},I.prototype.lengthOf=function(V){return this.offsets[V+1]-this.offsets[V]},I.prototype.encode=function(V,_){for(var q=new Uint32Array(this.offsets.length),Q=0,Y=0,ee=0;ee<q.length;++ee)if(q[ee]=Q,Y<_.length&&_[Y]==ee){++Y,q[ee]=Q;var pe=this.offsets[ee+1]-this.offsets[ee];pe>0&&(Q+=pe)}for(var Ce=new Array(4*q.length),we=0;we<q.length;++we)Ce[4*we+3]=255&q[we],Ce[4*we+2]=(65280&q[we])>>8,Ce[4*we+1]=(16711680&q[we])>>16,Ce[4*we]=(4278190080&q[we])>>24;return Ce},I}(),me=function(){function O(I){this.font=I,this.subset={},this.unicodes={},this.next=33}return O.prototype.generateCmap=function(){var I,V,q,Q;for(V in q=this.font.cmap.tables[0].codeMap,I={},Q=this.subset)I[V]=q[Q[V]];return I},O.prototype.glyphsFor=function(I){var V,_,q,Q,Y,ee,te;for(q={},Y=0,ee=I.length;Y<ee;Y++)q[Q=I[Y]]=this.font.glyf.glyphFor(Q);for(Q in V=[],q)(null!=(_=q[Q])?_.compound:void 0)&&V.push.apply(V,_.glyphIDs);if(V.length>0)for(Q in te=this.glyphsFor(V))q[Q]=_=te[Q];return q},O.prototype.encode=function(I,V){var _,q,Q,Y,te,pe,Ce,we,Oe,ue,_e,Re,qe,Ie;for(q in _=Id.encode(this.generateCmap(),"unicode"),Y=this.glyphsFor(I),ue={0:0},Ie=_.charMap)ue[(te=Ie[q]).old]=te.new;for(_e in Oe=_.maxGlyphID,Y)_e in ue||(ue[_e]=Oe++);return Ce=function(ze){var at,Et;for(at in Et={},ze)Et[ze[at]]=at;return Et}(ue),we=Object.keys(Ce).sort(function(ze,at){return ze-at}),Re=function(){var ze,at,Et;for(Et=[],ze=0,at=we.length;ze<at;ze++)Et.push(Ce[we[ze]]);return Et}(),Q=this.font.glyf.encode(Y,Re,ue),pe=this.font.loca.encode(Q.offsets,Re),qe={cmap:this.font.cmap.raw(),glyf:Q.table,loca:pe,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(V)},this.font.os2.exists&&(qe["OS/2"]=this.font.os2.raw()),this.font.directory.encode(qe)},O}();Xn.API.PDFObject=function(){var O;function I(){}return O=function(V,_){return(Array(_+1).join("0")+V).slice(-_)},I.convert=function(V){var q,Q;if(Array.isArray(V))return"["+function(){var ee,te,pe;for(pe=[],ee=0,te=V.length;ee<te;ee++)pe.push(I.convert(V[ee]));return pe}().join(" ")+"]";if("string"==typeof V)return"/"+V;if(null!=V?V.isString:void 0)return"("+V+")";if(V instanceof Date)return"(D:"+O(V.getUTCFullYear(),4)+O(V.getUTCMonth(),2)+O(V.getUTCDate(),2)+O(V.getUTCHours(),2)+O(V.getUTCMinutes(),2)+O(V.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(V)){for(q in Q=["<<"],V)Q.push("/"+q+" "+I.convert(V[q]));return Q.push(">>"),Q.join("\n")}return""+V},I}();const mt=Xn},8940:function(hc){hc.exports=function($e){var j={};function x(G){if(j[G])return j[G].exports;var se=j[G]={i:G,l:!1,exports:{}};return $e[G].call(se.exports,se,se.exports,x),se.l=!0,se.exports}return x.m=$e,x.c=j,x.d=function(G,se,$){x.o(G,se)||Object.defineProperty(G,se,{enumerable:!0,get:$})},x.r=function(G){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})},x.t=function(G,se){if(1&se&&(G=x(G)),8&se||4&se&&"object"==typeof G&&G&&G.__esModule)return G;var $=Object.create(null);if(x.r($),Object.defineProperty($,"default",{enumerable:!0,value:G}),2&se&&"string"!=typeof G)for(var w in G)x.d($,w,function(F){return G[F]}.bind(null,w));return $},x.n=function(G){var se=G&&G.__esModule?function(){return G.default}:function(){return G};return x.d(se,"a",se),se},x.o=function(G,se){return Object.prototype.hasOwnProperty.call(G,se)},x.p="",x(x.s="./src/entries/core.ts")}({"./node_modules/signature_pad/dist/signature_pad.js":function($e,j,x){"use strict";x.r(j),x.d(j,"default",function(){return F});class G{constructor(L,m,T,C){if(isNaN(L)||isNaN(m))throw new Error(`Point is invalid: (${L}, ${m})`);this.x=+L,this.y=+m,this.pressure=T||0,this.time=C||Date.now()}distanceTo(L){return Math.sqrt(Math.pow(this.x-L.x,2)+Math.pow(this.y-L.y,2))}equals(L){return this.x===L.x&&this.y===L.y&&this.pressure===L.pressure&&this.time===L.time}velocityFrom(L){return this.time!==L.time?this.distanceTo(L)/(this.time-L.time):0}}class se{static fromPoints(L,m){const T=this.calculateControlPoints(L[0],L[1],L[2]).c2,C=this.calculateControlPoints(L[1],L[2],L[3]).c1;return new se(L[1],T,C,L[2],m.start,m.end)}static calculateControlPoints(L,m,T){const C=L.x-m.x,y=L.y-m.y,h=m.x-T.x,v=m.y-T.y,f_x=(L.x+m.x)/2,f_y=(L.y+m.y)/2,d_x=(m.x+T.x)/2,d_y=(m.y+T.y)/2,u=Math.sqrt(C*C+y*y),a=Math.sqrt(h*h+v*v),l=a/(u+a),b=m.x-(d_x+(f_x-d_x)*l),M=m.y-(d_y+(f_y-d_y)*l);return{c1:new G(f_x+b,f_y+M),c2:new G(d_x+b,d_y+M)}}constructor(L,m,T,C,y,h){this.startPoint=L,this.control2=m,this.control1=T,this.endPoint=C,this.startWidth=y,this.endWidth=h}length(){let T,C,m=0;for(let y=0;y<=10;y+=1){const h=y/10,v=this.point(h,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),f=this.point(h,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(y>0){const d=v-T,u=f-C;m+=Math.sqrt(d*d+u*u)}T=v,C=f}return m}point(L,m,T,C,y){return m*(1-L)*(1-L)*(1-L)+3*T*(1-L)*(1-L)*L+3*C*(1-L)*L*L+y*L*L*L}}class F extends class ${constructor(){try{this._et=new EventTarget}catch(L){this._et=document}}addEventListener(L,m,T){this._et.addEventListener(L,m,T)}dispatchEvent(L){return this._et.dispatchEvent(L)}removeEventListener(L,m,T){this._et.removeEventListener(L,m,T)}}{constructor(L,m={}){super(),this.canvas=L,this._drawingStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=T=>{1===T.buttons&&this._strokeBegin(T)},this._handleMouseMove=T=>{this._strokeMoveUpdate(T)},this._handleMouseUp=T=>{1===T.buttons&&this._strokeEnd(T)},this._handleTouchStart=T=>{T.cancelable&&T.preventDefault(),1===T.targetTouches.length&&this._strokeBegin(T.changedTouches[0])},this._handleTouchMove=T=>{T.cancelable&&T.preventDefault(),this._strokeMoveUpdate(T.targetTouches[0])},this._handleTouchEnd=T=>{T.target===this.canvas&&(T.cancelable&&T.preventDefault(),this._strokeEnd(T.changedTouches[0]))},this._handlePointerStart=T=>{T.preventDefault(),this._strokeBegin(T)},this._handlePointerMove=T=>{this._strokeMoveUpdate(T)},this._handlePointerEnd=T=>{this._drawingStroke&&(T.preventDefault(),this._strokeEnd(T))},this.velocityFilterWeight=m.velocityFilterWeight||.7,this.minWidth=m.minWidth||.5,this.maxWidth=m.maxWidth||2.5,this.throttle="throttle"in m?m.throttle:16,this.minDistance="minDistance"in m?m.minDistance:5,this.dotSize=m.dotSize||0,this.penColor=m.penColor||"black",this.backgroundColor=m.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=m.compositeOperation||"source-over",this._strokeMoveUpdate=this.throttle?function w(R,L=250){let C,y,h,m=0,T=null;const v=()=>{m=Date.now(),T=null,C=R.apply(y,h),T||(y=null,h=[])};return function(...d){const u=Date.now(),a=L-(u-m);return y=this,h=d,a<=0||a>L?(T&&(clearTimeout(T),T=null),m=u,C=R.apply(y,h),T||(y=null,h=[])):T||(T=window.setTimeout(v,a)),C}}(F.prototype._strokeUpdate,this.throttle):F.prototype._strokeUpdate,this._ctx=L.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:L,canvas:m}=this;L.fillStyle=this.backgroundColor,L.clearRect(0,0,m.width,m.height),L.fillRect(0,0,m.width,m.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(L,m={}){return new Promise((T,C)=>{const y=new Image,h=m.ratio||window.devicePixelRatio||1,v=m.width||this.canvas.width/h,f=m.height||this.canvas.height/h,d=m.xOffset||0,u=m.yOffset||0;this._reset(this._getPointGroupOptions()),y.onload=()=>{this._ctx.drawImage(y,d,u,v,f),T()},y.onerror=a=>{C(a)},y.crossOrigin="anonymous",y.src=L,this._isEmpty=!1})}toDataURL(L="image/png",m){return"image/svg+xml"===L?("object"!=typeof m&&(m=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(m))}`):("number"!=typeof m&&(m=void 0),this.canvas.toDataURL(L,m))}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const L=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!L?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(L,{clear:m=!0}={}){m&&this.clear(),this._fromData(L,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(L)}toData(){return this._data}_getPointGroupOptions(L){return{penColor:L&&"penColor"in L?L.penColor:this.penColor,dotSize:L&&"dotSize"in L?L.dotSize:this.dotSize,minWidth:L&&"minWidth"in L?L.minWidth:this.minWidth,maxWidth:L&&"maxWidth"in L?L.maxWidth:this.maxWidth,velocityFilterWeight:L&&"velocityFilterWeight"in L?L.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:L&&"compositeOperation"in L?L.compositeOperation:this.compositeOperation}}_strokeBegin(L){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:L,cancelable:!0})))return;this._drawingStroke=!0;const T=this._getPointGroupOptions(),C=Object.assign(Object.assign({},T),{points:[]});this._data.push(C),this._reset(T),this._strokeUpdate(L)}_strokeUpdate(L){if(!this._drawingStroke)return;if(0===this._data.length)return void this._strokeBegin(L);this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:L}));const y=this._createPoint(L.clientX,L.clientY,void 0!==L.pressure?L.pressure:void 0!==L.force?L.force:0),h=this._data[this._data.length-1],v=h.points,f=v.length>0&&v[v.length-1],d=!!f&&y.distanceTo(f)<=this.minDistance,u=this._getPointGroupOptions(h);if(!f||!f||!d){const a=this._addPoint(y,u);f?a&&this._drawCurve(a,u):this._drawDot(y,u),v.push({time:y.time,x:y.x,y:y.y,pressure:y.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:L}))}_strokeEnd(L){!this._drawingStroke||(this._strokeUpdate(L),this._drawingStroke=!1,this.dispatchEvent(new CustomEvent("endStroke",{detail:L})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(L){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(L.minWidth+L.maxWidth)/2,this._ctx.fillStyle=L.penColor,this._ctx.globalCompositeOperation=L.compositeOperation}_createPoint(L,m,T){const C=this.canvas.getBoundingClientRect();return new G(L-C.left,m-C.top,T,(new Date).getTime())}_addPoint(L,m){const{_lastPoints:T}=this;if(T.push(L),T.length>2){3===T.length&&T.unshift(T[0]);const C=this._calculateCurveWidths(T[1],T[2],m),y=se.fromPoints(T,C);return T.shift(),y}return null}_calculateCurveWidths(L,m,T){const C=T.velocityFilterWeight*m.velocityFrom(L)+(1-T.velocityFilterWeight)*this._lastVelocity,y=this._strokeWidth(C,T),h={end:y,start:this._lastWidth};return this._lastVelocity=C,this._lastWidth=y,h}_strokeWidth(L,m){return Math.max(m.maxWidth/(L+1),m.minWidth)}_drawCurveSegment(L,m,T){const C=this._ctx;C.moveTo(L,m),C.arc(L,m,T,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(L,m){const T=this._ctx,C=L.endWidth-L.startWidth,y=2*Math.ceil(L.length());T.beginPath(),T.fillStyle=m.penColor;for(let h=0;h<y;h+=1){const v=h/y,f=v*v,d=f*v,u=1-v,a=u*u,o=a*u;let s=o*L.startPoint.x;s+=3*a*v*L.control1.x,s+=3*u*f*L.control2.x,s+=d*L.endPoint.x;let l=o*L.startPoint.y;l+=3*a*v*L.control1.y,l+=3*u*f*L.control2.y,l+=d*L.endPoint.y;const c=Math.min(L.startWidth+d*C,m.maxWidth);this._drawCurveSegment(s,l,c)}T.closePath(),T.fill()}_drawDot(L,m){const T=this._ctx,C=m.dotSize>0?m.dotSize:(m.minWidth+m.maxWidth)/2;T.beginPath(),this._drawCurveSegment(L.x,L.y,C),T.closePath(),T.fillStyle=m.penColor,T.fill()}_fromData(L,m,T){for(const C of L){const{points:y}=C,h=this._getPointGroupOptions(C);if(y.length>1)for(let v=0;v<y.length;v+=1){const f=y[v],d=new G(f.x,f.y,f.pressure,f.time);0===v&&this._reset(h);const u=this._addPoint(d,h);u&&m(u,h)}else this._reset(h),T(y[0],h)}}toSVG({includeBackgroundColor:L=!1}={}){const m=this._data,T=Math.max(window.devicePixelRatio||1,1),h=this.canvas.width/T,v=this.canvas.height/T,f=document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.setAttribute("xmlns","http://www.w3.org/2000/svg"),f.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),f.setAttribute("viewBox",`0 0 ${h} ${v}`),f.setAttribute("width",h.toString()),f.setAttribute("height",v.toString()),L&&this.backgroundColor){const d=document.createElement("rect");d.setAttribute("width","100%"),d.setAttribute("height","100%"),d.setAttribute("fill",this.backgroundColor),f.appendChild(d)}return this._fromData(m,(d,{penColor:u})=>{const a=document.createElement("path");if(!(isNaN(d.control1.x)||isNaN(d.control1.y)||isNaN(d.control2.x)||isNaN(d.control2.y))){const o=`M ${d.startPoint.x.toFixed(3)},${d.startPoint.y.toFixed(3)} C ${d.control1.x.toFixed(3)},${d.control1.y.toFixed(3)} ${d.control2.x.toFixed(3)},${d.control2.y.toFixed(3)} ${d.endPoint.x.toFixed(3)},${d.endPoint.y.toFixed(3)}`;a.setAttribute("d",o),a.setAttribute("stroke-width",(2.25*d.endWidth).toFixed(3)),a.setAttribute("stroke",u),a.setAttribute("fill","none"),a.setAttribute("stroke-linecap","round"),f.appendChild(a)}},(d,{penColor:u,dotSize:a,minWidth:o,maxWidth:s})=>{const l=document.createElement("circle");l.setAttribute("r",(a>0?a:(o+s)/2).toString()),l.setAttribute("cx",d.x.toString()),l.setAttribute("cy",d.y.toString()),l.setAttribute("fill",u),f.appendChild(l)}),f.outerHTML}}},"./src/actions/action.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"createDropdownActionModel",function(){return C}),x.d(j,"createDropdownActionModelAdvanced",function(){return y}),x.d(j,"getActionDropdownButtonTarget",function(){return h}),x.d(j,"BaseAction",function(){return v}),x.d(j,"Action",function(){return f}),x.d(j,"ActionDropdownViewModel",function(){return d});var u,G=x("./src/base.ts"),se=x("./src/surveyStrings.ts"),$=x("./src/jsonobject.ts"),w=x("./src/list.ts"),F=x("./src/popup.ts"),R=x("./src/utils/cssClassBuilder.ts"),L=x("./src/actions/container.ts"),m=(u=function(a,o){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])})(a,o)},function(a,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function s(){this.constructor=a}u(a,o),a.prototype=null===o?Object.create(o):(s.prototype=o.prototype,new s)}),T=function(u,a,o,s){var b,l=arguments.length,c=l<3?a:null===s?s=Object.getOwnPropertyDescriptor(a,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,a,o,s);else for(var M=u.length-1;M>=0;M--)(b=u[M])&&(c=(l<3?b(c):l>3?b(a,o,c):b(a,o))||c);return l>3&&c&&Object.defineProperty(a,o,c),c};function C(u,a,o){return y(u,a,a,o)}function y(u,a,o,s){var l=new w.ListModel(a.items,function(D){M.hasTitle&&(M.title=D.title),a.onSelectionChanged(D),c.toggleVisibility()},a.allowSelection,a.selectedItem,a.onFilterStringChangedCallback);l.locOwner=s;var c=new F.PopupModel("sv-list",{model:l},null==o?void 0:o.verticalPosition,null==o?void 0:o.horizontalPosition,null==o?void 0:o.showPointer,null==o?void 0:o.isModal,null==o?void 0:o.onCancel,null==o?void 0:o.onApply,null==o?void 0:o.onHide,null==o?void 0:o.onShow,null==o?void 0:o.cssClass,null==o?void 0:o.title,function(){l.dispose()});c.displayMode=null==o?void 0:o.displayMode;var b=Object.assign({},u,{component:"sv-action-bar-item-dropdown",popupModel:c,action:function(D,g){!!u.action&&u.action(),c.isFocusedContent=!g||l.showFilter,c.toggleVisibility(),l.scrollToSelectedItem()}}),M=new f(b);return M.data=l,M}function h(u){return null==u?void 0:u.previousElementSibling}var v=function(u){function a(){var o=null!==u&&u.apply(this,arguments)||this;return o.iconSize=24,o}return m(a,u),Object.defineProperty(a.prototype,"visible",{get:function(){return this.getVisible()},set:function(o){this.setVisible(o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"enabled",{get:function(){return this.getEnabled()},set:function(o){this.setEnabled(o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"component",{get:function(){return this.getComponent()},set:function(o){this.setComponent(o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"locTitle",{get:function(){return this.getLocTitle()},set:function(o){this.setLocTitle(o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"title",{get:function(){return this.getTitle()},set:function(o){this.setTitle(o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"cssClasses",{get:function(){return this.cssClassesValue||L.defaultActionBarCss},set:function(o){this.cssClassesValue=o},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isVisible",{get:function(){return this.visible&&"popup"!==this.mode&&"removed"!==this.mode},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"disabled",{get:function(){return void 0!==this.enabled&&!this.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"canShrink",{get:function(){return!!this.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasTitle",{get:function(){return("small"!=this.mode&&(this.showTitle||void 0===this.showTitle)||!this.iconName)&&!!this.title},enumerable:!1,configurable:!0}),a.prototype.getActionBarItemTitleCss=function(){return(new R.CssClassBuilder).append(this.cssClasses.itemTitle).append(this.cssClasses.itemTitleWithIcon,!!this.iconName).toString()},a.prototype.getActionBarItemCss=function(){return(new R.CssClassBuilder).append(this.cssClasses.item).append(this.cssClasses.itemWithTitle,this.hasTitle).append(this.cssClasses.itemAsIcon,!this.hasTitle).append(this.cssClasses.itemActive,!!this.active).append(this.cssClasses.itemPressed,!!this.pressed).append(this.innerCss).toString()},a.prototype.getActionRootCss=function(){return(new R.CssClassBuilder).append("sv-action").append(this.css).append("sv-action--space",this.needSpace).append("sv-action--hidden",!this.isVisible).toString()},a.prototype.getTooltip=function(){return this.tooltip||this.title},a.prototype.getIsTrusted=function(o){return o.originalEvent?o.originalEvent.isTrusted:o.isTrusted},T([Object($.property)()],a.prototype,"tooltip",void 0),T([Object($.property)()],a.prototype,"showTitle",void 0),T([Object($.property)()],a.prototype,"innerCss",void 0),T([Object($.property)()],a.prototype,"active",void 0),T([Object($.property)()],a.prototype,"pressed",void 0),T([Object($.property)()],a.prototype,"data",void 0),T([Object($.property)()],a.prototype,"popupModel",void 0),T([Object($.property)()],a.prototype,"needSeparator",void 0),T([Object($.property)()],a.prototype,"template",void 0),T([Object($.property)({defaultValue:"large"})],a.prototype,"mode",void 0),T([Object($.property)()],a.prototype,"visibleIndex",void 0),T([Object($.property)()],a.prototype,"disableTabStop",void 0),T([Object($.property)()],a.prototype,"disableShrink",void 0),T([Object($.property)()],a.prototype,"disableHide",void 0),T([Object($.property)({defaultValue:!1})],a.prototype,"needSpace",void 0),T([Object($.property)()],a.prototype,"ariaChecked",void 0),T([Object($.property)()],a.prototype,"ariaExpanded",void 0),T([Object($.property)({defaultValue:"button"})],a.prototype,"ariaRole",void 0),T([Object($.property)()],a.prototype,"iconName",void 0),T([Object($.property)()],a.prototype,"iconSize",void 0),T([Object($.property)()],a.prototype,"css",void 0),a}(G.Base),f=function(u){function a(o){var s=u.call(this)||this;if(s.innerItem=o,s.locTitleChanged=function(){s.setPropertyValue("_title",s.locTitle.renderedHtml||void 0)},s.locTitle=o?o.locTitle:null,o)for(var l in o)"locTitle"!==l&&(s[l]=o[l]);return s.locTitleName&&s.locTitleChanged(),s.registerFunctionOnPropertyValueChanged("_title",function(){s.raiseUpdate(!0)}),s.locStrChangedInPopupModel(),s}return m(a,u),a.prototype.raiseUpdate=function(o){void 0===o&&(o=!1),this.updateCallback&&this.updateCallback(o)},a.prototype.createLocTitle=function(){return this.createLocalizableString("title",this,!0)},a.prototype.getLocTitle=function(){return this.locTitleValue},a.prototype.setLocTitle=function(o){!o&&!this.locTitleValue&&(o=this.createLocTitle()),this.locTitleValue&&this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleValue=o,this.locTitleValue.onStringChanged.add(this.locTitleChanged),this.locTitleChanged()},a.prototype.getTitle=function(){return this._title},a.prototype.setTitle=function(o){this._title=o},Object.defineProperty(a.prototype,"locTitleName",{get:function(){return this.locTitle.localizationName},set:function(o){this.locTitle.localizationName=o},enumerable:!1,configurable:!0}),a.prototype.locStrsChanged=function(){u.prototype.locStrsChanged.call(this),this.locTooltipChanged(),this.locStrChangedInPopupModel()},a.prototype.locStrChangedInPopupModel=function(){if(this.popupModel&&this.popupModel.contentComponentData&&this.popupModel.contentComponentData.model){var o=this.popupModel.contentComponentData.model;Array.isArray(o.actions)&&o.actions.forEach(function(l){l.locStrsChanged&&l.locStrsChanged()})}},a.prototype.locTooltipChanged=function(){!this.locTooltipName||(this.tooltip=se.surveyLocalization.getString(this.locTooltipName,this.locTitle.locale))},a.prototype.getLocale=function(){return this.owner?this.owner.getLocale():""},a.prototype.getMarkdownHtml=function(o,s){return this.owner?this.owner.getMarkdownHtml(o,s):void 0},a.prototype.getProcessedText=function(o){return this.owner?this.owner.getProcessedText(o):o},a.prototype.getRenderer=function(o){return this.owner?this.owner.getRenderer(o):null},a.prototype.getRendererContext=function(o){return this.owner?this.owner.getRendererContext(o):o},a.prototype.setVisible=function(o){this._visible=o},a.prototype.getVisible=function(){return this._visible},a.prototype.setEnabled=function(o){this._enabled=o},a.prototype.getEnabled=function(){return this.enabledIf?this.enabledIf():this._enabled},a.prototype.setComponent=function(o){this._component=o},a.prototype.getComponent=function(){return this._component},a.prototype.dispose=function(){this.action=void 0,u.prototype.dispose.call(this),this.popupModel&&this.popupModel.dispose(),this.locTitleValue&&(this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleChanged=void 0)},T([Object($.property)()],a.prototype,"id",void 0),T([Object($.property)({defaultValue:!0,onSet:function(o,s){s.raiseUpdate()}})],a.prototype,"_visible",void 0),T([Object($.property)({onSet:function(o,s){s.locTooltipChanged()}})],a.prototype,"locTooltipName",void 0),T([Object($.property)()],a.prototype,"_enabled",void 0),T([Object($.property)()],a.prototype,"action",void 0),T([Object($.property)()],a.prototype,"_component",void 0),T([Object($.property)()],a.prototype,"items",void 0),T([Object($.property)({onSet:function(o,s){s.locTitleValue.text!==o&&(s.locTitleValue.text=o)}})],a.prototype,"_title",void 0),a}(v),d=function(){function u(a){this.item=a,this.funcKey="sv-dropdown-action",this.setupPopupCallbacks()}return u.prototype.setupPopupCallbacks=function(){var a=this,o=this.popupModel=this.item.popupModel;!o||o.registerPropertyChangedHandlers(["isVisible"],function(){a.item.pressed=!!o.isVisible},this.funcKey)},u.prototype.removePopupCallbacks=function(){this.popupModel&&this.popupModel.unregisterPropertyChangedHandlers(["isVisible"],this.funcKey)},u.prototype.dispose=function(){this.removePopupCallbacks()},u}()},"./src/actions/adaptive-container.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"AdaptiveActionContainer",function(){return R});var L,G=x("./src/utils/responsivity-manager.ts"),se=x("./src/actions/action.ts"),$=x("./src/actions/container.ts"),w=x("./src/surveyStrings.ts"),F=(L=function(m,T){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,y){C.__proto__=y}||function(C,y){for(var h in y)Object.prototype.hasOwnProperty.call(y,h)&&(C[h]=y[h])})(m,T)},function(m,T){if("function"!=typeof T&&null!==T)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function C(){this.constructor=m}L(m,T),m.prototype=null===T?Object.create(T):(C.prototype=T.prototype,new C)}),R=function(L){function m(){var T=L.call(this)||this;return T.minVisibleItemsCount=0,T.isResponsivenessDisabled=!1,T.dotsItem=Object(se.createDropdownActionModelAdvanced)({id:"dotsItem-id"+m.ContainerID++,css:"sv-dots",innerCss:"sv-dots__item",iconName:"icon-more",visible:!1,tooltip:w.surveyLocalization.getString("more")},{items:[],onSelectionChanged:function(C){T.hiddenItemSelected(C)},allowSelection:!1}),T}return F(m,L),m.prototype.hideItemsGreaterN=function(T){var C=this.getActionsToHide();T=Math.max(T,this.minVisibleItemsCount-(this.visibleActions.length-C.length));var y=[];C.forEach(function(h){T<=0&&(h.removePriority?h.mode="removed":(h.mode="popup",y.push(h.innerItem))),T--}),this.hiddenItemsListModel.setItems(y)},m.prototype.getActionsToHide=function(){return this.visibleActions.filter(function(T){return!T.disableHide}).sort(function(T,C){return T.removePriority||0-C.removePriority||0})},m.prototype.getVisibleItemsCount=function(T){this.visibleActions.filter(function(v){return v.disableHide}).forEach(function(v){return T-=v.minDimension});for(var C=this.getActionsToHide().map(function(v){return v.minDimension}),y=0,h=0;h<C.length;h++)if((y+=C[h])>T)return h;return h},m.prototype.updateItemMode=function(T,C){for(var y=this.visibleActions,h=y.length-1;h>=0;h--)C>T&&!y[h].disableShrink?(C-=y[h].maxDimension-y[h].minDimension,y[h].mode="small"):y[h].mode="large";if(C>T){var v=this.visibleActions.filter(function(f){return f.removePriority});for(v.sort(function(f,d){return f.removePriority-d.removePriority}),h=0;h<v.length;h++)C>T&&(C-=y[h].disableShrink?v[h].maxDimension:v[h].minDimension,v[h].mode="removed")}},Object.defineProperty(m.prototype,"hiddenItemsListModel",{get:function(){return this.dotsItem.data},enumerable:!1,configurable:!0}),m.prototype.hiddenItemSelected=function(T){T&&"function"==typeof T.action&&T.action()},m.prototype.onSet=function(){var T=this;this.actions.forEach(function(C){return C.updateCallback=function(y){return T.raiseUpdate(y)}}),L.prototype.onSet.call(this)},m.prototype.onPush=function(T){var C=this;T.updateCallback=function(y){return C.raiseUpdate(y)},L.prototype.onPush.call(this,T)},m.prototype.getRenderedActions=function(){return 1===this.actions.length&&this.actions[0].iconName?this.actions:this.actions.concat([this.dotsItem])},m.prototype.raiseUpdate=function(T){this.isResponsivenessDisabled||L.prototype.raiseUpdate.call(this,T)},m.prototype.fit=function(T,C){if(!(T<=0)){this.dotsItem.visible=!1;var y=0,h=0;this.visibleActions.forEach(function(f){y+=f.minDimension,h+=f.maxDimension}),T>=h?this.setActionsMode("large"):T<y?(this.setActionsMode("small"),this.hideItemsGreaterN(this.getVisibleItemsCount(T-C)),this.dotsItem.visible=!!this.hiddenItemsListModel.actions.length):this.updateItemMode(T,h)}},m.prototype.initResponsivityManager=function(T,C){this.responsivityManager=new G.ResponsivityManager(T,this,":scope > .sv-action:not(.sv-dots) > .sv-action__content",null,C)},m.prototype.resetResponsivityManager=function(){this.responsivityManager&&(this.responsivityManager.dispose(),this.responsivityManager=void 0)},m.prototype.setActionsMode=function(T){this.actions.forEach(function(C){"small"==T&&C.disableShrink||(C.mode=T)})},m.prototype.dispose=function(){L.prototype.dispose.call(this),this.dotsItem.data.dispose(),this.dotsItem.dispose(),this.resetResponsivityManager()},m.ContainerID=1,m}($.ActionContainer)},"./src/actions/container.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"defaultActionBarCss",function(){return m}),x.d(j,"ActionContainer",function(){return T});var C,G=x("./src/jsonobject.ts"),se=x("./src/base.ts"),$=x("./src/actions/action.ts"),w=x("./src/utils/cssClassBuilder.ts"),F=x("./src/utils/utils.ts"),R=(C=function(y,h){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(v[d]=f[d])})(y,h)},function(y,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function v(){this.constructor=y}C(y,h),y.prototype=null===h?Object.create(h):(v.prototype=h.prototype,new v)}),L=function(C,y,h,v){var u,f=arguments.length,d=f<3?y:null===v?v=Object.getOwnPropertyDescriptor(y,h):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(C,y,h,v);else for(var a=C.length-1;a>=0;a--)(u=C[a])&&(d=(f<3?u(d):f>3?u(y,h,d):u(y,h))||d);return f>3&&d&&Object.defineProperty(y,h,d),d},m={root:"sv-action-bar",defaultSizeMode:"sv-action-bar--default-size-mode",smallSizeMode:"sv-action-bar--small-size-mode",item:"sv-action-bar-item",itemWithTitle:"",itemAsIcon:"sv-action-bar-item--icon",itemActive:"sv-action-bar-item--active",itemPressed:"sv-action-bar-item--pressed",itemIcon:"sv-action-bar-item__icon",itemTitle:"sv-action-bar-item__title",itemTitleWithIcon:"sv-action-bar-item__title--with-icon"},T=function(C){function y(){var h=null!==C&&C.apply(this,arguments)||this;return h.sizeMode="default",h}return R(y,C),y.prototype.getMarkdownHtml=function(h,v){return this.locOwner?this.locOwner.getMarkdownHtml(h,v):void 0},y.prototype.getRenderer=function(h){return this.locOwner?this.locOwner.getRenderer(h):null},y.prototype.getRendererContext=function(h){return this.locOwner?this.locOwner.getRendererContext(h):h},y.prototype.getProcessedText=function(h){return this.locOwner?this.locOwner.getProcessedText(h):h},y.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},y.prototype.getRenderedActions=function(){return this.actions},y.prototype.locStrsChanged=function(){C.prototype.locStrsChanged.call(this),this.actions.forEach(function(h){h.locTitle&&h.locTitle.strChanged(),h.locStrsChanged()})},y.prototype.raiseUpdate=function(h){this.isEmpty=!this.actions.some(function(v){return v.visible}),this.updateCallback&&this.updateCallback(h)},y.prototype.onSet=function(){var h=this;this.actions.forEach(function(v){h.setActionCssClasses(v)}),this.raiseUpdate(!0)},y.prototype.onPush=function(h){this.setActionCssClasses(h),h.owner=this,this.raiseUpdate(!0)},y.prototype.onRemove=function(h){h.owner=null,this.raiseUpdate(!0)},y.prototype.setActionCssClasses=function(h){h.cssClasses=this.cssClasses},Object.defineProperty(y.prototype,"hasActions",{get:function(){return(this.actions||[]).length>0},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"renderedActions",{get:function(){return this.getRenderedActions()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"visibleActions",{get:function(){return this.actions.filter(function(h){return!1!==h.visible})},enumerable:!1,configurable:!0}),y.prototype.getRootCss=function(){var h="small"===this.sizeMode?this.cssClasses.smallSizeMode:this.cssClasses.defaultSizeMode;return(new w.CssClassBuilder).append(this.cssClasses.root+(h?" "+h:"")+(this.containerCss?" "+this.containerCss:"")).append(this.cssClasses.root+"--empty",this.isEmpty).toString()},y.prototype.getDefaultCssClasses=function(){return m},Object.defineProperty(y.prototype,"cssClasses",{get:function(){return this.cssClassesValue||(this.cssClassesValue=this.getDefaultCssClasses()),this.cssClassesValue},set:function(h){var v=this;this.cssClassesValue={},this.copyCssClasses(this.cssClassesValue,this.getDefaultCssClasses()),Object(F.mergeValues)(h,this.cssClasses),this.actions.forEach(function(f){v.setActionCssClasses(f)})},enumerable:!1,configurable:!0}),y.prototype.createAction=function(h){return h instanceof $.BaseAction?h:new $.Action(h)},y.prototype.addAction=function(h,v){void 0===v&&(v=!0);var f=this.createAction(h);return this.actions.push(f),this.sortItems(),f},y.prototype.sortItems=function(){this.actions=[].concat(this.actions.filter(function(h){return void 0===h.visibleIndex||h.visibleIndex>=0})).sort(function(h,v){return h.visibleIndex-v.visibleIndex})},y.prototype.setItems=function(h,v){var f=this;void 0===v&&(v=!0),this.actions=h.map(function(d){return f.createAction(d)}),v&&this.sortItems()},y.prototype.initResponsivityManager=function(h,v){},y.prototype.resetResponsivityManager=function(){},y.prototype.getActionById=function(h){for(var v=0;v<this.actions.length;v++)if(this.actions[v].id===h)return this.actions[v];return null},y.prototype.dispose=function(){C.prototype.dispose.call(this),this.actions.forEach(function(h){return h.dispose()}),this.actions.length=0},L([Object(G.propertyArray)({onSet:function(h,v){v.onSet()},onPush:function(h,v,f){f.onPush(h)},onRemove:function(h,v,f){f.onRemove(h)}})],y.prototype,"actions",void 0),L([Object(G.property)({})],y.prototype,"containerCss",void 0),L([Object(G.property)({defaultValue:!1})],y.prototype,"isEmpty",void 0),y}(se.Base)},"./src/base.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"Bindings",function(){return C}),x.d(j,"Dependencies",function(){return y}),x.d(j,"ComputedUpdater",function(){return h}),x.d(j,"Base",function(){return v}),x.d(j,"ArrayChanges",function(){return f}),x.d(j,"Event",function(){return d}),x.d(j,"EventBase",function(){return u});var a,G=x("./src/localizablestring.ts"),se=x("./src/helpers.ts"),$=x("./src/jsonobject.ts"),w=x("./src/settings.ts"),F=x("./src/conditions.ts"),R=x("./src/surveyStrings.ts"),L=x("./src/console-warnings.ts"),m=(a=function(o,s){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(l[b]=c[b])})(o,s)},function(o,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=o}a(o,s),o.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}),T=function(a,o){for(var s=0,l=o.length,c=a.length;s<l;s++,c++)a[c]=o[s];return a},C=function(){function a(o){this.obj=o,this.properties=null,this.values=null}return a.prototype.getType=function(){return"bindings"},a.prototype.getNames=function(){var o=[];this.fillProperties();for(var s=0;s<this.properties.length;s++)this.properties[s].isVisible("",this.obj)&&o.push(this.properties[s].name);return o},a.prototype.getProperties=function(){var o=[];this.fillProperties();for(var s=0;s<this.properties.length;s++)o.push(this.properties[s]);return o},a.prototype.setBinding=function(o,s){this.values||(this.values={});var l=this.getJson();l!==s&&(s?this.values[o]=s:(delete this.values[o],0==Object.keys(this.values).length&&(this.values=null)),this.onChangedJSON(l))},a.prototype.clearBinding=function(o){this.setBinding(o,"")},a.prototype.isEmpty=function(){if(!this.values)return!0;for(var o in this.values)return!1;return!0},a.prototype.getValueNameByPropertyName=function(o){if(this.values)return this.values[o]},a.prototype.getPropertiesByValueName=function(o){if(!this.values)return[];var s=[];for(var l in this.values)this.values[l]==o&&s.push(l);return s},a.prototype.getJson=function(){if(!this.isEmpty()){var o={};for(var s in this.values)o[s]=this.values[s];return o}},a.prototype.setJson=function(o){var s=this.getJson();if(this.values=null,o)for(var l in this.values={},o)this.values[l]=o[l];this.onChangedJSON(s)},a.prototype.fillProperties=function(){if(null===this.properties){this.properties=[];for(var o=$.Serializer.getPropertiesByObj(this.obj),s=0;s<o.length;s++)o[s].isBindable&&this.properties.push(o[s])}},a.prototype.onChangedJSON=function(o){this.obj&&this.obj.onBindingChanged(o,this.getJson())},a}(),y=function(){function a(o,s,l){this.currentDependency=o,this.target=s,this.property=l,this.dependencies=[],this.id=""+ ++a.DependenciesCount}return a.prototype.addDependency=function(o,s){this.target===o&&this.property===s||this.dependencies.some(function(l){return l.obj===o&&l.prop===s})||(this.dependencies.push({obj:o,prop:s,id:this.id}),o.registerPropertyChangedHandlers([s],this.currentDependency,this.id))},a.prototype.dispose=function(){this.dependencies.forEach(function(o){o.obj.unregisterPropertyChangedHandlers([o.prop],o.id)})},a.DependenciesCount=0,a}(),h=function(){function a(o){this._updater=o,this.dependencies=void 0,this.type=a.ComputedUpdaterType}return Object.defineProperty(a.prototype,"updater",{get:function(){return this._updater},enumerable:!1,configurable:!0}),a.prototype.setDependencies=function(o){this.clearDependencies(),this.dependencies=o},a.prototype.getDependencies=function(){return this.dependencies},a.prototype.clearDependencies=function(){this.dependencies&&(this.dependencies.dispose(),this.dependencies=void 0)},a.prototype.dispose=function(){this.clearDependencies()},a.ComputedUpdaterType="__dependency_computed",a}(),v=function(){function a(){this.dependencies={},this.propertyHash=a.createPropertiesHash(),this.eventList=[],this.isLoadingFromJsonValue=!1,this.loadingOwner=null,this.onPropertyChanged=this.addEvent(),this.onItemValuePropertyChanged=this.addEvent(),this.isCreating=!0,this.bindingsValue=new C(this),$.CustomPropertiesCollection.createProperties(this),this.onBaseCreating(),this.isCreating=!1}return a.finishCollectDependencies=function(){var o=a.currentDependencis;return a.currentDependencis=void 0,o},a.startCollectDependencies=function(o,s,l){if(void 0!==a.currentDependencis)throw new Error("Attempt to collect nested dependencies. Nested dependencies are not supported.");a.currentDependencis=new y(o,s,l)},a.collectDependency=function(o,s){void 0!==a.currentDependencis&&a.currentDependencis.addDependency(o,s)},Object.defineProperty(a,"commentSuffix",{get:function(){return w.settings.commentSuffix},set:function(o){w.settings.commentSuffix=o},enumerable:!1,configurable:!0}),Object.defineProperty(a,"commentPrefix",{get:function(){return a.commentSuffix},set:function(o){a.commentSuffix=o},enumerable:!1,configurable:!0}),a.prototype.isValueEmpty=function(o,s){return void 0===s&&(s=!0),s&&(o=this.trimValue(o)),se.Helpers.isValueEmpty(o)},a.prototype.equals=function(o){return!(!o||this.isDisposed||o.isDisposed||this.getType()!=o.getType())&&this.equalsCore(o)},a.prototype.equalsCore=function(o){return this.name===o.name&&se.Helpers.isTwoValueEquals(this.toJSON(),o.toJSON(),!1,!0,!1)},a.prototype.trimValue=function(o){return o&&("string"==typeof o||o instanceof String)?o.trim():o},a.prototype.isPropertyEmpty=function(o){return""!==o&&this.isValueEmpty(o)},a.createPropertiesHash=function(){return{}},a.prototype.dispose=function(){for(var o=this,s=0;s<this.eventList.length;s++)this.eventList[s].clear();this.onPropertyValueChangedCallback=void 0,this.isDisposedValue=!0,Object.keys(this.dependencies).forEach(function(l){return o.dependencies[l].dispose()})},Object.defineProperty(a.prototype,"isDisposed",{get:function(){return!0===this.isDisposedValue},enumerable:!1,configurable:!0}),a.prototype.addEvent=function(){var o=new u;return this.eventList.push(o),o},a.prototype.onBaseCreating=function(){},a.prototype.getType=function(){return"base"},a.prototype.isDescendantOf=function(o){return $.Serializer.isDescendantOf(this.getType(),o)},a.prototype.getSurvey=function(o){return void 0===o&&(o=!1),null},Object.defineProperty(a.prototype,"isDesignMode",{get:function(){var o=this.getSurvey();return!!o&&o.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isDesignModeV2",{get:function(){return w.settings.supportCreatorV2&&this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"inSurvey",{get:function(){return!!this.getSurvey(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bindings",{get:function(){return this.bindingsValue},enumerable:!1,configurable:!0}),a.prototype.checkBindings=function(o,s){},a.prototype.updateBindings=function(o,s){var l=this.bindings.getValueNameByPropertyName(o);l&&this.updateBindingValue(l,s)},a.prototype.updateBindingValue=function(o,s){},a.prototype.getTemplate=function(){return this.getType()},Object.defineProperty(a.prototype,"isLoadingFromJson",{get:function(){return this.isLoadingFromJsonValue||this.getIsLoadingFromJson()},enumerable:!1,configurable:!0}),a.prototype.getIsLoadingFromJson=function(){return!(!this.loadingOwner||!this.loadingOwner.isLoadingFromJson)||this.isLoadingFromJsonValue},a.prototype.startLoadingFromJson=function(o){this.isLoadingFromJsonValue=!0,this.jsonObj=o},a.prototype.endLoadingFromJson=function(){this.isLoadingFromJsonValue=!1},a.prototype.toJSON=function(o){return(new $.JsonObject).toJsonObject(this,o)},a.prototype.fromJSON=function(o,s){(new $.JsonObject).toObject(o,this,s),this.onSurveyLoad()},a.prototype.onSurveyLoad=function(){},a.prototype.clone=function(){var o=$.Serializer.createClass(this.getType());return o.fromJSON(this.toJSON()),o},a.prototype.getPropertyByName=function(o){var s=this.getType();return(!this.classMetaData||this.classMetaData.name!==s)&&(this.classMetaData=$.Serializer.findClass(s)),this.classMetaData?this.classMetaData.findProperty(o):null},a.prototype.isPropertyVisible=function(o){var s=this.getPropertyByName(o);return!!s&&s.isVisible("",this)},a.createProgressInfo=function(){return{questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0}},a.prototype.getProgressInfo=function(){return a.createProgressInfo()},a.prototype.localeChanged=function(){},a.prototype.locStrsChanged=function(){if(this.arraysInfo)for(var o in this.arraysInfo)if((s=this.arraysInfo[o])&&s.isItemValues){var l=this.getPropertyValue(o);l&&a.itemValueLocStrChanged&&a.itemValueLocStrChanged(l)}if(this.localizableStrings)for(var o in this.localizableStrings){var s;(s=this.getLocalizableString(o))&&s.strChanged()}},a.prototype.getPropertyValue=function(o,s){void 0===s&&(s=null);var l=this.getPropertyValueWithoutDefault(o);if(this.isPropertyEmpty(l)){var c=this.localizableStrings?this.localizableStrings[o]:void 0;if(c)return c.text;if(null!=s)return s;var b=this.getDefaultPropertyValue(o);if(void 0!==b)return b}return l},a.prototype.getDefaultPropertyValue=function(o){var s=this.getPropertyByName(o);if(!(!s||s.isCustom&&this.isCreating)){var l=s.defaultValue;if(!this.isPropertyEmpty(l)&&!Array.isArray(l))return l;var c=this.localizableStrings?this.localizableStrings[o]:void 0;if(c&&c.localizationName)return this.getLocalizationString(c.localizationName);if("boolean"==s.type||"switch"==s.type)return!1;if(s.isCustom&&s.onGetValue)return s.onGetValue(this)}},a.prototype.hasDefaultPropertyValue=function(o){return void 0!==this.getDefaultPropertyValue(o)},a.prototype.resetPropertyValue=function(o){var s=this.localizableStrings?this.localizableStrings[o]:void 0;s?(this.setLocalizableStringText(o,void 0),s.clear()):this.setPropertyValue(o,void 0)},a.prototype.getPropertyValueWithoutDefault=function(o){return this.getPropertyValueCore(this.propertyHash,o)},a.prototype.getPropertyValueCore=function(o,s){return this.isLoadingFromJson||a.collectDependency(this,s),this.getPropertyValueCoreHandler?this.getPropertyValueCoreHandler(o,s):o[s]},a.prototype.geValueFromHash=function(){return this.propertyHash.value},a.prototype.setPropertyValueCore=function(o,s,l){this.setPropertyValueCoreHandler?this.isDisposedValue?L.ConsoleWarnings.disposedObjectChangedProperty(s,this.getType()):this.setPropertyValueCoreHandler(o,s,l):o[s]=l},Object.defineProperty(a.prototype,"isEditingSurveyElement",{get:function(){var o=this.getSurvey();return!!o&&o.isEditingSurveyElement},enumerable:!1,configurable:!0}),a.prototype.iteratePropertiesHash=function(o){var s=this,l=[];for(var c in this.propertyHash)"value"===c&&this.isEditingSurveyElement&&Array.isArray(this.value)||l.push(c);l.forEach(function(b){return o(s.propertyHash,b)})},a.prototype.setPropertyValue=function(o,s){if(!this.isLoadingFromJson){var l=this.getPropertyByName(o);l&&(s=l.settingValue(this,s))}var c=this.getPropertyValue(o);c&&Array.isArray(c)&&this.arraysInfo&&(!s||Array.isArray(s))?this.isTwoValueEquals(c,s)||this.setArrayPropertyDirectly(o,s):(this.setPropertyValueDirectly(o,s),!this.isDisposedValue&&!this.isTwoValueEquals(c,s)&&this.propertyValueChanged(o,c,s))},a.prototype.setArrayPropertyDirectly=function(o,s,l){void 0===l&&(l=!0);var c=this.arraysInfo[o];this.setArray(o,this.getPropertyValue(o),s,!!c&&c.isItemValues,c?l&&c.onPush:null)},a.prototype.setPropertyValueDirectly=function(o,s){this.setPropertyValueCore(this.propertyHash,o,s)},a.prototype.clearPropertyValue=function(o){this.setPropertyValueCore(this.propertyHash,o,null),delete this.propertyHash[o]},a.prototype.onPropertyValueChangedCallback=function(o,s,l,c,b){},a.prototype.itemValuePropertyChanged=function(o,s,l,c){this.onItemValuePropertyChanged.fire(this,{obj:o,name:s,oldValue:l,newValue:c,propertyName:o.ownerPropertyName})},a.prototype.onPropertyValueChanged=function(o,s,l){},a.prototype.propertyValueChanged=function(o,s,l,c,b){if(!this.isLoadingFromJson&&(this.updateBindings(o,l),this.onPropertyValueChanged(o,s,l),this.onPropertyChanged.fire(this,{name:o,oldValue:s,newValue:l}),this.doPropertyValueChangedCallback(o,s,l,c,this),this.checkConditionPropertyChanged(o),this.onPropChangeFunctions))for(var M=0;M<this.onPropChangeFunctions.length;M++)this.onPropChangeFunctions[M].name==o&&this.onPropChangeFunctions[M].func(l)},a.prototype.onBindingChanged=function(o,s){this.isLoadingFromJson||this.doPropertyValueChangedCallback("bindings",o,s)},Object.defineProperty(a.prototype,"isInternal",{get:function(){return!1},enumerable:!1,configurable:!0}),a.prototype.doPropertyValueChangedCallback=function(o,s,l,c,b){var M=function(g){g&&g.onPropertyValueChangedCallback&&g.onPropertyValueChangedCallback(o,s,l,b,c)};if(this.isInternal)M(this);else{b||(b=this);var D=this.getSurvey();D||(D=this),M(D),D!==this&&M(this)}},a.prototype.addExpressionProperty=function(o,s,l){this.expressionInfo||(this.expressionInfo={}),this.expressionInfo[o]={onExecute:s,canRun:l}},a.prototype.getDataFilteredValues=function(){return{}},a.prototype.getDataFilteredProperties=function(){return{}},a.prototype.runConditionCore=function(o,s){if(this.expressionInfo)for(var l in this.expressionInfo)this.runConditionItemCore(l,o,s)},a.prototype.canRunConditions=function(){return!this.isDesignMode},a.prototype.checkConditionPropertyChanged=function(o){!this.expressionInfo||!this.expressionInfo[o]||!this.canRunConditions()||this.runConditionItemCore(o,this.getDataFilteredValues(),this.getDataFilteredProperties())},a.prototype.runConditionItemCore=function(o,s,l){var c=this,b=this.expressionInfo[o],M=this.getPropertyValue(o);!M||b.canRun&&!b.canRun(this)||(b.runner||(b.runner=this.createExpressionRunner(M),b.runner.onRunComplete=function(D){b.onExecute(c,D)}),b.runner.expression=M,b.runner.run(s,l))},a.prototype.doBeforeAsynRun=function(o){this.asynExpressionHash||(this.asynExpressionHash=[]);var s=!this.isAsyncExpressionRunning;this.asynExpressionHash[o]=!0,s&&this.onAsyncRunningChanged()},a.prototype.doAfterAsynRun=function(o){this.asynExpressionHash&&(delete this.asynExpressionHash[o],this.isAsyncExpressionRunning||this.onAsyncRunningChanged())},a.prototype.onAsyncRunningChanged=function(){},Object.defineProperty(a.prototype,"isAsyncExpressionRunning",{get:function(){return!!this.asynExpressionHash&&Object.keys(this.asynExpressionHash).length>0},enumerable:!1,configurable:!0}),a.prototype.createExpressionRunner=function(o){var s=this,l=new F.ExpressionRunner(o);return l.onBeforeAsyncRun=function(c){s.doBeforeAsynRun(c)},l.onAfterAsyncRun=function(c){s.doAfterAsynRun(c)},l},a.prototype.registerPropertyChangedHandlers=function(o,s,l){void 0===l&&(l=null);for(var c=0;c<o.length;c++)this.registerFunctionOnPropertyValueChanged(o[c],s,l)},a.prototype.unregisterPropertyChangedHandlers=function(o,s){void 0===s&&(s=null);for(var l=0;l<o.length;l++)this.unRegisterFunctionOnPropertyValueChanged(o[l],s)},a.prototype.registerFunctionOnPropertyValueChanged=function(o,s,l){if(void 0===l&&(l=null),this.onPropChangeFunctions||(this.onPropChangeFunctions=[]),l)for(var c=0;c<this.onPropChangeFunctions.length;c++){var b=this.onPropChangeFunctions[c];if(b.name==o&&b.key==l)return void(b.func=s)}this.onPropChangeFunctions.push({name:o,func:s,key:l})},a.prototype.registerFunctionOnPropertiesValueChanged=function(o,s,l){void 0===l&&(l=null),this.registerPropertyChangedHandlers(o,s,l)},a.prototype.unRegisterFunctionOnPropertyValueChanged=function(o,s){if(void 0===s&&(s=null),this.onPropChangeFunctions)for(var l=0;l<this.onPropChangeFunctions.length;l++){var c=this.onPropChangeFunctions[l];if(c.name==o&&c.key==s)return void this.onPropChangeFunctions.splice(l,1)}},a.prototype.unRegisterFunctionOnPropertiesValueChanged=function(o,s){void 0===s&&(s=null),this.unregisterPropertyChangedHandlers(o,s)},a.prototype.createCustomLocalizableObj=function(o){return this.getLocalizableString(o)||this.createLocalizableString(o,this,!1,!0)},a.prototype.getLocale=function(){var o=this.getSurvey();return o?o.getLocale():""},a.prototype.getLocalizationString=function(o){return R.surveyLocalization.getString(o,this.getLocale())},a.prototype.getLocalizationFormatString=function(o){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];var c=this.getLocalizationString(o);return c&&c.format?c.format.apply(c,s):""},a.prototype.createLocalizableString=function(o,s,l,c){var b=this;void 0===l&&(l=!1),void 0===c&&(c=!1);var M=new G.LocalizableString(s,l,o);c&&(M.localizationName=!0===c?o:c),M.onStrChanged=function(g,P){b.propertyValueChanged(o,g,P)},this.localizableStrings||(this.localizableStrings={}),this.localizableStrings[o]=M;var D=this.getPropertyByName(o);return M.disableLocalization=D&&!1===D.isLocalizable,M},a.prototype.getLocalizableString=function(o){return this.localizableStrings?this.localizableStrings[o]:null},a.prototype.getLocalizableStringText=function(o,s){void 0===s&&(s=""),a.collectDependency(this,o);var l=this.getLocalizableString(o);return l?l.text||s:""},a.prototype.setLocalizableStringText=function(o,s){var l=this.getLocalizableString(o);l&&l.text!=s&&(l.text=s)},a.prototype.addUsedLocales=function(o){if(this.localizableStrings)for(var s in this.localizableStrings)(l=this.getLocalizableString(s))&&this.AddLocStringToUsedLocales(l,o);if(this.arraysInfo)for(var s in this.arraysInfo){var c=this.getPropertyValue(s);if(c&&c.length)for(var b=0;b<c.length;b++){var l;(l=c[b])&&l.addUsedLocales&&l.addUsedLocales(o)}}},a.prototype.searchText=function(o,s){var l=[];this.getSearchableLocalizedStrings(l);for(var c=0;c<l.length;c++)l[c].setFindText(o)&&s.push({element:this,str:l[c]})},a.prototype.getSearchableLocalizedStrings=function(o){if(this.localizableStrings){var s=[];this.getSearchableLocKeys(s);for(var l=0;l<s.length;l++){var c=this.getLocalizableString(s[l]);c&&o.push(c)}}if(this.arraysInfo){var b=[];for(this.getSearchableItemValueKeys(b),l=0;l<b.length;l++){var M=this.getPropertyValue(b[l]);if(M)for(var D=0;D<M.length;D++)o.push(M[D].locText)}}},a.prototype.getSearchableLocKeys=function(o){},a.prototype.getSearchableItemValueKeys=function(o){},a.prototype.AddLocStringToUsedLocales=function(o,s){for(var l=o.getLocales(),c=0;c<l.length;c++)s.indexOf(l[c])<0&&s.push(l[c])},a.prototype.createItemValues=function(o){var s=this,l=this.createNewArray(o,function(c){if(c.locOwner=s,c.ownerPropertyName=o,"function"==typeof c.getSurvey){var b=c.getSurvey();b&&"function"==typeof b.makeReactive&&b.makeReactive(c)}});return this.arraysInfo[o].isItemValues=!0,l},a.prototype.notifyArrayChanged=function(o,s){o.onArrayChanged&&o.onArrayChanged(s)},a.prototype.createNewArrayCore=function(o){var s=null;return this.createArrayCoreHandler&&(s=this.createArrayCoreHandler(this.propertyHash,o)),s||(s=new Array,this.setPropertyValueCore(this.propertyHash,o,s)),s},a.prototype.ensureArray=function(o,s,l){if(void 0===s&&(s=null),void 0===l&&(l=null),!this.arraysInfo||!this.arraysInfo[o])return this.createNewArray(o,s,l)},a.prototype.createNewArray=function(o,s,l){void 0===s&&(s=null),void 0===l&&(l=null);var c=this.createNewArrayCore(o);this.arraysInfo||(this.arraysInfo={}),this.arraysInfo[o]={onPush:s,isItemValues:!1};var b=this;return c.push=function(M){var D=Object.getPrototypeOf(c).push.call(c,M);if(!b.isDisposedValue){s&&s(M,c.length-1);var g=new f(c.length-1,0,[M],[]);b.propertyValueChanged(o,c,c,g),b.notifyArrayChanged(c,g)}return D},c.shift=function(){var M=Object.getPrototypeOf(c).shift.call(c);if(!b.isDisposedValue&&M){l&&l(M);var D=new f(c.length-1,1,[],[]);b.propertyValueChanged(o,c,c,D),b.notifyArrayChanged(c,D)}return M},c.unshift=function(M){var D=Object.getPrototypeOf(c).unshift.call(c,M);if(!b.isDisposedValue){s&&s(M,c.length-1);var g=new f(0,0,[M],[]);b.propertyValueChanged(o,c,c,g),b.notifyArrayChanged(c,g)}return D},c.pop=function(){var M=Object.getPrototypeOf(c).pop.call(c);if(!b.isDisposedValue){l&&l(M);var D=new f(c.length-1,1,[],[]);b.propertyValueChanged(o,c,c,D),b.notifyArrayChanged(c,D)}return M},c.splice=function(M,D){for(var g,P=[],A=2;A<arguments.length;A++)P[A-2]=arguments[A];M||(M=0),D||(D=0);var k=(g=Object.getPrototypeOf(c).splice).call.apply(g,T([c,M,D],P));if(P||(P=[]),!b.isDisposedValue){if(l&&k)for(var Z=0;Z<k.length;Z++)l(k[Z]);if(s)for(Z=0;Z<P.length;Z++)s(P[Z],M+Z);var re=new f(M,D,P,k);b.propertyValueChanged(o,c,c,re),b.notifyArrayChanged(c,re)}return k},c},a.prototype.getItemValueType=function(){},a.prototype.setArray=function(o,s,l,c,b){var M=[].concat(s);if(Object.getPrototypeOf(s).splice.call(s,0,s.length),l)for(var D=0;D<l.length;D++){var g=l[D];c&&a.createItemValue&&(g=a.createItemValue(g,this.getItemValueType())),Object.getPrototypeOf(s).push.call(s,g),b&&b(s[D])}var P=new f(0,M.length,s,M);this.propertyValueChanged(o,M,s,P),this.notifyArrayChanged(s,P)},a.prototype.isTwoValueEquals=function(o,s,l,c){return void 0===l&&(l=!1),void 0===c&&(c=!1),se.Helpers.isTwoValueEquals(o,s,!1,!l,c)},a.copyObject=function(o,s){for(var l in s){var c=s[l];"object"==typeof c&&this.copyObject(c={},s[l]),o[l]=c}},a.prototype.copyCssClasses=function(o,s){!s||("string"==typeof s||s instanceof String?o.root=s:a.copyObject(o,s))},a.prototype.getValueInLowCase=function(o){return o&&"string"==typeof o?o.toLowerCase():o},a.prototype.getElementsInDesign=function(o){return void 0===o&&(o=!1),[]},a.currentDependencis=void 0,a}(),f=function a(o,s,l,c){this.index=o,this.deleteCount=s,this.itemsToAdd=l,this.deletedItems=c},d=function(){function a(){}return Object.defineProperty(a.prototype,"isEmpty",{get:function(){return 0===this.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return this.callbacks?this.callbacks.length:0},enumerable:!1,configurable:!0}),a.prototype.fireByCreatingOptions=function(o,s){if(this.callbacks)for(var l=0;l<this.callbacks.length;l++)if(this.callbacks[l](o,s()),!this.callbacks)return},a.prototype.fire=function(o,s){if(this.callbacks)for(var l=0;l<this.callbacks.length;l++)if(this.callbacks[l](o,s),!this.callbacks)return},a.prototype.clear=function(){this.callbacks=void 0},a.prototype.add=function(o){this.hasFunc(o)||(this.callbacks||(this.callbacks=new Array),this.callbacks.push(o),this.fireCallbackChanged())},a.prototype.remove=function(o){if(this.hasFunc(o)){var s=this.callbacks.indexOf(o,0);this.callbacks.splice(s,1),this.fireCallbackChanged()}},a.prototype.hasFunc=function(o){return null!=this.callbacks&&this.callbacks.indexOf(o,0)>-1},a.prototype.fireCallbackChanged=function(){this.onCallbacksChanged&&this.onCallbacksChanged()},a}(),u=function(a){function o(){return null!==a&&a.apply(this,arguments)||this}return m(o,a),o}(d)},"./src/calculatedValue.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"CalculatedValue",function(){return R});var L,G=x("./src/helpers.ts"),se=x("./src/base.ts"),$=x("./src/conditions.ts"),w=x("./src/jsonobject.ts"),F=(L=function(m,T){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,y){C.__proto__=y}||function(C,y){for(var h in y)Object.prototype.hasOwnProperty.call(y,h)&&(C[h]=y[h])})(m,T)},function(m,T){if("function"!=typeof T&&null!==T)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function C(){this.constructor=m}L(m,T),m.prototype=null===T?Object.create(T):(C.prototype=T.prototype,new C)}),R=function(L){function m(T,C){void 0===T&&(T=null),void 0===C&&(C=null);var y=L.call(this)||this;return y.expressionIsRunning=!1,y.isCalculated=!1,T&&(y.name=T),C&&(y.expression=C),y}return F(m,L),m.prototype.setOwner=function(T){this.data=T,this.rerunExpression()},m.prototype.getType=function(){return"calculatedvalue"},m.prototype.getSurvey=function(T){return void 0===T&&(T=!1),this.data&&this.data.getSurvey?this.data.getSurvey():null},Object.defineProperty(m.prototype,"owner",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"name",{get:function(){return this.getPropertyValue("name")||""},set:function(T){this.setPropertyValue("name",T)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"includeIntoResult",{get:function(){return this.getPropertyValue("includeIntoResult")},set:function(T){this.setPropertyValue("includeIntoResult",T)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"expression",{get:function(){return this.getPropertyValue("expression")||""},set:function(T){this.setPropertyValue("expression",T),this.rerunExpression()},enumerable:!1,configurable:!0}),m.prototype.locCalculation=function(){this.expressionIsRunning=!0},m.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},m.prototype.resetCalculation=function(){this.isCalculated=!1},m.prototype.doCalculation=function(T,C,y){this.isCalculated||(this.runExpressionCore(T,C,y),this.isCalculated=!0)},m.prototype.runExpression=function(T,C){this.runExpressionCore(null,T,C)},Object.defineProperty(m.prototype,"value",{get:function(){if(this.data)return this.data.getVariable(this.name)},enumerable:!1,configurable:!0}),m.prototype.setValue=function(T){!this.data||this.data.setVariable(this.name,T)},Object.defineProperty(m.prototype,"canRunExpression",{get:function(){return!(!this.data||this.isLoadingFromJson||!this.expression||this.expressionIsRunning||!this.name)},enumerable:!1,configurable:!0}),m.prototype.rerunExpression=function(){!this.canRunExpression||this.runExpression(this.data.getFilteredValues(),this.data.getFilteredProperties())},m.prototype.runExpressionCore=function(T,C,y){!this.canRunExpression||(this.ensureExpression(C),this.locCalculation(),T&&this.runDependentExpressions(T,C,y),this.expressionRunner.run(C,y))},m.prototype.runDependentExpressions=function(T,C,y){var h=this.expressionRunner.getVariables();if(h)for(var v=0;v<T.length;v++){var f=T[v];f===this||h.indexOf(f.name)<0||(f.doCalculation(T,C,y),C[f.name]=f.value)}},m.prototype.ensureExpression=function(T){var C=this;this.expressionRunner||(this.expressionRunner=new $.ExpressionRunner(this.expression),this.expressionRunner.onRunComplete=function(y){G.Helpers.isTwoValueEquals(y,C.value,!1,!0,!1)||C.setValue(y),C.unlocCalculation()})},m}(se.Base);w.Serializer.addClass("calculatedvalue",[{name:"!name",isUnique:!0},"expression:expression","includeIntoResult:boolean"],function(){return new R},"base")},"./src/choicesRestful.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"ChoicesRestful",function(){return m}),x.d(j,"ChoicesRestfull",function(){return T});var C,G=x("./src/base.ts"),se=x("./src/itemvalue.ts"),$=x("./src/jsonobject.ts"),w=x("./src/error.ts"),F=x("./src/settings.ts"),R=(C=function(y,h){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(v[d]=f[d])})(y,h)},function(y,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function v(){this.constructor=y}C(y,h),y.prototype=null===h?Object.create(h):(v.prototype=h.prototype,new v)}),L=function(){function C(){this.parser=new DOMParser}return C.prototype.assignValue=function(y,h,v){Array.isArray(y[h])?y[h].push(v):y[h]=void 0!==y[h]?[y[h]].concat(v):"object"==typeof v&&1===Object.keys(v).length&&Object.keys(v)[0]===h?v[h]:v},C.prototype.xml2Json=function(y,h){if(y.children&&y.children.length>0)for(var v=0;v<y.children.length;v++){var f=y.children[v],d={};this.xml2Json(f,d),this.assignValue(h,f.nodeName,d)}else this.assignValue(h,y.nodeName,y.textContent)},C.prototype.parseXmlString=function(y){var h=this.parser.parseFromString(y,"text/xml"),v={};return this.xml2Json(h,v),v},C}(),m=function(C){function y(){var h=C.call(this)||this;return h.lastObjHash="",h.isRunningValue=!1,h.processedUrl="",h.processedPath="",h.isUsingCacheFromUrl=void 0,h.error=null,h.createItemValue=function(v){return new se.ItemValue(v)},h.registerPropertyChangedHandlers(["url"],function(){h.owner&&h.owner.setPropertyValue("isUsingRestful",!!h.url)}),h}return R(y,C),Object.defineProperty(y,"EncodeParameters",{get:function(){return F.settings.web.encodeUrlParams},set:function(h){F.settings.web.encodeUrlParams=h},enumerable:!1,configurable:!0}),y.clearCache=function(){y.itemsResult={},y.sendingSameRequests={}},y.addSameRequest=function(h){if(!h.isUsingCache)return!1;var f=y.sendingSameRequests[h.objHash];return f?(f.push(h),h.isRunningValue=!0,!0):(y.sendingSameRequests[h.objHash]=[],!1)},y.unregisterSameRequests=function(h,v){if(h.isUsingCache){var f=y.sendingSameRequests[h.objHash];if(delete y.sendingSameRequests[h.objHash],f)for(var d=0;d<f.length;d++)f[d].isRunningValue=!1,f[d].getResultCallback&&f[d].getResultCallback(v)}},Object.defineProperty(y,"onBeforeSendRequest",{get:function(){return F.settings.web.onBeforeRequestChoices},set:function(h){F.settings.web.onBeforeRequestChoices=h},enumerable:!1,configurable:!0}),y.getCachedItemsResult=function(h){var f=y.itemsResult[h.objHash];return!!f&&(h.getResultCallback&&h.getResultCallback(f),!0)},y.prototype.getSurvey=function(h){return void 0===h&&(h=!1),this.owner?this.owner.survey:null},y.prototype.run=function(h){if(void 0===h&&(h=null),this.url&&this.getResultCallback){if(this.processedText(h),!this.processedUrl)return this.doEmptyResultCallback({}),void(this.lastObjHash=this.objHash);this.lastObjHash!==this.objHash&&(this.lastObjHash=this.objHash,this.error=null,!this.useChangedItemsResults()&&(y.addSameRequest(this)||this.sendRequest()))}},Object.defineProperty(y.prototype,"isUsingCache",{get:function(){return!0===this.isUsingCacheFromUrl||!1!==this.isUsingCacheFromUrl&&F.settings.web.cacheLoadedChoices},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isRunning",{get:function(){return this.getIsRunning()},enumerable:!1,configurable:!0}),y.prototype.getIsRunning=function(){return this.isRunningValue},Object.defineProperty(y.prototype,"isWaitingForParameters",{get:function(){return this.url&&!this.processedUrl},enumerable:!1,configurable:!0}),y.prototype.useChangedItemsResults=function(){return y.getCachedItemsResult(this)},y.prototype.doEmptyResultCallback=function(h){var v=[];this.updateResultCallback&&(v=this.updateResultCallback(v,h)),this.getResultCallback(v)},y.prototype.processedText=function(h){var v=this.url;if(v&&(v=v.replace(y.cacheText,"").replace(y.noCacheText,"")),h){var f=h.processTextEx(v,!1,F.settings.web.encodeUrlParams),d=h.processTextEx(this.path,!1,F.settings.web.encodeUrlParams);f.hasAllValuesOnLastRun&&d.hasAllValuesOnLastRun?(this.processedUrl=f.text,this.processedPath=d.text):(this.processedUrl="",this.processedPath="")}else this.processedUrl=v,this.processedPath=this.path;this.onProcessedUrlCallback&&this.onProcessedUrlCallback(this.processedUrl,this.processedPath)},y.prototype.parseResponse=function(h){var v;if(h&&"function"==typeof h.indexOf&&0===h.indexOf("<"))v=(new L).parseXmlString(h);else try{v=JSON.parse(h)}catch(d){v=(h||"").split("\n").map(function(u){return u.trim(" ")}).filter(function(u){return!!u})}return v},y.prototype.sendRequest=function(){var h=new XMLHttpRequest;h.open("GET",this.processedUrl),h.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var v=this,f=this.objHash;h.onload=function(){v.beforeLoadRequest(),200===h.status?v.onLoad(v.parseResponse(h.response),f):v.onError(h.statusText,h.responseText)};var d={request:h};F.settings.web.onBeforeRequestChoices&&F.settings.web.onBeforeRequestChoices(this,d),this.beforeSendRequest(),d.request.send()},y.prototype.getType=function(){return"choicesByUrl"},Object.defineProperty(y.prototype,"isEmpty",{get:function(){return!this.url&&!this.path},enumerable:!1,configurable:!0}),y.prototype.getCustomPropertiesNames=function(){for(var h=this.getCustomProperties(),v=new Array,f=0;f<h.length;f++)v.push(this.getCustomPropertyName(h[f].name));return v},y.prototype.getCustomPropertyName=function(h){return h+"Name"},y.prototype.getCustomProperties=function(){for(var h=$.Serializer.getProperties(this.itemValueType),v=[],f=0;f<h.length;f++)"value"===h[f].name||"text"===h[f].name||"visibleIf"===h[f].name||"enableIf"===h[f].name||v.push(h[f]);return v},y.prototype.setData=function(h){this.clear(),h.url&&(this.url=h.url),h.path&&(this.path=h.path),h.valueName&&(this.valueName=h.valueName),h.titleName&&(this.titleName=h.titleName),h.imageLinkName&&(this.imageLinkName=h.imageLinkName),void 0!==h.allowEmptyResponse&&(this.allowEmptyResponse=h.allowEmptyResponse),void 0!==h.attachOriginalItems&&(this.attachOriginalItems=h.attachOriginalItems);for(var v=this.getCustomPropertiesNames(),f=0;f<v.length;f++)h[v[f]]&&(this[v[f]]=h[v[f]])},y.prototype.getData=function(){if(this.isEmpty)return null;var h={};this.url&&(h.url=this.url),this.path&&(h.path=this.path),this.valueName&&(h.valueName=this.valueName),this.titleName&&(h.titleName=this.titleName),this.imageLinkName&&(h.imageLinkName=this.imageLinkName),this.allowEmptyResponse&&(h.allowEmptyResponse=this.allowEmptyResponse),this.attachOriginalItems&&(h.attachOriginalItems=this.attachOriginalItems);for(var v=this.getCustomPropertiesNames(),f=0;f<v.length;f++)this[v[f]]&&(h[v[f]]=this[v[f]]);return h},Object.defineProperty(y.prototype,"url",{get:function(){return this.getPropertyValue("url")||""},set:function(h){this.setPropertyValue("url",h),this.isUsingCacheFromUrl=void 0,h&&(h.indexOf(y.cacheText)>-1?this.isUsingCacheFromUrl=!0:h.indexOf(y.noCacheText)>-1&&(this.isUsingCacheFromUrl=!1))},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"path",{get:function(){return this.getPropertyValue("path")||""},set:function(h){this.setPropertyValue("path",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(h){this.setPropertyValue("valueName",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"titleName",{get:function(){return this.getPropertyValue("titleName","")},set:function(h){this.setPropertyValue("titleName",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"imageLinkName",{get:function(){return this.getPropertyValue("imageLinkName","")},set:function(h){this.setPropertyValue("imageLinkName",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"allowEmptyResponse",{get:function(){return this.getPropertyValue("allowEmptyResponse")},set:function(h){this.setPropertyValue("allowEmptyResponse",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"attachOriginalItems",{get:function(){return this.getPropertyValue("attachOriginalItems")},set:function(h){this.setPropertyValue("attachOriginalItems",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"itemValueType",{get:function(){if(!this.owner)return"itemvalue";var h=$.Serializer.findProperty(this.owner.getType(),"choices");return h&&"itemvalue[]"!=h.type?h.type:"itemvalue"},enumerable:!1,configurable:!0}),y.prototype.clear=function(){this.url=void 0,this.path=void 0,this.valueName=void 0,this.titleName=void 0,this.imageLinkName=void 0;for(var h=this.getCustomPropertiesNames(),v=0;v<h.length;v++)this[h[v]]&&(this[h[v]]="")},y.prototype.beforeSendRequest=function(){this.isRunningValue=!0,this.beforeSendRequestCallback&&this.beforeSendRequestCallback()},y.prototype.beforeLoadRequest=function(){this.isRunningValue=!1},y.prototype.onLoad=function(h,v){void 0===v&&(v=null),v||(v=this.objHash);var f=new Array,d=this.getResultAfterPath(h);if(d&&d.length)for(var u=0;u<d.length;u++){var a=d[u];if(a){var o=this.getItemValueCallback?this.getItemValueCallback(a):this.getValue(a),s=this.createItemValue(o);this.setTitle(s,a),this.setCustomProperties(s,a),this.attachOriginalItems&&(s.originalItem=a);var l=this.getImageLink(a);l&&(s.imageLink=l),f.push(s)}}else this.allowEmptyResponse||(this.error=new w.WebRequestEmptyError(null,this.owner));this.updateResultCallback&&(f=this.updateResultCallback(f,h)),this.isUsingCache&&(y.itemsResult[v]=f),this.callResultCallback(f,v),y.unregisterSameRequests(this,f)},y.prototype.callResultCallback=function(h,v){v==this.objHash&&this.getResultCallback(h)},y.prototype.setCustomProperties=function(h,v){for(var f=this.getCustomProperties(),d=0;d<f.length;d++){var u=f[d],a=this.getValueCore(v,this.getPropertyBinding(u.name));this.isValueEmpty(a)||(h[u.name]=a)}},y.prototype.getPropertyBinding=function(h){return this[this.getCustomPropertyName(h)]?this[this.getCustomPropertyName(h)]:this[h]?this[h]:h},y.prototype.onError=function(h,v){this.error=new w.WebRequestError(h,v,this.owner),this.doEmptyResultCallback(v),y.unregisterSameRequests(this,[])},y.prototype.getResultAfterPath=function(h){if(!h||!this.processedPath)return h;for(var v=this.getPathes(),f=0;f<v.length;f++)if(!(h=h[v[f]]))return null;return h},y.prototype.getPathes=function(){var h=[];return 0==(h=this.processedPath.indexOf(";")>-1?this.path.split(";"):this.processedPath.split(",")).length&&h.push(this.processedPath),h},y.prototype.getValue=function(h){return h?this.valueName?this.getValueCore(h,this.valueName):h instanceof Object?Object.keys(h).length<1?null:h[Object.keys(h)[0]]:h:null},y.prototype.setTitle=function(h,v){var d=this.getValueCore(v,this.titleName?this.titleName:"title");!d||("string"==typeof d?h.text=d:h.locText.setJson(d))},y.prototype.getImageLink=function(h){return this.getValueCore(h,this.imageLinkName?this.imageLinkName:"imageLink")},y.prototype.getValueCore=function(h,v){if(!h)return null;if(v.indexOf(".")<0)return h[v];for(var f=v.split("."),d=0;d<f.length;d++)if(!(h=h[f[d]]))return null;return h},Object.defineProperty(y.prototype,"objHash",{get:function(){return this.processedUrl+";"+this.processedPath+";"+this.valueName+";"+this.titleName+";"+this.imageLinkName},enumerable:!1,configurable:!0}),y.cacheText="{CACHE}",y.noCacheText="{NOCACHE}",y.itemsResult={},y.sendingSameRequests={},y}(G.Base),T=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return R(y,C),Object.defineProperty(y,"EncodeParameters",{get:function(){return m.EncodeParameters},set:function(h){m.EncodeParameters=h},enumerable:!1,configurable:!0}),y.clearCache=function(){m.clearCache()},Object.defineProperty(y,"onBeforeSendRequest",{get:function(){return F.settings.web.onBeforeRequestChoices},set:function(h){F.settings.web.onBeforeRequestChoices=h},enumerable:!1,configurable:!0}),y}(m);$.Serializer.addClass("choicesByUrl",["url","path","valueName","titleName",{name:"imageLinkName",visibleIf:function(C){return!!C&&!!C.owner&&"imagepicker"==C.owner.getType()}},{name:"allowEmptyResponse:boolean"},{name:"attachOriginalItems:boolean",visible:!1}],function(){return new m})},"./src/conditionProcessValue.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"ProcessValue",function(){return $});var G=x("./src/helpers.ts"),se="@survey",$=function(){function w(){this.values=null,this.properties=null}return w.prototype.getFirstName=function(F,R){if(void 0===R&&(R=null),!F)return F;var L="";if(R&&(L=this.getFirstPropertyName(F,R)))return L;for(var m=0;m<F.length;m++){var T=F[m];if("."==T||"["==T)break;L+=T}return L},w.prototype.hasValue=function(F,R){return void 0===R&&(R=null),R||(R=this.values),this.getValueCore(F,R).hasValue},w.prototype.getValue=function(F,R){return void 0===R&&(R=null),R||(R=this.values),this.getValueCore(F,R).value},w.prototype.setValue=function(F,R,L){if(R){var m=this.getNonNestedObject(F,R,!0);!m||(R=m.text,(F=m.value)&&R&&(F[R]=L))}},w.prototype.getValueInfo=function(F){if(F.path)return F.value=this.getValueFromPath(F.path,this.values),F.hasValue=null!==F.value&&!G.Helpers.isValueEmpty(F.value),void(!F.hasValue&&F.path.length>1&&"length"==F.path[F.path.length-1]&&(F.hasValue=!0,F.value=0));var R=this.getValueCore(F.name,this.values);F.value=R.value,F.hasValue=R.hasValue,F.path=R.hasValue?R.path:null,F.sctrictCompare=R.sctrictCompare},w.prototype.isAnyKeyChanged=function(F,R){for(var L=0;L<R.length;L++){var m=R[L];if(F.hasOwnProperty(m))return!0;var T=this.getFirstName(m);if(F.hasOwnProperty(T)){if(m===T)return!0;var C=F[T];if(null!=C){if(!C.hasOwnProperty("oldValue")||!C.hasOwnProperty("newValue"))return!0;var y={};y[T]=C.oldValue;var h=this.getValue(m,y);y[T]=C.newValue;var v=this.getValue(m,y);if(!G.Helpers.isTwoValueEquals(h,v,!1,!1,!1))return!0}}}return!1},w.prototype.getValueFromPath=function(F,R){if(2===F.length&&F[0]===se)return this.getValueFromSurvey(F[1]);for(var L=0;R&&L<F.length;){var m=F[L];if(G.Helpers.isNumber(m)&&Array.isArray(R)&&m>=R.length)return null;R=R[m],L++}return R},w.prototype.getValueCore=function(F,R){var L=this.getQuestionDirectly(F);if(L)return{hasValue:!0,value:L.value,path:[F],sctrictCompare:L.requireStrictCompare};var m=this.getValueFromValues(F,R);if(F&&!m.hasValue){var T=this.getValueFromSurvey(F);void 0!==T&&(m.hasValue=!0,m.value=T,m.path=[se,F])}return m},w.prototype.getQuestionDirectly=function(F){if(this.properties&&this.properties.survey)return this.properties.survey.getQuestionByValueName(F)},w.prototype.getValueFromSurvey=function(F){if(this.properties&&this.properties.survey)return this.properties.survey.getBuiltInVariableValue(F.toLocaleLowerCase())},w.prototype.getValueFromValues=function(F,R){var L={hasValue:!1,value:null,path:null},m=R;if(!m&&0!==m&&!1!==m)return L;F&&F.lastIndexOf(".length")>-1&&F.lastIndexOf(".length")===F.length-7&&(L.value=0,L.hasValue=!0);var T=this.getNonNestedObject(m,F,!1);return T&&(L.path=T.path,L.value=T.text?this.getObjectValue(T.value,T.text):T.value,L.hasValue=!G.Helpers.isValueEmpty(L.value)),L},w.prototype.getNonNestedObject=function(F,R,L){for(var m=new Array,T=0,C=this.getNonNestedObjectCore(F,R,L,m);!C&&T<m.length;)T=m.length,C=this.getNonNestedObjectCore(F,R,L,m);return C},w.prototype.getNonNestedObjectCore=function(F,R,L,m){var T=this.getFirstPropertyName(R,F,L,m);T&&m.push(T);for(var C=T?[T]:null;R!=T&&F;){if("["==R[0]){var h=this.getObjInArray(F,R);if(!h)return null;F=h.value,R=h.text,C.push(h.index)}else{if(!T&&R==this.getFirstName(R))return{value:F,text:R,path:C};if(F=this.getObjectValue(F,T),G.Helpers.isValueEmpty(F)&&!L)return null;R=R.substring(T.length)}!!R&&"."==R[0]&&(R=R.substring(1)),(T=this.getFirstPropertyName(R,F,L,m))&&C.push(T)}return{value:F,text:R,path:C}},w.prototype.getObjInArray=function(F,R){if(!Array.isArray(F))return null;for(var L=1,m="";L<R.length&&"]"!=R[L];)m+=R[L],L++;return R=L<R.length?R.substring(L+1):"",(L=this.getIntValue(m))<0||L>=F.length?null:{value:F[L],text:R,index:L}},w.prototype.getFirstPropertyName=function(F,R,L,m){if(void 0===L&&(L=!1),void 0===m&&(m=void 0),!F||(R||(R={}),R.hasOwnProperty(F)))return F;var T=F.toLowerCase(),C=T[0],y=C.toUpperCase();for(var h in R)if(!(Array.isArray(m)&&m.indexOf(h)>-1)){var v=h[0];if(v===y||v===C){var f=h.toLowerCase();if(f==T)return h;if(T.length<=f.length)continue;var d=T[f.length];if("."!=d&&"["!=d)continue;if(f==T.substring(0,f.length))return h}}if(L&&"["!==F[0]){var u=F.indexOf(".");return u>-1&&(R[F=F.substring(0,u)]={}),F}return""},w.prototype.getObjectValue=function(F,R){return R?F[R]:null},w.prototype.getIntValue=function(F){return"0"==F||(0|F)>0&&F%1==0?Number(F):-1},w}()},"./src/conditions.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"ExpressionExecutor",function(){return F}),x.d(j,"ExpressionRunnerBase",function(){return R}),x.d(j,"ConditionRunner",function(){return L}),x.d(j,"ExpressionRunner",function(){return m});var T,G=x("./src/conditionProcessValue.ts"),se=x("./src/console-warnings.ts"),$=x("./src/conditionsParser.ts"),w=(T=function(C,y){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(h[f]=v[f])})(C,y)},function(C,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function h(){this.constructor=C}T(C,y),C.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)}),F=function(){function T(C){this.processValue=new G.ProcessValue,this.parser=new $.ConditionsParser,this.isAsyncValue=!1,this.hasFunctionValue=!1,this.setExpression(C)}return Object.defineProperty(T.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),T.prototype.setExpression=function(C){this.expression!==C&&(this.expressionValue=C,this.operand=this.parser.parseExpression(C),this.hasFunctionValue=!!this.canRun()&&this.operand.hasFunction(),this.isAsyncValue=!!this.hasFunction()&&this.operand.hasAsyncFunction())},T.prototype.getVariables=function(){if(!this.operand)return[];var C=[];return this.operand.setVariables(C),C},T.prototype.hasFunction=function(){return this.hasFunctionValue},Object.defineProperty(T.prototype,"isAsync",{get:function(){return this.isAsyncValue},enumerable:!1,configurable:!0}),T.prototype.canRun=function(){return!!this.operand},T.prototype.run=function(C,y){var h=this;if(void 0===y&&(y=null),!this.operand)return this.expression&&se.ConsoleWarnings.warn("Invalid expression: "+this.expression),null;if(this.processValue.values=C,this.processValue.properties=y,!this.isAsync)return this.runValues();this.asyncFuncList=[],this.operand.addToAsyncList(this.asyncFuncList);for(var v=0;v<this.asyncFuncList.length;v++)this.asyncFuncList[v].onAsyncReady=function(){h.doAsyncFunctionReady()};for(v=0;v<this.asyncFuncList.length;v++)this.asyncFuncList[v].evaluateAsync(this.processValue);return!1},T.prototype.doAsyncFunctionReady=function(){for(var C=0;C<this.asyncFuncList.length;C++)if(!this.asyncFuncList[C].isReady)return;this.runValues()},T.prototype.runValues=function(){var C=this.operand.evaluate(this.processValue);return this.onComplete&&this.onComplete(C),C},T.createExpressionExecutor=function(C){return new T(C)},T}(),R=function(){function T(C){this._id=T.IdCounter++,this.expression=C}return Object.defineProperty(T.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"expression",{get:function(){return this.expressionExecutor?this.expressionExecutor.expression:""},set:function(C){var y=this;this.expressionExecutor&&C===this.expression||(this.expressionExecutor=F.createExpressionExecutor(C),this.expressionExecutor.onComplete=function(h){y.doOnComplete(h)},this.variables=void 0,this.containsFunc=void 0)},enumerable:!1,configurable:!0}),T.prototype.getVariables=function(){return void 0===this.variables&&(this.variables=this.expressionExecutor.getVariables()),this.variables},T.prototype.hasFunction=function(){return void 0===this.containsFunc&&(this.containsFunc=this.expressionExecutor.hasFunction()),this.containsFunc},Object.defineProperty(T.prototype,"isAsync",{get:function(){return this.expressionExecutor.isAsync},enumerable:!1,configurable:!0}),T.prototype.canRun=function(){return this.expressionExecutor.canRun()},T.prototype.runCore=function(C,y){return void 0===y&&(y=null),this.onBeforeAsyncRun&&this.isAsync&&this.onBeforeAsyncRun(this.id),this.expressionExecutor.run(C,y)},T.prototype.doOnComplete=function(C){this.onAfterAsyncRun&&this.isAsync&&this.onAfterAsyncRun(this.id)},T.IdCounter=1,T}(),L=function(T){function C(){return null!==T&&T.apply(this,arguments)||this}return w(C,T),C.prototype.run=function(y,h){return void 0===h&&(h=null),1==this.runCore(y,h)},C.prototype.doOnComplete=function(y){this.onRunComplete&&this.onRunComplete(1==y),T.prototype.doOnComplete.call(this,y)},C}(R),m=function(T){function C(){return null!==T&&T.apply(this,arguments)||this}return w(C,T),C.prototype.run=function(y,h){return void 0===h&&(h=null),this.runCore(y,h)},C.prototype.doOnComplete=function(y){this.onRunComplete&&this.onRunComplete(y),T.prototype.doOnComplete.call(this,y)},C}(R)},"./src/conditionsParser.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"ConditionsParserError",function(){return se}),x.d(j,"ConditionsParser",function(){return $});var G=x("./src/expressions/expressionParser.ts"),se=function w(F,R){this.at=F,this.code=R},$=function(){function w(){}return w.prototype.patchExpression=function(F){return F.replace(/=>/g,">=").replace(/=</g,"<=").replace(/<>/g,"!=").replace(/equals/g,"equal ").replace(/notequals/g,"notequal ")},w.prototype.createCondition=function(F){return this.parseExpression(F)},w.prototype.parseExpression=function(F){try{var R=w.parserCache[F];return void 0===R&&((R=Object(G.parse)(this.patchExpression(F))).hasAsyncFunction()||(w.parserCache[F]=R)),R}catch(L){L instanceof G.SyntaxError&&(this.conditionError=new se(L.location.start.offset,L.message))}},Object.defineProperty(w.prototype,"error",{get:function(){return this.conditionError},enumerable:!1,configurable:!0}),w.parserCache={},w}()},"./src/console-warnings.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"ConsoleWarnings",function(){return G});var G=function(){function se(){}return se.disposedObjectChangedProperty=function($,w){se.warn('An attempt to set a property "'+$+'" of a disposed object "'+w+'"')},se.inCorrectQuestionValue=function($,w){var F=JSON.stringify(w,null,3);se.warn("An attempt to assign an incorrect value"+F+' to the following question: "'+$+'"')},se.warn=function($){console.warn($)},se.error=function($){console.error($)},se}()},"./src/defaultCss/cssmodern.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"modernCss",function(){return se});var G=x("./src/defaultCss/defaultV2Css.ts"),se={root:"sv-root-modern",timerRoot:"sv-body__timer",container:"sv-container-modern",header:"sv-title sv-container-modern__title",headerClose:"sv-container-modern__close",bodyContainer:"sv-components-row",body:"sv-body",bodyEmpty:"sv-body sv-body--empty",footer:"sv-footer sv-body__footer sv-clearfix",title:"",description:"",logo:"sv-logo",logoImage:"sv-logo__image",headerText:"sv-header__text",navigationButton:"sv-btn sv-btn--navigation",completedPage:"sv-completedpage",navigation:{complete:"sv-footer__complete-btn",prev:"sv-footer__prev-btn",next:"sv-footer__next-btn",start:"sv-footer__start-btn",preview:"sv-footer__preview-btn",edit:"sv-footer__edit-btn"},panel:{title:"sv-title sv-panel__title",titleExpandable:"sv-panel__title--expandable",titleExpanded:"sv-panel__title--expanded",titleCollapsed:"sv-panel__title--collapsed",titleOnError:"sv-panel__title--error",description:"sv-description sv-panel__description",container:"sv-panel sv-row__panel",content:"sv-panel__content",icon:"sv-panel__icon",iconExpanded:"sv-panel__icon--expanded",footer:"sv-panel__footer",requiredText:"sv-panel__required-text",number:"sv-question__num"},paneldynamic:{root:"sv-paneldynamic",navigation:"sv-paneldynamic__navigation",title:"sv-title sv-question__title",button:"sv-btn",buttonRemove:"sv-paneldynamic__remove-btn",buttonRemoveRight:"sv-paneldynamic__remove-btn--right",buttonAdd:"sv-paneldynamic__add-btn",progressTop:"sv-paneldynamic__progress sv-paneldynamic__progress--top",progressBottom:"sv-paneldynamic__progress sv-paneldynamic__progress--bottom",buttonPrev:"sv-paneldynamic__prev-btn",buttonNext:"sv-paneldynamic__next-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",separator:"sv-paneldynamic__separator",panelWrapper:"sv-paneldynamic__panel-wrapper",panelWrapperInRow:"sv-paneldynamic__panel-wrapper--in-row",progressBtnIcon:"icon-progressbutton",footer:""},progress:"sv-progress sv-body__progress",progressBar:"sv-progress__bar",progressText:"sv-progress__text",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv-page sv-body__page",title:"sv-title sv-page__title",description:"sv-description sv-page__description"},pageTitle:"sv-title sv-page__title",pageDescription:"sv-description sv-page__description",row:"sv-row sv-clearfix",question:{mainRoot:"sv-question sv-row__question",flowRoot:"sv-question sv-row__question sv-row__question--flow",asCell:"sv-table__cell",header:"sv-question__header",headerLeft:"sv-question__header--location--left",headerTop:"sv-question__header--location--top",headerBottom:"sv-question__header--location--bottom",content:"sv-question__content",contentLeft:"sv-question__content--left",titleLeftRoot:"",answered:"sv-question--answered",titleOnAnswer:"sv-question__title--answer",titleOnError:"sv-question__title--error",title:"sv-title sv-question__title",titleExpandable:"sv-question__title--expandable",titleExpanded:"sv-question__title--expanded",titleCollapsed:"sv-question__title--collapsed",icon:"sv-question__icon",iconExpanded:"sv-question__icon--expanded",requiredText:"sv-question__required-text",number:"sv-question__num",description:"sv-description sv-question__description",descriptionUnderInput:"sv-description sv-question__description",comment:"sv-comment",required:"sv-question--required",titleRequired:"sv-question__title--required",indent:20,footer:"sv-question__footer",formGroup:"sv-question__form-group",hasError:"",disabled:"sv-question--disabled"},image:{root:"sv-image",image:"sv_image_image"},error:{root:"sv-question__erbox",icon:"",item:"",locationTop:"sv-question__erbox--location--top",locationBottom:"sv-question__erbox--location--bottom"},checkbox:{root:"sv-selectbase",item:"sv-item sv-checkbox sv-selectbase__item",itemSelectAll:"sv-checkbox--selectall",itemNone:"sv-checkbox--none",itemDisabled:"sv-item--disabled sv-checkbox--disabled",itemChecked:"sv-checkbox--checked",itemHover:"sv-checkbox--allowhover",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-checkbox__svg",itemSvgIconId:"#icon-moderncheck",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-checkbox__decorator",other:"sv-comment sv-question__other",column:"sv-selectbase__column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},radiogroup:{root:"sv-selectbase",item:"sv-item sv-radio sv-selectbase__item",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemDisabled:"sv-item--disabled sv-radio--disabled",itemChecked:"sv-radio--checked",itemHover:"sv-radio--allowhover",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-radio__svg",itemSvgIconId:"#icon-modernradio",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-radio__decorator",other:"sv-comment sv-question__other",clearButton:"sv-btn sv-selectbase__clear-btn",column:"sv-selectbase__column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemSelected:"sv-button-group__item--selected",itemHover:"sv-button-group__item--hover",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},boolean:{root:"sv_qbln",rootRadio:"sv_qbln",small:"sv-row__question--small",item:"sv-boolean sv-item",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-item--disabled sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label",disabledLabel:"sv-boolean__label--disabled",sliderGhost:"sv-boolean__thumb-ghost",rootCheckbox:"sv_qbln",checkboxItem:"sv-boolean sv-item",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyhidden",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator ",checkboxItemDecorator:"sv-item__svg  sv-boolean__svg",indeterminatePath:"sv-boolean__indeterminate-path",svgIconCheckedId:"#icon-modernbooleancheckchecked",svgIconUncheckedId:"#icon-modernbooleancheckunchecked",svgIconIndId:"#icon-modernbooleancheckind"},text:{root:"sv-text",small:"sv-row__question--small",remainingCharacterCounter:"sv-remaining-character-counter",onError:"sv-text--error"},multipletext:{root:"sv-multipletext",item:"sv-multipletext__item",itemLabel:"sv-multipletext__item-label",itemTitle:"sv-multipletext__item-title",row:"sv-multipletext__row",cell:"sv-multipletext__cell"},dropdown:{root:"",popup:"sv-dropdown-popup",small:"sv-row__question--small",control:"sv-dropdown",selectWrapper:"",other:"sv-comment sv-question__other",onError:"sv-dropdown--error",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",filterStringInput:"sv-dropdown__filter-string-input",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component",hintPrefix:"sv-dropdown__hint-prefix",hintSuffix:"sv-dropdown__hint-suffix"},tagbox:{root:"",popup:"sv-dropdown-popup",small:"sv-row__question--small",selectWrapper:"sv_select_wrapper sv-tagbox_wrapper",other:"sv-input sv-comment sv-selectbase__other",cleanButton:"sv-tagbox_clean-button sv-dropdown_clean-button",cleanButtonSvg:"sv-tagbox_clean-button-svg sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv-tagbox__item_clean-button",cleanItemButtonSvg:"sv-tagbox__item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv-input sv-tagbox sv-dropdown",controlValue:"sv-tagbox__value sv-dropdown__value",controlEmpty:"sv-dropdown--empty sv-tagbox--empty",placeholderInput:"sv-tagbox__placeholder",filterStringInput:"sv-tagbox__filter-string-input sv-dropdown__filter-string-input"},imagepicker:{root:"sv-selectbase sv-imagepicker",column:"sv-selectbase__column",item:"sv-imagepicker__item",itemInline:"sv-imagepicker__item--inline",itemChecked:"sv-imagepicker__item--checked",itemDisabled:"sv-imagepicker__item--disabled",itemHover:"sv-imagepicker__item--allowhover",label:"sv-imagepicker__label",itemControl:"sv-imagepicker__control sv-visuallyhidden",image:"sv-imagepicker__image",itemText:"sv-imagepicker__text",clearButton:"sv-btn",other:"sv-comment sv-question__other"},matrix:{tableWrapper:"sv-matrix",root:"sv-table sv-matrix-root",rowError:"sv-matrix__row--error",cell:"sv-table__cell sv-matrix__cell",headerCell:"sv-table__cell sv-table__cell--header",label:"sv-item sv-radio sv-matrix__label",itemValue:"sv-visuallyhidden sv-item__control sv-radio__control",itemChecked:"sv-radio--checked",itemDisabled:"sv-item--disabled sv-radio--disabled",itemHover:"sv-radio--allowhover",materialDecorator:"sv-item__decorator sv-radio__decorator",itemDecorator:"sv-item__svg sv-radio__svg",cellText:"sv-matrix__text",cellTextSelected:"sv-matrix__text--checked",cellTextDisabled:"sv-matrix__text--disabled",cellResponsiveTitle:"sv-matrix__cell-responsive-title",itemSvgIconId:"#icon-modernradio"},matrixdropdown:{root:"sv-table sv-matrixdropdown",cell:"sv-table__cell",headerCell:"sv-table__cell sv-table__cell--header",row:"sv-table__row",rowAdditional:"sv-table__row--additional",detailRow:"sv-table__row--detail",detailRowText:"sv-table__cell--detail-rowtext",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions"},matrixdynamic:{root:"sv-table sv-matrixdynamic",cell:"sv-table__cell",headerCell:"sv-table__cell sv-table__cell--header",button:"sv-btn",buttonAdd:"sv-matrixdynamic__add-btn",buttonRemove:"sv-matrixdynamic__remove-btn",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",row:"sv-table__row",detailRow:"sv-table__row--detail",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions",emptyRowsSection:"sv-table__empty--rows--section",emptyRowsText:"sv-table__empty--rows--text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},rating:{root:"sv-rating",item:"sv-rating__item",selected:"sv-rating__item--selected",minText:"sv-rating__min-text",itemText:"sv-rating__item-text",maxText:"sv-rating__max-text",itemDisabled:"sv-rating--disabled",filterStringInput:"sv-dropdown__filter-string-input",control:"sv-dropdown",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component",itemSmiley:"sv-rating__item-smiley",itemStar:"sv-rating__item-star",itemSmileySelected:"sv-rating__item-smiley--selected",itemStarSelected:"sv-rating__item-star--selected"},comment:{root:"sv-comment",small:"sv-row__question--small",remainingCharacterCounter:"sv-remaining-character-counter"},expression:"",file:{root:"sv-file",other:"sv-comment sv-question__other",placeholderInput:"sv-visuallyhidden",preview:"sv-file__preview",fileSignBottom:"sv-file__sign",fileDecorator:"sv-file__decorator",fileInput:"sv-visuallyhidden",noFileChosen:"sv-description sv-file__no-file-chosen",chooseFile:"sv-btn sv-file__choose-btn",controlDisabled:"sv-file__choose-btn--disabled",removeButton:"sv-hidden",removeButtonBottom:"sv-btn sv-file__clean-btn",removeFile:"sv-hidden",removeFileSvg:"sv-file__remove-svg",removeFileSvgIconId:"icon-removefile",wrapper:"sv-file__wrapper",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv-signaturepad sjs_sp_container",small:"sv-row__question--small",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas",backgroundImage:"sjs_sp__background-image",clearButton:"sjs_sp_clear"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootFullScreenMode:"sv_window--full-screen",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close",fullScreenButton:"sv_window_button sv_window_button_full_screen"}},variables:{mobileWidth:"--sv-mobile-width",themeMark:"--sv-modern-mark"}};G.surveyCss.modern=se},"./src/defaultCss/cssstandard.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"defaultStandardCss",function(){return se});var G=x("./src/defaultCss/defaultV2Css.ts"),se={root:"sv_main sv_default_css",container:"sv_container",header:"sv_header",bodyContainer:"sv-components-row",body:"sv_body",bodyEmpty:"sv_body sv_body_empty",footer:"sv_nav",title:"",description:"",logo:"sv_logo",logoImage:"sv_logo__image",headerText:"sv_header__text",navigationButton:"sv_nav_btn",completedPage:"sv_completed_page",navigation:{complete:"sv_complete_btn",prev:"sv_prev_btn",next:"sv_next_btn",start:"sv_start_btn",preview:"sv_preview_btn",edit:"sv_edit_btn"},progress:"sv_progress",progressBar:"sv_progress_bar",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv_p_root",title:"sv_page_title",description:""},pageTitle:"sv_page_title",pageDescription:"",row:"sv_row",question:{mainRoot:"sv_q sv_qstn",flowRoot:"sv_q_flow sv_qstn",header:"",headerLeft:"title-left",content:"",contentLeft:"content-left",titleLeftRoot:"sv_qstn_left",requiredText:"sv_q_required_text",title:"sv_q_title",titleExpandable:"sv_q_title_expandable",titleExpanded:"sv_q_title_expanded",titleCollapsed:"sv_q_title_collapsed",number:"sv_q_num",description:"sv_q_description",comment:"",required:"",titleRequired:"",hasError:"",indent:20,footer:"sv_q_footer",formGroup:"form-group",asCell:"sv_matrix_cell",icon:"sv_question_icon",iconExpanded:"sv_expanded",disabled:"sv_q--disabled"},panel:{title:"sv_p_title",titleExpandable:"sv_p_title_expandable",titleExpanded:"sv_p_title_expanded",titleCollapsed:"sv_p_title_collapsed",titleOnError:"",icon:"sv_panel_icon",iconExpanded:"sv_expanded",description:"sv_p_description",container:"sv_p_container",footer:"sv_p_footer",number:"sv_q_num",requiredText:"sv_q_required_text"},error:{root:"sv_q_erbox",icon:"",item:"",locationTop:"sv_qstn_error_top",locationBottom:"sv_qstn_error_bottom"},boolean:{root:"sv_qcbc sv_qbln",rootRadio:"sv_qcbc sv_qbln",item:"sv-boolean",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",sliderGhost:"sv-boolean__thumb-ghost",rootCheckbox:"sv_qcbc sv_qbln",checkboxItem:"sv-boolean",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyvisible",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator",checkboxItemDecorator:"sv-item__svg sv-boolean__svg"},checkbox:{root:"sv_qcbc sv_qcbx",item:"sv_q_checkbox",itemSelectAll:"sv_q_checkbox_selectall",itemNone:"sv_q_checkbox_none",itemChecked:"checked",itemInline:"sv_q_checkbox_inline",label:"sv_q_checkbox_label",labelChecked:"",itemControl:"sv_q_checkbox_control_item",itemDecorator:"sv-hidden",controlLabel:"sv_q_checkbox_control_label",other:"sv_q_other sv_q_checkbox_other",column:"sv_q_select_column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},comment:{remainingCharacterCounter:"sv-remaining-character-counter"},dropdown:{root:"",popup:"sv-dropdown-popup",control:"sv_q_dropdown_control",controlInputFieldComponent:"sv_q_dropdown_control__input-field-component",selectWrapper:"sv_select_wrapper",other:"sv_q_dd_other",cleanButton:"sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv_q_dropdown__value",filterStringInput:"sv_q_dropdown__filter-string-input",hintPrefix:"sv_q_dropdown__hint-prefix",hintSuffix:"sv_q_dropdown__hint-suffix"},html:{root:""},image:{root:"sv_q_image",image:"sv_image_image",noImage:"sv-image__no-image",noImageSvgIconId:"icon-no-image"},matrix:{root:"sv_q_matrix",label:"sv_q_m_label",itemChecked:"checked",itemDecorator:"sv-hidden",cell:"sv_q_m_cell",cellText:"sv_q_m_cell_text",cellTextSelected:"sv_q_m_cell_selected",cellLabel:"sv_q_m_cell_label",cellResponsiveTitle:"sv_q_m_cell_responsive_title"},matrixdropdown:{root:"sv_q_matrix_dropdown",cell:"sv_matrix_cell",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",rowAdditional:"sv-matrix__row--additional",detailRow:"sv_matrix_detail_row",detailRowText:"sv_matrix_cell_detail_rowtext",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions"},matrixdynamic:{root:"sv_q_matrix_dynamic",button:"sv_matrix_dynamic_button",buttonAdd:"",buttonRemove:"",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",cell:"sv_matrix_cell",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions",emptyRowsSection:"sv_matrix_empty_rows_section",emptyRowsText:"sv_matrix_empty_rows_text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},paneldynamic:{root:"sv_panel_dynamic",title:"sv_p_title",header:"sv-paneldynamic__header sv_header",headerTab:"sv-paneldynamic__header-tab",button:"",buttonAdd:"sv-paneldynamic__add-btn",buttonRemove:"sv_p_remove_btn",buttonRemoveRight:"sv_p_remove_btn_right",buttonPrev:"sv-paneldynamic__prev-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",buttonNext:"sv-paneldynamic__next-btn",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",panelWrapper:"sv_p_wrapper",panelWrapperInRow:"sv_p_wrapper_in_row",footer:"",progressBtnIcon:"icon-progressbutton"},multipletext:{root:"sv_q_mt",itemTitle:"sv_q_mt_title",item:"sv_q_mt_item",row:"sv_q_mt_row",itemLabel:"sv_q_mt_label",itemValue:"sv_q_mt_item_value sv_q_text_root"},radiogroup:{root:"sv_qcbc",item:"sv_q_radiogroup",itemChecked:"checked",itemInline:"sv_q_radiogroup_inline",itemDecorator:"sv-hidden",label:"sv_q_radiogroup_label",labelChecked:"",itemControl:"sv_q_radiogroup_control_item",controlLabel:"",other:"sv_q_other sv_q_radiogroup_other",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},imagepicker:{root:"sv_imgsel",item:"sv_q_imgsel",itemChecked:"checked",label:"sv_q_imgsel_label",itemControl:"sv_q_imgsel_control_item",image:"sv_q_imgsel_image",itemInline:"sv_q_imagepicker_inline",itemText:"sv_q_imgsel_text",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column",itemNoImage:"sv_q_imgsel__no-image",itemNoImageSvgIcon:"sv_q_imgsel__no-image-svg",itemNoImageSvgIconId:"icon-no-image"},rating:{root:"sv_q_rating",item:"sv_q_rating_item",itemFixedSize:"sv_q_rating_item_fixed",selected:"active",minText:"sv_q_rating_min_text",itemText:"sv_q_rating_item_text",maxText:"sv_q_rating_max_text",itemStar:"sv_q_rating__item-star",itemStarSelected:"sv_q_rating__item-star--selected",itemSmiley:"sv_q_rating__item-smiley",itemSmileySelected:"sv_q_rating__item-smiley--selected"},text:{root:"sv_q_text_root",remainingCharacterCounter:"sv-remaining-character-counter"},expression:"",file:{root:"sv_q_file",placeholderInput:"sv-visuallyhidden",preview:"sv_q_file_preview",removeButton:"sv_q_file_remove_button",fileInput:"sv-visuallyhidden",removeFile:"sv_q_file_remove",fileDecorator:"sv-file__decorator",fileSign:"sv_q_file_sign",chooseFile:"sv_q_file_choose_button",noFileChosen:"sv_q_file_placeholder",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv_q_signaturepad sjs_sp_container",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas",backgroundImage:"sjs_sp__background-image",clearButton:"sjs_sp_clear"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootFullScreenMode:"sv_window--full-screen",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close",fullScreenButton:"sv_window_button sv_window_button_full_screen"}},variables:{mobileWidth:"--sv-mobile-width",themeMark:"--sv-default-mark"},tagbox:{root:"",popup:"sv-dropdown-popup",small:"sv_q_row__question--small",selectWrapper:"sv_select_wrapper sv_q_tagbox_wrapper",other:"sv_q_input sv_q_comment sv_q_selectbase__other",cleanButton:"sv_q_tagbox_clean-button sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_tagbox_clean-button-svg sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv_q_tagbox-item_clean-button",cleanItemButtonSvg:"sv_q_tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv_q_input sv_q_tagbox sv_q_dropdown_control",controlValue:"sv_q_tagbox__value sv_q_dropdown__value",controlEmpty:"sv_q_dropdown--empty sv_q_tagbox--empty",placeholderInput:"sv_q_tagbox__placeholder",filterStringInput:"sv_q_tagbox__filter-string-input sv_q_dropdown__filter-string-input",hint:"sv_q_tagbox__hint",hintPrefix:"sv_q_dropdown__hint-prefix sv_q_tagbox__hint-prefix",hintSuffix:"sv_q_dropdown__hint-suffix sv_q_tagbox__hint-suffix",hintSuffixWrapper:"sv_q_tagbox__hint-suffix-wrapper"}};G.surveyCss.default=se,G.surveyCss.orange=se,G.surveyCss.darkblue=se,G.surveyCss.darkrose=se,G.surveyCss.stone=se,G.surveyCss.winter=se,G.surveyCss.winterstone=se},"./src/defaultCss/defaultV2Css.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"surveyCss",function(){return G}),x.d(j,"defaultV2Css",function(){return se}),x.d(j,"defaultV2ThemeName",function(){return $});var G={currentType:"",getCss:function(){var w=this.currentType?this[this.currentType]:se;return w||(w=se),w},getAvailableThemes:function(){return Object.keys(this).filter(function(w){return-1===["currentType","getCss","getAvailableThemes"].indexOf(w)})}},se={root:"sd-root-modern",rootMobile:"sd-root-modern--mobile",rootAnimationDisabled:"sd-root-modern--animation-disabled",rootReadOnly:"sd-root--readonly",rootCompact:"sd-root--compact",rootFitToContainer:"sd-root-modern--full-container",rootWrapper:"sd-root-modern__wrapper",rootWrapperFixed:"sd-root-modern__wrapper--fixed",rootBackgroundImage:"sd-root_background-image",container:"sd-container-modern",header:"sd-title sd-container-modern__title",bodyContainer:"sv-components-row",body:"sd-body",bodyWithTimer:"sd-body--with-timer",clockTimerRoot:"sd-timer",clockTimerRootTop:"sd-timer--top",clockTimerRootBottom:"sd-timer--bottom",clockTimerProgress:"sd-timer__progress",clockTimerProgressAnimation:"sd-timer__progress--animation",clockTimerTextContainer:"sd-timer__text-container",clockTimerMinorText:"sd-timer__text--minor",clockTimerMajorText:"sd-timer__text--major",bodyEmpty:"sd-body sd-body--empty",bodyLoading:"sd-body--loading",footer:"sd-footer sd-body__navigation sd-clearfix",title:"sd-title",description:"sd-description",logo:"sd-logo",logoImage:"sd-logo__image",headerText:"sd-header__text",headerClose:"sd-hidden",navigationButton:"",bodyNavigationButton:"sd-btn",completedPage:"sd-completedpage",completedBeforePage:"sd-completed-before-page",timerRoot:"sd-body__timer",navigation:{complete:"sd-btn--action sd-navigation__complete-btn",prev:"sd-navigation__prev-btn",next:"sd-navigation__next-btn",start:"sd-navigation__start-btn",preview:"sd-navigation__preview-btn",edit:""},panel:{asPage:"sd-panel--as-page",number:"sd-element__num",title:"sd-title sd-element__title sd-panel__title",titleExpandable:"sd-element__title--expandable",titleNumInline:"sd-element__title--num-inline",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleOnExpand:"sd-panel__title--expanded",titleOnError:"sd-panel__title--error",titleBar:"sd-action-title-bar",description:"sd-description sd-panel__description",container:"sd-element sd-element--complex sd-panel sd-row__panel",withFrame:"sd-element--with-frame",content:"sd-panel__content",icon:"sd-panel__icon",iconExpanded:"sd-panel__icon--expanded",footer:"sd-panel__footer",requiredText:"sd-panel__required-text",header:"sd-panel__header sd-element__header sd-element__header--location-top",collapsed:"sd-element--collapsed",expanded:"sd-element--expanded",nested:"sd-element--nested sd-element--nested-with-borders",invisible:"sd-element--invisible",navigationButton:"",compact:"sd-element--with-frame sd-element--compact",errorsContainer:"sd-panel__errbox sd-element__erbox sd-element__erbox--above-element"},paneldynamic:{mainRoot:"sd-element  sd-question sd-question--paneldynamic sd-element--complex sd-question--complex sd-row__question",empty:"sd-question--empty",root:"sd-paneldynamic",iconRemove:"sd-hidden",navigation:"sd-paneldynamic__navigation",title:"sd-title sd-element__title sd-question__title",header:"sd-paneldynamic__header sd-element__header",headerTab:"sd-paneldynamic__header-tab",button:"sd-action sd-paneldynamic__btn",buttonRemove:"sd-action--negative sd-paneldynamic__remove-btn",buttonAdd:"sd-paneldynamic__add-btn",buttonPrev:"sd-paneldynamic__prev-btn sd-action--icon sd-action",buttonPrevDisabled:"sd-action--disabled",buttonNextDisabled:"sd-action--disabled",buttonNext:"sd-paneldynamic__next-btn sd-action--icon sd-action",progressContainer:"sd-paneldynamic__progress-container",progress:"sd-progress",progressBar:"sd-progress__bar",nested:"sd-element--nested sd-element--nested-with-borders",progressText:"sd-paneldynamic__progress-text",separator:"sd-paneldynamic__separator",panelWrapper:"sd-paneldynamic__panel-wrapper",footer:"sd-paneldynamic__footer",panelFooter:"sd-paneldynamic__panel-footer",footerButtonsContainer:"sd-paneldynamic__buttons-container",panelWrapperInRow:"sd-paneldynamic__panel-wrapper--in-row",progressBtnIcon:"icon-progressbuttonv2",noEntriesPlaceholder:"sd-paneldynamic__placeholder sd-question__placeholder",compact:"sd-element--with-frame sd-element--compact",tabsRoot:"sd-tabs-toolbar",tabsLeft:"sd-tabs-toolbar--left",tabsRight:"sd-tabs-toolbar--right",tabsCenter:"sd-tabs-toolbar--center",tabs:{item:"sd-tab-item",itemPressed:"sd-tab-item--pressed",itemAsIcon:"sd-tab-item--icon",itemIcon:"sd-tab-item__icon",itemTitle:"sd-tab-item__title"}},progress:"sd-progress sd-body__progress",progressTop:"sd-body__progress--top",progressBottom:"sd-body__progress--bottom",progressBar:"sd-progress__bar",progressText:"sd-progress__text",progressButtonsRoot:"sd-progress-buttons",progressButtonsNumbered:"sd-progress-buttons--numbered",progressButtonsContainerCenter:"sd-progress-buttons__container-center",progressButtonsContainer:"sd-progress-buttons__container",progressButtonsConnector:"sd-progress-buttons__connector",progressButtonsHeader:"sd-progress-buttons__header",progressButtonsFooter:"sd-progress-buttons__footer",progressButtonsImageButtonLeft:"sd-progress-buttons__image-button-left",progressButtonsImageButtonRight:"sd-progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sd-progress-buttons__image-button--hidden",progressButtonsListContainer:"sd-progress-buttons__list-container",progressButtonsList:"sd-progress-buttons__list",progressButtonsListElementPassed:"sd-progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sd-progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sd-progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sd-progress-buttons__page-title",progressButtonsPageDescription:"sd-progress-buttons__page-description",progressTextInBar:"sd-hidden",page:{root:"sd-page sd-body__page",emptyHeaderRoot:"sd-page__empty-header",title:"sd-title sd-page__title",description:"sd-description sd-page__description",errorsContainer:"sd-page__errbox"},pageTitle:"sd-title sd-page__title",pageDescription:"sd-description sd-page__description",row:"sd-row sd-clearfix",rowMultiple:"sd-row--multiple",rowCompact:"sd-row--compact",pageRow:"sd-page__row",question:{mainRoot:"sd-element sd-question sd-row__question",flowRoot:"sd-element sd-question sd-row__question sd-row__question--flow",withFrame:"sd-element--with-frame",asCell:"sd-table__cell",answered:"sd-question--answered",header:"sd-question__header sd-element__header",headerLeft:"sd-question__header--location--left",headerTop:"sd-question__header--location-top sd-element__header--location-top",headerBottom:"sd-question__header--location--bottom",content:"sd-question__content",contentSupportContainerQueries:"sd-question__content--support-container-queries",contentLeft:"sd-question__content--left",titleNumInline:"sd-element__title--num-inline",titleLeftRoot:"sd-question--left",titleTopRoot:"sd-question--title-top",descriptionUnderInputRoot:"sd-question--description-under-input",titleBottomRoot:"sd-question--title-bottom",titleOnAnswer:"sd-question__title--answer",titleEmpty:"sd-question__title--empty",titleOnError:"sd-question__title--error",title:"sd-title sd-element__title sd-question__title",titleExpandable:"sd-element__title--expandable",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleBar:"sd-action-title-bar",requiredText:"sd-question__required-text",number:"sd-element__num",description:"sd-description sd-question__description",descriptionUnderInput:"sd-description sd-question__description sd-question__description--under-input",comment:"sd-input sd-comment",other:"sd-input sd-comment",required:"sd-question--required",titleRequired:"sd-question__title--required",indent:20,footer:"sd-question__footer",commentArea:"sd-question__comment-area",formGroup:"sd-question__form-group",hasError:"sd-question--error",hasErrorTop:"sd-question--error-top",hasErrorBottom:"sd-question--error-bottom",collapsed:"sd-element--collapsed",expanded:"sd-element--expanded",nested:"sd-element--nested",invisible:"sd-element--invisible",composite:"sd-element--complex",disabled:"sd-question--disabled",errorsContainer:"sd-element__erbox sd-question__erbox",errorsContainerTop:"sd-element__erbox--above-element sd-question__erbox--above-question",errorsContainerBottom:"sd-question__erbox--below-question"},image:{mainRoot:"sd-question sd-question--image",root:"sd-image",image:"sd-image__image",adaptive:"sd-image__image--adaptive",noImage:"sd-image__no-image",noImageSvgIconId:"icon-no-image",withFrame:""},html:{mainRoot:"sd-question sd-row__question sd-question--html",root:"sd-html",withFrame:""},error:{root:"sd-error",icon:"",item:"",locationTop:"",locationBottom:""},checkbox:{root:"sd-selectbase",rootMobile:"sd-selectbase--mobile",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-checkbox sd-selectbase__item",itemOnError:"sd-item--error",itemSelectAll:"sd-checkbox--selectall",itemNone:"sd-checkbox--none",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemSvgIconId:"#icon-v2check",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-checkbox__decorator",other:"sd-input sd-comment sd-selectbase__other",column:"sd-selectbase__column"},radiogroup:{root:"sd-selectbase",rootMobile:"sd-selectbase--mobile",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-radio sd-selectbase__item",itemOnError:"sd-item--error",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-radio__decorator",other:"sd-input sd-comment sd-selectbase__other",clearButton:"",column:"sd-selectbase__column"},boolean:{mainRoot:"sd-element sd-question sd-row__question sd-question--boolean",root:"sv_qcbc sv_qbln sd-scrollable-container sd-boolean-root",rootRadio:"sv_qcbc sv_qbln sd-scrollable-container sd-scrollable-container--compact",item:"sd-boolean",itemOnError:"sd-boolean--error",control:"sd-boolean__control sd-visuallyhidden",itemChecked:"sd-boolean--checked",itemIndeterminate:"sd-boolean--indeterminate",itemDisabled:"sd-boolean--disabled",itemHover:"sd-boolean--allowhover",label:"sd-boolean__label",labelTrue:"sd-boolean__label--true",labelFalse:"sd-boolean__label--false",switch:"sd-boolean__switch",disabledLabel:"sd-checkbox__label--disabled",sliderText:"sd-boolean__thumb-text",slider:"sd-boolean__thumb",sliderGhost:"sd-boolean__thumb-ghost",radioItem:"sd-item",radioItemChecked:"sd-item--checked sd-radio--checked",radioLabel:"sd-selectbase__label",radioControlLabel:"sd-item__control-label",radioFieldset:"sd-selectbase",itemRadioDecorator:"sd-item__svg sd-radio__svg",materialRadioDecorator:"sd-item__decorator sd-radio__decorator",itemRadioControl:"sd-visuallyhidden sd-item__control sd-radio__control",rootCheckbox:"sd-selectbase",checkboxItem:"sd-item sd-selectbase__item sd-checkbox",checkboxLabel:"sd-selectbase__label",checkboxItemOnError:"sd-item--error",checkboxItemIndeterminate:"sd-checkbox--intermediate",checkboxItemChecked:"sd-item--checked sd-checkbox--checked",checkboxItemDecorator:"sd-item__svg sd-checkbox__svg",checkboxItemDisabled:"sd-item--disabled sd-checkbox--disabled",controlCheckbox:"sd-visuallyhidden sd-item__control sd-checkbox__control",checkboxMaterialDecorator:"sd-item__decorator sd-checkbox__decorator",checkboxControlLabel:"sd-item__control-label",svgIconCheckedId:"#icon-v2check"},text:{root:"sd-input sd-text",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",constrolWithCharacterCounter:"sd-text__character-counter",characterCounterBig:"sd-text__character-counter--big",content:"sd-text__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},multipletext:{root:"sd-multipletext",rootMobile:"sd-multipletext--mobile",itemLabel:"sd-multipletext__item-container sd-input",itemLabelOnError:"sd-multipletext__item-container--error",itemLabelAllowFocus:"sd-multipletext__item-container--allow-focus",itemLabelAnswered:"sd-multipletext__item-container--answered",itemWithCharacterCounter:"sd-multipletext-item__character-counter",item:"sd-multipletext__item",itemTitle:"sd-multipletext__item-title",content:"sd-multipletext__content sd-question__content",row:"sd-multipletext__row",cell:"sd-multipletext__cell",cellError:"sd-multipletext__cell--error",cellErrorTop:"sd-multipletext__cell--error-top",cellErrorBottom:"sd-multipletext__cell--error-bottom"},dropdown:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",item:"sd-item sd-radio sd-selectbase__item",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",cleanButton:"sd-dropdown_clean-button",cleanButtonSvg:"sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",control:"sd-input sd-dropdown",controlInputFieldComponent:"sd-dropdown__input-field-component",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-radio__decorator",hintPrefix:"sd-dropdown__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix"},imagepicker:{mainRoot:"sd-element sd-question sd-row__question",root:"sd-selectbase sd-imagepicker",rootColumn:"sd-imagepicker--column",item:"sd-imagepicker__item",itemOnError:"sd-imagepicker__item--error",itemInline:"sd-imagepicker__item--inline",itemChecked:"sd-imagepicker__item--checked",itemDisabled:"sd-imagepicker__item--disabled",itemHover:"sd-imagepicker__item--allowhover",label:"sd-imagepicker__label",itemDecorator:"sd-imagepicker__item-decorator",imageContainer:"sd-imagepicker__image-container",itemControl:"sd-imagepicker__control sd-visuallyhidden",image:"sd-imagepicker__image",itemText:"sd-imagepicker__text",other:"sd-input sd-comment",itemNoImage:"sd-imagepicker__no-image",itemNoImageSvgIcon:"sd-imagepicker__no-image-svg",itemNoImageSvgIconId:"icon-no-image",column:"sd-selectbase__column sd-imagepicker__column",checkedItemDecorator:"sd-imagepicker__check-decorator",checkedItemSvgIcon:"sd-imagepicker__check-icon",checkedItemSvgIconId:"icon-v2check_24x24"},matrix:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",tableWrapper:"sd-matrix sd-table-wrapper",root:"sd-table sd-matrix__table",noHeader:"sd-table--no-header",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",rootAlternateRows:"sd-table--alternate-rows",rowError:"sd-matrix__row--error",cell:"sd-table__cell sd-matrix__cell",row:"sd-table__row",rowDisabled:"sd-table__row-disabled",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-matrix__cell sd-table__cell--row-text",label:"sd-item sd-radio sd-matrix__label",itemOnError:"sd-item--error",itemValue:"sd-visuallyhidden sd-item__control sd-radio__control",itemChecked:"sd-item--checked sd-radio--checked",itemDisabled:"sd-item--disabled sd-radio--disabled",itemHover:"sd-radio--allowhover",materialDecorator:"sd-item__decorator sd-radio__decorator",itemDecorator:"sd-item__svg sd-radio__svg",cellText:"sd-matrix__text",cellTextSelected:"sd-matrix__text--checked",cellTextDisabled:"sd-matrix__text--disabled",cellResponsiveTitle:"sd-matrix__responsive-title",compact:"sd-element--with-frame sd-element--compact"},matrixdropdown:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",root:"sd-table sd-matrixdropdown",noHeader:"sd-table--no-header",hasFooter:"sd-table--has-footer",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",cell:"sd-table__cell",errorsCell:"sd-table__cell--error",errorsCellTop:"sd-table__cell--error-top",errorsCellBottom:"sd-table__cell--error-bottom",itemCell:"sd-table__cell--item",row:"sd-table__row",expandedRow:"sd-table__row--expanded",rowHasPanel:"sd-table__row--has-panel",rowHasEndActions:"sd-table__row--has-end-actions",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",footerCell:"sd-table__cell sd-table__cell--footer",footerTotalCell:"sd-table__cell sd-table__cell--footer-total",columnTitleCell:"sd-table__cell--column-title",cellRequiredText:"sd-question__required-text",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",detailRowCell:"sd-table__cell--detail",actionsCellPrefix:"sd-table__cell-action",actionsCell:"sd-table__cell sd-table__cell--actions",actionsCellDrag:"sd-table__cell--drag",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-table__question-wrapper",compact:"sd-element--with-frame sd-element--compact"},matrixdynamic:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",empty:"sd-question--empty",root:"sd-table sd-matrixdynamic",noHeader:"sd-table--no-header",hasFooter:"sd-table--has-footer",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",content:"sd-matrixdynamic__content sd-question__content",cell:"sd-table__cell",row:"sd-table__row",rowHasPanel:"sd-table__row--has-panel",rowHasEndActions:"sd-table__row--has-end-actions",expandedRow:"sd-table__row--expanded",itemCell:"sd-table__cell--item",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",footerCell:"sd-table__cell sd-table__cell--footer",columnTitleCell:"sd-table__cell--column-title",cellRequiredText:"sd-question__required-text",button:"sd-action sd-matrixdynamic__btn",detailRow:"sd-table__row sd-table__row--detail",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",detailRowCell:"sd-table__cell--detail",actionsCellPrefix:"sd-table__cell-action",actionsCell:"sd-table__cell sd-table__cell--actions",actionsCellDrag:"sd-table__cell--drag",buttonAdd:"sd-matrixdynamic__add-btn",buttonRemove:"sd-action--negative sd-matrixdynamic__remove-btn",iconAdd:"sd-hidden",iconRemove:"",dragElementDecorator:"sd-drag-element__svg",iconDragElement:"#icon-v2dragelement_16x16",footer:"sd-matrixdynamic__footer",emptyRowsSection:"sd-matrixdynamic__placeholder sd-question__placeholder",iconDrag:"sv-matrixdynamic__drag-icon",ghostRow:"sv-matrix-row--drag-drop-ghost-mod",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-table__question-wrapper",errorsCell:"sd-table__cell--error",errorsCellTop:"sd-table__cell--error-top",errorsCellBottom:"sd-table__cell--error-bottom",compact:"sd-element--with-frame sd-element--compact"},rating:{rootDropdown:"sd-scrollable-container sd-scrollable-container--compact sd-selectbase",root:"sd-scrollable-container sd-rating",rootWrappable:"sd-rating--wrappable",rootLabelsTop:"sd-rating--labels-top",rootLabelsBottom:"sd-rating--labels-bottom",rootLabelsDiagonal:"sd-rating--labels-diagonal",item:"sd-rating__item",itemOnError:"sd-rating__item--error",itemHover:"sd-rating__item--allowhover",selected:"sd-rating__item--selected",itemStar:"sd-rating__item-star",itemStarOnError:"sd-rating__item-star--error",itemStarHover:"sd-rating__item-star--allowhover",itemStarSelected:"sd-rating__item-star--selected",itemStarDisabled:"sd-rating__item-star--disabled",itemStarHighlighted:"sd-rating__item-star--highlighted",itemStarUnhighlighted:"sd-rating__item-star--unhighlighted",itemStarSmall:"sd-rating__item-star--small",itemSmiley:"sd-rating__item-smiley",itemSmileyOnError:"sd-rating__item-smiley--error",itemSmileyHover:"sd-rating__item-smiley--allowhover",itemSmileySelected:"sd-rating__item-smiley--selected",itemSmileyDisabled:"sd-rating__item-smiley--disabled",itemSmileyHighlighted:"sd-rating__item-star--highlighted",itemSmileyScaleColored:"sd-rating__item-smiley--scale-colored",itemSmileyRateColored:"sd-rating__item-smiley--rate-colored",itemSmileySmall:"sd-rating__item-smiley--small",minText:"sd-rating__item-text sd-rating__min-text",itemText:"sd-rating__item-text",maxText:"sd-rating__item-text sd-rating__max-text",itemDisabled:"sd-rating__item--disabled",itemFixedSize:"sd-rating__item--fixed-size",control:"sd-input sd-dropdown",itemSmall:"sd-rating--small",selectWrapper:"sv-dropdown_select-wrapper",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty",filterStringInput:"sd-dropdown__filter-string-input",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",popup:"sv-dropdown-popup",onError:"sd-input--error"},comment:{root:"sd-input sd-comment",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",content:"sd-comment__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},expression:"sd-expression",file:{root:"sd-file",rootDragging:"sd-file--dragging",rootAnswered:"sd-file--answered",other:"sd-input sd-comment",placeholderInput:"sd-visuallyhidden",preview:"sd-file__preview",fileSign:"",fileList:"sd-file__list",fileSignBottom:"sd-file__sign",dragArea:"sd-file__drag-area",dragAreaActive:"sd-file__drag-area--active",fileDecorator:"sd-file__decorator",onError:"sd-file__decorator--error",fileDecoratorDrag:"sd-file__decorator--drag",fileInput:"sd-visuallyhidden",noFileChosen:"sd-description sd-file__no-file-chosen",chooseFile:"sd-file__choose-btn",chooseFileAsText:"sd-action sd-file__choose-btn--text",chooseFileAsTextDisabled:"sd-action--disabled",chooseFileAsIcon:"sd-file__choose-btn--icon",chooseFileIconId:"icon-choosefile",disabled:"sd-file__choose-btn--disabled",removeButton:"sd-context-btn--negative",removeButtonBottom:"",removeButtonIconId:"icon-clear",removeFile:"sd-hidden",removeFileSvg:"",removeFileSvgIconId:"icon-delete",wrapper:"sd-file__wrapper",defaultImage:"sd-file__default-image",defaultImageIconId:"icon-defaultfile",leftIconId:"icon-arrowleft",rightIconId:"icon-arrowright",removeFileButton:"sd-context-btn--negative sd-file__remove-file-button",dragAreaPlaceholder:"sd-file__drag-area-placeholder",imageWrapper:"sd-file__image-wrapper",imageWrapperDefaultImage:"sd-file__image-wrapper--default-image",single:"sd-file--single",singleImage:"sd-file--single-image",mobile:"sd-file--mobile",videoContainer:"sd-file__video-container",contextButton:"sd-context-btn",video:"sd-file__video",actionsContainer:"sd-file__actions-container",closeCameraButton:"sd-file__close-camera-button",changeCameraButton:"sd-file__change-camera-button",takePictureButton:"sd-file__take-picture-button",loadingIndicator:"sd-file__loading-indicator"},signaturepad:{mainRoot:"sd-element sd-question sd-question--signature sd-row__question",root:"sd-signaturepad sjs_sp_container",small:"sd-row__question--small",controls:"sjs_sp_controls sd-signaturepad__controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas sd-signaturepad__canvas",backgroundImage:"sjs_sp__background-image sd-signaturepad__background-image",clearButton:"sjs_sp_clear sd-context-btn sd-context-btn--negative sd-signaturepad__clear",clearButtonIconId:"icon-clear",loadingIndicator:"sd-signaturepad__loading-indicator"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootFullScreenMode:"sv_window--full-screen",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close",fullScreenButton:"sv_window_button sv_window_button_full_screen"}},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sd-ranking--disabled",rootDesignMode:"sv-ranking--design-mode",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",item:"sv-ranking-item",itemContent:"sv-ranking-item__content sd-ranking-item__content",itemIndex:"sv-ranking-item__index sd-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty sd-ranking-item__index--empty",itemDisabled:"sv-ranking-item--disabled",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking--drag",itemOnError:"sv-ranking-item--error",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},list:{root:"sv-list__container sd-list",item:"sv-list__item sd-list__item",itemBody:"sv-list__item-body sd-list__item-body",itemSelected:"sv-list__item--selected sd-list__item--selected",itemFocused:"sv-list__item--focused sd-list__item--focused"},actionBar:{root:"sd-action-bar",item:"sd-action",defaultSizeMode:"",smallSizeMode:"",itemPressed:"sd-action--pressed",itemAsIcon:"sd-action--icon",itemIcon:"sd-action__icon",itemTitle:"sd-action__title"},variables:{mobileWidth:"--sd-mobile-width",themeMark:"--sv-defaultV2-mark"},tagbox:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",itemSvgIconId:"#icon-v2check",item:"sd-item sd-checkbox sd-selectbase__item",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",cleanButton:"sd-tagbox_clean-button sd-dropdown_clean-button",cleanButtonSvg:"sd-tagbox_clean-button-svg sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear",cleanItemButton:"sd-tagbox-item_clean-button",cleanItemButtonSvg:"sd-tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",control:"sd-input sd-tagbox sd-dropdown",controlValue:"sd-tagbox__value sd-dropdown__value",controlValueItems:"sd-tagbox__value-items",placeholderInput:"sd-tagbox__placeholder",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty sd-tagbox--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-tagbox__filter-string-input sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-checkbox__decorator",hint:"sd-tagbox__hint",hintPrefix:"sd-dropdown__hint-prefix sd-tagbox__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix sd-tagbox__hint-suffix",hintSuffixWrapper:"sd-tagbox__hint-suffix-wrapper"}},$="defaultV2";G[$]=se},"./src/defaultTitle.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"DefaultTitleModel",function(){return se});var G=x("./src/utils/cssClassBuilder.ts"),se=function(){function $(){}return $.getIconCss=function(w,F){return(new G.CssClassBuilder).append(w.icon).append(w.iconExpanded,!F).toString()},$}()},"./src/drag-drop-helper-v1.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"DragDropInfo",function(){return G});var G=function se($,w,F){void 0===F&&(F=-1),this.source=$,this.target=w,this.nestedPanelDepth=F}},"./src/drag-drop-page-helper-v1.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"DragDropPageHelperV1",function(){return se});var G=x("./src/drag-drop-helper-v1.ts"),se=function(){function $(w){this.page=w}return $.prototype.getDragDropInfo=function(){return this.dragDropInfo},$.prototype.dragDropStart=function(w,F,R){void 0===R&&(R=-1),this.dragDropInfo=new G.DragDropInfo(w,F,R)},$.prototype.dragDropMoveTo=function(w,F,R){if(void 0===F&&(F=!1),void 0===R&&(R=!1),!this.dragDropInfo||(this.dragDropInfo.destination=w,this.dragDropInfo.isBottom=F,this.dragDropInfo.isEdge=R,this.correctDragDropInfo(this.dragDropInfo),!this.dragDropCanDropTagert()))return!1;if(!this.dragDropCanDropSource()||!this.dragDropAllowFromSurvey()){if(this.dragDropInfo.source){var L=this.page.dragDropFindRow(this.dragDropInfo.target);this.page.updateRowsRemoveElementFromRow(this.dragDropInfo.target,L)}return!1}return this.page.dragDropAddTarget(this.dragDropInfo),!0},$.prototype.correctDragDropInfo=function(w){if(w.destination){var F=w.destination.isPanel?w.destination:null;!F||w.target.isLayoutTypeSupported(F.getChildrenLayoutType())||(w.isEdge=!0)}},$.prototype.dragDropAllowFromSurvey=function(){var w=this.dragDropInfo.destination;if(!w||!this.page.survey)return!0;var F=null,R=null,L=w.isPage||!this.dragDropInfo.isEdge&&w.isPanel?w:w.parent;if(!w.isPage){var m=w.parent;if(m){var T=m.elements,C=T.indexOf(w);C>-1&&(F=w,R=w,this.dragDropInfo.isBottom?F=C<T.length-1?T[C+1]:null:R=C>0?T[C-1]:null)}}return this.page.survey.dragAndDropAllow({allow:!0,target:this.dragDropInfo.target,source:this.dragDropInfo.source,toElement:this.dragDropInfo.target,draggedElement:this.dragDropInfo.source,parent:L,fromElement:this.dragDropInfo.source?this.dragDropInfo.source.parent:null,insertAfter:R,insertBefore:F})},$.prototype.dragDropFinish=function(w){if(void 0===w&&(w=!1),this.dragDropInfo){var F=this.dragDropInfo.target,R=this.dragDropInfo.source,L=this.dragDropInfo.destination,m=this.page.dragDropFindRow(F),T=this.dragDropGetElementIndex(F,m);this.page.updateRowsRemoveElementFromRow(F,m);var C=[],y=[];if(!w&&m){if(this.page.isDesignModeV2){var v=R&&R.parent&&R.parent.dragDropFindRow(R);m.panel.elements[T]&&m.panel.elements[T].startWithNewLine&&m.elements.length>1&&m.panel.elements[T]===L&&(C.push(F),y.push(m.panel.elements[T])),F.startWithNewLine&&m.elements.length>1&&(!m.panel.elements[T]||!m.panel.elements[T].startWithNewLine)&&y.push(F),v&&v.elements[0]===R&&v.elements[1]&&C.push(v.elements[1]),m.elements.length<=1&&C.push(F),F.startWithNewLine&&m.elements.length>1&&m.elements[0]!==L&&y.push(F)}this.page.survey.startMovingQuestion(),!!R&&!!R.parent&&(m.panel==R.parent?(m.panel.dragDropMoveElement(R,F,T),T=-1):R.parent.removeElement(R)),T>-1&&m.panel.addElement(F,T),this.page.survey.stopMovingQuestion()}return C.map(function(f){f.startWithNewLine=!0}),y.map(function(f){f.startWithNewLine=!1}),this.dragDropInfo=null,w?null:F}},$.prototype.dragDropGetElementIndex=function(w,F){if(!F)return-1;var R=F.elements.indexOf(w);if(0==F.index)return R;var L=F.panel.rows[F.index-1];return R+F.panel.elements.indexOf(L.elements[L.elements.length-1])+1},$.prototype.dragDropCanDropTagert=function(){var w=this.dragDropInfo.destination;return!(w&&!w.isPage)||this.dragDropCanDropCore(this.dragDropInfo.target,w)},$.prototype.dragDropCanDropSource=function(){var w=this.dragDropInfo.source;if(!w)return!0;var F=this.dragDropInfo.destination;if(!this.dragDropCanDropCore(w,F))return!1;if(this.page.isDesignModeV2){if(this.page.dragDropFindRow(w)!==this.page.dragDropFindRow(F)&&(!w.startWithNewLine&&F.startWithNewLine||w.startWithNewLine&&!F.startWithNewLine))return!0;var m=this.page.dragDropFindRow(F);if(m&&1==m.elements.length)return!0}return this.dragDropCanDropNotNext(w,F,this.dragDropInfo.isEdge,this.dragDropInfo.isBottom)},$.prototype.dragDropCanDropCore=function(w,F){if(!F)return!0;if(this.dragDropIsSameElement(F,w))return!1;if(w.isPanel){var R=w;if(R.containsElement(F)||R.getElementByName(F.name))return!1}return!0},$.prototype.dragDropCanDropNotNext=function(w,F,R,L){if(!F||F.isPanel&&!R||void 0===w.parent||w.parent!==F.parent)return!0;var m=w.parent,T=m.elements.indexOf(w),C=m.elements.indexOf(F);return C<T&&!L&&C--,L&&C++,T<C?C-T>1:T-C>0},$.prototype.dragDropIsSameElement=function(w,F){return w==F||w.name==F.name},$}()},"./src/drag-drop-panel-helper-v1.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"DragDropPanelHelperV1",function(){return se});var G=x("./src/drag-drop-helper-v1.ts"),se=function(){function $(w){this.panel=w}return $.prototype.dragDropAddTarget=function(w){var F=this.dragDropFindRow(w.target);this.dragDropAddTargetToRow(w,F)&&this.panel.updateRowsRemoveElementFromRow(w.target,F)},$.prototype.dragDropFindRow=function(w){if(!w||w.isPage)return null;for(var F=w,R=this.panel.rows,L=0;L<R.length;L++)if(R[L].elements.indexOf(F)>-1)return R[L];for(L=0;L<this.panel.elements.length;L++){var m=this.panel.elements[L].getPanel();if(m){var T=m.dragDropFindRow(F);if(T)return T}}return null},$.prototype.dragDropMoveElement=function(w,F,R){R>w.parent.elements.indexOf(w)&&R--,this.panel.removeElement(w),this.panel.addElement(F,R)},$.prototype.updateRowsOnElementAdded=function(w,F,R,L){R||((R=new G.DragDropInfo(null,w)).target=w,R.isEdge=this.panel.elements.length>1,this.panel.elements.length<2?R.destination=L:(R.isBottom=F>0,R.destination=0==F?this.panel.elements[1]:this.panel.elements[F-1])),this.dragDropAddTargetToRow(R,null)},$.prototype.dragDropAddTargetToRow=function(w,F){if(!w.destination||this.dragDropAddTargetToEmptyPanel(w))return!0;var L=this.dragDropFindRow(w.destination);return!L||(w.target.startWithNewLine?this.dragDropAddTargetToNewRow(w,L,F):this.dragDropAddTargetToExistingRow(w,L,F))},$.prototype.dragDropAddTargetToEmptyPanel=function(w){if(w.destination.isPage)return this.dragDropAddTargetToEmptyPanelCore(this.panel.root,w.target,w.isBottom),!0;var F=w.destination;if(F.isPanel&&!w.isEdge){if(w.target.template===F)return!1;if(w.nestedPanelDepth<0||w.nestedPanelDepth>=F.depth)return this.dragDropAddTargetToEmptyPanelCore(F,w.target,w.isBottom),!0}return!1},$.prototype.dragDropAddTargetToExistingRow=function(w,F,R){var L=F.elements.indexOf(w.destination);if(0==L&&!w.isBottom&&!this.panel.isDesignModeV2&&F.elements[0].startWithNewLine)return F.index>0?(w.isBottom=!0,w.destination=(F=F.panel.rows[F.index-1]).elements[F.elements.length-1],this.dragDropAddTargetToExistingRow(w,F,R)):this.dragDropAddTargetToNewRow(w,F,R);var m=-1;R==F&&(m=F.elements.indexOf(w.target)),w.isBottom&&L++;var T=this.panel.findRowByElement(w.source);return(T!=F||T.elements.indexOf(w.source)!=L)&&L!=m&&(m>-1&&(F.elements.splice(m,1),m<L&&L--),F.elements.splice(L,0,w.target),F.updateVisible(),m<0)},$.prototype.dragDropAddTargetToNewRow=function(w,F,R){var L=F.panel.createRowAndSetLazy(F.panel.rows.length);this.panel.isDesignModeV2&&L.setIsLazyRendering(!1),L.addElement(w.target);var m=F.index;if(w.isBottom&&m++,R&&R.panel==L.panel&&R.index==m)return!1;var T=this.panel.findRowByElement(w.source);return!(T&&T.panel==L.panel&&1==T.elements.length&&T.index==m||(F.panel.rows.splice(m,0,L),0))},$.prototype.dragDropAddTargetToEmptyPanelCore=function(w,F,R){var L=w.createRow();L.addElement(F),0==w.elements.length||R?w.rows.push(L):w.rows.splice(0,0,L)},$}()},"./src/dragdrop/choices.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"DragDropChoices",function(){return $});var w,G=x("./src/dragdrop/core.ts"),se=(w=function(F,R){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,m){L.__proto__=m}||function(L,m){for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(L[T]=m[T])})(F,R)},function(F,R){if("function"!=typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function L(){this.constructor=F}w(F,R),F.prototype=null===R?Object.create(R):(L.prototype=R.prototype,new L)}),$=function(w){function F(){var R=null!==w&&w.apply(this,arguments)||this;return R.doDragOver=function(){"imagepicker"!==R.parentElement.getType()&&(R.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button").style.cursor="grabbing")},R.doBanDropHere=function(){"imagepicker"!==R.parentElement.getType()&&(R.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button").style.cursor="not-allowed")},R}return se(F,w),Object.defineProperty(F.prototype,"draggedElementType",{get:function(){return"item-value"},enumerable:!1,configurable:!0}),F.prototype.createDraggedElementShortcut=function(R,L,m){if("imagepicker"===this.parentElement.getType())return this.createImagePickerShortcut(this.draggedElement,R,L,m);var T=document.createElement("div");T.style.cssText=" \n          cursor: grabbing;\n          position: absolute;\n          z-index: 10000;\n          font-family: var(--sjs-font-family, var(--font-family, var(--sjs-default-font-family)));\n        ";var y=L.closest("[data-sv-drop-target-item-value]").cloneNode(!0);y.style.cssText="\n      min-width: 100px;\n      box-shadow: var(--sjs-shadow-large, 0px 8px 16px 0px rgba(0, 0, 0, 0.1)), var(--sjs-shadow-medium, 0px 2px 6px 0px rgba(0, 0, 0, 0.1));\n      background-color: var(--sjs-general-backcolor, var(--background, #fff));\n      border-radius: calc(4.5 * var(--sjs-base-unit, var(--base-unit, 8px)));\n      padding-right: calc(2* var(--sjs-base-unit, var(--base-unit, 8px)));\n      margin-left: 0;\n    ",y.querySelector(".svc-item-value-controls__drag-icon").style.visibility="visible",y.querySelector(".svc-item-value-controls__remove").style.backgroundColor="transparent",y.classList.remove("svc-item-value--moveup"),y.classList.remove("svc-item-value--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,T.appendChild(y);var f=L.getBoundingClientRect();return T.shortcutXOffset=m.clientX-f.x,T.shortcutYOffset=m.clientY-f.y,this.isBottom=null,T},F.prototype.createImagePickerShortcut=function(R,L,m,T){var C=document.createElement("div");C.style.cssText=" \n      cursor: grabbing;\n      position: absolute;\n      z-index: 10000;\n      box-shadow: var(--sjs-shadow-large, 0px 8px 16px 0px rgba(0, 0, 0, 0.1)), var(--sjs-shadow-medium, 0px 2px 6px 0px rgba(0, 0, 0, 0.1));\n      background-color: var(--sjs-general-backcolor, var(--background, #fff));\n      padding: calc(0.5 * var(--sjs-base-unit, var(--base-unit, 8px)));\n      border-radius: calc(0.5 * var(--sjs-base-unit, var(--base-unit, 8px)));\n    ";var y=m.closest("[data-sv-drop-target-item-value]");this.imagepickerControlsNode=y.querySelector(".svc-image-item-value-controls");var h=y.querySelector(".sd-imagepicker__image-container"),v=y.querySelector(R.imageLink?"img":".sd-imagepicker__no-image").cloneNode(!0);return this.imagepickerControlsNode&&(this.imagepickerControlsNode.style.display="none"),h.style.width=v.width+"px",h.style.height=v.height+"px",v.style.objectFit="cover",v.style.borderRadius="4px",C.appendChild(v),C},F.prototype.getDropTargetByDataAttributeValue=function(R){return this.parentElement.choices.filter(function(m){return""+m.value==R})[0]},F.prototype.getVisibleChoices=function(){var R=this.parentElement;return"ranking"===R.getType()?R.selectToRankEnabled?R.visibleChoices:R.rankingChoices:R.visibleChoices},F.prototype.isDropTargetValid=function(R,L){var m=this.getVisibleChoices();if("imagepicker"!==this.parentElement.getType()){var T=m.indexOf(this.dropTarget),C=m.indexOf(this.draggedElement);if(C>T&&this.dropTarget.isDragDropMoveUp)return this.dropTarget.isDragDropMoveUp=!1,!1;if(C<T&&this.dropTarget.isDragDropMoveDown)return this.dropTarget.isDragDropMoveDown=!1,!1}return-1!==m.indexOf(R)},F.prototype.calculateIsBottom=function(R){var L=this.getVisibleChoices();return L.indexOf(this.dropTarget)-L.indexOf(this.draggedElement)>0},F.prototype.afterDragOver=function(R){if(!this.isDropTargetDoesntChanged(this.isBottom)&&this.dropTarget!==this.draggedElement){var L=this.getVisibleChoices(),m=L.indexOf(this.dropTarget),T=L.indexOf(this.draggedElement);L.splice(T,1),L.splice(m,0,this.draggedElement),"imagepicker"!==this.parentElement.getType()&&(T!==m&&(R.classList.remove("svc-item-value--moveup"),R.classList.remove("svc-item-value--movedown"),this.dropTarget.isDragDropMoveDown=!1,this.dropTarget.isDragDropMoveUp=!1),T>m&&(this.dropTarget.isDragDropMoveDown=!0),T<m&&(this.dropTarget.isDragDropMoveUp=!0),w.prototype.ghostPositionChanged.call(this))}},F.prototype.doDrop=function(){var R=this.parentElement.choices,L=this.getVisibleChoices().filter(function(C){return-1!==R.indexOf(C)}),m=R.indexOf(this.draggedElement),T=L.indexOf(this.draggedElement);return R.splice(m,1),R.splice(T,0,this.draggedElement),this.parentElement},F.prototype.clear=function(){this.parentElement&&this.updateVisibleChoices(this.parentElement),this.imagepickerControlsNode&&(this.imagepickerControlsNode.style.display="flex",this.imagepickerControlsNode=null),w.prototype.clear.call(this)},F.prototype.updateVisibleChoices=function(R){"ranking"===R.getType()?R.updateRankingChoices():R.updateVisibleChoices()},F}(G.DragDropCore)},"./src/dragdrop/core.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"DragDropCore",function(){return $});var G=x("./src/base.ts"),se=x("./src/dragdrop/dom-adapter.ts"),$=function(){function w(F,R,L,m){var T=this;this.surveyValue=F,this.creator=R,this._isBottom=null,this.onGhostPositionChanged=new G.EventBase,this.onDragStart=new G.EventBase,this.onDragEnd=new G.EventBase,this.onBeforeDrop=this.onDragStart,this.onAfterDrop=this.onDragEnd,this.draggedElement=null,this.dropTarget=null,this.prevDropTarget=null,this.allowDropHere=!1,this.banDropHere=function(){T.allowDropHere=!1,T.doBanDropHere(),T.dropTarget=null,T.domAdapter.draggedElementShortcut.style.cursor="not-allowed",T.isBottom=null},this.doBanDropHere=function(){},this.domAdapter=m||new se.DragDropDOMAdapter(this,L)}return Object.defineProperty(w.prototype,"isBottom",{get:function(){return!!this._isBottom},set:function(F){this._isBottom=F,this.ghostPositionChanged()},enumerable:!1,configurable:!0}),w.prototype.ghostPositionChanged=function(){this.onGhostPositionChanged.fire({},{})},Object.defineProperty(w.prototype,"dropTargetDataAttributeName",{get:function(){return"[data-sv-drop-target-"+this.draggedElementType+"]"},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"survey",{get:function(){return this.surveyValue||this.creator.survey},enumerable:!1,configurable:!0}),w.prototype.startDrag=function(F,R,L,m,T){var C;void 0===T&&(T=!1),this.domAdapter.rootContainer=null===(C=this.survey)||void 0===C?void 0:C.rootElement,this.domAdapter.startDrag(F,R,L,m,T)},w.prototype.dragInit=function(F,R,L,m){this.draggedElement=R,this.parentElement=L;var T=this.getShortcutText(this.draggedElement);this.domAdapter.draggedElementShortcut=this.createDraggedElementShortcut(T,m,F),this.onStartDrag(F)},w.prototype.onStartDrag=function(F){},w.prototype.isDropTargetDoesntChanged=function(F){return this.dropTarget===this.prevDropTarget&&F===this.isBottom},w.prototype.getShortcutText=function(F){return F.shortcutText},w.prototype.createDraggedElementShortcut=function(F,R,L){var m=document.createElement("div");return m.innerText=F,m.className=this.getDraggedElementClass(),m},w.prototype.getDraggedElementClass=function(){return"sv-dragged-element-shortcut"},w.prototype.doDragOver=function(){},w.prototype.afterDragOver=function(F){},w.prototype.findDropTargetNodeFromPoint=function(F,R){var L=this.domAdapter.draggedElementShortcut.style.display;this.domAdapter.draggedElementShortcut.style.display="none";var m=document.elementFromPoint(F,R);return this.domAdapter.draggedElementShortcut.style.display=L||"block",m?this.findDropTargetNodeByDragOverNode(m):null},w.prototype.getDataAttributeValueByNode=function(F){var R=this,L="svDropTarget";return this.draggedElementType.split("-").forEach(function(T){L+=R.capitalizeFirstLetter(T)}),F.dataset[L]},w.prototype.getDropTargetByNode=function(F,R){var L=this.getDataAttributeValueByNode(F);return this.getDropTargetByDataAttributeValue(L,F,R)},w.prototype.capitalizeFirstLetter=function(F){return F.charAt(0).toUpperCase()+F.slice(1)},w.prototype.calculateVerticalMiddleOfHTMLElement=function(F){var R=F.getBoundingClientRect();return R.y+R.height/2},w.prototype.calculateHorizontalMiddleOfHTMLElement=function(F){var R=F.getBoundingClientRect();return R.x+R.width/2},w.prototype.calculateIsBottom=function(F,R){return!1},w.prototype.findDropTargetNodeByDragOverNode=function(F){return F.closest(this.dropTargetDataAttributeName)},w.prototype.dragOver=function(F){var R=this.findDropTargetNodeFromPoint(F.clientX,F.clientY);if(R){this.dropTarget=this.getDropTargetByNode(R,F);var L=this.isDropTargetValid(this.dropTarget,R);if(this.doDragOver(),L){var m=this.calculateIsBottom(F.clientY,R);this.allowDropHere=!0,!this.isDropTargetDoesntChanged(m)&&(this.isBottom=null,this.isBottom=m,this.afterDragOver(R),this.prevDropTarget=this.dropTarget)}else this.banDropHere()}else this.banDropHere()},w.prototype.drop=function(){if(this.allowDropHere){var F=this.draggedElement.parent;this.onDragStart.fire(this,{fromElement:F,draggedElement:this.draggedElement});var R=this.doDrop();this.onDragEnd.fire(this,{fromElement:F,draggedElement:R,toElement:this.dropTarget})}},w.prototype.clear=function(){this.dropTarget=null,this.prevDropTarget=null,this.draggedElement=null,this.isBottom=null,this.parentElement=null},w}()},"./src/dragdrop/dom-adapter.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"DragDropDOMAdapter",function(){return F});var G=x("./src/utils/utils.ts"),se=x("./src/utils/devices.ts"),$=x("./src/settings.ts");"undefined"!=typeof window&&window.addEventListener("touchmove",function(R){!F.PreventScrolling||R.preventDefault()},{passive:!1});var F=function(){function R(L,m){var T=this;void 0===m&&(m=!0),this.dd=L,this.longTap=m,this.scrollIntervalId=null,this.stopLongTapIfMoveEnough=function(C){C.preventDefault(),T.currentX=C.pageX,T.currentY=C.pageY,!T.isMicroMovement&&(T.returnUserSelectBack(),T.stopLongTap())},this.stopLongTap=function(C){clearTimeout(T.timeoutID),T.timeoutID=null,document.removeEventListener("pointerup",T.stopLongTap),document.removeEventListener("pointermove",T.stopLongTapIfMoveEnough)},this.handlePointerCancel=function(C){T.clear()},this.handleEscapeButton=function(C){27==C.keyCode&&T.clear()},this.onContextMenu=function(C){C.preventDefault(),C.stopPropagation()},this.dragOver=function(C){T.moveShortcutElement(C),T.draggedElementShortcut.style.cursor="grabbing",T.dd.dragOver(C)},this.clear=function(){cancelAnimationFrame(T.scrollIntervalId),document.removeEventListener("pointermove",T.dragOver),document.removeEventListener("pointercancel",T.handlePointerCancel),document.removeEventListener("keydown",T.handleEscapeButton),document.removeEventListener("pointerup",T.drop),T.draggedElementShortcut.removeEventListener("pointerup",T.drop),se.IsTouch&&T.draggedElementShortcut.removeEventListener("contextmenu",T.onContextMenu),T.draggedElementShortcut.parentElement.removeChild(T.draggedElementShortcut),T.dd.clear(),T.draggedElementShortcut=null,T.scrollIntervalId=null,se.IsTouch&&(T.savedTargetNode.style.cssText=null,T.savedTargetNode&&T.savedTargetNode.parentElement.removeChild(T.savedTargetNode),T.insertNodeToParentAtIndex(T.savedTargetNodeParent,T.savedTargetNode,T.savedTargetNodeIndex),R.PreventScrolling=!1),T.savedTargetNode=null,T.savedTargetNodeParent=null,T.savedTargetNodeIndex=null,T.returnUserSelectBack()},this.drop=function(){T.dd.drop(),T.clear()},this.draggedElementShortcut=null}return Object.defineProperty(R.prototype,"rootElement",{get:function(){return Object(G.isShadowDOM)($.settings.environment.root)?$.settings.environment.root.host:this.rootContainer||$.settings.environment.root.documentElement||document.body},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isMicroMovement",{get:function(){var m=Math.abs(this.currentX-this.startX),T=Math.abs(this.currentY-this.startY);return m<5&&T<5},enumerable:!1,configurable:!0}),R.prototype.startLongTapProcessing=function(L,m,T,C,y){var h=this;void 0===y&&(y=!1),this.startX=L.pageX,this.startY=L.pageY,document.body.style.setProperty("touch-action","none","important"),this.timeoutID=setTimeout(function(){h.doStartDrag(L,m,T,C),y||(h.savedTargetNode=L.target,h.savedTargetNode.style.cssText="\n          position: absolute;\n          height: 1px!important;\n          width: 1px!important;\n          overflow: hidden;\n          clip: rect(1px 1px 1px 1px);\n          clip: rect(1px, 1px, 1px, 1px);\n        ",h.savedTargetNodeParent=h.savedTargetNode.parentElement,h.savedTargetNodeIndex=h.getNodeIndexInParent(h.savedTargetNode),h.rootElement.appendChild(h.savedTargetNode)),h.stopLongTap()},this.longTap?500:0),document.addEventListener("pointerup",this.stopLongTap),document.addEventListener("pointermove",this.stopLongTapIfMoveEnough)},R.prototype.moveShortcutElement=function(L){var m=this.rootElement.getBoundingClientRect().x,T=this.rootElement.getBoundingClientRect().y;this.doScroll(L.clientY,L.clientX);var C=this.draggedElementShortcut.offsetHeight,y=this.draggedElementShortcut.offsetWidth,h=this.draggedElementShortcut.shortcutXOffset||y/2,v=this.draggedElementShortcut.shortcutYOffset||C/2;0!==document.querySelectorAll("[dir='rtl']").length&&(h=y/2,v=C/2);var f=document.documentElement.clientHeight,d=document.documentElement.clientWidth,u=L.pageX,a=L.pageY,o=L.clientX,s=L.clientY,l=this.getShortcutBottomCoordinate(s,C,v);return this.getShortcutRightCoordinate(o,y,h)>=d?(this.draggedElementShortcut.style.left=d-y-m+"px",void(this.draggedElementShortcut.style.top=s-v-T+"px")):o-h<=0?(this.draggedElementShortcut.style.left=u-o-m+"px",void(this.draggedElementShortcut.style.top=s-T-v+"px")):l>=f?(this.draggedElementShortcut.style.left=o-h-m+"px",void(this.draggedElementShortcut.style.top=f-C-T+"px")):s-v<=0?(this.draggedElementShortcut.style.left=o-h-m+"px",void(this.draggedElementShortcut.style.top=a-s-T+"px")):(this.draggedElementShortcut.style.left=o-m-h+"px",void(this.draggedElementShortcut.style.top=s-T-v+"px"))},R.prototype.getShortcutBottomCoordinate=function(L,m,T){return L+m-T},R.prototype.getShortcutRightCoordinate=function(L,m,T){return L+m-T},R.prototype.doScroll=function(L,m){var T=this;cancelAnimationFrame(this.scrollIntervalId);var C=100,y=this.draggedElementShortcut.style.display;this.draggedElementShortcut.style.display="none";var h=document.elementFromPoint(m,L);this.draggedElementShortcut.style.display=y||"block";var f,d,u,a,v=Object(G.findScrollableParent)(h);"HTML"===v.tagName?(f=0,d=document.documentElement.clientHeight,u=0,a=document.documentElement.clientWidth):(f=v.getBoundingClientRect().top,d=v.getBoundingClientRect().bottom,u=v.getBoundingClientRect().left,a=v.getBoundingClientRect().right);var o=function(){L-f<=C?v.scrollTop-=15:d-L<=C?v.scrollTop+=15:a-m<=C?v.scrollLeft+=15:m-u<=C&&(v.scrollLeft-=15),T.scrollIntervalId=requestAnimationFrame(o)};this.scrollIntervalId=requestAnimationFrame(o)},R.prototype.doStartDrag=function(L,m,T,C){se.IsTouch&&(R.PreventScrolling=!0),3!==L.which&&(this.dd.dragInit(L,m,T,C),this.rootElement.append(this.draggedElementShortcut),this.moveShortcutElement(L),document.addEventListener("pointermove",this.dragOver),document.addEventListener("pointercancel",this.handlePointerCancel),document.addEventListener("keydown",this.handleEscapeButton),document.addEventListener("pointerup",this.drop),se.IsTouch?this.draggedElementShortcut.addEventListener("contextmenu",this.onContextMenu):this.draggedElementShortcut.addEventListener("pointerup",this.drop))},R.prototype.returnUserSelectBack=function(){document.body.style.setProperty("touch-action","auto"),document.body.style.setProperty("user-select","auto"),document.body.style.setProperty("-webkit-user-select","auto")},R.prototype.startDrag=function(L,m,T,C,y){void 0===y&&(y=!1),document.body.style.setProperty("user-select","none","important"),document.body.style.setProperty("-webkit-user-select","none","important"),se.IsTouch?this.startLongTapProcessing(L,m,T,C,y):this.doStartDrag(L,m,T,C)},R.prototype.getNodeIndexInParent=function(L){return function(R,L){for(var m=0,T=L.length,C=R.length;m<T;m++,C++)R[C]=L[m];return R}([],L.parentElement.childNodes).indexOf(L)},R.prototype.insertNodeToParentAtIndex=function(L,m,T){L.insertBefore(m,L.childNodes[T])},R.PreventScrolling=!1,R}()},"./src/dragdrop/matrix-rows.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"DragDropMatrixRows",function(){return $});var w,G=x("./src/dragdrop/core.ts"),se=(w=function(F,R){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,m){L.__proto__=m}||function(L,m){for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(L[T]=m[T])})(F,R)},function(F,R){if("function"!=typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function L(){this.constructor=F}w(F,R),F.prototype=null===R?Object.create(R):(L.prototype=R.prototype,new L)}),$=function(w){function F(){var R=null!==w&&w.apply(this,arguments)||this;return R.fromIndex=null,R.toIndex=null,R.doDrop=function(){return R.parentElement.moveRowByIndex(R.fromIndex,R.toIndex),R.parentElement},R}return se(F,w),Object.defineProperty(F.prototype,"draggedElementType",{get:function(){return"matrix-row"},enumerable:!1,configurable:!0}),F.prototype.onStartDrag=function(){this.restoreUserSelectValue=document.body.style.userSelect,document.body.style.userSelect="none"},F.prototype.createDraggedElementShortcut=function(R,L,m){var T=this,C=document.createElement("div");C.style.cssText=" \n          cursor: grabbing;\n          position: absolute;\n          z-index: 10000;\n          font-family: var(--sjs-font-family, var(--font-family, var(--sjs-default-font-family)));\n        ";if(L){var h=L.closest("[data-sv-drop-target-matrix-row]"),v=h.cloneNode(!0);v.style.cssText="\n        box-shadow: var(--sjs-shadow-large, 0px 8px 16px 0px rgba(0, 0, 0, 0.1)), var(--sjs-shadow-medium, 0px 2px 6px 0px rgba(0, 0, 0, 0.1));\n        background-color: var(--sjs-general-backcolor, var(--background, #fff));\n        display: flex;\n        flex-grow: 0;\n        flex-shrink: 0;\n        align-items: center;\n        line-height: 0;\n        width: "+h.offsetWidth+"px;\n      ",v.classList.remove("sv-matrix__drag-drop--moveup"),v.classList.remove("sv-matrix__drag-drop--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,C.appendChild(v);var f=L.getBoundingClientRect();C.shortcutXOffset=m.clientX-f.x,C.shortcutYOffset=m.clientY-f.y}return this.parentElement.renderedTable.rows.forEach(function(u,a){u.row===T.draggedElement&&(u.isGhostRow=!0)}),this.fromIndex=this.parentElement.visibleRows.indexOf(this.draggedElement),C},F.prototype.getDropTargetByDataAttributeValue=function(R){return this.parentElement.renderedTable.rows.filter(function(T){return T.row&&T.row.id===R})[0].row},F.prototype.isDropTargetValid=function(R,L){return!0},F.prototype.calculateIsBottom=function(R){var m=this.parentElement.renderedTable.rows.map(function(T){return T.row});return m.indexOf(this.dropTarget)-m.indexOf(this.draggedElement)>0},F.prototype.afterDragOver=function(R){var L=this;if(!this.isDropTargetDoesntChanged(this.isBottom)&&this.dropTarget!==this.draggedElement){var m,T,C,y=this.parentElement.renderedTable.rows;y.forEach(function(h,v){h.row===L.dropTarget&&(m=v),h.row===L.draggedElement&&(T=v,(C=h).isGhostRow=!0)}),y.splice(T,1),y.splice(m,0,C),this.toIndex=this.parentElement.visibleRows.indexOf(this.dropTarget),w.prototype.ghostPositionChanged.call(this)}},F.prototype.clear=function(){this.parentElement.renderedTable.rows.forEach(function(L){L.isGhostRow=!1}),this.parentElement.clearOnDrop(),this.fromIndex=null,this.toIndex=null,document.body.style.userSelect=this.restoreUserSelectValue||"initial",w.prototype.clear.call(this)},F}(G.DragDropCore)},"./src/dragdrop/ranking-choices.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"DragDropRankingChoices",function(){return F});var R,G=x("./src/dragdrop/choices.ts"),se=x("./src/utils/cssClassBuilder.ts"),$=x("./src/utils/devices.ts"),w=(R=function(L,m){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,C){T.__proto__=C}||function(T,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(T[y]=C[y])})(L,m)},function(L,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function T(){this.constructor=L}R(L,m),L.prototype=null===m?Object.create(m):(T.prototype=m.prototype,new T)}),F=function(R){function L(){var m=null!==R&&R.apply(this,arguments)||this;return m.isDragOverRootNode=!1,m.doDragOver=function(){m.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item").style.cursor="grabbing"},m.doBanDropHere=function(){m.isDragOverRootNode?m.allowDropHere=!0:m.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item").style.cursor="not-allowed"},m.doDrop=function(){return m.parentElement.setValue(),m.parentElement},m}return w(L,R),Object.defineProperty(L.prototype,"draggedElementType",{get:function(){return"ranking-item"},enumerable:!1,configurable:!0}),L.prototype.createDraggedElementShortcut=function(m,T,C){var y=document.createElement("div");y.className=this.shortcutClass+" sv-ranking-shortcut",y.style.cssText=" \n          cursor: grabbing;\n          position: absolute;\n          z-index: 10000;\n          border-radius: calc(12.5 * var(--sjs-base-unit, var(--base-unit, 8px)));\n          min-width: 100px;\n          max-width: 400px;\n          box-shadow: var(--sjs-shadow-medium, 0px 2px 6px 0px rgba(0, 0, 0, 0.1)), var(--sjs-shadow-large, 0px 8px 16px 0px rgba(0, 0, 0, 0.1));\n          background-color: var(--sjs-general-backcolor, var(--background, #fff));\n          font-family: var(--sjs-font-family, var(--font-family, var(--sjs-default-font-family)));\n        ";var v=T.cloneNode(!0);y.appendChild(v);var f=T.getBoundingClientRect();return y.shortcutXOffset=C.clientX-f.x,y.shortcutYOffset=C.clientY-f.y,this.parentElement&&this.parentElement.useFullItemSizeForShortcut&&(y.style.width=T.offsetWidth+"px",y.style.height=T.offsetHeight+"px"),y},Object.defineProperty(L.prototype,"shortcutClass",{get:function(){return(new se.CssClassBuilder).append(this.parentElement.cssClasses.root).append(this.parentElement.cssClasses.rootMobileMod,$.IsMobile).toString()},enumerable:!1,configurable:!0}),L.prototype.getDropTargetByDataAttributeValue=function(m){return this.parentElement.rankingChoices[m]},L.prototype.findDropTargetNodeByDragOverNode=function(m){return this.isDragOverRootNode=this.getIsDragOverRootNode(m),R.prototype.findDropTargetNodeByDragOverNode.call(this,m)},L.prototype.getIsDragOverRootNode=function(m){return"string"==typeof m.className&&-1!==m.className.indexOf("sv-ranking")},L.prototype.isDropTargetValid=function(m,T){var C=this.parentElement.rankingChoices,y=C.indexOf(this.dropTarget),h=C.indexOf(this.draggedElement);return h>y&&T.classList.contains("sv-dragdrop-moveup")||h<y&&T.classList.contains("sv-dragdrop-movedown")?(this.parentElement.dropTargetNodeMove=null,!1):-1!==C.indexOf(m)},L.prototype.calculateIsBottom=function(m){var T=this.parentElement.rankingChoices;return T.indexOf(this.dropTarget)-T.indexOf(this.draggedElement)>0},L.prototype.afterDragOver=function(m){var T=this.parentElement.rankingChoices,C=T.indexOf(this.dropTarget),y=T.indexOf(this.draggedElement);T.splice(y,1),T.splice(C,0,this.draggedElement),this.parentElement.setPropertyValue("rankingChoices",T),this.updateDraggedElementShortcut(C+1),y!==C&&(m.classList.remove("sv-dragdrop-moveup"),m.classList.remove("sv-dragdrop-movedown"),this.parentElement.dropTargetNodeMove=null),y>C&&(this.parentElement.dropTargetNodeMove="down"),y<C&&(this.parentElement.dropTargetNodeMove="up")},L.prototype.updateDraggedElementShortcut=function(m){var T=null!==m?m+"":"";this.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item__index").innerText=T},L.prototype.ghostPositionChanged=function(){this.parentElement.currentDropTarget=this.draggedElement,R.prototype.ghostPositionChanged.call(this)},L.prototype.clear=function(){this.parentElement&&(this.parentElement.dropTargetNodeMove=null,this.parentElement.updateRankingChoices(!0)),R.prototype.clear.call(this)},L}(G.DragDropChoices)},"./src/dragdrop/ranking-select-to-rank.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"DragDropRankingSelectToRank",function(){return $});var w,G=x("./src/dragdrop/ranking-choices.ts"),se=(w=function(F,R){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,m){L.__proto__=m}||function(L,m){for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(L[T]=m[T])})(F,R)},function(F,R){if("function"!=typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function L(){this.constructor=F}w(F,R),F.prototype=null===R?Object.create(R):(L.prototype=R.prototype,new L)}),$=function(w){function F(){return null!==w&&w.apply(this,arguments)||this}return se(F,w),F.prototype.findDropTargetNodeByDragOverNode=function(R){if("from-container"===R.dataset.ranking||"to-container"===R.dataset.ranking)return R;if(this.parentElement.isEmpty()){var L=R.closest("[data-ranking='to-container']"),m=R.closest("[data-ranking='from-container']");return L||m||null}return w.prototype.findDropTargetNodeByDragOverNode.call(this,R)},F.prototype.getDropTargetByDataAttributeValue=function(R){return this.parentElement.rankingChoices[R]||this.parentElement.unRankingChoices[R]},F.prototype.getDropTargetByNode=function(R,L){return"to-container"===R.dataset.ranking?"to-container":"from-container"===R.dataset.ranking||R.closest("[data-ranking='from-container']")?"from-container":w.prototype.getDropTargetByNode.call(this,R,L)},F.prototype.isDropTargetValid=function(R,L){return"to-container"===R||"from-container"===R||w.prototype.isDropTargetValid.call(this,R,L)},F.prototype.afterDragOver=function(R){var L=this.parentElement,m=L.rankingChoices,T=L.unRankingChoices;this.isDraggedElementUnranked&&this.isDropTargetRanked?this.doRankBetween(R,T,m,this.selectToRank):this.isDraggedElementRanked&&this.isDropTargetRanked?this.doRankBetween(R,m,m,this.reorderRankedItem):!this.isDraggedElementRanked||this.isDropTargetRanked||this.doRankBetween(R,m,T,this.unselectFromRank)},F.prototype.doRankBetween=function(R,L,m,T){var C=this.parentElement,y=this.getIndixies(C,L,m),h=y.fromIndex,v=y.toIndex;T(C,h,v),this.doUIEffects(R,h,v)},F.prototype.getIndixies=function(R,L,m){var T=L.indexOf(this.draggedElement),C=m.indexOf(this.dropTarget);return-1===C&&(C=R.value.length),{fromIndex:T,toIndex:C}},F.prototype.doUIEffects=function(R,L,m){var T=this.parentElement,C="to-container"===this.dropTarget&&T.isEmpty();this.updateDraggedElementShortcut(!this.isDropTargetUnranked||C?m+1:null),L!==m&&(R.classList.remove("sv-dragdrop-moveup"),R.classList.remove("sv-dragdrop-movedown"),T.dropTargetNodeMove=null),L>m&&(T.dropTargetNodeMove="down"),L<m&&(T.dropTargetNodeMove="up")},Object.defineProperty(F.prototype,"isDraggedElementRanked",{get:function(){return-1!==this.parentElement.rankingChoices.indexOf(this.draggedElement)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"isDropTargetRanked",{get:function(){return"to-container"===this.dropTarget||-1!==this.parentElement.rankingChoices.indexOf(this.dropTarget)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"isDraggedElementUnranked",{get:function(){return!this.isDraggedElementRanked},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"isDropTargetUnranked",{get:function(){return!this.isDropTargetRanked},enumerable:!1,configurable:!0}),F.prototype.selectToRank=function(R,L,m){var T=R.rankingChoices,y=R.unRankingChoices[L];R.isValueSetByUser=!0,T.splice(m,0,y),R.setPropertyValue("rankingChoices",T)},F.prototype.unselectFromRank=function(R,L,m){var T=R.rankingChoices;R.isValueSetByUser=!0,T.splice(L,1),R.setPropertyValue("rankingChoices",T)},F.prototype.reorderRankedItem=function(R,L,m){var T=R.rankingChoices,C=T[L];R.isValueSetByUser=!0,T.splice(L,1),T.splice(m,0,C),R.setPropertyValue("rankingChoices",T)},F}(G.DragDropRankingChoices)},"./src/dropdownListModel.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"DropdownListModel",function(){return v});var f,G=x("./src/base.ts"),se=x("./src/itemvalue.ts"),$=x("./src/jsonobject.ts"),w=x("./src/list.ts"),F=x("./src/popup.ts"),R=x("./src/question_dropdown.ts"),L=x("./src/settings.ts"),m=x("./src/utils/cssClassBuilder.ts"),T=x("./src/utils/devices.ts"),C=x("./src/utils/utils.ts"),y=(f=function(d,u){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(a[s]=o[s])})(d,u)},function(d,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function a(){this.constructor=d}f(d,u),d.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)}),h=function(f,d,u,a){var l,o=arguments.length,s=o<3?d:null===a?a=Object.getOwnPropertyDescriptor(d,u):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(f,d,u,a);else for(var c=f.length-1;c>=0;c--)(l=f[c])&&(s=(o<3?l(s):o>3?l(d,u,s):l(d,u))||s);return o>3&&s&&Object.defineProperty(d,u,s),s},v=function(f){function d(u,a){var o=f.call(this)||this;return o.question=u,o.onSelectionChanged=a,o.minPageSize=25,o.loadingItemHeight=40,o._markdownMode=!1,o.filteredItems=void 0,o.selectedItemSelector=".sv-list__item--selected",o.itemSelector=".sv-list__item",o.itemsSettings={skip:0,take:0,totalCount:0,items:[]},o.isRunningLoadQuestionChoices=!1,o.popupCssClasses="sv-single-select-list",o.listModelFilterStringChanged=function(s){o.filterString!==s&&(o.filterString=s)},o.qustionPropertyChangedHandler=function(s,l){o.onPropertyChangedHandler(s,l)},o.htmlCleanerElement=document.createElement("div"),u.onPropertyChanged.add(o.qustionPropertyChangedHandler),o.showInputFieldComponent=o.question.showInputFieldComponent,o.listModel=o.createListModel(),o.updateAfterListModelCreated(o.listModel),o.setSearchEnabled(o.question.searchEnabled),o.createPopup(),o.resetItemsSettings(),o}return y(d,f),Object.defineProperty(d.prototype,"focusFirstInputSelector",{get:function(){return this.getFocusFirstInputSelector()},enumerable:!1,configurable:!0}),d.prototype.getFocusFirstInputSelector=function(){return T.IsTouch?this.isValueEmpty(this.question.value)?this.itemSelector:this.selectedItemSelector:!this.listModel.showFilter&&this.question.value?this.selectedItemSelector:""},d.prototype.resetItemsSettings=function(){this.itemsSettings.skip=0,this.itemsSettings.take=Math.max(this.minPageSize,this.question.choicesLazyLoadPageSize),this.itemsSettings.totalCount=0,this.itemsSettings.items=[]},d.prototype.setItems=function(u,a){this.itemsSettings.items=[].concat(this.itemsSettings.items,u),this.itemsSettings.totalCount=a,this.listModel.isAllDataLoaded=this.question.choicesLazyLoadEnabled&&this.itemsSettings.items.length==this.itemsSettings.totalCount,this.question.choices=this.itemsSettings.items},d.prototype.updateQuestionChoices=function(u){var a=this;this.isRunningLoadQuestionChoices||(!this.itemsSettings.skip||this.itemsSettings.skip+1<this.itemsSettings.totalCount)&&(this.isRunningLoadQuestionChoices=!0,this.question.survey.loadQuestionChoices({question:this.question,filter:this.filterString,skip:this.itemsSettings.skip,take:this.itemsSettings.take,setItems:function(s,l){a.isRunningLoadQuestionChoices=!1,a.setItems(s||[],l||0),a.popupRecalculatePosition(a.itemsSettings.skip===a.itemsSettings.take),u&&u()}}),this.itemsSettings.skip+=this.itemsSettings.take)},d.prototype.updatePopupFocusFirstInputSelector=function(){this._popupModel.focusFirstInputSelector=this.focusFirstInputSelector},d.prototype.createPopup=function(){var u=this;this._popupModel=new F.PopupModel("sv-list",{model:this.listModel},"bottom","center",!1),this._popupModel.displayMode=T.IsTouch?"overlay":"popup",this._popupModel.positionMode="fixed",this._popupModel.isFocusedContainer=!1,this._popupModel.isFocusedContent=T.IsTouch,this._popupModel.setWidthByTarget=!T.IsTouch,this.updatePopupFocusFirstInputSelector(),this.listModel.registerPropertyChangedHandlers(["showFilter"],function(){u.updatePopupFocusFirstInputSelector()}),this._popupModel.cssClass=this.popupCssClasses,this._popupModel.onVisibilityChanged.add(function(a,o){o.isVisible&&(u.listModel.renderElements=!0),o.isVisible&&u.question.choicesLazyLoadEnabled&&(u.listModel.actions=[],u.updateQuestionChoices()),o.isVisible&&!!u.question.onOpenedCallBack&&(u.updatePopupFocusFirstInputSelector(),u.question.onOpenedCallBack()),o.isVisible||(u.onHidePopup(),u.question.choicesLazyLoadEnabled&&u.resetItemsSettings()),u.question.processPopupVisiblilityChanged(u.popupModel,o.isVisible)})},d.prototype.setFilterStringToListModel=function(u){var a=this;if(this.listModel.filterString=u,this.listModel.resetFocusedItem(),this.question.selectedItem&&this.question.selectedItem.text.indexOf(u)>=0)return this.listModel.focusedItem=this.getAvailableItems().filter(function(o){return o.id==a.question.selectedItem.value})[0],void(this.listModel.filterString&&this.listModel.actions.map(function(o){return o.selectedValue=!1}));(!this.listModel.focusedItem||!this.listModel.isItemVisible(this.listModel.focusedItem))&&this.listModel.focusFirstVisibleItem()},d.prototype.popupRecalculatePosition=function(u){var a=this;setTimeout(function(){a.popupModel.recalculatePosition(u)},1)},d.prototype.onHidePopup=function(){this.resetFilterString(),this.question.suggestedItem=null,this.listModel.refresh()},d.prototype.getAvailableItems=function(){return this.question.visibleChoices},d.prototype.createListModel=function(){var u=this,a=this.getAvailableItems(),o=this.onSelectionChanged;o||(o=function(l){u.question.value=l.id,u.question.searchEnabled&&u.applyInputString(l),u.popupModel.isVisible=!1});var s=new w.ListModel(a,o,!1,void 0,this.question.choicesLazyLoadEnabled?this.listModelFilterStringChanged:void 0,this.listElementId);return s.setOnTextSearchCallback(function(l,c){if(u.filteredItems)return u.filteredItems.indexOf(l)>=0;var b=l.text.toLocaleLowerCase(),M=(b=L.settings.comparator.normalizeTextCallback(b,"filter")).indexOf(c.toLocaleLowerCase());return"startsWith"==u.question.searchMode?0==M:M>-1}),s.renderElements=!1,s.forceShowFilter=!0,s.areSameItemsCallback=function(l,c){return l===c},s},d.prototype.updateAfterListModelCreated=function(u){var a=this;u.isItemSelected=function(o){return!!o.selected},u.locOwner=this.question,u.onPropertyChanged.add(function(o,s){"hasVerticalScroller"==s.name&&(a.hasScroll=s.newValue)}),u.isAllDataLoaded=!this.question.choicesLazyLoadEnabled},d.prototype.updateCssClasses=function(u,a){this.popupModel.cssClass=(new m.CssClassBuilder).append(u).append(this.popupCssClasses).toString(),this.listModel.cssClasses=a},d.prototype.resetFilterString=function(){this.filterString&&(this.filterString=void 0)},d.prototype.clear=function(){this.inputString=null,this.hintString="",this.resetFilterString()},d.prototype.onSetFilterString=function(){var u=this;if(this.filteredItems=void 0,this.filterString||this.popupModel.isVisible){var a={question:this.question,choices:this.getAvailableItems(),filter:this.filterString,filteredChoices:void 0};this.question.survey.onChoicesSearch.fire(this.question.survey,a),this.filteredItems=a.filteredChoices,this.filterString&&!this.popupModel.isVisible&&(this.popupModel.isVisible=!0);var o=function(){u.setFilterStringToListModel(u.filterString),u.popupRecalculatePosition(!0)};this.question.choicesLazyLoadEnabled?(this.resetItemsSettings(),this.updateQuestionChoices(o)):o()}},Object.defineProperty(d.prototype,"isAllDataLoaded",{get:function(){return!!this.itemsSettings.totalCount&&this.itemsSettings.items.length==this.itemsSettings.totalCount},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"canShowSelectedItem",{get:function(){return!this.focused||this._markdownMode||!this.searchEnabled},enumerable:!1,configurable:!0}),d.prototype.applyInputString=function(u){(null==u?void 0:u.locText.hasHtml)||this.question.inputFieldComponentName?(this._markdownMode=!0,this.inputString=this.cleanHtml(null==u?void 0:u.locText.getHtmlValue()),this.hintString=""):(this.inputString=null==u?void 0:u.title,this.hintString=null==u?void 0:u.title)},d.prototype.cleanHtml=function(u){return this.htmlCleanerElement.innerHTML=u,this.htmlCleanerElement.textContent},d.prototype.fixInputCase=function(){var u=this.hintStringMiddle;u&&this.inputString!=u&&(this.inputString=u)},d.prototype.applyHintString=function(u){(null==u?void 0:u.locText.hasHtml)||this.question.inputFieldComponentName?(this._markdownMode=!0,this.hintString=""):this.hintString=null==u?void 0:u.title},Object.defineProperty(d.prototype,"inputStringRendered",{get:function(){return this.inputString||""},set:function(u){this.inputString=u,this.filterString=u,u?this.applyHintString(this.listModel.focusedItem||this.question.selectedItem):this.hintString=""},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"placeholderRendered",{get:function(){return this.hintString?"":this.question.readOnlyText},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"listElementId",{get:function(){return this.question.inputId+"_list"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"hintStringLC",{get:function(){var u;return(null===(u=this.hintString)||void 0===u?void 0:u.toLowerCase())||""},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"inputStringLC",{get:function(){var u;return(null===(u=this.inputString)||void 0===u?void 0:u.toLowerCase())||""},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"showHintPrefix",{get:function(){return!!this.inputString&&this.hintStringLC.indexOf(this.inputStringLC)>0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"hintStringPrefix",{get:function(){return this.inputString?this.hintString.substring(0,this.hintStringLC.indexOf(this.inputStringLC)):null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"showHintString",{get:function(){return!!this.question.searchEnabled&&this.hintStringLC&&this.hintStringLC.indexOf(this.inputStringLC)>=0||!this.question.searchEnabled&&this.hintStringLC&&this.question.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"hintStringSuffix",{get:function(){return this.hintString.substring(this.hintStringLC.indexOf(this.inputStringLC)+this.inputStringLC.length)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"hintStringMiddle",{get:function(){var u=this.hintStringLC.indexOf(this.inputStringLC);return-1==u?null:this.hintString.substring(u,u+this.inputStringLC.length)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"popupModel",{get:function(){return this._popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"noTabIndex",{get:function(){return this.question.isInputReadOnly||this.searchEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"filterReadOnly",{get:function(){return this.question.isInputReadOnly||!this.searchEnabled||!this.focused},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"filterStringEnabled",{get:function(){return!this.question.isInputReadOnly&&this.searchEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"inputMode",{get:function(){return T.IsTouch?"none":"text"},enumerable:!1,configurable:!0}),d.prototype.setSearchEnabled=function(u){this.listModel.searchEnabled=T.IsTouch,this.listModel.showSearchClearButton=T.IsTouch,this.searchEnabled=u},d.prototype.updateItems=function(){this.listModel.setItems(this.getAvailableItems())},d.prototype.onClick=function(u){this.question.readOnly||this.question.isDesignMode||(this._popupModel.toggleVisibility(),this.focusItemOnClickAndPopup(),this.question.focus())},d.prototype.chevronPointerDown=function(u){this._popupModel.isVisible&&u.preventDefault()},d.prototype.onPropertyChangedHandler=function(u,a){"value"==a.name&&(this.showInputFieldComponent=this.question.showInputFieldComponent),"choicesLazyLoadEnabled"==a.name&&a.newValue&&this.listModel.setOnFilterStringChangedCallback(this.listModelFilterStringChanged)},d.prototype.focusItemOnClickAndPopup=function(){this._popupModel.isVisible&&this.question.value&&this.changeSelectionWithKeyboard(!1)},d.prototype.onClear=function(u){this.question.clearValue(),this._popupModel.isVisible=!1,u&&(u.preventDefault(),u.stopPropagation())},d.prototype.getSelectedAction=function(){return this.question.selectedItem||null},d.prototype.changeSelectionWithKeyboard=function(u){var a,o=this.listModel.focusedItem;!o&&this.question.selectedItem?se.ItemValue.getItemByValue(this.question.visibleChoices,this.question.value)&&(this.listModel.focusedItem=this.question.selectedItem):u?this.listModel.focusPrevVisibleItem():this.listModel.focusNextVisibleItem(),this.beforeScrollToFocusedItem(o),this.scrollToFocusedItem(),this.afterScrollToFocusedItem(),this.ariaActivedescendant=null===(a=this.listModel.focusedItem)||void 0===a?void 0:a.elementId},d.prototype.beforeScrollToFocusedItem=function(u){this.question.value&&u&&(u.selectedValue=!1,this.listModel.focusedItem.selectedValue=!this.listModel.filterString,this.question.suggestedItem=this.listModel.focusedItem)},d.prototype.afterScrollToFocusedItem=function(){var u;this.question.value&&!this.listModel.filterString&&this.question.searchEnabled?this.applyInputString(this.listModel.focusedItem||this.question.selectedItem):this.applyHintString(this.listModel.focusedItem||this.question.selectedItem),this.fixInputCase(),this.ariaActivedescendant=null===(u=this.listModel.focusedItem)||void 0===u?void 0:u.elementId},d.prototype.keyHandler=function(u){var a=u.which||u.keyCode;if(this.popupModel.isVisible&&38===u.keyCode?(this.changeSelectionWithKeyboard(!0),u.preventDefault(),u.stopPropagation()):40===u.keyCode&&(this.popupModel.isVisible||this.popupModel.toggleVisibility(),this.changeSelectionWithKeyboard(!1),u.preventDefault(),u.stopPropagation()),9===u.keyCode)this.popupModel.isVisible=!1;else if(this.popupModel.isVisible||13!==u.keyCode&&32!==u.keyCode)if(!this.popupModel.isVisible||13!==u.keyCode&&(32!==u.keyCode||this.question.searchEnabled&&this.inputString))if(46===a||8===a)this.searchEnabled||this.onClear(u);else if(27===u.keyCode)this._popupModel.isVisible=!1,this.hintString="",this.onEscape();else{if((38===u.keyCode||40===u.keyCode||32===u.keyCode&&!this.question.searchEnabled)&&(u.preventDefault(),u.stopPropagation()),32===u.keyCode&&this.question.searchEnabled)return;Object(C.doKey2ClickUp)(u,{processEsc:!1,disableTabStop:this.question.isInputReadOnly})}else 13===u.keyCode&&this.question.searchEnabled&&!this.inputString&&this.question instanceof R.QuestionDropdownModel&&!this._markdownMode&&this.question.value?(this._popupModel.isVisible=!1,this.onClear(u)):(this.listModel.selectFocusedItem(),this.onFocus(u)),u.preventDefault(),u.stopPropagation();else 32===u.keyCode&&(this.popupModel.toggleVisibility(),this.changeSelectionWithKeyboard(!1)),13===u.keyCode&&this.question.survey.questionEditFinishCallback(this.question,u),u.preventDefault(),u.stopPropagation()},d.prototype.onEscape=function(){this.question.searchEnabled&&this.applyInputString(this.question.selectedItem)},d.prototype.onScroll=function(u){var a=u.target;a.scrollHeight-(a.scrollTop+a.offsetHeight)<=this.loadingItemHeight&&this.updateQuestionChoices()},d.prototype.onBlur=function(u){this.focused=!1,this.popupModel.isVisible&&T.IsTouch?this._popupModel.isVisible=!0:(Object(C.doKey2ClickBlur)(u),this._popupModel.isVisible=!1,this.resetFilterString(),this.inputString=null,this.hintString="",u.stopPropagation())},d.prototype.onFocus=function(u){this.focused=!0,this.setInputStringFromSelectedItem(this.question.selectedItem)},d.prototype.setInputStringFromSelectedItem=function(u){!this.focused||(this.question.searchEnabled&&u?this.applyInputString(u):this.inputString=null)},d.prototype.dispose=function(){f.prototype.dispose.call(this),this.question&&this.question.onPropertyChanged.remove(this.qustionPropertyChangedHandler),this.qustionPropertyChangedHandler=void 0,this.listModel&&this.listModel.dispose(),this.popupModel&&this.popupModel.dispose()},d.prototype.scrollToFocusedItem=function(){this.listModel.scrollToFocusedItem()},h([Object($.property)({defaultValue:!1})],d.prototype,"focused",void 0),h([Object($.property)({defaultValue:!0})],d.prototype,"searchEnabled",void 0),h([Object($.property)({defaultValue:"",onSet:function(u,a){a.onSetFilterString()}})],d.prototype,"filterString",void 0),h([Object($.property)({defaultValue:"",onSet:function(u,a){a.question.inputHasValue=!!u}})],d.prototype,"inputString",void 0),h([Object($.property)({})],d.prototype,"showInputFieldComponent",void 0),h([Object($.property)()],d.prototype,"ariaActivedescendant",void 0),h([Object($.property)({defaultValue:!1,onSet:function(u,a){u?a.listModel.addScrollEventListener(function(o){a.onScroll(o)}):a.listModel.removeScrollEventListener()}})],d.prototype,"hasScroll",void 0),h([Object($.property)({defaultValue:""})],d.prototype,"hintString",void 0),d}(G.Base)},"./src/dropdownMultiSelectListModel.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"DropdownMultiSelectListModel",function(){return T});var C,G=x("./src/base.ts"),se=x("./src/dropdownListModel.ts"),$=x("./src/jsonobject.ts"),w=x("./src/multiSelectListModel.ts"),F=x("./src/settings.ts"),R=x("./src/utils/devices.ts"),L=(C=function(y,h){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(v[d]=f[d])})(y,h)},function(y,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function v(){this.constructor=y}C(y,h),y.prototype=null===h?Object.create(h):(v.prototype=h.prototype,new v)}),m=function(C,y,h,v){var u,f=arguments.length,d=f<3?y:null===v?v=Object.getOwnPropertyDescriptor(y,h):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(C,y,h,v);else for(var a=C.length-1;a>=0;a--)(u=C[a])&&(d=(f<3?u(d):f>3?u(y,h,d):u(y,h))||d);return f>3&&d&&Object.defineProperty(y,h,d),d},T=function(C){function y(h,v){var f=C.call(this,h,v)||this;return f.popupCssClasses="sv-multi-select-list",f.setHideSelectedItems(h.hideSelectedItems),f.syncFilterStringPlaceholder(),f.closeOnSelect=h.closeOnSelect,f}return L(y,C),y.prototype.locStrsChanged=function(){C.prototype.locStrsChanged.call(this),this.syncFilterStringPlaceholder()},y.prototype.updateListState=function(){this.listModel.updateState(),this.syncFilterStringPlaceholder()},y.prototype.syncFilterStringPlaceholder=function(){var h=this.getSelectedActions();this.filterStringPlaceholder=h.length||this.question.selectedItems.length||this.listModel.focusedItem?void 0:this.question.placeholder},y.prototype.getSelectedActions=function(){return this.listModel.actions.filter(function(h){return h.selected})},y.prototype.getFocusFirstInputSelector=function(){return this.listModel.hideSelectedItems&&R.IsTouch&&!this.isValueEmpty(this.question.value)?this.itemSelector:C.prototype.getFocusFirstInputSelector.call(this)},y.prototype.createListModel=function(){var h=this,v=this.getAvailableItems(),f=this.onSelectionChanged;f||(f=function(u,a){h.resetFilterString(),"selectall"===u.id?h.selectAllItems():"added"===a&&u.value===F.settings.noneItemValue?h.selectNoneItem():"added"===a?h.selectItem(u.value):"removed"===a&&h.deselectItem(u.value),h.popupRecalculatePosition(!1),h.closeOnSelect&&(h.popupModel.isVisible=!1)});var d=new w.MultiSelectListModel(v,f,!1,void 0,this.question.choicesLazyLoadEnabled?this.listModelFilterStringChanged:void 0,this.listElementId);return d.forceShowFilter=!0,d},y.prototype.resetFilterString=function(){C.prototype.resetFilterString.call(this),this.inputString=null,this.hintString=""},Object.defineProperty(y.prototype,"shouldResetAfterCancel",{get:function(){return R.IsTouch&&!this.closeOnSelect},enumerable:!1,configurable:!0}),y.prototype.createPopup=function(){var h=this;C.prototype.createPopup.call(this),this.popupModel.onFooterActionsCreated.add(function(v,f){h.shouldResetAfterCancel&&f.actions.push({id:"sv-dropdown-done-button",title:h.doneButtonCaption,innerCss:"sv-popup__button--done",needSpace:!0,action:function(){h.popupModel.isVisible=!1},enabled:new G.ComputedUpdater(function(){return!h.isTwoValueEquals(h.question.renderedValue,h.previousValue)})})}),this.popupModel.onVisibilityChanged.add(function(v,f){h.shouldResetAfterCancel&&f.isVisible&&(h.previousValue=[].concat(h.question.renderedValue||[]))}),this.popupModel.onCancel=function(){h.shouldResetAfterCancel&&(h.question.renderedValue=h.previousValue,h.updateListState())}},y.prototype.selectAllItems=function(){this.question.toggleSelectAll(),this.updateListState()},y.prototype.selectNoneItem=function(){this.question.renderedValue=[F.settings.noneItemValue],this.updateListState()},y.prototype.selectItem=function(h){var v=[].concat(this.question.renderedValue||[]);v.push(h),this.question.renderedValue=v,this.updateListState()},y.prototype.deselectItem=function(h){var v=[].concat(this.question.renderedValue||[]);v.splice(v.indexOf(h),1),this.question.renderedValue=v,this.applyHintString(this.listModel.focusedItem),this.updateListState()},y.prototype.clear=function(){C.prototype.clear.call(this),this.syncFilterStringPlaceholder()},y.prototype.onClear=function(h){C.prototype.onClear.call(this,h),this.updateListState()},y.prototype.setHideSelectedItems=function(h){this.listModel.hideSelectedItems=h,this.updateListState()},y.prototype.removeLastSelectedItem=function(){this.deselectItem(this.question.renderedValue[this.question.renderedValue.length-1]),this.popupRecalculatePosition(!1)},y.prototype.inputKeyHandler=function(h){8===h.keyCode&&!this.filterString&&(this.removeLastSelectedItem(),h.preventDefault(),h.stopPropagation())},y.prototype.setInputStringFromSelectedItem=function(h){this.question.searchEnabled&&(this.inputString=null)},y.prototype.focusItemOnClickAndPopup=function(){},y.prototype.onEscape=function(){},y.prototype.beforeScrollToFocusedItem=function(h){},y.prototype.afterScrollToFocusedItem=function(){var h;(null===(h=this.listModel.focusedItem)||void 0===h?void 0:h.selected)?this.hintString="":this.applyHintString(this.listModel.focusedItem||this.question.selectedItem),this.syncFilterStringPlaceholder()},y.prototype.onPropertyChangedHandler=function(h,v){C.prototype.onPropertyChangedHandler.call(this,h,v),("value"===v.name||"renderedValue"===v.name)&&this.syncFilterStringPlaceholder()},m([Object($.property)({defaultValue:""})],y.prototype,"filterStringPlaceholder",void 0),m([Object($.property)({defaultValue:!0})],y.prototype,"closeOnSelect",void 0),m([Object($.property)()],y.prototype,"previousValue",void 0),m([Object($.property)({localizable:{defaultStr:"tagboxDoneButtonCaption"}})],y.prototype,"doneButtonCaption",void 0),y}(se.DropdownListModel)},"./src/dxSurveyService.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"dxSurveyService",function(){return se});var G=x("./src/settings.ts"),se=function(){function $(){}return Object.defineProperty($,"serviceUrl",{get:function(){return G.settings.web.surveyServiceUrl},set:function(w){G.settings.web.surveyServiceUrl=w},enumerable:!1,configurable:!0}),$.prototype.loadSurvey=function(w,F){var R=new XMLHttpRequest;R.open("GET",$.serviceUrl+"/getSurvey?surveyId="+w),R.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),R.onload=function(){var L=JSON.parse(R.response);F(200==R.status,L,R.response)},R.send()},$.prototype.getSurveyJsonAndIsCompleted=function(w,F,R){var L=new XMLHttpRequest;L.open("GET",$.serviceUrl+"/getSurveyAndIsCompleted?surveyId="+w+"&clientId="+F),L.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),L.onload=function(){var m=JSON.parse(L.response);R(200==L.status,m?m.survey:null,m?m.isCompleted:null,L.response)},L.send()},$.prototype.sendResult=function(w,F,R,L,m){void 0===L&&(L=null),void 0===m&&(m=!1);var T=new XMLHttpRequest;T.open("POST",$.serviceUrl+"/post/"),T.setRequestHeader("Content-Type","application/json; charset=utf-8");var C={postId:w,surveyResult:JSON.stringify(F)};L&&(C.clientId=L),m&&(C.isPartialCompleted=!0);var y=JSON.stringify(C);T.onload=T.onerror=function(){!R||R(200===T.status,T.response,T)},T.send(y)},$.prototype.sendFile=function(w,F,R){var L=new XMLHttpRequest;L.onload=L.onerror=function(){!R||R(200==L.status,JSON.parse(L.response))},L.open("POST",$.serviceUrl+"/upload/",!0);var m=new FormData;m.append("file",F),m.append("postId",w),L.send(m)},$.prototype.getResult=function(w,F,R){var L=new XMLHttpRequest;L.open("GET",$.serviceUrl+"/getResult?resultId="+w+"&name="+F),L.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),L.onload=function(){var C=null,y=null;if(200==L.status)for(var h in y=[],(C=JSON.parse(L.response)).QuestionResult)y.push({name:h,value:C.QuestionResult[h]});R(200==L.status,C,y,L.response)},L.send()},$.prototype.isCompleted=function(w,F,R){var L=new XMLHttpRequest;L.open("GET",$.serviceUrl+"/isCompleted?resultId="+w+"&clientId="+F),L.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),L.onload=function(){var C=null;200==L.status&&(C=JSON.parse(L.response)),R(200==L.status,C,L.response)},L.send()},$}()},"./src/element-helper.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"ElementHelper",function(){return G});var G=function(){function se(){}return se.focusElement=function($){$&&$.focus()},se.visibility=function($){var w=window.getComputedStyle($);return"none"!==w.display&&"hidden"!==w.visibility&&(!$.parentElement||this.visibility($.parentElement))},se.getNextElementPreorder=function($){var w=$.nextElementSibling?$.nextElementSibling:$.parentElement.firstElementChild;return this.visibility(w)?w:this.getNextElementPreorder(w)},se.getNextElementPostorder=function($){var w=$.previousElementSibling?$.previousElementSibling:$.parentElement.lastElementChild;return this.visibility(w)?w:this.getNextElementPostorder(w)},se.hasHorizontalScroller=function($){return!!$&&$.scrollWidth>$.offsetWidth},se.hasVerticalScroller=function($){return!!$&&$.scrollHeight>$.offsetHeight},se}()},"./src/entries/chunks/model.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"Version",function(){return Bs}),x.d(j,"ReleaseDate",function(){return vl}),x.d(j,"checkLibraryVersion",function(){return Ps}),x.d(j,"setLicenseKey",function(){return js}),x.d(j,"slk",function(){return na}),x.d(j,"hasLicense",function(){return Xl});var G=x("./src/settings.ts");x.d(j,"settings",function(){return G.settings});var se=x("./src/helpers.ts");x.d(j,"Helpers",function(){return se.Helpers});var $=x("./src/validator.ts");x.d(j,"AnswerCountValidator",function(){return $.AnswerCountValidator}),x.d(j,"EmailValidator",function(){return $.EmailValidator}),x.d(j,"NumericValidator",function(){return $.NumericValidator}),x.d(j,"RegexValidator",function(){return $.RegexValidator}),x.d(j,"SurveyValidator",function(){return $.SurveyValidator}),x.d(j,"TextValidator",function(){return $.TextValidator}),x.d(j,"ValidatorResult",function(){return $.ValidatorResult}),x.d(j,"ExpressionValidator",function(){return $.ExpressionValidator}),x.d(j,"ValidatorRunner",function(){return $.ValidatorRunner});var w=x("./src/itemvalue.ts");x.d(j,"ItemValue",function(){return w.ItemValue});var F=x("./src/base.ts");x.d(j,"Base",function(){return F.Base}),x.d(j,"Event",function(){return F.Event}),x.d(j,"EventBase",function(){return F.EventBase}),x.d(j,"ArrayChanges",function(){return F.ArrayChanges}),x.d(j,"ComputedUpdater",function(){return F.ComputedUpdater});var R=x("./src/survey-error.ts");x.d(j,"SurveyError",function(){return R.SurveyError});var L=x("./src/survey-element.ts");x.d(j,"SurveyElementCore",function(){return L.SurveyElementCore}),x.d(j,"SurveyElement",function(){return L.SurveyElement}),x.d(j,"DragTypeOverMeEnum",function(){return L.DragTypeOverMeEnum});var m=x("./src/calculatedValue.ts");x.d(j,"CalculatedValue",function(){return m.CalculatedValue});var T=x("./src/error.ts");x.d(j,"CustomError",function(){return T.CustomError}),x.d(j,"AnswerRequiredError",function(){return T.AnswerRequiredError}),x.d(j,"OneAnswerRequiredError",function(){return T.OneAnswerRequiredError}),x.d(j,"RequreNumericError",function(){return T.RequreNumericError}),x.d(j,"ExceedSizeError",function(){return T.ExceedSizeError});var C=x("./src/localizablestring.ts");x.d(j,"LocalizableString",function(){return C.LocalizableString}),x.d(j,"LocalizableStrings",function(){return C.LocalizableStrings});var y=x("./src/expressionItems.ts");x.d(j,"HtmlConditionItem",function(){return y.HtmlConditionItem}),x.d(j,"UrlConditionItem",function(){return y.UrlConditionItem});var h=x("./src/choicesRestful.ts");x.d(j,"ChoicesRestful",function(){return h.ChoicesRestful}),x.d(j,"ChoicesRestfull",function(){return h.ChoicesRestfull});var v=x("./src/functionsfactory.ts");x.d(j,"FunctionFactory",function(){return v.FunctionFactory}),x.d(j,"registerFunction",function(){return v.registerFunction});var f=x("./src/conditions.ts");x.d(j,"ConditionRunner",function(){return f.ConditionRunner}),x.d(j,"ExpressionRunner",function(){return f.ExpressionRunner}),x.d(j,"ExpressionExecutor",function(){return f.ExpressionExecutor});var d=x("./src/expressions/expressions.ts");x.d(j,"Operand",function(){return d.Operand}),x.d(j,"Const",function(){return d.Const}),x.d(j,"BinaryOperand",function(){return d.BinaryOperand}),x.d(j,"Variable",function(){return d.Variable}),x.d(j,"FunctionOperand",function(){return d.FunctionOperand}),x.d(j,"ArrayOperand",function(){return d.ArrayOperand}),x.d(j,"UnaryOperand",function(){return d.UnaryOperand});var u=x("./src/conditionsParser.ts");x.d(j,"ConditionsParser",function(){return u.ConditionsParser});var a=x("./src/conditionProcessValue.ts");x.d(j,"ProcessValue",function(){return a.ProcessValue});var o=x("./src/jsonobject.ts");x.d(j,"JsonError",function(){return o.JsonError}),x.d(j,"JsonIncorrectTypeError",function(){return o.JsonIncorrectTypeError}),x.d(j,"JsonMetadata",function(){return o.JsonMetadata}),x.d(j,"JsonMetadataClass",function(){return o.JsonMetadataClass}),x.d(j,"JsonMissingTypeError",function(){return o.JsonMissingTypeError}),x.d(j,"JsonMissingTypeErrorBase",function(){return o.JsonMissingTypeErrorBase}),x.d(j,"JsonObject",function(){return o.JsonObject}),x.d(j,"JsonObjectProperty",function(){return o.JsonObjectProperty}),x.d(j,"JsonRequiredPropertyError",function(){return o.JsonRequiredPropertyError}),x.d(j,"JsonUnknownPropertyError",function(){return o.JsonUnknownPropertyError}),x.d(j,"Serializer",function(){return o.Serializer}),x.d(j,"property",function(){return o.property}),x.d(j,"propertyArray",function(){return o.propertyArray});var s=x("./src/question_matrixdropdownbase.ts");x.d(j,"MatrixDropdownCell",function(){return s.MatrixDropdownCell}),x.d(j,"MatrixDropdownRowModelBase",function(){return s.MatrixDropdownRowModelBase}),x.d(j,"QuestionMatrixDropdownModelBase",function(){return s.QuestionMatrixDropdownModelBase});var l=x("./src/question_matrixdropdowncolumn.ts");x.d(j,"MatrixDropdownColumn",function(){return l.MatrixDropdownColumn}),x.d(j,"matrixDropdownColumnTypes",function(){return l.matrixDropdownColumnTypes});var c=x("./src/question_matrixdropdownrendered.ts");x.d(j,"QuestionMatrixDropdownRenderedCell",function(){return c.QuestionMatrixDropdownRenderedCell}),x.d(j,"QuestionMatrixDropdownRenderedRow",function(){return c.QuestionMatrixDropdownRenderedRow}),x.d(j,"QuestionMatrixDropdownRenderedTable",function(){return c.QuestionMatrixDropdownRenderedTable});var b=x("./src/question_matrixdropdown.ts");x.d(j,"MatrixDropdownRowModel",function(){return b.MatrixDropdownRowModel}),x.d(j,"QuestionMatrixDropdownModel",function(){return b.QuestionMatrixDropdownModel});var M=x("./src/question_matrixdynamic.ts");x.d(j,"MatrixDynamicRowModel",function(){return M.MatrixDynamicRowModel}),x.d(j,"QuestionMatrixDynamicModel",function(){return M.QuestionMatrixDynamicModel});var D=x("./src/question_matrix.ts");x.d(j,"MatrixRowModel",function(){return D.MatrixRowModel}),x.d(j,"MatrixCells",function(){return D.MatrixCells}),x.d(j,"QuestionMatrixModel",function(){return D.QuestionMatrixModel});var g=x("./src/martixBase.ts");x.d(j,"QuestionMatrixBaseModel",function(){return g.QuestionMatrixBaseModel});var P=x("./src/question_multipletext.ts");x.d(j,"MultipleTextItemModel",function(){return P.MultipleTextItemModel}),x.d(j,"MultipleTextCell",function(){return P.MultipleTextCell}),x.d(j,"MultipleTextErrorCell",function(){return P.MultipleTextErrorCell}),x.d(j,"MutlipleTextErrorRow",function(){return P.MutlipleTextErrorRow}),x.d(j,"MutlipleTextRow",function(){return P.MutlipleTextRow}),x.d(j,"QuestionMultipleTextModel",function(){return P.QuestionMultipleTextModel}),x.d(j,"MultipleTextEditorModel",function(){return P.MultipleTextEditorModel});var A=x("./src/panel.ts");x.d(j,"PanelModel",function(){return A.PanelModel}),x.d(j,"PanelModelBase",function(){return A.PanelModelBase}),x.d(j,"QuestionRowModel",function(){return A.QuestionRowModel});var k=x("./src/flowpanel.ts");x.d(j,"FlowPanelModel",function(){return k.FlowPanelModel});var Z=x("./src/page.ts");x.d(j,"PageModel",function(){return Z.PageModel}),x("./src/template-renderer.ts");var H=x("./src/defaultTitle.ts");x.d(j,"DefaultTitleModel",function(){return H.DefaultTitleModel});var E=x("./src/question.ts");x.d(j,"Question",function(){return E.Question});var B=x("./src/questionnonvalue.ts");x.d(j,"QuestionNonValue",function(){return B.QuestionNonValue});var U=x("./src/question_empty.ts");x.d(j,"QuestionEmptyModel",function(){return U.QuestionEmptyModel});var ae=x("./src/question_baseselect.ts");x.d(j,"QuestionCheckboxBase",function(){return ae.QuestionCheckboxBase}),x.d(j,"QuestionSelectBase",function(){return ae.QuestionSelectBase});var Pe=x("./src/question_checkbox.ts");x.d(j,"QuestionCheckboxModel",function(){return Pe.QuestionCheckboxModel});var je=x("./src/question_tagbox.ts");x.d(j,"QuestionTagboxModel",function(){return je.QuestionTagboxModel});var ft=x("./src/question_ranking.ts");x.d(j,"QuestionRankingModel",function(){return ft.QuestionRankingModel});var gt=x("./src/question_comment.ts");x.d(j,"QuestionCommentModel",function(){return gt.QuestionCommentModel});var Ze=x("./src/question_dropdown.ts");x.d(j,"QuestionDropdownModel",function(){return Ze.QuestionDropdownModel});var xt=x("./src/questionfactory.ts");x.d(j,"QuestionFactory",function(){return xt.QuestionFactory}),x.d(j,"ElementFactory",function(){return xt.ElementFactory});var Ke=x("./src/question_file.ts");x.d(j,"QuestionFileModel",function(){return Ke.QuestionFileModel});var tt=x("./src/question_html.ts");x.d(j,"QuestionHtmlModel",function(){return tt.QuestionHtmlModel});var Pt=x("./src/question_radiogroup.ts");x.d(j,"QuestionRadiogroupModel",function(){return Pt.QuestionRadiogroupModel});var Tt=x("./src/question_rating.ts");x.d(j,"QuestionRatingModel",function(){return Tt.QuestionRatingModel}),x.d(j,"RenderedRatingItem",function(){return Tt.RenderedRatingItem});var fn=x("./src/question_expression.ts");x.d(j,"QuestionExpressionModel",function(){return fn.QuestionExpressionModel});var nr=x("./src/question_textbase.ts");x.d(j,"QuestionTextBase",function(){return nr.QuestionTextBase}),x.d(j,"CharacterCounter",function(){return nr.CharacterCounter});var rr=x("./src/question_text.ts");x.d(j,"QuestionTextModel",function(){return rr.QuestionTextModel});var _r=x("./src/question_boolean.ts");x.d(j,"QuestionBooleanModel",function(){return _r.QuestionBooleanModel});var Vi=x("./src/question_imagepicker.ts");x.d(j,"QuestionImagePickerModel",function(){return Vi.QuestionImagePickerModel}),x.d(j,"ImageItemValue",function(){return Vi.ImageItemValue});var Ci=x("./src/question_image.ts");x.d(j,"QuestionImageModel",function(){return Ci.QuestionImageModel});var Hi=x("./src/question_signaturepad.ts");x.d(j,"QuestionSignaturePadModel",function(){return Hi.QuestionSignaturePadModel});var Br=x("./src/question_paneldynamic.ts");x.d(j,"QuestionPanelDynamicModel",function(){return Br.QuestionPanelDynamicModel}),x.d(j,"QuestionPanelDynamicItem",function(){return Br.QuestionPanelDynamicItem});var ss=x("./src/surveytimer.ts");x.d(j,"SurveyTimer",function(){return ss.SurveyTimer});var as=x("./src/surveyTimerModel.ts");x.d(j,"SurveyTimerModel",function(){return as.SurveyTimerModel});var Li=x("./src/surveyToc.ts");x.d(j,"tryFocusPage",function(){return Li.tryFocusPage}),x.d(j,"createTOCListModel",function(){return Li.createTOCListModel}),x.d(j,"getTocRootCss",function(){return Li.getTocRootCss}),x.d(j,"TOCModel",function(){return Li.TOCModel});var bs=x("./src/surveyProgress.ts");x.d(j,"SurveyProgressModel",function(){return bs.SurveyProgressModel});var ni=x("./src/progress-buttons.ts");x.d(j,"ProgressButtons",function(){return ni.ProgressButtons}),x.d(j,"ProgressButtonsResponsivityManager",function(){return ni.ProgressButtonsResponsivityManager}),x("./src/themes.ts");var gn=x("./src/survey.ts");x.d(j,"SurveyModel",function(){return gn.SurveyModel}),x("./src/survey-events-api.ts");var Le=x("./src/trigger.ts");x.d(j,"SurveyTrigger",function(){return Le.SurveyTrigger}),x.d(j,"SurveyTriggerComplete",function(){return Le.SurveyTriggerComplete}),x.d(j,"SurveyTriggerSetValue",function(){return Le.SurveyTriggerSetValue}),x.d(j,"SurveyTriggerVisible",function(){return Le.SurveyTriggerVisible}),x.d(j,"SurveyTriggerCopyValue",function(){return Le.SurveyTriggerCopyValue}),x.d(j,"SurveyTriggerRunExpression",function(){return Le.SurveyTriggerRunExpression}),x.d(j,"SurveyTriggerSkip",function(){return Le.SurveyTriggerSkip}),x.d(j,"Trigger",function(){return Le.Trigger});var Xe=x("./src/popup-survey.ts");x.d(j,"PopupSurveyModel",function(){return Xe.PopupSurveyModel}),x.d(j,"SurveyWindowModel",function(){return Xe.SurveyWindowModel});var ke=x("./src/textPreProcessor.ts");x.d(j,"TextPreProcessor",function(){return ke.TextPreProcessor});var it=x("./src/notifier.ts");x.d(j,"Notifier",function(){return it.Notifier});var _t=x("./src/header.ts");x.d(j,"Cover",function(){return _t.Cover}),x.d(j,"CoverCell",function(){return _t.CoverCell});var Mn=x("./src/dxSurveyService.ts");x.d(j,"dxSurveyService",function(){return Mn.dxSurveyService});var Tr=x("./src/localization/english.ts");x.d(j,"englishStrings",function(){return Tr.englishStrings});var Pr=x("./src/surveyStrings.ts");x.d(j,"surveyLocalization",function(){return Pr.surveyLocalization}),x.d(j,"surveyStrings",function(){return Pr.surveyStrings});var si=x("./src/questionCustomWidgets.ts");x.d(j,"QuestionCustomWidget",function(){return si.QuestionCustomWidget}),x.d(j,"CustomWidgetCollection",function(){return si.CustomWidgetCollection});var gi=x("./src/question_custom.ts");x.d(j,"QuestionCustomModel",function(){return gi.QuestionCustomModel}),x.d(j,"QuestionCompositeModel",function(){return gi.QuestionCompositeModel}),x.d(j,"ComponentQuestionJSON",function(){return gi.ComponentQuestionJSON}),x.d(j,"ComponentCollection",function(){return gi.ComponentCollection});var Oi=x("./src/stylesmanager.ts");x.d(j,"StylesManager",function(){return Oi.StylesManager});var qi=x("./src/list.ts");x.d(j,"ListModel",function(){return qi.ListModel});var $i=x("./src/multiSelectListModel.ts");x.d(j,"MultiSelectListModel",function(){return $i.MultiSelectListModel});var ko=x("./src/popup.ts");x.d(j,"PopupModel",function(){return ko.PopupModel}),x.d(j,"createDialogOptions",function(){return ko.createDialogOptions});var Fi=x("./src/popup-view-model.ts");x.d(j,"PopupBaseViewModel",function(){return Fi.PopupBaseViewModel});var ls=x("./src/popup-dropdown-view-model.ts");x.d(j,"PopupDropdownViewModel",function(){return ls.PopupDropdownViewModel});var Xt=x("./src/popup-modal-view-model.ts");x.d(j,"PopupModalViewModel",function(){return Xt.PopupModalViewModel});var ta=x("./src/popup-utils.ts");x.d(j,"createPopupViewModel",function(){return ta.createPopupViewModel}),x.d(j,"createPopupModalViewModel",function(){return ta.createPopupModalViewModel});var Ko=x("./src/dropdownListModel.ts");x.d(j,"DropdownListModel",function(){return Ko.DropdownListModel});var qo=x("./src/dropdownMultiSelectListModel.ts");x.d(j,"DropdownMultiSelectListModel",function(){return qo.DropdownMultiSelectListModel});var xa=x("./src/question_buttongroup.ts");x.d(j,"QuestionButtonGroupModel",function(){return xa.QuestionButtonGroupModel}),x.d(j,"ButtonGroupItemModel",function(){return xa.ButtonGroupItemModel}),x.d(j,"ButtonGroupItemValue",function(){return xa.ButtonGroupItemValue});var Mo=x("./src/utils/devices.ts");x.d(j,"IsMobile",function(){return Mo.IsMobile}),x.d(j,"IsTouch",function(){return Mo.IsTouch}),x.d(j,"_setIsTouch",function(){return Mo._setIsTouch});var bi=x("./src/utils/utils.ts");x.d(j,"confirmAction",function(){return bi.confirmAction}),x.d(j,"confirmActionAsync",function(){return bi.confirmActionAsync}),x.d(j,"detectIEOrEdge",function(){return bi.detectIEOrEdge}),x.d(j,"doKey2ClickUp",function(){return bi.doKey2ClickUp}),x.d(j,"doKey2ClickDown",function(){return bi.doKey2ClickDown}),x.d(j,"doKey2ClickBlur",function(){return bi.doKey2ClickBlur}),x.d(j,"loadFileFromBase64",function(){return bi.loadFileFromBase64}),x.d(j,"increaseHeightByContent",function(){return bi.increaseHeightByContent}),x.d(j,"createSvg",function(){return bi.createSvg}),x.d(j,"chooseFiles",function(){return bi.chooseFiles}),x.d(j,"sanitizeEditableContent",function(){return bi.sanitizeEditableContent});var Zl=x("./src/utils/cssClassBuilder.ts");x.d(j,"CssClassBuilder",function(){return Zl.CssClassBuilder});var wi=x("./src/defaultCss/defaultV2Css.ts");x.d(j,"surveyCss",function(){return wi.surveyCss}),x.d(j,"defaultV2Css",function(){return wi.defaultV2Css}),x.d(j,"defaultV2ThemeName",function(){return wi.defaultV2ThemeName});var Ns=x("./src/dragdrop/core.ts");x.d(j,"DragDropCore",function(){return Ns.DragDropCore});var mi=x("./src/dragdrop/choices.ts");x.d(j,"DragDropChoices",function(){return mi.DragDropChoices});var Bs,vl,yl=x("./src/dragdrop/ranking-select-to-rank.ts");function Ps(So,Cl){Bs!=So&&console.error("survey-core has version '"+Bs+"' and "+Cl+" has version '"+So+"'. SurveyJS libraries should have the same versions to work correctly.")}function js(So){na(So)}function na(So){!function Lu(So,Cl,ra){if(So){var ia=function(yi){var gs,kr,$r,ka={},eu=0,bl=0,_n="",Fu=String.fromCharCode,zn=yi.length,lr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(gs=0;gs<64;gs++)ka[lr.charAt(gs)]=gs;for(kr=0;kr<zn;kr++)for(eu=(eu<<6)+ka[yi.charAt(kr)],bl+=6;bl>=8;)(($r=eu>>>(bl-=8)&255)||kr<zn-2)&&(_n+=Fu($r));return _n}(So);if(ia){var oa=ia.indexOf(";");oa<0||!function pc(So){if(!So)return!0;var Cl="domains:",ra=So.indexOf(Cl);if(ra<0)return!0;var Us=So.substring(ra+Cl.length).toLowerCase().split(",");if(!Array.isArray(Us)||0===Us.length)return!0;if("undefined"!=typeof window&&window.location&&window.location.hostname){var ia=window.location.hostname.toLowerCase();Us.push("localhost");for(var oa=0;oa<Us.length;oa++)if(ia.indexOf(Us[oa])>-1)return!0;return!1}return!0}(ia.substring(0,oa))||(ia=ia.substring(oa+1)).split(",").forEach(function(yi){var ka=yi.indexOf("=");ka>0&&(Cl[yi.substring(0,ka)]=new Date(ra)<=new Date(yi.substring(ka+1)))})}}}(So,Hs,vl)}function Xl(So){return!0===Hs[So.toString()]}x.d(j,"DragDropRankingSelectToRank",function(){return yl.DragDropRankingSelectToRank}),Bs="1.9.129",vl="2024-02-06";var Hs={}},"./src/entries/core-wo-model.ts":function($e,j,x){"use strict";x.r(j);var G=x("./src/entries/chunks/model.ts");x.d(j,"Version",function(){return G.Version}),x.d(j,"ReleaseDate",function(){return G.ReleaseDate}),x.d(j,"checkLibraryVersion",function(){return G.checkLibraryVersion}),x.d(j,"setLicenseKey",function(){return G.setLicenseKey}),x.d(j,"slk",function(){return G.slk}),x.d(j,"hasLicense",function(){return G.hasLicense}),x.d(j,"settings",function(){return G.settings}),x.d(j,"Helpers",function(){return G.Helpers}),x.d(j,"AnswerCountValidator",function(){return G.AnswerCountValidator}),x.d(j,"EmailValidator",function(){return G.EmailValidator}),x.d(j,"NumericValidator",function(){return G.NumericValidator}),x.d(j,"RegexValidator",function(){return G.RegexValidator}),x.d(j,"SurveyValidator",function(){return G.SurveyValidator}),x.d(j,"TextValidator",function(){return G.TextValidator}),x.d(j,"ValidatorResult",function(){return G.ValidatorResult}),x.d(j,"ExpressionValidator",function(){return G.ExpressionValidator}),x.d(j,"ValidatorRunner",function(){return G.ValidatorRunner}),x.d(j,"ItemValue",function(){return G.ItemValue}),x.d(j,"Base",function(){return G.Base}),x.d(j,"Event",function(){return G.Event}),x.d(j,"EventBase",function(){return G.EventBase}),x.d(j,"ArrayChanges",function(){return G.ArrayChanges}),x.d(j,"ComputedUpdater",function(){return G.ComputedUpdater}),x.d(j,"SurveyError",function(){return G.SurveyError}),x.d(j,"SurveyElementCore",function(){return G.SurveyElementCore}),x.d(j,"SurveyElement",function(){return G.SurveyElement}),x.d(j,"DragTypeOverMeEnum",function(){return G.DragTypeOverMeEnum}),x.d(j,"CalculatedValue",function(){return G.CalculatedValue}),x.d(j,"CustomError",function(){return G.CustomError}),x.d(j,"AnswerRequiredError",function(){return G.AnswerRequiredError}),x.d(j,"OneAnswerRequiredError",function(){return G.OneAnswerRequiredError}),x.d(j,"RequreNumericError",function(){return G.RequreNumericError}),x.d(j,"ExceedSizeError",function(){return G.ExceedSizeError}),x.d(j,"LocalizableString",function(){return G.LocalizableString}),x.d(j,"LocalizableStrings",function(){return G.LocalizableStrings}),x.d(j,"HtmlConditionItem",function(){return G.HtmlConditionItem}),x.d(j,"UrlConditionItem",function(){return G.UrlConditionItem}),x.d(j,"ChoicesRestful",function(){return G.ChoicesRestful}),x.d(j,"ChoicesRestfull",function(){return G.ChoicesRestfull}),x.d(j,"FunctionFactory",function(){return G.FunctionFactory}),x.d(j,"registerFunction",function(){return G.registerFunction}),x.d(j,"ConditionRunner",function(){return G.ConditionRunner}),x.d(j,"ExpressionRunner",function(){return G.ExpressionRunner}),x.d(j,"ExpressionExecutor",function(){return G.ExpressionExecutor}),x.d(j,"Operand",function(){return G.Operand}),x.d(j,"Const",function(){return G.Const}),x.d(j,"BinaryOperand",function(){return G.BinaryOperand}),x.d(j,"Variable",function(){return G.Variable}),x.d(j,"FunctionOperand",function(){return G.FunctionOperand}),x.d(j,"ArrayOperand",function(){return G.ArrayOperand}),x.d(j,"UnaryOperand",function(){return G.UnaryOperand}),x.d(j,"ConditionsParser",function(){return G.ConditionsParser}),x.d(j,"ProcessValue",function(){return G.ProcessValue}),x.d(j,"JsonError",function(){return G.JsonError}),x.d(j,"JsonIncorrectTypeError",function(){return G.JsonIncorrectTypeError}),x.d(j,"JsonMetadata",function(){return G.JsonMetadata}),x.d(j,"JsonMetadataClass",function(){return G.JsonMetadataClass}),x.d(j,"JsonMissingTypeError",function(){return G.JsonMissingTypeError}),x.d(j,"JsonMissingTypeErrorBase",function(){return G.JsonMissingTypeErrorBase}),x.d(j,"JsonObject",function(){return G.JsonObject}),x.d(j,"JsonObjectProperty",function(){return G.JsonObjectProperty}),x.d(j,"JsonRequiredPropertyError",function(){return G.JsonRequiredPropertyError}),x.d(j,"JsonUnknownPropertyError",function(){return G.JsonUnknownPropertyError}),x.d(j,"Serializer",function(){return G.Serializer}),x.d(j,"property",function(){return G.property}),x.d(j,"propertyArray",function(){return G.propertyArray}),x.d(j,"MatrixDropdownCell",function(){return G.MatrixDropdownCell}),x.d(j,"MatrixDropdownRowModelBase",function(){return G.MatrixDropdownRowModelBase}),x.d(j,"QuestionMatrixDropdownModelBase",function(){return G.QuestionMatrixDropdownModelBase}),x.d(j,"MatrixDropdownColumn",function(){return G.MatrixDropdownColumn}),x.d(j,"matrixDropdownColumnTypes",function(){return G.matrixDropdownColumnTypes}),x.d(j,"QuestionMatrixDropdownRenderedCell",function(){return G.QuestionMatrixDropdownRenderedCell}),x.d(j,"QuestionMatrixDropdownRenderedRow",function(){return G.QuestionMatrixDropdownRenderedRow}),x.d(j,"QuestionMatrixDropdownRenderedTable",function(){return G.QuestionMatrixDropdownRenderedTable}),x.d(j,"MatrixDropdownRowModel",function(){return G.MatrixDropdownRowModel}),x.d(j,"QuestionMatrixDropdownModel",function(){return G.QuestionMatrixDropdownModel}),x.d(j,"MatrixDynamicRowModel",function(){return G.MatrixDynamicRowModel}),x.d(j,"QuestionMatrixDynamicModel",function(){return G.QuestionMatrixDynamicModel}),x.d(j,"MatrixRowModel",function(){return G.MatrixRowModel}),x.d(j,"MatrixCells",function(){return G.MatrixCells}),x.d(j,"QuestionMatrixModel",function(){return G.QuestionMatrixModel}),x.d(j,"QuestionMatrixBaseModel",function(){return G.QuestionMatrixBaseModel}),x.d(j,"MultipleTextItemModel",function(){return G.MultipleTextItemModel}),x.d(j,"MultipleTextCell",function(){return G.MultipleTextCell}),x.d(j,"MultipleTextErrorCell",function(){return G.MultipleTextErrorCell}),x.d(j,"MutlipleTextErrorRow",function(){return G.MutlipleTextErrorRow}),x.d(j,"MutlipleTextRow",function(){return G.MutlipleTextRow}),x.d(j,"QuestionMultipleTextModel",function(){return G.QuestionMultipleTextModel}),x.d(j,"MultipleTextEditorModel",function(){return G.MultipleTextEditorModel}),x.d(j,"PanelModel",function(){return G.PanelModel}),x.d(j,"PanelModelBase",function(){return G.PanelModelBase}),x.d(j,"QuestionRowModel",function(){return G.QuestionRowModel}),x.d(j,"FlowPanelModel",function(){return G.FlowPanelModel}),x.d(j,"PageModel",function(){return G.PageModel}),x.d(j,"DefaultTitleModel",function(){return G.DefaultTitleModel}),x.d(j,"Question",function(){return G.Question}),x.d(j,"QuestionNonValue",function(){return G.QuestionNonValue}),x.d(j,"QuestionEmptyModel",function(){return G.QuestionEmptyModel}),x.d(j,"QuestionCheckboxBase",function(){return G.QuestionCheckboxBase}),x.d(j,"QuestionSelectBase",function(){return G.QuestionSelectBase}),x.d(j,"QuestionCheckboxModel",function(){return G.QuestionCheckboxModel}),x.d(j,"QuestionTagboxModel",function(){return G.QuestionTagboxModel}),x.d(j,"QuestionRankingModel",function(){return G.QuestionRankingModel}),x.d(j,"QuestionCommentModel",function(){return G.QuestionCommentModel}),x.d(j,"QuestionDropdownModel",function(){return G.QuestionDropdownModel}),x.d(j,"QuestionFactory",function(){return G.QuestionFactory}),x.d(j,"ElementFactory",function(){return G.ElementFactory}),x.d(j,"QuestionFileModel",function(){return G.QuestionFileModel}),x.d(j,"QuestionHtmlModel",function(){return G.QuestionHtmlModel}),x.d(j,"QuestionRadiogroupModel",function(){return G.QuestionRadiogroupModel}),x.d(j,"QuestionRatingModel",function(){return G.QuestionRatingModel}),x.d(j,"RenderedRatingItem",function(){return G.RenderedRatingItem}),x.d(j,"QuestionExpressionModel",function(){return G.QuestionExpressionModel}),x.d(j,"QuestionTextBase",function(){return G.QuestionTextBase}),x.d(j,"CharacterCounter",function(){return G.CharacterCounter}),x.d(j,"QuestionTextModel",function(){return G.QuestionTextModel}),x.d(j,"QuestionBooleanModel",function(){return G.QuestionBooleanModel}),x.d(j,"QuestionImagePickerModel",function(){return G.QuestionImagePickerModel}),x.d(j,"ImageItemValue",function(){return G.ImageItemValue}),x.d(j,"QuestionImageModel",function(){return G.QuestionImageModel}),x.d(j,"QuestionSignaturePadModel",function(){return G.QuestionSignaturePadModel}),x.d(j,"QuestionPanelDynamicModel",function(){return G.QuestionPanelDynamicModel}),x.d(j,"QuestionPanelDynamicItem",function(){return G.QuestionPanelDynamicItem}),x.d(j,"SurveyTimer",function(){return G.SurveyTimer}),x.d(j,"SurveyTimerModel",function(){return G.SurveyTimerModel}),x.d(j,"tryFocusPage",function(){return G.tryFocusPage}),x.d(j,"createTOCListModel",function(){return G.createTOCListModel}),x.d(j,"getTocRootCss",function(){return G.getTocRootCss}),x.d(j,"TOCModel",function(){return G.TOCModel}),x.d(j,"SurveyProgressModel",function(){return G.SurveyProgressModel}),x.d(j,"ProgressButtons",function(){return G.ProgressButtons}),x.d(j,"ProgressButtonsResponsivityManager",function(){return G.ProgressButtonsResponsivityManager}),x.d(j,"SurveyModel",function(){return G.SurveyModel}),x.d(j,"SurveyTrigger",function(){return G.SurveyTrigger}),x.d(j,"SurveyTriggerComplete",function(){return G.SurveyTriggerComplete}),x.d(j,"SurveyTriggerSetValue",function(){return G.SurveyTriggerSetValue}),x.d(j,"SurveyTriggerVisible",function(){return G.SurveyTriggerVisible}),x.d(j,"SurveyTriggerCopyValue",function(){return G.SurveyTriggerCopyValue}),x.d(j,"SurveyTriggerRunExpression",function(){return G.SurveyTriggerRunExpression}),x.d(j,"SurveyTriggerSkip",function(){return G.SurveyTriggerSkip}),x.d(j,"Trigger",function(){return G.Trigger}),x.d(j,"PopupSurveyModel",function(){return G.PopupSurveyModel}),x.d(j,"SurveyWindowModel",function(){return G.SurveyWindowModel}),x.d(j,"TextPreProcessor",function(){return G.TextPreProcessor}),x.d(j,"Notifier",function(){return G.Notifier}),x.d(j,"Cover",function(){return G.Cover}),x.d(j,"CoverCell",function(){return G.CoverCell}),x.d(j,"dxSurveyService",function(){return G.dxSurveyService}),x.d(j,"englishStrings",function(){return G.englishStrings}),x.d(j,"surveyLocalization",function(){return G.surveyLocalization}),x.d(j,"surveyStrings",function(){return G.surveyStrings}),x.d(j,"QuestionCustomWidget",function(){return G.QuestionCustomWidget}),x.d(j,"CustomWidgetCollection",function(){return G.CustomWidgetCollection}),x.d(j,"QuestionCustomModel",function(){return G.QuestionCustomModel}),x.d(j,"QuestionCompositeModel",function(){return G.QuestionCompositeModel}),x.d(j,"ComponentQuestionJSON",function(){return G.ComponentQuestionJSON}),x.d(j,"ComponentCollection",function(){return G.ComponentCollection}),x.d(j,"StylesManager",function(){return G.StylesManager}),x.d(j,"ListModel",function(){return G.ListModel}),x.d(j,"MultiSelectListModel",function(){return G.MultiSelectListModel}),x.d(j,"PopupModel",function(){return G.PopupModel}),x.d(j,"createDialogOptions",function(){return G.createDialogOptions}),x.d(j,"PopupBaseViewModel",function(){return G.PopupBaseViewModel}),x.d(j,"PopupDropdownViewModel",function(){return G.PopupDropdownViewModel}),x.d(j,"PopupModalViewModel",function(){return G.PopupModalViewModel}),x.d(j,"createPopupViewModel",function(){return G.createPopupViewModel}),x.d(j,"createPopupModalViewModel",function(){return G.createPopupModalViewModel}),x.d(j,"DropdownListModel",function(){return G.DropdownListModel}),x.d(j,"DropdownMultiSelectListModel",function(){return G.DropdownMultiSelectListModel}),x.d(j,"QuestionButtonGroupModel",function(){return G.QuestionButtonGroupModel}),x.d(j,"ButtonGroupItemModel",function(){return G.ButtonGroupItemModel}),x.d(j,"ButtonGroupItemValue",function(){return G.ButtonGroupItemValue}),x.d(j,"IsMobile",function(){return G.IsMobile}),x.d(j,"IsTouch",function(){return G.IsTouch}),x.d(j,"_setIsTouch",function(){return G._setIsTouch}),x.d(j,"confirmAction",function(){return G.confirmAction}),x.d(j,"confirmActionAsync",function(){return G.confirmActionAsync}),x.d(j,"detectIEOrEdge",function(){return G.detectIEOrEdge}),x.d(j,"doKey2ClickUp",function(){return G.doKey2ClickUp}),x.d(j,"doKey2ClickDown",function(){return G.doKey2ClickDown}),x.d(j,"doKey2ClickBlur",function(){return G.doKey2ClickBlur}),x.d(j,"loadFileFromBase64",function(){return G.loadFileFromBase64}),x.d(j,"increaseHeightByContent",function(){return G.increaseHeightByContent}),x.d(j,"createSvg",function(){return G.createSvg}),x.d(j,"chooseFiles",function(){return G.chooseFiles}),x.d(j,"sanitizeEditableContent",function(){return G.sanitizeEditableContent}),x.d(j,"CssClassBuilder",function(){return G.CssClassBuilder}),x.d(j,"surveyCss",function(){return G.surveyCss}),x.d(j,"defaultV2Css",function(){return G.defaultV2Css}),x.d(j,"defaultV2ThemeName",function(){return G.defaultV2ThemeName}),x.d(j,"DragDropCore",function(){return G.DragDropCore}),x.d(j,"DragDropChoices",function(){return G.DragDropChoices}),x.d(j,"DragDropRankingSelectToRank",function(){return G.DragDropRankingSelectToRank});var se=x("./src/defaultCss/cssstandard.ts");x.d(j,"defaultStandardCss",function(){return se.defaultStandardCss});var $=x("./src/defaultCss/cssmodern.ts");x.d(j,"modernCss",function(){return $.modernCss});var w=x("./src/svgbundle.ts");x.d(j,"SvgIconRegistry",function(){return w.SvgIconRegistry}),x.d(j,"SvgRegistry",function(){return w.SvgRegistry}),x.d(j,"SvgBundleViewModel",function(){return w.SvgBundleViewModel});var F=x("./src/rendererFactory.ts");x.d(j,"RendererFactory",function(){return F.RendererFactory});var R=x("./src/utils/responsivity-manager.ts");x.d(j,"ResponsivityManager",function(){return R.ResponsivityManager}),x.d(j,"VerticalResponsivityManager",function(){return R.VerticalResponsivityManager});var L=x("./src/utils/utils.ts");x.d(j,"unwrap",function(){return L.unwrap}),x.d(j,"getOriginalEvent",function(){return L.getOriginalEvent}),x.d(j,"getElement",function(){return L.getElement});var m=x("./src/actions/action.ts");x.d(j,"createDropdownActionModel",function(){return m.createDropdownActionModel}),x.d(j,"createDropdownActionModelAdvanced",function(){return m.createDropdownActionModelAdvanced}),x.d(j,"getActionDropdownButtonTarget",function(){return m.getActionDropdownButtonTarget}),x.d(j,"BaseAction",function(){return m.BaseAction}),x.d(j,"Action",function(){return m.Action}),x.d(j,"ActionDropdownViewModel",function(){return m.ActionDropdownViewModel});var T=x("./src/actions/adaptive-container.ts");x.d(j,"AdaptiveActionContainer",function(){return T.AdaptiveActionContainer});var C=x("./src/actions/container.ts");x.d(j,"defaultActionBarCss",function(){return C.defaultActionBarCss}),x.d(j,"ActionContainer",function(){return C.ActionContainer});var y=x("./src/utils/dragOrClickHelper.ts");x.d(j,"DragOrClickHelper",function(){return y.DragOrClickHelper})},"./src/entries/core.ts":function($e,j,x){"use strict";x.r(j);var G=x("./src/entries/core-wo-model.ts");x.d(j,"Version",function(){return G.Version}),x.d(j,"ReleaseDate",function(){return G.ReleaseDate}),x.d(j,"checkLibraryVersion",function(){return G.checkLibraryVersion}),x.d(j,"setLicenseKey",function(){return G.setLicenseKey}),x.d(j,"slk",function(){return G.slk}),x.d(j,"hasLicense",function(){return G.hasLicense}),x.d(j,"settings",function(){return G.settings}),x.d(j,"Helpers",function(){return G.Helpers}),x.d(j,"AnswerCountValidator",function(){return G.AnswerCountValidator}),x.d(j,"EmailValidator",function(){return G.EmailValidator}),x.d(j,"NumericValidator",function(){return G.NumericValidator}),x.d(j,"RegexValidator",function(){return G.RegexValidator}),x.d(j,"SurveyValidator",function(){return G.SurveyValidator}),x.d(j,"TextValidator",function(){return G.TextValidator}),x.d(j,"ValidatorResult",function(){return G.ValidatorResult}),x.d(j,"ExpressionValidator",function(){return G.ExpressionValidator}),x.d(j,"ValidatorRunner",function(){return G.ValidatorRunner}),x.d(j,"ItemValue",function(){return G.ItemValue}),x.d(j,"Base",function(){return G.Base}),x.d(j,"Event",function(){return G.Event}),x.d(j,"EventBase",function(){return G.EventBase}),x.d(j,"ArrayChanges",function(){return G.ArrayChanges}),x.d(j,"ComputedUpdater",function(){return G.ComputedUpdater}),x.d(j,"SurveyError",function(){return G.SurveyError}),x.d(j,"SurveyElementCore",function(){return G.SurveyElementCore}),x.d(j,"SurveyElement",function(){return G.SurveyElement}),x.d(j,"DragTypeOverMeEnum",function(){return G.DragTypeOverMeEnum}),x.d(j,"CalculatedValue",function(){return G.CalculatedValue}),x.d(j,"CustomError",function(){return G.CustomError}),x.d(j,"AnswerRequiredError",function(){return G.AnswerRequiredError}),x.d(j,"OneAnswerRequiredError",function(){return G.OneAnswerRequiredError}),x.d(j,"RequreNumericError",function(){return G.RequreNumericError}),x.d(j,"ExceedSizeError",function(){return G.ExceedSizeError}),x.d(j,"LocalizableString",function(){return G.LocalizableString}),x.d(j,"LocalizableStrings",function(){return G.LocalizableStrings}),x.d(j,"HtmlConditionItem",function(){return G.HtmlConditionItem}),x.d(j,"UrlConditionItem",function(){return G.UrlConditionItem}),x.d(j,"ChoicesRestful",function(){return G.ChoicesRestful}),x.d(j,"ChoicesRestfull",function(){return G.ChoicesRestfull}),x.d(j,"FunctionFactory",function(){return G.FunctionFactory}),x.d(j,"registerFunction",function(){return G.registerFunction}),x.d(j,"ConditionRunner",function(){return G.ConditionRunner}),x.d(j,"ExpressionRunner",function(){return G.ExpressionRunner}),x.d(j,"ExpressionExecutor",function(){return G.ExpressionExecutor}),x.d(j,"Operand",function(){return G.Operand}),x.d(j,"Const",function(){return G.Const}),x.d(j,"BinaryOperand",function(){return G.BinaryOperand}),x.d(j,"Variable",function(){return G.Variable}),x.d(j,"FunctionOperand",function(){return G.FunctionOperand}),x.d(j,"ArrayOperand",function(){return G.ArrayOperand}),x.d(j,"UnaryOperand",function(){return G.UnaryOperand}),x.d(j,"ConditionsParser",function(){return G.ConditionsParser}),x.d(j,"ProcessValue",function(){return G.ProcessValue}),x.d(j,"JsonError",function(){return G.JsonError}),x.d(j,"JsonIncorrectTypeError",function(){return G.JsonIncorrectTypeError}),x.d(j,"JsonMetadata",function(){return G.JsonMetadata}),x.d(j,"JsonMetadataClass",function(){return G.JsonMetadataClass}),x.d(j,"JsonMissingTypeError",function(){return G.JsonMissingTypeError}),x.d(j,"JsonMissingTypeErrorBase",function(){return G.JsonMissingTypeErrorBase}),x.d(j,"JsonObject",function(){return G.JsonObject}),x.d(j,"JsonObjectProperty",function(){return G.JsonObjectProperty}),x.d(j,"JsonRequiredPropertyError",function(){return G.JsonRequiredPropertyError}),x.d(j,"JsonUnknownPropertyError",function(){return G.JsonUnknownPropertyError}),x.d(j,"Serializer",function(){return G.Serializer}),x.d(j,"property",function(){return G.property}),x.d(j,"propertyArray",function(){return G.propertyArray}),x.d(j,"MatrixDropdownCell",function(){return G.MatrixDropdownCell}),x.d(j,"MatrixDropdownRowModelBase",function(){return G.MatrixDropdownRowModelBase}),x.d(j,"QuestionMatrixDropdownModelBase",function(){return G.QuestionMatrixDropdownModelBase}),x.d(j,"MatrixDropdownColumn",function(){return G.MatrixDropdownColumn}),x.d(j,"matrixDropdownColumnTypes",function(){return G.matrixDropdownColumnTypes}),x.d(j,"QuestionMatrixDropdownRenderedCell",function(){return G.QuestionMatrixDropdownRenderedCell}),x.d(j,"QuestionMatrixDropdownRenderedRow",function(){return G.QuestionMatrixDropdownRenderedRow}),x.d(j,"QuestionMatrixDropdownRenderedTable",function(){return G.QuestionMatrixDropdownRenderedTable}),x.d(j,"MatrixDropdownRowModel",function(){return G.MatrixDropdownRowModel}),x.d(j,"QuestionMatrixDropdownModel",function(){return G.QuestionMatrixDropdownModel}),x.d(j,"MatrixDynamicRowModel",function(){return G.MatrixDynamicRowModel}),x.d(j,"QuestionMatrixDynamicModel",function(){return G.QuestionMatrixDynamicModel}),x.d(j,"MatrixRowModel",function(){return G.MatrixRowModel}),x.d(j,"MatrixCells",function(){return G.MatrixCells}),x.d(j,"QuestionMatrixModel",function(){return G.QuestionMatrixModel}),x.d(j,"QuestionMatrixBaseModel",function(){return G.QuestionMatrixBaseModel}),x.d(j,"MultipleTextItemModel",function(){return G.MultipleTextItemModel}),x.d(j,"MultipleTextCell",function(){return G.MultipleTextCell}),x.d(j,"MultipleTextErrorCell",function(){return G.MultipleTextErrorCell}),x.d(j,"MutlipleTextErrorRow",function(){return G.MutlipleTextErrorRow}),x.d(j,"MutlipleTextRow",function(){return G.MutlipleTextRow}),x.d(j,"QuestionMultipleTextModel",function(){return G.QuestionMultipleTextModel}),x.d(j,"MultipleTextEditorModel",function(){return G.MultipleTextEditorModel}),x.d(j,"PanelModel",function(){return G.PanelModel}),x.d(j,"PanelModelBase",function(){return G.PanelModelBase}),x.d(j,"QuestionRowModel",function(){return G.QuestionRowModel}),x.d(j,"FlowPanelModel",function(){return G.FlowPanelModel}),x.d(j,"PageModel",function(){return G.PageModel}),x.d(j,"DefaultTitleModel",function(){return G.DefaultTitleModel}),x.d(j,"Question",function(){return G.Question}),x.d(j,"QuestionNonValue",function(){return G.QuestionNonValue}),x.d(j,"QuestionEmptyModel",function(){return G.QuestionEmptyModel}),x.d(j,"QuestionCheckboxBase",function(){return G.QuestionCheckboxBase}),x.d(j,"QuestionSelectBase",function(){return G.QuestionSelectBase}),x.d(j,"QuestionCheckboxModel",function(){return G.QuestionCheckboxModel}),x.d(j,"QuestionTagboxModel",function(){return G.QuestionTagboxModel}),x.d(j,"QuestionRankingModel",function(){return G.QuestionRankingModel}),x.d(j,"QuestionCommentModel",function(){return G.QuestionCommentModel}),x.d(j,"QuestionDropdownModel",function(){return G.QuestionDropdownModel}),x.d(j,"QuestionFactory",function(){return G.QuestionFactory}),x.d(j,"ElementFactory",function(){return G.ElementFactory}),x.d(j,"QuestionFileModel",function(){return G.QuestionFileModel}),x.d(j,"QuestionHtmlModel",function(){return G.QuestionHtmlModel}),x.d(j,"QuestionRadiogroupModel",function(){return G.QuestionRadiogroupModel}),x.d(j,"QuestionRatingModel",function(){return G.QuestionRatingModel}),x.d(j,"RenderedRatingItem",function(){return G.RenderedRatingItem}),x.d(j,"QuestionExpressionModel",function(){return G.QuestionExpressionModel}),x.d(j,"QuestionTextBase",function(){return G.QuestionTextBase}),x.d(j,"CharacterCounter",function(){return G.CharacterCounter}),x.d(j,"QuestionTextModel",function(){return G.QuestionTextModel}),x.d(j,"QuestionBooleanModel",function(){return G.QuestionBooleanModel}),x.d(j,"QuestionImagePickerModel",function(){return G.QuestionImagePickerModel}),x.d(j,"ImageItemValue",function(){return G.ImageItemValue}),x.d(j,"QuestionImageModel",function(){return G.QuestionImageModel}),x.d(j,"QuestionSignaturePadModel",function(){return G.QuestionSignaturePadModel}),x.d(j,"QuestionPanelDynamicModel",function(){return G.QuestionPanelDynamicModel}),x.d(j,"QuestionPanelDynamicItem",function(){return G.QuestionPanelDynamicItem}),x.d(j,"SurveyTimer",function(){return G.SurveyTimer}),x.d(j,"SurveyTimerModel",function(){return G.SurveyTimerModel}),x.d(j,"tryFocusPage",function(){return G.tryFocusPage}),x.d(j,"createTOCListModel",function(){return G.createTOCListModel}),x.d(j,"getTocRootCss",function(){return G.getTocRootCss}),x.d(j,"TOCModel",function(){return G.TOCModel}),x.d(j,"SurveyProgressModel",function(){return G.SurveyProgressModel}),x.d(j,"ProgressButtons",function(){return G.ProgressButtons}),x.d(j,"ProgressButtonsResponsivityManager",function(){return G.ProgressButtonsResponsivityManager}),x.d(j,"SurveyModel",function(){return G.SurveyModel}),x.d(j,"SurveyTrigger",function(){return G.SurveyTrigger}),x.d(j,"SurveyTriggerComplete",function(){return G.SurveyTriggerComplete}),x.d(j,"SurveyTriggerSetValue",function(){return G.SurveyTriggerSetValue}),x.d(j,"SurveyTriggerVisible",function(){return G.SurveyTriggerVisible}),x.d(j,"SurveyTriggerCopyValue",function(){return G.SurveyTriggerCopyValue}),x.d(j,"SurveyTriggerRunExpression",function(){return G.SurveyTriggerRunExpression}),x.d(j,"SurveyTriggerSkip",function(){return G.SurveyTriggerSkip}),x.d(j,"Trigger",function(){return G.Trigger}),x.d(j,"PopupSurveyModel",function(){return G.PopupSurveyModel}),x.d(j,"SurveyWindowModel",function(){return G.SurveyWindowModel}),x.d(j,"TextPreProcessor",function(){return G.TextPreProcessor}),x.d(j,"Notifier",function(){return G.Notifier}),x.d(j,"Cover",function(){return G.Cover}),x.d(j,"CoverCell",function(){return G.CoverCell}),x.d(j,"dxSurveyService",function(){return G.dxSurveyService}),x.d(j,"englishStrings",function(){return G.englishStrings}),x.d(j,"surveyLocalization",function(){return G.surveyLocalization}),x.d(j,"surveyStrings",function(){return G.surveyStrings}),x.d(j,"QuestionCustomWidget",function(){return G.QuestionCustomWidget}),x.d(j,"CustomWidgetCollection",function(){return G.CustomWidgetCollection}),x.d(j,"QuestionCustomModel",function(){return G.QuestionCustomModel}),x.d(j,"QuestionCompositeModel",function(){return G.QuestionCompositeModel}),x.d(j,"ComponentQuestionJSON",function(){return G.ComponentQuestionJSON}),x.d(j,"ComponentCollection",function(){return G.ComponentCollection}),x.d(j,"StylesManager",function(){return G.StylesManager}),x.d(j,"ListModel",function(){return G.ListModel}),x.d(j,"MultiSelectListModel",function(){return G.MultiSelectListModel}),x.d(j,"PopupModel",function(){return G.PopupModel}),x.d(j,"createDialogOptions",function(){return G.createDialogOptions}),x.d(j,"PopupBaseViewModel",function(){return G.PopupBaseViewModel}),x.d(j,"PopupDropdownViewModel",function(){return G.PopupDropdownViewModel}),x.d(j,"PopupModalViewModel",function(){return G.PopupModalViewModel}),x.d(j,"createPopupViewModel",function(){return G.createPopupViewModel}),x.d(j,"createPopupModalViewModel",function(){return G.createPopupModalViewModel}),x.d(j,"DropdownListModel",function(){return G.DropdownListModel}),x.d(j,"DropdownMultiSelectListModel",function(){return G.DropdownMultiSelectListModel}),x.d(j,"QuestionButtonGroupModel",function(){return G.QuestionButtonGroupModel}),x.d(j,"ButtonGroupItemModel",function(){return G.ButtonGroupItemModel}),x.d(j,"ButtonGroupItemValue",function(){return G.ButtonGroupItemValue}),x.d(j,"IsMobile",function(){return G.IsMobile}),x.d(j,"IsTouch",function(){return G.IsTouch}),x.d(j,"_setIsTouch",function(){return G._setIsTouch}),x.d(j,"confirmAction",function(){return G.confirmAction}),x.d(j,"confirmActionAsync",function(){return G.confirmActionAsync}),x.d(j,"detectIEOrEdge",function(){return G.detectIEOrEdge}),x.d(j,"doKey2ClickUp",function(){return G.doKey2ClickUp}),x.d(j,"doKey2ClickDown",function(){return G.doKey2ClickDown}),x.d(j,"doKey2ClickBlur",function(){return G.doKey2ClickBlur}),x.d(j,"loadFileFromBase64",function(){return G.loadFileFromBase64}),x.d(j,"increaseHeightByContent",function(){return G.increaseHeightByContent}),x.d(j,"createSvg",function(){return G.createSvg}),x.d(j,"chooseFiles",function(){return G.chooseFiles}),x.d(j,"sanitizeEditableContent",function(){return G.sanitizeEditableContent}),x.d(j,"CssClassBuilder",function(){return G.CssClassBuilder}),x.d(j,"surveyCss",function(){return G.surveyCss}),x.d(j,"defaultV2Css",function(){return G.defaultV2Css}),x.d(j,"defaultV2ThemeName",function(){return G.defaultV2ThemeName}),x.d(j,"DragDropCore",function(){return G.DragDropCore}),x.d(j,"DragDropChoices",function(){return G.DragDropChoices}),x.d(j,"DragDropRankingSelectToRank",function(){return G.DragDropRankingSelectToRank}),x.d(j,"defaultStandardCss",function(){return G.defaultStandardCss}),x.d(j,"modernCss",function(){return G.modernCss}),x.d(j,"SvgIconRegistry",function(){return G.SvgIconRegistry}),x.d(j,"SvgRegistry",function(){return G.SvgRegistry}),x.d(j,"SvgBundleViewModel",function(){return G.SvgBundleViewModel}),x.d(j,"RendererFactory",function(){return G.RendererFactory}),x.d(j,"ResponsivityManager",function(){return G.ResponsivityManager}),x.d(j,"VerticalResponsivityManager",function(){return G.VerticalResponsivityManager}),x.d(j,"unwrap",function(){return G.unwrap}),x.d(j,"getOriginalEvent",function(){return G.getOriginalEvent}),x.d(j,"getElement",function(){return G.getElement}),x.d(j,"createDropdownActionModel",function(){return G.createDropdownActionModel}),x.d(j,"createDropdownActionModelAdvanced",function(){return G.createDropdownActionModelAdvanced}),x.d(j,"getActionDropdownButtonTarget",function(){return G.getActionDropdownButtonTarget}),x.d(j,"BaseAction",function(){return G.BaseAction}),x.d(j,"Action",function(){return G.Action}),x.d(j,"ActionDropdownViewModel",function(){return G.ActionDropdownViewModel}),x.d(j,"AdaptiveActionContainer",function(){return G.AdaptiveActionContainer}),x.d(j,"defaultActionBarCss",function(){return G.defaultActionBarCss}),x.d(j,"ActionContainer",function(){return G.ActionContainer}),x.d(j,"DragOrClickHelper",function(){return G.DragOrClickHelper});var se=x("./src/survey.ts");x.d(j,"Model",function(){return se.SurveyModel})},"./src/error.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"AnswerRequiredError",function(){return w}),x.d(j,"OneAnswerRequiredError",function(){return F}),x.d(j,"RequreNumericError",function(){return R}),x.d(j,"ExceedSizeError",function(){return L}),x.d(j,"WebRequestError",function(){return m}),x.d(j,"WebRequestEmptyError",function(){return T}),x.d(j,"OtherEmptyError",function(){return C}),x.d(j,"UploadingFileError",function(){return y}),x.d(j,"RequiredInAllRowsError",function(){return h}),x.d(j,"EachRowUniqueError",function(){return v}),x.d(j,"MinRowCountError",function(){return f}),x.d(j,"KeyDuplicationError",function(){return d}),x.d(j,"CustomError",function(){return u});var a,G=x("./src/surveyStrings.ts"),se=x("./src/survey-error.ts"),$=(a=function(o,s){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(l[b]=c[b])})(o,s)},function(o,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=o}a(o,s),o.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}),w=function(a){function o(s,l){void 0===s&&(s=null),void 0===l&&(l=null);var c=a.call(this,s,l)||this;return c.text=s,c}return $(o,a),o.prototype.getErrorType=function(){return"required"},o.prototype.getDefaultText=function(){return this.getLocalizationString("requiredError")},o}(se.SurveyError),F=function(a){function o(s,l){void 0===s&&(s=null),void 0===l&&(l=null);var c=a.call(this,s,l)||this;return c.text=s,c}return $(o,a),o.prototype.getErrorType=function(){return"requireoneanswer"},o.prototype.getDefaultText=function(){return this.getLocalizationString("requiredErrorInPanel")},o}(se.SurveyError),R=function(a){function o(s,l){void 0===s&&(s=null),void 0===l&&(l=null);var c=a.call(this,s,l)||this;return c.text=s,c}return $(o,a),o.prototype.getErrorType=function(){return"requirenumeric"},o.prototype.getDefaultText=function(){return this.getLocalizationString("numericError")},o}(se.SurveyError),L=function(a){function o(s,l){void 0===l&&(l=null);var c=a.call(this,null,l)||this;return c.maxSize=s,c.locText.text=c.getText(),c}return $(o,a),o.prototype.getErrorType=function(){return"exceedsize"},o.prototype.getDefaultText=function(){return G.surveyLocalization.getString("exceedMaxSize").format(this.getTextSize())},o.prototype.getTextSize=function(){if(0===this.maxSize)return"0 Byte";var c=Math.floor(Math.log(this.maxSize)/Math.log(1024));return(this.maxSize/Math.pow(1024,c)).toFixed([0,0,2,3,3][c])+" "+["Bytes","KB","MB","GB","TB"][c]},o}(se.SurveyError),m=function(a){function o(s,l,c){void 0===c&&(c=null);var b=a.call(this,null,c)||this;return b.status=s,b.response=l,b}return $(o,a),o.prototype.getErrorType=function(){return"webrequest"},o.prototype.getDefaultText=function(){var s=this.getLocalizationString("urlRequestError");return s?s.format(this.status,this.response):""},o}(se.SurveyError),T=function(a){function o(s,l){void 0===l&&(l=null);var c=a.call(this,s,l)||this;return c.text=s,c}return $(o,a),o.prototype.getErrorType=function(){return"webrequestempty"},o.prototype.getDefaultText=function(){return this.getLocalizationString("urlGetChoicesError")},o}(se.SurveyError),C=function(a){function o(s,l){void 0===l&&(l=null);var c=a.call(this,s,l)||this;return c.text=s,c}return $(o,a),o.prototype.getErrorType=function(){return"otherempty"},o.prototype.getDefaultText=function(){return this.getLocalizationString("otherRequiredError")},o}(se.SurveyError),y=function(a){function o(s,l){void 0===l&&(l=null);var c=a.call(this,s,l)||this;return c.text=s,c}return $(o,a),o.prototype.getErrorType=function(){return"uploadingfile"},o.prototype.getDefaultText=function(){return this.getLocalizationString("uploadingFile")},o}(se.SurveyError),h=function(a){function o(s,l){void 0===l&&(l=null);var c=a.call(this,s,l)||this;return c.text=s,c}return $(o,a),o.prototype.getErrorType=function(){return"requiredinallrowserror"},o.prototype.getDefaultText=function(){return this.getLocalizationString("requiredInAllRowsError")},o}(se.SurveyError),v=function(a){function o(s,l){void 0===l&&(l=null);var c=a.call(this,s,l)||this;return c.text=s,c}return $(o,a),o.prototype.getErrorType=function(){return"eachrowuniqueeerror"},o.prototype.getDefaultText=function(){return this.getLocalizationString("eachRowUniqueError")},o}(se.SurveyError),f=function(a){function o(s,l){void 0===l&&(l=null);var c=a.call(this,null,l)||this;return c.minRowCount=s,c}return $(o,a),o.prototype.getErrorType=function(){return"minrowcounterror"},o.prototype.getDefaultText=function(){return G.surveyLocalization.getString("minRowCountError").format(this.minRowCount)},o}(se.SurveyError),d=function(a){function o(s,l){void 0===l&&(l=null);var c=a.call(this,s,l)||this;return c.text=s,c}return $(o,a),o.prototype.getErrorType=function(){return"keyduplicationerror"},o.prototype.getDefaultText=function(){return this.getLocalizationString("keyDuplicationError")},o}(se.SurveyError),u=function(a){function o(s,l){void 0===l&&(l=null);var c=a.call(this,s,l)||this;return c.text=s,c}return $(o,a),o.prototype.getErrorType=function(){return"custom"},o}(se.SurveyError)},"./src/expressionItems.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"ExpressionItem",function(){return F}),x.d(j,"HtmlConditionItem",function(){return R}),x.d(j,"UrlConditionItem",function(){return L});var m,G=x("./src/jsonobject.ts"),se=x("./src/base.ts"),$=x("./src/conditions.ts"),w=(m=function(T,C){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,h){y.__proto__=h}||function(y,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(y[v]=h[v])})(T,C)},function(T,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function y(){this.constructor=T}m(T,C),T.prototype=null===C?Object.create(C):(y.prototype=C.prototype,new y)}),F=function(m){function T(C){void 0===C&&(C=null);var y=m.call(this)||this;return y.expression=C,y}return w(T,m),T.prototype.getType=function(){return"expressionitem"},T.prototype.runCondition=function(C,y){return!!this.expression&&new $.ConditionRunner(this.expression).run(C,y)},Object.defineProperty(T.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(C){this.setPropertyValue("expression",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),T.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},T.prototype.getMarkdownHtml=function(C,y){return this.locOwner?this.locOwner.getMarkdownHtml(C,y):void 0},T.prototype.getRenderer=function(C){return this.locOwner?this.locOwner.getRenderer(C):null},T.prototype.getRendererContext=function(C){return this.locOwner?this.locOwner.getRendererContext(C):C},T.prototype.getProcessedText=function(C){return this.locOwner?this.locOwner.getProcessedText(C):C},T.prototype.getSurvey=function(C){return void 0===C&&(C=!1),this.locOwner},T}(se.Base),R=function(m){function T(C,y){void 0===C&&(C=null),void 0===y&&(y=null);var h=m.call(this,C)||this;return h.createLocalizableString("html",h),h.html=y,h}return w(T,m),T.prototype.getType=function(){return"htmlconditionitem"},Object.defineProperty(T.prototype,"html",{get:function(){return this.getLocalizableStringText("html")},set:function(C){this.setLocalizableStringText("html",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),T}(F),L=function(m){function T(C,y){void 0===C&&(C=null),void 0===y&&(y=null);var h=m.call(this,C)||this;return h.createLocalizableString("url",h),h.url=y,h}return w(T,m),T.prototype.getType=function(){return"urlconditionitem"},Object.defineProperty(T.prototype,"url",{get:function(){return this.getLocalizableStringText("url")},set:function(C){this.setLocalizableStringText("url",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"locUrl",{get:function(){return this.getLocalizableString("url")},enumerable:!1,configurable:!0}),T}(F);G.Serializer.addClass("expressionitem",["expression:condition"],function(){return new F},"base"),G.Serializer.addClass("htmlconditionitem",[{name:"html:html",serializationProperty:"locHtml"}],function(){return new R},"expressionitem"),G.Serializer.addClass("urlconditionitem",[{name:"url:string",serializationProperty:"locUrl"}],function(){return new L},"expressionitem")},"./src/expressions/expressionParser.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"SyntaxError",function(){return $}),x.d(j,"parse",function(){return F});var R,G=x("./src/expressions/expressions.ts"),se=(R=function(L,m){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,C){T.__proto__=C}||function(T,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(T[y]=C[y])})(L,m)},function(L,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function T(){this.constructor=L}R(L,m),L.prototype=null===m?Object.create(m):(T.prototype=m.prototype,new T)}),$=function(R){function L(m,T,C,y){var h=R.call(this)||this;return h.message=m,h.expected=T,h.found=C,h.location=y,h.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(h,L),h}return se(L,R),L.buildMessage=function(m,T){function C(u){return u.charCodeAt(0).toString(16).toUpperCase()}function y(u){return u.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(a){return"\\x0"+C(a)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(a){return"\\x"+C(a)})}function h(u){return u.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(a){return"\\x0"+C(a)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(a){return"\\x"+C(a)})}function v(u){switch(u.type){case"literal":return'"'+y(u.text)+'"';case"class":var a=u.parts.map(function(o){return Array.isArray(o)?h(o[0])+"-"+h(o[1]):h(o)});return"["+(u.inverted?"^":"")+a+"]";case"any":return"any character";case"end":return"end of input";case"other":return u.description}}return"Expected "+function f(u){var o,s,a=u.map(v);if(a.sort(),a.length>0){for(o=1,s=1;o<a.length;o++)a[o-1]!==a[o]&&(a[s]=a[o],s++);a.length=s}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(m)+" but "+function d(u){return u?'"'+y(u)+'"':"end of input"}(T)+" found."},L}(Error);var F=function w(R,L){L=void 0!==L?L:{};var Hu,m={},T={Expression:Ni},C=Ni,y=function(fe,me){return Od(fe,me,!0)},v=wn("||",!1),d=wn("or",!0),o=wn("&&",!1),l=wn("and",!0),b=function(fe,me){return Od(fe,me)},D=wn("<=",!1),P=wn("lessorequal",!0),Z=wn(">=",!1),H=wn("greaterorequal",!0),U=wn("==",!1),Pe=wn("equal",!0),gt=wn("=",!1),xt=wn("!=",!1),tt=wn("notequal",!0),fn=wn("<",!1),rr=wn("less",!0),Ci=wn(">",!1),Br=wn("greater",!0),Li=wn("+",!1),bo=wn("-",!1),Le=wn("*",!1),it=wn("/",!1),Tr=wn("%",!1),gi=wn("^",!1),qi=wn("power",!0),Fi=wn("*=",!1),Xt=wn("contains",!0),Ko=wn("contain",!0),Mo=wn("notcontains",!0),Zl=wn("notcontain",!0),mi=wn("anyof",!0),vl=wn("allof",!0),na=wn("(",!1),Hs=wn(")",!1),Cl=wn("!",!1),Us=wn("negate",!0),ka=wn("empty",!0),eu="notempty",yf=wn("notempty",!0),bl="undefined",$r=wn("undefined",!1),Fu=wn("null",!1),vf=wn("{",!1),Bu=wn("}",!1),Cf=wn("''",!1),ri=wn('""',!1),bf=wn("'",!1),Bh=function(fe){return"'"+fe+"'"},jh=wn('"',!1),vd=wn("[",!1),Ka=wn("]",!1),tu=wn(",",!1),mc=wn("true",!0),Zn=wn("false",!0),ju=wn("0x",!1),nu=/^[\-]/,fr=Di(["-"],!1,!1),yc=wn(".",!1),Ef=wn("0",!1),Xr=function(fe){return fe.join("")},mg=wn("\\'",!1),xf=wn('\\"',!1),sa=/^[^"']/,Wh=Di(['"',"'"],!0,!1),Tf=function(){return $o()},bd=/^[^{}]/,Pd=Di(["{","}"],!0,!1),Mr=/^[0-9]/,Ed=Di([["0","9"]],!1,!1),xd=/^[1-9]/,Eo=Di([["1","9"]],!1,!1),jr=/^[a-zA-Z_]/,zs=Di([["a","z"],["A","Z"],"_"],!1,!1),wa=function cs(fe){return{type:"other",description:fe}}("whitespace"),Ga=/^[ \t\n\r]/,Wi=Di([" ","\t","\n","\r"],!1,!1),ce=0,Tn=0,El=[{line:1,column:1}],Wt=0,aa=[],yn=0,Lt={};if(void 0!==L.startRule){if(!(L.startRule in T))throw new Error("Can't start parsing from rule \""+L.startRule+'".');C=T[L.startRule]}function $o(){return R.substring(Tn,ce)}function wn(fe,me){return{type:"literal",text:fe,ignoreCase:me}}function Di(fe,me,mt){return{type:"class",parts:fe,inverted:me,ignoreCase:mt}}function Uu(fe){var mt,me=El[fe];if(me)return me;for(mt=fe-1;!El[mt];)mt--;for(me={line:(me=El[mt]).line,column:me.column};mt<fe;)10===R.charCodeAt(mt)?(me.line++,me.column=1):me.column++,mt++;return El[fe]=me,me}function vn(fe){ce<Wt||(ce>Wt&&(Wt=ce,aa=[]),aa.push(fe))}function Ni(){var fe,mt,O,I,V,_,q,Q,Y=34*ce+0,ee=Lt[Y];if(ee)return ce=ee.nextPos,ee.result;if(fe=ce,vr()!==m)if((mt=xo())!==m){for(O=[],I=ce,(V=vr())!==m&&(_=wd())!==m&&(q=vr())!==m&&(Q=xo())!==m?I=V=[V,_,q,Q]:(ce=I,I=m);I!==m;)O.push(I),I=ce,(V=vr())!==m&&(_=wd())!==m&&(q=vr())!==m&&(Q=xo())!==m?I=V=[V,_,q,Q]:(ce=I,I=m);O!==m&&(I=vr())!==m?(Tn=fe,fe=y(mt,O)):(ce=fe,fe=m)}else ce=fe,fe=m;else ce=fe,fe=m;return Lt[Y]={nextPos:ce,result:fe},fe}function wd(){var fe,me,mt=34*ce+1,O=Lt[mt];return O?(ce=O.nextPos,O.result):(fe=ce,"||"===R.substr(ce,2)?(me="||",ce+=2):(me=m,0===yn&&vn(v)),me===m&&("or"===R.substr(ce,2).toLowerCase()?(me=R.substr(ce,2),ce+=2):(me=m,0===yn&&vn(d))),me!==m&&(Tn=fe,me="or"),Lt[mt]={nextPos:ce,result:fe=me},fe)}function xo(){var fe,me,mt,O,I,V,_,q,Q=34*ce+2,Y=Lt[Q];if(Y)return ce=Y.nextPos,Y.result;if(fe=ce,(me=yr())!==m){for(mt=[],O=ce,(I=vr())!==m&&(V=Pn())!==m&&(_=vr())!==m&&(q=yr())!==m?O=I=[I,V,_,q]:(ce=O,O=m);O!==m;)mt.push(O),O=ce,(I=vr())!==m&&(V=Pn())!==m&&(_=vr())!==m&&(q=yr())!==m?O=I=[I,V,_,q]:(ce=O,O=m);mt!==m?(Tn=fe,fe=me=y(me,mt)):(ce=fe,fe=m)}else ce=fe,fe=m;return Lt[Q]={nextPos:ce,result:fe},fe}function Pn(){var fe,me,mt=34*ce+3,O=Lt[mt];return O?(ce=O.nextPos,O.result):(fe=ce,"&&"===R.substr(ce,2)?(me="&&",ce+=2):(me=m,0===yn&&vn(o)),me===m&&("and"===R.substr(ce,3).toLowerCase()?(me=R.substr(ce,3),ce+=3):(me=m,0===yn&&vn(l))),me!==m&&(Tn=fe,me="and"),Lt[mt]={nextPos:ce,result:fe=me},fe)}function yr(){var fe,me,mt,O,I,V,_,q,Q=34*ce+4,Y=Lt[Q];if(Y)return ce=Y.nextPos,Y.result;if(fe=ce,(me=Yi())!==m){for(mt=[],O=ce,(I=vr())!==m&&(V=ai())!==m&&(_=vr())!==m&&(q=Yi())!==m?O=I=[I,V,_,q]:(ce=O,O=m);O!==m;)mt.push(O),O=ce,(I=vr())!==m&&(V=ai())!==m&&(_=vr())!==m&&(q=Yi())!==m?O=I=[I,V,_,q]:(ce=O,O=m);mt!==m?(Tn=fe,fe=me=b(me,mt)):(ce=fe,fe=m)}else ce=fe,fe=m;return Lt[Q]={nextPos:ce,result:fe},fe}function ai(){var fe,me,mt=34*ce+5,O=Lt[mt];return O?(ce=O.nextPos,O.result):(fe=ce,"<="===R.substr(ce,2)?(me="<=",ce+=2):(me=m,0===yn&&vn(D)),me===m&&("lessorequal"===R.substr(ce,11).toLowerCase()?(me=R.substr(ce,11),ce+=11):(me=m,0===yn&&vn(P))),me!==m&&(Tn=fe,me="lessorequal"),(fe=me)===m&&(fe=ce,">="===R.substr(ce,2)?(me=">=",ce+=2):(me=m,0===yn&&vn(Z)),me===m&&("greaterorequal"===R.substr(ce,14).toLowerCase()?(me=R.substr(ce,14),ce+=14):(me=m,0===yn&&vn(H))),me!==m&&(Tn=fe,me="greaterorequal"),(fe=me)===m&&(fe=ce,"=="===R.substr(ce,2)?(me="==",ce+=2):(me=m,0===yn&&vn(U)),me===m&&("equal"===R.substr(ce,5).toLowerCase()?(me=R.substr(ce,5),ce+=5):(me=m,0===yn&&vn(Pe))),me!==m&&(Tn=fe,me="equal"),(fe=me)===m&&(fe=ce,61===R.charCodeAt(ce)?(me="=",ce++):(me=m,0===yn&&vn(gt)),me===m&&("equal"===R.substr(ce,5).toLowerCase()?(me=R.substr(ce,5),ce+=5):(me=m,0===yn&&vn(Pe))),me!==m&&(Tn=fe,me="equal"),(fe=me)===m&&(fe=ce,"!="===R.substr(ce,2)?(me="!=",ce+=2):(me=m,0===yn&&vn(xt)),me===m&&("notequal"===R.substr(ce,8).toLowerCase()?(me=R.substr(ce,8),ce+=8):(me=m,0===yn&&vn(tt))),me!==m&&(Tn=fe,me="notequal"),(fe=me)===m&&(fe=ce,60===R.charCodeAt(ce)?(me="<",ce++):(me=m,0===yn&&vn(fn)),me===m&&("less"===R.substr(ce,4).toLowerCase()?(me=R.substr(ce,4),ce+=4):(me=m,0===yn&&vn(rr))),me!==m&&(Tn=fe,me="less"),(fe=me)===m&&(fe=ce,62===R.charCodeAt(ce)?(me=">",ce++):(me=m,0===yn&&vn(Ci)),me===m&&("greater"===R.substr(ce,7).toLowerCase()?(me=R.substr(ce,7),ce+=7):(me=m,0===yn&&vn(Br))),me!==m&&(Tn=fe,me="greater"),fe=me)))))),Lt[mt]={nextPos:ce,result:fe},fe)}function Yi(){var fe,me,mt,O,I,V,_,q,Q=34*ce+6,Y=Lt[Q];if(Y)return ce=Y.nextPos,Y.result;if(fe=ce,(me=_i())!==m){for(mt=[],O=ce,(I=vr())!==m&&(V=Qs())!==m&&(_=vr())!==m&&(q=_i())!==m?O=I=[I,V,_,q]:(ce=O,O=m);O!==m;)mt.push(O),O=ce,(I=vr())!==m&&(V=Qs())!==m&&(_=vr())!==m&&(q=_i())!==m?O=I=[I,V,_,q]:(ce=O,O=m);mt!==m?(Tn=fe,fe=me=y(me,mt)):(ce=fe,fe=m)}else ce=fe,fe=m;return Lt[Q]={nextPos:ce,result:fe},fe}function Qs(){var fe,me,mt=34*ce+7,O=Lt[mt];return O?(ce=O.nextPos,O.result):(fe=ce,43===R.charCodeAt(ce)?(me="+",ce++):(me=m,0===yn&&vn(Li)),me!==m&&(Tn=fe,me="plus"),(fe=me)===m&&(fe=ce,45===R.charCodeAt(ce)?(me="-",ce++):(me=m,0===yn&&vn(bo)),me!==m&&(Tn=fe,me="minus"),fe=me),Lt[mt]={nextPos:ce,result:fe},fe)}function _i(){var fe,me,mt,O,I,V,_,q,Q=34*ce+8,Y=Lt[Q];if(Y)return ce=Y.nextPos,Y.result;if(fe=ce,(me=Pi())!==m){for(mt=[],O=ce,(I=vr())!==m&&(V=Oa())!==m&&(_=vr())!==m&&(q=Pi())!==m?O=I=[I,V,_,q]:(ce=O,O=m);O!==m;)mt.push(O),O=ce,(I=vr())!==m&&(V=Oa())!==m&&(_=vr())!==m&&(q=Pi())!==m?O=I=[I,V,_,q]:(ce=O,O=m);mt!==m?(Tn=fe,fe=me=y(me,mt)):(ce=fe,fe=m)}else ce=fe,fe=m;return Lt[Q]={nextPos:ce,result:fe},fe}function Oa(){var fe,me,mt=34*ce+9,O=Lt[mt];return O?(ce=O.nextPos,O.result):(fe=ce,42===R.charCodeAt(ce)?(me="*",ce++):(me=m,0===yn&&vn(Le)),me!==m&&(Tn=fe,me="mul"),(fe=me)===m&&(fe=ce,47===R.charCodeAt(ce)?(me="/",ce++):(me=m,0===yn&&vn(it)),me!==m&&(Tn=fe,me="div"),(fe=me)===m&&(fe=ce,37===R.charCodeAt(ce)?(me="%",ce++):(me=m,0===yn&&vn(Tr)),me!==m&&(Tn=fe,me="mod"),fe=me)),Lt[mt]={nextPos:ce,result:fe},fe)}function Pi(){var fe,me,mt,O,I,V,_,q,Q=34*ce+10,Y=Lt[Q];if(Y)return ce=Y.nextPos,Y.result;if(fe=ce,(me=Ya())!==m){for(mt=[],O=ce,(I=vr())!==m&&(V=ru())!==m&&(_=vr())!==m&&(q=Ya())!==m?O=I=[I,V,_,q]:(ce=O,O=m);O!==m;)mt.push(O),O=ce,(I=vr())!==m&&(V=ru())!==m&&(_=vr())!==m&&(q=Ya())!==m?O=I=[I,V,_,q]:(ce=O,O=m);mt!==m?(Tn=fe,fe=me=y(me,mt)):(ce=fe,fe=m)}else ce=fe,fe=m;return Lt[Q]={nextPos:ce,result:fe},fe}function ru(){var fe,me,mt=34*ce+11,O=Lt[mt];return O?(ce=O.nextPos,O.result):(fe=ce,94===R.charCodeAt(ce)?(me="^",ce++):(me=m,0===yn&&vn(gi)),me===m&&("power"===R.substr(ce,5).toLowerCase()?(me=R.substr(ce,5),ce+=5):(me=m,0===yn&&vn(qi))),me!==m&&(Tn=fe,me="power"),Lt[mt]={nextPos:ce,result:fe=me},fe)}function Ya(){var fe,me,mt,O,I,V,_,q,Q=34*ce+12,Y=Lt[Q];if(Y)return ce=Y.nextPos,Y.result;if(fe=ce,(me=Za())!==m){for(mt=[],O=ce,(I=vr())!==m&&(V=dr())!==m&&(_=vr())!==m?((q=Za())===m&&(q=null),q!==m?O=I=[I,V,_,q]:(ce=O,O=m)):(ce=O,O=m);O!==m;)mt.push(O),O=ce,(I=vr())!==m&&(V=dr())!==m&&(_=vr())!==m?((q=Za())===m&&(q=null),q!==m?O=I=[I,V,_,q]:(ce=O,O=m)):(ce=O,O=m);mt!==m?(Tn=fe,fe=me=b(me,mt)):(ce=fe,fe=m)}else ce=fe,fe=m;return Lt[Q]={nextPos:ce,result:fe},fe}function dr(){var fe,me,mt=34*ce+13,O=Lt[mt];return O?(ce=O.nextPos,O.result):(fe=ce,"*="===R.substr(ce,2)?(me="*=",ce+=2):(me=m,0===yn&&vn(Fi)),me===m&&("contains"===R.substr(ce,8).toLowerCase()?(me=R.substr(ce,8),ce+=8):(me=m,0===yn&&vn(Xt)),me===m&&("contain"===R.substr(ce,7).toLowerCase()?(me=R.substr(ce,7),ce+=7):(me=m,0===yn&&vn(Ko)))),me!==m&&(Tn=fe,me="contains"),(fe=me)===m&&(fe=ce,"notcontains"===R.substr(ce,11).toLowerCase()?(me=R.substr(ce,11),ce+=11):(me=m,0===yn&&vn(Mo)),me===m&&("notcontain"===R.substr(ce,10).toLowerCase()?(me=R.substr(ce,10),ce+=10):(me=m,0===yn&&vn(Zl))),me!==m&&(Tn=fe,me="notcontains"),(fe=me)===m&&(fe=ce,"anyof"===R.substr(ce,5).toLowerCase()?(me=R.substr(ce,5),ce+=5):(me=m,0===yn&&vn(mi)),me!==m&&(Tn=fe,me="anyof"),(fe=me)===m&&(fe=ce,"allof"===R.substr(ce,5).toLowerCase()?(me=R.substr(ce,5),ce+=5):(me=m,0===yn&&vn(vl)),me!==m&&(Tn=fe,me="allof"),fe=me))),Lt[mt]={nextPos:ce,result:fe},fe)}function Za(){var fe,me,O,V,_=34*ce+14,q=Lt[_];return q?(ce=q.nextPos,q.result):(fe=ce,40===R.charCodeAt(ce)?(me="(",ce++):(me=m,0===yn&&vn(na)),me!==m&&vr()!==m&&(O=Ni())!==m&&vr()!==m?(41===R.charCodeAt(ce)?(V=")",ce++):(V=m,0===yn&&vn(Hs)),V===m&&(V=null),V!==m?(Tn=fe,fe=me=O):(ce=fe,fe=m)):(ce=fe,fe=m),fe===m&&(fe=function Vo(){var fe,me,mt,O,I,V=34*ce+15,_=Lt[V];return _?(ce=_.nextPos,_.result):(fe=ce,(me=zu())!==m?(40===R.charCodeAt(ce)?(mt="(",ce++):(mt=m,0===yn&&vn(na)),mt!==m&&(O=zi())!==m?(41===R.charCodeAt(ce)?(I=")",ce++):(I=m,0===yn&&vn(Hs)),I===m&&(I=null),I!==m?(Tn=fe,fe=me=function(fe,me){return new G.FunctionOperand(fe,me)}(me,O)):(ce=fe,fe=m)):(ce=fe,fe=m)):(ce=fe,fe=m),Lt[V]={nextPos:ce,result:fe},fe)}())===m&&(fe=function Cc(){var fe,me,O,I=34*ce+16,V=Lt[I];return V?(ce=V.nextPos,V.result):(fe=ce,33===R.charCodeAt(ce)?(me="!",ce++):(me=m,0===yn&&vn(Cl)),me===m&&("negate"===R.substr(ce,6).toLowerCase()?(me=R.substr(ce,6),ce+=6):(me=m,0===yn&&vn(Us))),me!==m&&vr()!==m&&(O=Ni())!==m?(Tn=fe,fe=me=function(fe){return new G.UnaryOperand(fe,"negate")}(O)):(ce=fe,fe=m),fe===m&&(fe=ce,(me=Si())!==m&&vr()!==m&&(O=function Lo(){var fe,me,mt=34*ce+17,O=Lt[mt];return O?(ce=O.nextPos,O.result):(fe=ce,"empty"===R.substr(ce,5).toLowerCase()?(me=R.substr(ce,5),ce+=5):(me=m,0===yn&&vn(ka)),me!==m&&(Tn=fe,me="empty"),(fe=me)===m&&(fe=ce,R.substr(ce,8).toLowerCase()===eu?(me=R.substr(ce,8),ce+=8):(me=m,0===yn&&vn(yf)),me!==m&&(Tn=fe,me="notempty"),fe=me),Lt[mt]={nextPos:ce,result:fe},fe)}())!==m?(Tn=fe,fe=me=function(fe,me){return new G.UnaryOperand(fe,me)}(me,O)):(ce=fe,fe=m)),Lt[I]={nextPos:ce,result:fe},fe)}())===m&&(fe=Si())===m&&(fe=function iu(){var fe,me,mt,O,I=34*ce+20,V=Lt[I];return V?(ce=V.nextPos,V.result):(fe=ce,91===R.charCodeAt(ce)?(me="[",ce++):(me=m,0===yn&&vn(vd)),me!==m&&(mt=zi())!==m?(93===R.charCodeAt(ce)?(O="]",ce++):(O=m,0===yn&&vn(Ka)),O!==m?(Tn=fe,fe=me=mt):(ce=fe,fe=m)):(ce=fe,fe=m),Lt[I]={nextPos:ce,result:fe},fe)}()),Lt[_]={nextPos:ce,result:fe},fe)}function Si(){var fe,mt,O,I,V=34*ce+18,_=Lt[V];return _?(ce=_.nextPos,_.result):(fe=ce,vr()!==m?(R.substr(ce,9)===bl?(mt=bl,ce+=9):(mt=m,0===yn&&vn($r)),mt===m&&("null"===R.substr(ce,4)?(mt="null",ce+=4):(mt=m,0===yn&&vn(Fu))),mt!==m?(Tn=fe,fe=null):(ce=fe,fe=m)):(ce=fe,fe=m),fe===m&&(fe=ce,vr()!==m&&(mt=function Wu(){var fe,me,mt,O,I=34*ce+19,V=Lt[I];return V?(ce=V.nextPos,V.result):(fe=ce,(me=function vi(){var fe,me,mt=34*ce+22,O=Lt[mt];return O?(ce=O.nextPos,O.result):(fe=ce,"true"===R.substr(ce,4).toLowerCase()?(me=R.substr(ce,4),ce+=4):(me=m,0===yn&&vn(mc)),me!==m&&(Tn=fe,me=!0),(fe=me)===m&&(fe=ce,"false"===R.substr(ce,5).toLowerCase()?(me=R.substr(ce,5),ce+=5):(me=m,0===yn&&vn(Zn)),me!==m&&(Tn=fe,me=!1),fe=me),Lt[mt]={nextPos:ce,result:fe},fe)}())!==m&&(Tn=fe),(fe=me)===m&&(fe=ce,(me=function Dd(){var fe,me,mt,O=34*ce+23,I=Lt[O];return I?(ce=I.nextPos,I.result):(fe=ce,"0x"===R.substr(ce,2)?(me="0x",ce+=2):(me=m,0===yn&&vn(ju)),me!==m&&(mt=Fo())!==m?(Tn=fe,fe=me=parseInt($o(),16)):(ce=fe,fe=m),fe===m&&(fe=ce,nu.test(R.charAt(ce))?(me=R.charAt(ce),ce++):(me=m,0===yn&&vn(fr)),me===m&&(me=null),me!==m&&(mt=function Id(){var fe,me,mt,I=34*ce+24,V=Lt[I];return V?(ce=V.nextPos,V.result):(fe=ce,(me=Fo())!==m?(46===R.charCodeAt(ce)?(mt=".",ce++):(mt=m,0===yn&&vn(yc)),mt!==m&&Fo()!==m?(Tn=fe,fe=me=parseFloat($o())):(ce=fe,fe=m)):(ce=fe,fe=m),fe===m&&(fe=ce,(me=function zh(){var fe,me,mt=34*ce+31,O=Lt[mt];if(O)return ce=O.nextPos,O.result;if(fe=[],xd.test(R.charAt(ce))?(me=R.charAt(ce),ce++):(me=m,0===yn&&vn(Eo)),me!==m)for(;me!==m;)fe.push(me),xd.test(R.charAt(ce))?(me=R.charAt(ce),ce++):(me=m,0===yn&&vn(Eo));else fe=m;return Lt[mt]={nextPos:ce,result:fe},fe}())!==m?((mt=Fo())===m&&(mt=null),mt!==m?(Tn=fe,fe=me=parseInt($o(),10)):(ce=fe,fe=m)):(ce=fe,fe=m),fe===m&&(fe=ce,48===R.charCodeAt(ce)?(me="0",ce++):(me=m,0===yn&&vn(Ef)),me!==m&&(Tn=fe,me=0),fe=me)),Lt[I]={nextPos:ce,result:fe},fe)}())!==m?(Tn=fe,fe=me=function(fe,me){return null==fe?me:-me}(me,mt)):(ce=fe,fe=m)),Lt[O]={nextPos:ce,result:fe},fe)}())!==m&&(Tn=fe),(fe=me)===m&&(fe=ce,(me=zu())!==m&&(Tn=fe),(fe=me)===m&&(fe=ce,"''"===R.substr(ce,2)?(me="''",ce+=2):(me=m,0===yn&&vn(Cf)),me!==m&&(Tn=fe,me=""),(fe=me)===m&&(fe=ce,'""'===R.substr(ce,2)?(me='""',ce+=2):(me=m,0===yn&&vn(ri)),me!==m&&(Tn=fe,me=""),(fe=me)===m&&(fe=ce,39===R.charCodeAt(ce)?(me="'",ce++):(me=m,0===yn&&vn(bf)),me!==m&&(mt=Es())!==m?(39===R.charCodeAt(ce)?(O="'",ce++):(O=m,0===yn&&vn(bf)),O!==m?(Tn=fe,fe=me=Bh(mt)):(ce=fe,fe=m)):(ce=fe,fe=m),fe===m&&(fe=ce,34===R.charCodeAt(ce)?(me='"',ce++):(me=m,0===yn&&vn(jh)),me!==m&&(mt=Es())!==m?(34===R.charCodeAt(ce)?(O='"',ce++):(O=m,0===yn&&vn(jh)),O!==m?(Tn=fe,fe=me=Bh(mt)):(ce=fe,fe=m)):(ce=fe,fe=m))))))),Lt[I]={nextPos:ce,result:fe},fe)}())!==m?(Tn=fe,fe=function(fe){return new G.Const(fe)}(mt)):(ce=fe,fe=m),fe===m&&(fe=ce,vr()!==m?(123===R.charCodeAt(ce)?(mt="{",ce++):(mt=m,0===yn&&vn(vf)),mt!==m&&(O=function la(){var fe,me,mt,O=34*ce+25,I=Lt[O];if(I)return ce=I.nextPos,I.result;if(fe=ce,me=[],(mt=_u())!==m)for(;mt!==m;)me.push(mt),mt=_u();else me=m;return me!==m&&(Tn=fe,me=Xr(me)),Lt[O]={nextPos:ce,result:fe=me},fe}())!==m?(125===R.charCodeAt(ce)?(I="}",ce++):(I=m,0===yn&&vn(Bu)),I!==m?(Tn=fe,fe=function(fe){return new G.Variable(fe)}(O)):(ce=fe,fe=m)):(ce=fe,fe=m)):(ce=fe,fe=m))),Lt[V]={nextPos:ce,result:fe},fe)}function zi(){var fe,me,mt,O,I,V,_,q,Q=34*ce+21,Y=Lt[Q];if(Y)return ce=Y.nextPos,Y.result;if(fe=ce,(me=Ni())===m&&(me=null),me!==m){for(mt=[],O=ce,(I=vr())!==m?(44===R.charCodeAt(ce)?(V=",",ce++):(V=m,0===yn&&vn(tu)),V!==m&&(_=vr())!==m&&(q=Ni())!==m?O=I=[I,V,_,q]:(ce=O,O=m)):(ce=O,O=m);O!==m;)mt.push(O),O=ce,(I=vr())!==m?(44===R.charCodeAt(ce)?(V=",",ce++):(V=m,0===yn&&vn(tu)),V!==m&&(_=vr())!==m&&(q=Ni())!==m?O=I=[I,V,_,q]:(ce=O,O=m)):(ce=O,O=m);mt!==m?(Tn=fe,fe=me=function(fe,me){if(null==fe)return new G.ArrayOperand([]);var mt=[fe];if(Array.isArray(me))for(var O=function vg(fe){return[].concat.apply([],fe)}(me),I=3;I<O.length;I+=4)mt.push(O[I]);return new G.ArrayOperand(mt)}(me,mt)):(ce=fe,fe=m)}else ce=fe,fe=m;return Lt[Q]={nextPos:ce,result:fe},fe}function Es(){var fe,me,mt,O=34*ce+26,I=Lt[O];if(I)return ce=I.nextPos,I.result;if(fe=ce,me=[],(mt=bc())!==m)for(;mt!==m;)me.push(mt),mt=bc();else me=m;return me!==m&&(Tn=fe,me=Xr(me)),Lt[O]={nextPos:ce,result:fe=me},fe}function bc(){var fe,me,mt=34*ce+27,O=Lt[mt];return O?(ce=O.nextPos,O.result):(fe=ce,"\\'"===R.substr(ce,2)?(me="\\'",ce+=2):(me=m,0===yn&&vn(mg)),me!==m&&(Tn=fe,me="'"),(fe=me)===m&&(fe=ce,'\\"'===R.substr(ce,2)?(me='\\"',ce+=2):(me=m,0===yn&&vn(xf)),me!==m&&(Tn=fe,me='"'),(fe=me)===m&&(fe=ce,sa.test(R.charAt(ce))?(me=R.charAt(ce),ce++):(me=m,0===yn&&vn(Wh)),me!==m&&(Tn=fe,me=Tf()),fe=me)),Lt[mt]={nextPos:ce,result:fe},fe)}function _u(){var fe,me,mt=34*ce+28,O=Lt[mt];return O?(ce=O.nextPos,O.result):(fe=ce,bd.test(R.charAt(ce))?(me=R.charAt(ce),ce++):(me=m,0===yn&&vn(Pd)),me!==m&&(Tn=fe,me=Tf()),Lt[mt]={nextPos:ce,result:fe=me},fe)}function zu(){var fe,mt,O,I,V,_,q=34*ce+29,Q=Lt[q];if(Q)return ce=Q.nextPos,Q.result;if(fe=ce,Qu()!==m){if(mt=[],O=ce,(I=Fo())!==m){for(V=[],_=Qu();_!==m;)V.push(_),_=Qu();V!==m?O=I=[I,V]:(ce=O,O=m)}else ce=O,O=m;for(;O!==m;)if(mt.push(O),O=ce,(I=Fo())!==m){for(V=[],_=Qu();_!==m;)V.push(_),_=Qu();V!==m?O=I=[I,V]:(ce=O,O=m)}else ce=O,O=m;mt!==m?(Tn=fe,fe=Tf()):(ce=fe,fe=m)}else ce=fe,fe=m;return Lt[q]={nextPos:ce,result:fe},fe}function Fo(){var fe,me,mt=34*ce+30,O=Lt[mt];if(O)return ce=O.nextPos,O.result;if(fe=[],Mr.test(R.charAt(ce))?(me=R.charAt(ce),ce++):(me=m,0===yn&&vn(Ed)),me!==m)for(;me!==m;)fe.push(me),Mr.test(R.charAt(ce))?(me=R.charAt(ce),ce++):(me=m,0===yn&&vn(Ed));else fe=m;return Lt[mt]={nextPos:ce,result:fe},fe}function Qu(){var fe,me,mt=34*ce+32,O=Lt[mt];if(O)return ce=O.nextPos,O.result;if(fe=[],jr.test(R.charAt(ce))?(me=R.charAt(ce),ce++):(me=m,0===yn&&vn(zs)),me!==m)for(;me!==m;)fe.push(me),jr.test(R.charAt(ce))?(me=R.charAt(ce),ce++):(me=m,0===yn&&vn(zs));else fe=m;return Lt[mt]={nextPos:ce,result:fe},fe}function vr(){var fe,me,mt=34*ce+33,O=Lt[mt];if(O)return ce=O.nextPos,O.result;for(yn++,fe=[],Ga.test(R.charAt(ce))?(me=R.charAt(ce),ce++):(me=m,0===yn&&vn(Wi));me!==m;)fe.push(me),Ga.test(R.charAt(ce))?(me=R.charAt(ce),ce++):(me=m,0===yn&&vn(Wi));return yn--,fe===m&&(me=m,0===yn&&vn(wa)),Lt[mt]={nextPos:ce,result:fe},fe}function Od(fe,me,mt){return void 0===mt&&(mt=!1),me.reduce(function(O,I){return new G.BinaryOperand(I[1],O,I[3],mt)},fe)}if((Hu=C())!==m&&ce===R.length)return Hu;throw Hu!==m&&ce<R.length&&vn({type:"end"}),function Ia(fe,me,mt){return new $($.buildMessage(fe,me),fe,me,mt)}(aa,Wt<R.length?R.charAt(Wt):null,function Ja(fe,me){var mt=Uu(fe),O=Uu(me);return{start:{offset:fe,line:mt.line,column:mt.column},end:{offset:me,line:O.line,column:O.column}}}(Wt,Wt<R.length?Wt+1:Wt))}},"./src/expressions/expressions.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"Operand",function(){return R}),x.d(j,"BinaryOperand",function(){return L}),x.d(j,"UnaryOperand",function(){return m}),x.d(j,"ArrayOperand",function(){return T}),x.d(j,"Const",function(){return C}),x.d(j,"Variable",function(){return y}),x.d(j,"FunctionOperand",function(){return h}),x.d(j,"OperandMaker",function(){return v});var f,G=x("./src/helpers.ts"),se=x("./src/functionsfactory.ts"),$=x("./src/conditionProcessValue.ts"),w=x("./src/settings.ts"),F=(f=function(d,u){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(a[s]=o[s])})(d,u)},function(d,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function a(){this.constructor=d}f(d,u),d.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)}),R=function(){function f(){}return f.prototype.toString=function(d){return void 0===d&&(d=void 0),""},f.prototype.hasFunction=function(){return!1},f.prototype.hasAsyncFunction=function(){return!1},f.prototype.addToAsyncList=function(d){},f.prototype.isEqual=function(d){return!!d&&d.getType()===this.getType()&&this.isContentEqual(d)},f.prototype.areOperatorsEquals=function(d,u){return!d&&!u||!!d&&d.isEqual(u)},f}(),L=function(f){function d(u,a,o,s){void 0===a&&(a=null),void 0===o&&(o=null),void 0===s&&(s=!1);var l=f.call(this)||this;return l.operatorName=u,l.left=a,l.right=o,l.isArithmeticValue=s,l.consumer=s?v.binaryFunctions.arithmeticOp(u):v.binaryFunctions[u],null==l.consumer&&v.throwInvalidOperatorError(u),l}return F(d,f),Object.defineProperty(d.prototype,"requireStrictCompare",{get:function(){return this.getIsOperandRequireStrict(this.left)||this.getIsOperandRequireStrict(this.right)},enumerable:!1,configurable:!0}),d.prototype.getIsOperandRequireStrict=function(u){return!!u&&u.requireStrictCompare},d.prototype.getType=function(){return"binary"},Object.defineProperty(d.prototype,"isArithmetic",{get:function(){return this.isArithmeticValue},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isConjunction",{get:function(){return"or"==this.operatorName||"and"==this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"conjunction",{get:function(){return this.isConjunction?this.operatorName:""},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"leftOperand",{get:function(){return this.left},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"rightOperand",{get:function(){return this.right},enumerable:!1,configurable:!0}),d.prototype.isContentEqual=function(u){var a=u;return a.operator===this.operator&&this.areOperatorsEquals(this.left,a.left)&&this.areOperatorsEquals(this.right,a.right)},d.prototype.evaluateParam=function(u,a){return null==u?null:u.evaluate(a)},d.prototype.evaluate=function(u){return this.consumer.call(this,this.evaluateParam(this.left,u),this.evaluateParam(this.right,u),this.requireStrictCompare)},d.prototype.toString=function(u){if(void 0===u&&(u=void 0),u){var a=u(this);if(a)return a}return"("+v.safeToString(this.left,u)+" "+v.operatorToString(this.operatorName)+" "+v.safeToString(this.right,u)+")"},d.prototype.setVariables=function(u){null!=this.left&&this.left.setVariables(u),null!=this.right&&this.right.setVariables(u)},d.prototype.hasFunction=function(){return!!this.left&&this.left.hasFunction()||!!this.right&&this.right.hasFunction()},d.prototype.hasAsyncFunction=function(){return!!this.left&&this.left.hasAsyncFunction()||!!this.right&&this.right.hasAsyncFunction()},d.prototype.addToAsyncList=function(u){this.left&&this.left.addToAsyncList(u),this.right&&this.right.addToAsyncList(u)},d}(R),m=function(f){function d(u,a){var o=f.call(this)||this;return o.expressionValue=u,o.operatorName=a,o.consumer=v.unaryFunctions[a],null==o.consumer&&v.throwInvalidOperatorError(a),o}return F(d,f),Object.defineProperty(d.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),d.prototype.getType=function(){return"unary"},d.prototype.toString=function(u){if(void 0===u&&(u=void 0),u){var a=u(this);if(a)return a}return v.operatorToString(this.operatorName)+" "+this.expression.toString(u)},d.prototype.isContentEqual=function(u){return u.operator==this.operator&&this.areOperatorsEquals(this.expression,u.expression)},d.prototype.hasFunction=function(){return this.expression.hasFunction()},d.prototype.hasAsyncFunction=function(){return this.expression.hasAsyncFunction()},d.prototype.addToAsyncList=function(u){this.expression.addToAsyncList(u)},d.prototype.evaluate=function(u){var a=this.expression.evaluate(u);return this.consumer.call(this,a)},d.prototype.setVariables=function(u){this.expression.setVariables(u)},d}(R),T=function(f){function d(u){var a=f.call(this)||this;return a.values=u,a}return F(d,f),d.prototype.getType=function(){return"array"},d.prototype.toString=function(u){if(void 0===u&&(u=void 0),u){var a=u(this);if(a)return a}return"["+this.values.map(function(o){return o.toString(u)}).join(", ")+"]"},d.prototype.evaluate=function(u){return this.values.map(function(a){return a.evaluate(u)})},d.prototype.setVariables=function(u){this.values.forEach(function(a){a.setVariables(u)})},d.prototype.hasFunction=function(){return this.values.some(function(u){return u.hasFunction()})},d.prototype.hasAsyncFunction=function(){return this.values.some(function(u){return u.hasAsyncFunction()})},d.prototype.addToAsyncList=function(u){this.values.forEach(function(a){return a.addToAsyncList(u)})},d.prototype.isContentEqual=function(u){var a=u;if(a.values.length!==this.values.length)return!1;for(var o=0;o<this.values.length;o++)if(!a.values[o].isEqual(this.values[o]))return!1;return!0},d}(R),C=function(f){function d(u){var a=f.call(this)||this;return a.value=u,a}return F(d,f),d.prototype.getType=function(){return"const"},d.prototype.toString=function(u){if(void 0===u&&(u=void 0),u){var a=u(this);if(a)return a}return this.value.toString()},Object.defineProperty(d.prototype,"correctValue",{get:function(){return this.getCorrectValue(this.value)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"requireStrictCompare",{get:function(){return!1},enumerable:!1,configurable:!0}),d.prototype.evaluate=function(){return this.getCorrectValue(this.value)},d.prototype.setVariables=function(u){},d.prototype.getCorrectValue=function(u){return u&&"string"==typeof u?this.isBooleanValue(u)?"true"===u.toLowerCase():u.length>1&&this.isQuote(u[0])&&this.isQuote(u[u.length-1])?u.substring(1,u.length-1):v.isNumeric(u)?0==u.indexOf("0x")?parseInt(u):u.length>1&&"0"==u[0]&&(u.length<2||"."!==u[1]&&","!==u[1])?u:parseFloat(u):u:u},d.prototype.isContentEqual=function(u){return u.value==this.value},d.prototype.isQuote=function(u){return"'"==u||'"'==u},d.prototype.isBooleanValue=function(u){return u&&("true"===u.toLowerCase()||"false"===u.toLowerCase())},d}(R),y=function(f){function d(u){var a=f.call(this,u)||this;return a.variableName=u,a.valueInfo={},a.useValueAsItIs=!1,!!a.variableName&&a.variableName.length>1&&a.variableName[0]===d.DisableConversionChar&&(a.variableName=a.variableName.substring(1),a.useValueAsItIs=!0),a}return F(d,f),Object.defineProperty(d,"DisableConversionChar",{get:function(){return w.settings.expressionDisableConversionChar},set:function(u){w.settings.expressionDisableConversionChar=u},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"requireStrictCompare",{get:function(){return!0===this.valueInfo.sctrictCompare},enumerable:!1,configurable:!0}),d.prototype.getType=function(){return"variable"},d.prototype.toString=function(u){if(void 0===u&&(u=void 0),u){var a=u(this);if(a)return a}return"{"+(this.useValueAsItIs?d.DisableConversionChar:"")+this.variableName+"}"},Object.defineProperty(d.prototype,"variable",{get:function(){return this.variableName},enumerable:!1,configurable:!0}),d.prototype.evaluate=function(u){return this.valueInfo.name=this.variableName,u.getValueInfo(this.valueInfo),this.valueInfo.hasValue?this.getCorrectValue(this.valueInfo.value):null},d.prototype.setVariables=function(u){u.push(this.variableName)},d.prototype.getCorrectValue=function(u){return this.useValueAsItIs?u:f.prototype.getCorrectValue.call(this,u)},d.prototype.isContentEqual=function(u){return u.variable==this.variable},d}(C),h=function(f){function d(u,a){var o=f.call(this)||this;return o.originalValue=u,o.parameters=a,o.isReadyValue=!1,Array.isArray(a)&&0===a.length&&(o.parameters=new T([])),o}return F(d,f),d.prototype.getType=function(){return"function"},d.prototype.evaluateAsync=function(u){var a=this;this.isReadyValue=!1;var o=new $.ProcessValue;o.values=G.Helpers.createCopy(u.values),o.properties=G.Helpers.createCopy(u.properties),o.properties.returnResult=function(s){a.asynResult=s,a.isReadyValue=!0,a.onAsyncReady()},this.evaluateCore(o)},d.prototype.evaluate=function(u){return this.isReady?this.asynResult:this.evaluateCore(u)},d.prototype.evaluateCore=function(u){return se.FunctionFactory.Instance.run(this.originalValue,this.parameters.evaluate(u),u.properties)},d.prototype.toString=function(u){if(void 0===u&&(u=void 0),u){var a=u(this);if(a)return a}return this.originalValue+"("+this.parameters.toString(u)+")"},d.prototype.setVariables=function(u){this.parameters.setVariables(u)},Object.defineProperty(d.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),d.prototype.hasFunction=function(){return!0},d.prototype.hasAsyncFunction=function(){return se.FunctionFactory.Instance.isAsyncFunction(this.originalValue)},d.prototype.addToAsyncList=function(u){this.hasAsyncFunction()&&u.push(this)},d.prototype.isContentEqual=function(u){return u.originalValue==this.originalValue&&this.areOperatorsEquals(u.parameters,this.parameters)},d}(R),v=function(){function f(){}return f.throwInvalidOperatorError=function(d){throw new Error("Invalid operator: '"+d+"'")},f.safeToString=function(d,u){return null==d?"":d.toString(u)},f.toOperandString=function(d){return!!d&&!f.isNumeric(d)&&!f.isBooleanValue(d)&&(d="'"+d+"'"),d},f.isSpaceString=function(d){return!!d&&!d.replace(" ","")},f.isNumeric=function(d){return!(d&&(d.indexOf("-")>-1||d.indexOf("+")>1||d.indexOf("*")>-1||d.indexOf("^")>-1||d.indexOf("/")>-1||d.indexOf("%")>-1)||f.isSpaceString(d))&&G.Helpers.isNumber(d)},f.isBooleanValue=function(d){return!!d&&("true"===d.toLowerCase()||"false"===d.toLowerCase())},f.countDecimals=function(d){if(G.Helpers.isNumber(d)&&Math.floor(d)!==d){var u=d.toString().split(".");return u.length>1&&u[1].length||0}return 0},f.plusMinus=function(d,u,a){var o=f.countDecimals(d),s=f.countDecimals(u);if(o>0||s>0){var l=Math.max(o,s);a=parseFloat(a.toFixed(l))}return a},f.isTwoValueEquals=function(d,u,a){return void 0===a&&(a=!0),"undefined"===d&&(d=void 0),"undefined"===u&&(u=void 0),G.Helpers.isTwoValueEquals(d,u,a)},f.operatorToString=function(d){var u=f.signs[d];return null==u?d:u},f.convertValForDateCompare=function(d,u){if(u instanceof Date&&"string"==typeof d){var a=new Date(d);return a.setHours(0,0,0),a}return d},f.unaryFunctions={empty:function(d){return G.Helpers.isValueEmpty(d)},notempty:function(d){return!f.unaryFunctions.empty(d)},negate:function(d){return!d}},f.binaryFunctions={arithmeticOp:function(d){var u=function(a,o){return G.Helpers.isValueEmpty(a)?"number"==typeof o?0:"string"==typeof a?a:"string"==typeof o?"":Array.isArray(o)?[]:0:a};return function(a,o){a=u(a,o),o=u(o,a);var s=f.binaryFunctions[d];return null==s?null:s.call(this,a,o)}},and:function(d,u){return d&&u},or:function(d,u){return d||u},plus:function(d,u){return G.Helpers.sumAnyValues(d,u)},minus:function(d,u){return G.Helpers.correctAfterPlusMinis(d,u,d-u)},mul:function(d,u){return G.Helpers.correctAfterMultiple(d,u,d*u)},div:function(d,u){return u?d/u:null},mod:function(d,u){return u?d%u:null},power:function(d,u){return Math.pow(d,u)},greater:function(d,u){return null!=d&&null!=u&&(d=f.convertValForDateCompare(d,u))>f.convertValForDateCompare(u,d)},less:function(d,u){return null!=d&&null!=u&&(d=f.convertValForDateCompare(d,u))<f.convertValForDateCompare(u,d)},greaterorequal:function(d,u){return!!f.binaryFunctions.equal(d,u)||f.binaryFunctions.greater(d,u)},lessorequal:function(d,u){return!!f.binaryFunctions.equal(d,u)||f.binaryFunctions.less(d,u)},equal:function(d,u,a){return d=f.convertValForDateCompare(d,u),u=f.convertValForDateCompare(u,d),f.isTwoValueEquals(d,u,!0!==a)},notequal:function(d,u,a){return!f.binaryFunctions.equal(d,u,a)},contains:function(d,u){return f.binaryFunctions.containsCore(d,u,!0)},notcontains:function(d,u){return!d&&!G.Helpers.isValueEmpty(u)||f.binaryFunctions.containsCore(d,u,!1)},anyof:function(d,u){if(G.Helpers.isValueEmpty(d)&&G.Helpers.isValueEmpty(u))return!0;if(G.Helpers.isValueEmpty(d)||!Array.isArray(d)&&0===d.length)return!1;if(G.Helpers.isValueEmpty(u))return!0;if(!Array.isArray(d))return f.binaryFunctions.contains(u,d);if(!Array.isArray(u))return f.binaryFunctions.contains(d,u);for(var a=0;a<u.length;a++)if(f.binaryFunctions.contains(d,u[a]))return!0;return!1},allof:function(d,u){if(!d&&!G.Helpers.isValueEmpty(u))return!1;if(!Array.isArray(u))return f.binaryFunctions.contains(d,u);for(var a=0;a<u.length;a++)if(!f.binaryFunctions.contains(d,u[a]))return!1;return!0},containsCore:function(d,u,a){if(!d&&0!==d&&!1!==d)return!1;if(d.length||(d=d.toString(),("string"==typeof u||u instanceof String)&&(d=d.toUpperCase(),u=u.toUpperCase())),"string"==typeof d||d instanceof String){if(!u)return!1;u=u.toString();var o=d.indexOf(u)>-1;return a?o:!o}for(var s=Array.isArray(u)?u:[u],l=0;l<s.length;l++){var c=0;for(u=s[l];c<d.length&&!f.isTwoValueEquals(d[c],u);c++);if(c==d.length)return!a}return a}},f.signs={less:"<",lessorequal:"<=",greater:">",greaterorequal:">=",equal:"==",notequal:"!=",plus:"+",minus:"-",mul:"*",div:"/",and:"and",or:"or",power:"^",mod:"%",negate:"!"},f}()},"./src/flowpanel.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"FlowPanelModel",function(){return w});var F,G=x("./src/jsonobject.ts"),se=x("./src/panel.ts"),$=(F=function(R,L){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,T){m.__proto__=T}||function(m,T){for(var C in T)Object.prototype.hasOwnProperty.call(T,C)&&(m[C]=T[C])})(R,L)},function(R,L){if("function"!=typeof L&&null!==L)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function m(){this.constructor=R}F(R,L),R.prototype=null===L?Object.create(L):(m.prototype=L.prototype,new m)}),w=function(F){function R(L){void 0===L&&(L="");var m=F.call(this,L)||this;return m.createLocalizableString("content",m,!0),m.registerPropertyChangedHandlers(["content"],function(){m.onContentChanged()}),m}return $(R,F),R.prototype.getType=function(){return"flowpanel"},R.prototype.getChildrenLayoutType=function(){return"flow"},R.prototype.onSurveyLoad=function(){F.prototype.onSurveyLoad.call(this),this.onContentChanged()},Object.defineProperty(R.prototype,"content",{get:function(){return this.getLocalizableStringText("content")},set:function(L){this.setLocalizableStringText("content",L)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"locContent",{get:function(){return this.getLocalizableString("content")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"html",{get:function(){return this.getPropertyValue("html","")},set:function(L){this.setPropertyValue("html",L)},enumerable:!1,configurable:!0}),R.prototype.onContentChanged=function(){var L;L=this.onCustomHtmlProducing?this.onCustomHtmlProducing():this.produceHtml(),this.html=L,this.contentChangedCallback&&this.contentChangedCallback()},R.prototype.produceHtml=function(){for(var L=[],m=/{(.*?(element:)[^$].*?)}/g,T=this.content,C=0,y=null;null!==(y=m.exec(T));){y.index>C&&(L.push(T.substring(C,y.index)),C=y.index);var h=this.getQuestionFromText(y[0]);L.push(h?this.getHtmlForQuestion(h):T.substring(C,y.index+y[0].length)),C=y.index+y[0].length}return C<T.length&&L.push(T.substring(C,T.length)),L.join("").replace(new RegExp("<br>","g"),"<br/>")},R.prototype.getQuestionFromText=function(L){return L=(L=L.substring(1,L.length-1)).replace(R.contentElementNamePrefix,"").trim(),this.getQuestionByName(L)},R.prototype.getHtmlForQuestion=function(L){return this.onGetHtmlForQuestion?this.onGetHtmlForQuestion(L):""},R.prototype.getQuestionHtmlId=function(L){return this.name+"_"+L.id},R.prototype.onAddElement=function(L,m){F.prototype.onAddElement.call(this,L,m),this.addElementToContent(L),L.renderWidth=""},R.prototype.onRemoveElement=function(L){var m=this.getElementContentText(L);this.content=this.content.replace(m,""),F.prototype.onRemoveElement.call(this,L)},R.prototype.dragDropMoveElement=function(L,m,T){},R.prototype.addElementToContent=function(L){if(!this.isLoadingFromJson){var m=this.getElementContentText(L);this.insertTextAtCursor(m)||(this.content=this.content+m)}},R.prototype.insertTextAtCursor=function(L,m){if(void 0===m&&(m=null),!this.isDesignMode||"undefined"==typeof document||!window.getSelection)return!1;var T=window.getSelection();if(T.getRangeAt&&T.rangeCount){var C=T.getRangeAt(0);C.deleteContents(),C.insertNode(document.createTextNode(L));if(this.getContent){var h=this.getContent(m);this.content=h}return!0}return!1},R.prototype.getElementContentText=function(L){return"{"+R.contentElementNamePrefix+L.name+"}"},R.contentElementNamePrefix="element:",R}(se.PanelModel);G.Serializer.addClass("flowpanel",[{name:"content:html",serializationProperty:"locContent"}],function(){return new w},"panel")},"./src/functionsfactory.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"FunctionFactory",function(){return w}),x.d(j,"registerFunction",function(){return F});var G=x("./src/helpers.ts"),se=x("./src/settings.ts"),$=x("./src/console-warnings.ts"),w=function(){function Ke(){this.functionHash={},this.isAsyncHash={}}return Ke.prototype.register=function(tt,Pt,Tt){void 0===Tt&&(Tt=!1),this.functionHash[tt]=Pt,Tt&&(this.isAsyncHash[tt]=!0)},Ke.prototype.unregister=function(tt){delete this.functionHash[tt],delete this.isAsyncHash[tt]},Ke.prototype.hasFunction=function(tt){return!!this.functionHash[tt]},Ke.prototype.isAsyncFunction=function(tt){return!!this.isAsyncHash[tt]},Ke.prototype.clear=function(){this.functionHash={}},Ke.prototype.getAll=function(){var tt=[];for(var Pt in this.functionHash)tt.push(Pt);return tt.sort()},Ke.prototype.run=function(tt,Pt,Tt){void 0===Tt&&(Tt=null);var fn=this.functionHash[tt];if(!fn)return $.ConsoleWarnings.warn("Unknown function name: "+tt),null;var nr={func:fn};if(Tt)for(var rr in Tt)nr[rr]=Tt[rr];return nr.func(Pt)},Ke.Instance=new Ke,Ke}(),F=w.Instance.register;function R(Ke,tt){if(null!=Ke)if(Array.isArray(Ke))for(var Pt=0;Pt<Ke.length;Pt++)R(Ke[Pt],tt);else G.Helpers.isNumber(Ke)&&(Ke=G.Helpers.getNumber(Ke)),tt.push(Ke)}function L(Ke){var tt=[];R(Ke,tt);for(var Pt=0,Tt=0;Tt<tt.length;Tt++)Pt=G.Helpers.correctAfterPlusMinis(Pt,tt[Tt],Pt+tt[Tt]);return Pt}function m(Ke,tt){var Pt=[];R(Ke,Pt);for(var Tt=void 0,fn=0;fn<Pt.length;fn++)void 0===Tt&&(Tt=Pt[fn]),tt?Tt>Pt[fn]&&(Tt=Pt[fn]):Tt<Pt[fn]&&(Tt=Pt[fn]);return Tt}function d(Ke,tt,Pt,Tt,fn){return!Ke||G.Helpers.isValueEmpty(Ke[tt])?Pt:Tt(Pt,fn?function f(Ke){return"string"==typeof Ke?G.Helpers.isNumber(Ke)?G.Helpers.getNumber(Ke):void 0:Ke}(Ke[tt]):1)}function u(Ke,tt,Pt){void 0===Pt&&(Pt=!0);var Tt=function v(Ke){if(2!=Ke.length)return null;var tt=Ke[0];if(!tt||!Array.isArray(tt)&&!Array.isArray(Object.keys(tt)))return null;var Pt=Ke[1];return"string"==typeof Pt||Pt instanceof String?{data:tt,name:Pt}:null}(Ke);if(Tt){var fn=void 0;if(Array.isArray(Tt.data))for(var nr=0;nr<Tt.data.length;nr++)fn=d(Tt.data[nr],Tt.name,fn,tt,Pt);else for(var rr in Tt.data)fn=d(Tt.data[rr],Tt.name,fn,tt,Pt);return fn}}function a(Ke){var tt=u(Ke,function(Pt,Tt){return null==Pt&&(Pt=0),null==Tt||null==Tt?Pt:G.Helpers.correctAfterPlusMinis(Pt,Tt,Pt+Tt)});return void 0!==tt?tt:0}function l(Ke){var tt=u(Ke,function(Pt,Tt){return null==Pt&&(Pt=0),null==Tt||null==Tt?Pt:Pt+1},!1);return void 0!==tt?tt:0}function g(Ke){if(!Ke)return!1;for(var tt=Ke.questions,Pt=0;Pt<tt.length;Pt++)if(!tt[Pt].validate(!1))return!1;return!0}function Z(Ke){var tt=new Date;return se.settings.localization.useLocalTimeZone?tt.setHours(0,0,0,0):tt.setUTCHours(0,0,0,0),Array.isArray(Ke)&&1==Ke.length&&tt.setDate(tt.getDate()+Ke[0]),tt}function B(Ke){var tt=Z(void 0);return Ke&&Ke[0]&&(tt=new Date(Ke[0])),tt}function ft(Ke,tt){if(Ke&&tt){for(var Pt=["row","panel","survey"],Tt=0;Tt<Pt.length;Tt++){var fn=Ke[Pt[Tt]];if(fn&&fn.getQuestionByName){var nr=fn.getQuestionByName(tt);if(nr)return nr}}return null}}w.Instance.register("sum",L),w.Instance.register("min",function T(Ke){return m(Ke,!0)}),w.Instance.register("max",function C(Ke){return m(Ke,!1)}),w.Instance.register("count",function y(Ke){var tt=[];return R(Ke,tt),tt.length}),w.Instance.register("avg",function h(Ke){var tt=[];R(Ke,tt);var Pt=L(Ke);return tt.length>0?Pt/tt.length:0}),w.Instance.register("sumInArray",a),w.Instance.register("minInArray",function o(Ke){return u(Ke,function(tt,Pt){return null==tt?Pt:null==Pt||null==Pt||tt<Pt?tt:Pt})}),w.Instance.register("maxInArray",function s(Ke){return u(Ke,function(tt,Pt){return null==tt?Pt:null==Pt||null==Pt||tt>Pt?tt:Pt})}),w.Instance.register("countInArray",l),w.Instance.register("avgInArray",function c(Ke){var tt=l(Ke);return 0==tt?0:a(Ke)/tt}),w.Instance.register("iif",function b(Ke){return Ke||3===Ke.length?Ke[0]?Ke[1]:Ke[2]:""}),w.Instance.register("getDate",function M(Ke){return!Ke&&Ke.length<1||!Ke[0]?null:new Date(Ke[0])}),w.Instance.register("age",function D(Ke){if(!Ke&&Ke.length<1||!Ke[0])return null;var tt=new Date(Ke[0]),Pt=new Date,Tt=Pt.getFullYear()-tt.getFullYear(),fn=Pt.getMonth()-tt.getMonth();return(fn<0||0===fn&&Pt.getDate()<tt.getDate())&&(Tt-=Tt>0?1:0),Tt}),w.Instance.register("isContainerReady",function P(Ke){if(!Ke&&Ke.length<1||!Ke[0]||!this.survey)return!1;var tt=Ke[0],Pt=this.survey.getPageByName(tt);if(Pt||(Pt=this.survey.getPanelByName(tt)),!Pt){var Tt=this.survey.getQuestionByName(tt);if(!Tt||!Array.isArray(Tt.panels))return!1;if(!(Ke.length>1)){for(var fn=0;fn<Tt.panels.length;fn++)if(!g(Tt.panels[fn]))return!1;return!0}Ke[1]<Tt.panels.length&&(Pt=Tt.panels[Ke[1]])}return g(Pt)}),w.Instance.register("isDisplayMode",function A(){return this.survey&&this.survey.isDisplayMode}),w.Instance.register("currentDate",function k(){return new Date}),w.Instance.register("today",Z),w.Instance.register("getYear",function re(Ke){if(1===Ke.length&&Ke[0])return new Date(Ke[0]).getFullYear()}),w.Instance.register("currentYear",function H(){return(new Date).getFullYear()}),w.Instance.register("diffDays",function E(Ke){if(!Array.isArray(Ke)||2!==Ke.length||!Ke[0]||!Ke[1])return 0;var tt=new Date(Ke[0]),Pt=new Date(Ke[1]),Tt=Math.abs(Pt-tt);return Math.ceil(Tt/864e5)}),w.Instance.register("year",function U(Ke){return B(Ke).getFullYear()}),w.Instance.register("month",function ae(Ke){return B(Ke).getMonth()+1}),w.Instance.register("day",function Pe(Ke){return B(Ke).getDate()}),w.Instance.register("weekday",function je(Ke){return B(Ke).getDay()}),w.Instance.register("displayValue",function gt(Ke){var tt=ft(this,Ke[0]);return tt?tt.displayValue:""}),w.Instance.register("propertyValue",function Ze(Ke){if(2===Ke.length&&Ke[0]&&Ke[1]){var tt=ft(this,Ke[0]);return tt?tt[Ke[1]]:void 0}}),w.Instance.register("substring",function xt(Ke){if(Ke.length<2)return"";var tt=Ke[0];if(!tt||"string"!=typeof tt)return"";var Pt=Ke[1];if(!G.Helpers.isNumber(Pt))return"";var Tt=Ke.length>2?Ke[2]:void 0;return G.Helpers.isNumber(Tt)?tt.substring(Pt,Tt):tt.substring(Pt)})},"./src/header.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"CoverCell",function(){return L}),x.d(j,"Cover",function(){return m});var T,G=x("./src/base.ts"),se=x("./src/jsonobject.ts"),$=x("./src/utils/cssClassBuilder.ts"),w=x("./src/utils/utils.ts"),F=(T=function(C,y){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(h[f]=v[f])})(C,y)},function(C,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function h(){this.constructor=C}T(C,y),C.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)}),R=function(T,C,y,h){var d,v=arguments.length,f=v<3?C:null===h?h=Object.getOwnPropertyDescriptor(C,y):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(T,C,y,h);else for(var u=T.length-1;u>=0;u--)(d=T[u])&&(f=(v<3?d(f):v>3?d(C,y,f):d(C,y))||f);return v>3&&f&&Object.defineProperty(C,y,f),f},L=function(){function T(C,y,h){this.cover=C,this.positionX=y,this.positionY=h}return T.prototype.calcRow=function(C){return"top"===C?1:"middle"===C?2:3},T.prototype.calcColumn=function(C){return"left"===C?1:"center"===C?2:3},T.prototype.calcAlignItems=function(C){return"left"===C?"flex-start":"center"===C?"center":"flex-end"},T.prototype.calcAlignText=function(C){return"left"===C?"start":"center"===C?"center":"end"},T.prototype.calcJustifyContent=function(C){return"top"===C?"flex-start":"middle"===C?"center":"flex-end"},Object.defineProperty(T.prototype,"survey",{get:function(){return this.cover.survey},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"css",{get:function(){return T.CLASSNAME+" "+T.CLASSNAME+"--"+this.positionX+" "+T.CLASSNAME+"--"+this.positionY},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"style",{get:function(){var C={};return C.gridColumn=this.calcColumn(this.positionX),C.gridRow=this.calcRow(this.positionY),C},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"contentStyle",{get:function(){var C={};return C.textAlign=this.calcAlignText(this.positionX),C.alignItems=this.calcAlignItems(this.positionX),C.justifyContent=this.calcJustifyContent(this.positionY),C},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"showLogo",{get:function(){return this.survey.hasLogo&&this.positionX===this.cover.logoPositionX&&this.positionY===this.cover.logoPositionY},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"showTitle",{get:function(){return this.survey.hasTitle&&this.positionX===this.cover.titlePositionX&&this.positionY===this.cover.titlePositionY},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"showDescription",{get:function(){return this.survey.renderedHasDescription&&this.positionX===this.cover.descriptionPositionX&&this.positionY===this.cover.descriptionPositionY},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"textAreaWidth",{get:function(){return this.cover.textAreaWidth?this.cover.textAreaWidth+"px":""},enumerable:!1,configurable:!0}),T.CLASSNAME="sv-header__cell",T}(),m=function(T){function C(){var y=T.call(this)||this;return y.cells=[],["top","middle","bottom"].forEach(function(h){return["left","center","right"].forEach(function(v){return y.cells.push(new L(y,v,h))})}),y.init(),y}return F(C,T),C.prototype.calcBackgroundSize=function(y){return"fill"===y?"100% 100%":"tile"===y?"auto":y},C.prototype.updateHeaderClasses=function(){this.headerClasses=(new $.CssClassBuilder).append("sv-header").append("sv-header__without-background","transparent"===this.backgroundColor&&!this.backgroundImage).append("sv-header__background-color--none","transparent"===this.backgroundColor&&!this.titleColor&&!this.descriptionColor).append("sv-header__background-color--accent",!this.backgroundColor&&!this.titleColor&&!this.descriptionColor).append("sv-header__background-color--custom",!!this.backgroundColor&&"transparent"!==this.backgroundColor&&!this.titleColor&&!this.descriptionColor).append("sv-header__overlap",this.overlapEnabled).toString()},C.prototype.updateContentClasses=function(){var y=!!this.survey&&this.survey.calculateWidthMode();this.maxWidth="survey"===this.inheritWidthFrom&&!!y&&"static"===y&&this.survey.renderedWidth,this.contentClasses=(new $.CssClassBuilder).append("sv-header__content").append("sv-header__content--static","survey"===this.inheritWidthFrom&&!!y&&"static"===y).append("sv-header__content--responsive","container"===this.inheritWidthFrom||!!y&&"responsive"===y).toString()},C.prototype.updateBackgroundImageClasses=function(){this.backgroundImageClasses=(new $.CssClassBuilder).append("sv-header__background-image").append("sv-header__background-image--contain","contain"===this.backgroundImageFit).append("sv-header__background-image--tile","tile"===this.backgroundImageFit).toString()},C.prototype.fromTheme=function(y){T.prototype.fromJSON.call(this,y.header),y.cssVariables&&(this.backgroundColor=y.cssVariables["--sjs-header-backcolor"],this.titleColor=y.cssVariables["--sjs-font-headertitle-color"],this.descriptionColor=y.cssVariables["--sjs-font-headerdescription-color"]),this.init()},C.prototype.init=function(){this.renderBackgroundImage=Object(w.wrapUrlForBackgroundImage)(this.backgroundImage),this.updateHeaderClasses(),this.updateContentClasses(),this.updateBackgroundImageClasses()},C.prototype.getType=function(){return"cover"},Object.defineProperty(C.prototype,"renderedHeight",{get:function(){return this.height&&(this.survey&&!this.survey.isMobile||!this.survey)?Math.max(this.height,this.actualHeight+40)+"px":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"renderedtextAreaWidth",{get:function(){return this.textAreaWidth?this.textAreaWidth+"px":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"survey",{get:function(){return this._survey},set:function(y){var h=this;this._survey!==y&&(this._survey=y,y&&(this.updateContentClasses(),this._survey.onPropertyChanged.add(function(v,f){("widthMode"==f.name||"width"==f.name)&&h.updateContentClasses()})))},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"backgroundImageStyle",{get:function(){return this.backgroundImage?{opacity:this.backgroundImageOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.calcBackgroundSize(this.backgroundImageFit)}:null},enumerable:!1,configurable:!0}),C.prototype.propertyValueChanged=function(y,h,v){T.prototype.propertyValueChanged.call(this,y,h,v),("backgroundColor"===y||"backgroundImage"===y||"overlapEnabled"===y)&&this.updateHeaderClasses(),"inheritWidthFrom"===y&&this.updateContentClasses(),"backgroundImageFit"===y&&this.updateBackgroundImageClasses()},C.prototype.calculateActualHeight=function(y,h,v){var f=["top","middle","bottom"],d=f.indexOf(this.logoPositionY),u=f.indexOf(this.titlePositionY),a=f.indexOf(this.descriptionPositionY),o=["left","center","right"],s=o.indexOf(this.logoPositionX),l=o.indexOf(this.titlePositionX),c=o.indexOf(this.descriptionPositionX),b=[[0,0,0],[0,0,0],[0,0,0]];return b[d][s]=y,b[u][l]+=h,b[a][c]+=v,b.reduce(function(M,D){return M+Math.max.apply(Math,D)},0)},C.prototype.processResponsiveness=function(y){if(this.survey&&this.survey.rootElement){var h=this.survey.rootElement.querySelectorAll(".sv-header__logo")[0],v=this.survey.rootElement.querySelectorAll(".sv-header__title")[0],f=this.survey.rootElement.querySelectorAll(".sv-header__description")[0],d=h?h.getBoundingClientRect().height:0,u=v?v.getBoundingClientRect().height:0,a=f?f.getBoundingClientRect().height:0;this.actualHeight=this.calculateActualHeight(d,u,a)}},Object.defineProperty(C.prototype,"hasBackground",{get:function(){return!!this.backgroundImage||"transparent"!==this.backgroundColor},enumerable:!1,configurable:!0}),R([Object(se.property)({defaultValue:0})],C.prototype,"actualHeight",void 0),R([Object(se.property)()],C.prototype,"height",void 0),R([Object(se.property)()],C.prototype,"inheritWidthFrom",void 0),R([Object(se.property)()],C.prototype,"textAreaWidth",void 0),R([Object(se.property)()],C.prototype,"textGlowEnabled",void 0),R([Object(se.property)()],C.prototype,"overlapEnabled",void 0),R([Object(se.property)()],C.prototype,"backgroundColor",void 0),R([Object(se.property)()],C.prototype,"titleColor",void 0),R([Object(se.property)()],C.prototype,"descriptionColor",void 0),R([Object(se.property)({onSet:function(y,h){h.renderBackgroundImage=Object(w.wrapUrlForBackgroundImage)(y)}})],C.prototype,"backgroundImage",void 0),R([Object(se.property)()],C.prototype,"renderBackgroundImage",void 0),R([Object(se.property)()],C.prototype,"backgroundImageFit",void 0),R([Object(se.property)()],C.prototype,"backgroundImageOpacity",void 0),R([Object(se.property)()],C.prototype,"logoPositionX",void 0),R([Object(se.property)()],C.prototype,"logoPositionY",void 0),R([Object(se.property)()],C.prototype,"titlePositionX",void 0),R([Object(se.property)()],C.prototype,"titlePositionY",void 0),R([Object(se.property)()],C.prototype,"descriptionPositionX",void 0),R([Object(se.property)()],C.prototype,"descriptionPositionY",void 0),R([Object(se.property)()],C.prototype,"logoStyle",void 0),R([Object(se.property)()],C.prototype,"titleStyle",void 0),R([Object(se.property)()],C.prototype,"descriptionStyle",void 0),R([Object(se.property)()],C.prototype,"headerClasses",void 0),R([Object(se.property)()],C.prototype,"contentClasses",void 0),R([Object(se.property)()],C.prototype,"maxWidth",void 0),R([Object(se.property)()],C.prototype,"backgroundImageClasses",void 0),C}(G.Base);se.Serializer.addClass("cover",[{name:"height:number",minValue:0,default:256},{name:"inheritWidthFrom",default:"container"},{name:"textAreaWidth:number",minValue:0,default:512},{name:"textGlowEnabled:boolean"},{name:"overlapEnabled:boolean"},{name:"backgroundImage:file"},{name:"backgroundImageOpacity:number",minValue:0,maxValue:1,default:1},{name:"backgroundImageFit",default:"cover",choices:["cover","fill","contain"]},{name:"logoPositionX",default:"right"},{name:"logoPositionY",default:"top"},{name:"titlePositionX",default:"left"},{name:"titlePositionY",default:"bottom"},{name:"descriptionPositionX",default:"left"},{name:"descriptionPositionY",default:"bottom"}],function(){return new m})},"./src/helpers.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"Helpers",function(){return se});var G=x("./src/settings.ts"),se=function(){function $(){}return $.isValueEmpty=function(w){if(Array.isArray(w)&&0===w.length)return!0;if(w&&$.isValueObject(w)&&w.constructor===Object){for(var F in w)if(!$.isValueEmpty(w[F]))return!1;return!0}return!w&&0!==w&&!1!==w},$.isArrayContainsEqual=function(w,F){if(!Array.isArray(w)||!Array.isArray(F)||w.length!==F.length)return!1;for(var R=0;R<w.length;R++){for(var L=0;L<F.length&&!$.isTwoValueEquals(w[R],F[L]);L++);if(L===F.length)return!1}return!0},$.isArraysEqual=function(w,F,R,L,m){if(void 0===R&&(R=!1),!Array.isArray(w)||!Array.isArray(F)||w.length!==F.length)return!1;if(R){for(var T=[],C=[],y=0;y<w.length;y++)T.push(w[y]),C.push(F[y]);T.sort(),C.sort(),w=T,F=C}for(y=0;y<w.length;y++)if(!$.isTwoValueEquals(w[y],F[y],R,L,m))return!1;return!0},$.compareStrings=function(w,F){var R=G.settings.comparator.normalizeTextCallback;if(w&&(w=R(w,"compare").trim()),F&&(F=R(F,"compare").trim()),!w&&!F)return 0;if(!w)return-1;if(!F)return 1;if(w===F)return 0;for(var L=-1,m=0;m<w.length&&m<F.length;m++){if(this.isCharDigit(w[m])&&this.isCharDigit(F[m])){L=m;break}if(w[m]!==F[m])break}if(L>-1){var T=this.getNumberFromStr(w,L),C=this.getNumberFromStr(F,L);if(!Number.isNaN(T)&&!Number.isNaN(C)&&T!==C)return T>C?1:-1}return w>F?1:-1},$.isTwoValueEquals=function(w,F,R,L,m){if(void 0===R&&(R=!1),w===F||Array.isArray(w)&&0===w.length&&void 0===F||Array.isArray(F)&&0===F.length&&void 0===w||null==w&&""===F||null==F&&""===w)return!0;if(void 0===m&&(m=G.settings.comparator.trimStrings),void 0===L&&(L=G.settings.comparator.caseSensitive),"string"==typeof w&&"string"==typeof F){var T=G.settings.comparator.normalizeTextCallback;return w=T(w,"compare"),F=T(F,"compare"),m&&(w=w.trim(),F=F.trim()),L||(w=w.toLowerCase(),F=F.toLowerCase()),w===F}if(w instanceof Date&&F instanceof Date)return w.getTime()==F.getTime();if($.isConvertibleToNumber(w)&&$.isConvertibleToNumber(F)&&parseInt(w)===parseInt(F)&&parseFloat(w)===parseFloat(F))return!0;if(!$.isValueEmpty(w)&&$.isValueEmpty(F)||$.isValueEmpty(w)&&!$.isValueEmpty(F))return!1;if((!0===w||!1===w)&&"string"==typeof F)return w.toString()===F.toLocaleLowerCase();if((!0===F||!1===F)&&"string"==typeof w)return F.toString()===w.toLocaleLowerCase();if(!$.isValueObject(w)&&!$.isValueObject(F))return w==F;if(!$.isValueObject(w)||!$.isValueObject(F))return!1;if(w.equals&&F.equals)return w.equals(F);if(Array.isArray(w)&&Array.isArray(F))return $.isArraysEqual(w,F,R,L,m);for(var C in w)if(w.hasOwnProperty(C)&&(!F.hasOwnProperty(C)||!this.isTwoValueEquals(w[C],F[C],R,L,m)))return!1;for(C in F)if(F.hasOwnProperty(C)&&!w.hasOwnProperty(C))return!1;return!0},$.randomizeArray=function(w){for(var F=w.length-1;F>0;F--){var R=Math.floor(Math.random()*(F+1)),L=w[F];w[F]=w[R],w[R]=L}return w},$.getUnbindValue=function(w){if(Array.isArray(w)){for(var F=[],R=0;R<w.length;R++)F.push($.getUnbindValue(w[R]));return F}return!w||!$.isValueObject(w)||w instanceof Date?w:JSON.parse(JSON.stringify(w))},$.createCopy=function(w){var F={};if(!w)return F;for(var R in w)F[R]=w[R];return F},$.isConvertibleToNumber=function(w){return null!=w&&!Array.isArray(w)&&!isNaN(w)},$.isValueObject=function(w,F){return w instanceof Object&&(!F||!Array.isArray(w))},$.isNumber=function(w){return!isNaN(this.getNumber(w))},$.getNumber=function(w){if("string"==typeof w&&w&&0==w.indexOf("0x")&&w.length>32)return NaN;w=this.prepareStringToNumber(w);var F=parseFloat(w);return isNaN(F)||!isFinite(w)?NaN:F},$.prepareStringToNumber=function(w){if("string"!=typeof w||!w)return w;var F=w.indexOf(",");return F>-1&&w.indexOf(",",F+1)<0?w.replace(",","."):w},$.getMaxLength=function(w,F){return w<0&&(w=F),w>0?w:null},$.getRemainingCharacterCounterText=function(w,F){return!F||F<=0||!G.settings.showMaxLengthIndicator?"":[w?w.length:"0",F].join("/")},$.getNumberByIndex=function(w,F){if(w<0)return"";var R=1,L="",m=".",T=!0,C="A",y="";if(F){for(var h=(y=F).length-1,v=!1,f=0;f<y.length;f++)if($.isCharDigit(y[f])){v=!0;break}for(var d=function(){return v&&!$.isCharDigit(y[h])||$.isCharNotLetterAndDigit(y[h])};h>=0&&d();)h--;var u="";for(h<y.length-1&&(u=y.substring(h+1),y=y.substring(0,h+1)),h=y.length-1;h>=0&&!d()&&(h--,v););C=y.substring(h+1),L=y.substring(0,h+1),parseInt(C)?R=parseInt(C):1==C.length&&(T=!1),(u||L)&&(m=u)}if(T){for(var a=(w+R).toString();a.length<C.length;)a="0"+a;return L+a+m}return L+String.fromCharCode(C.charCodeAt(0)+w)+m},$.isCharNotLetterAndDigit=function(w){return w.toUpperCase()==w.toLowerCase()&&!$.isCharDigit(w)},$.isCharDigit=function(w){return w>="0"&&w<="9"},$.getNumberFromStr=function(w,F){if(!this.isCharDigit(w[F]))return NaN;for(var R="";F<w.length&&this.isCharDigit(w[F]);)R+=w[F],F++;return R?this.getNumber(R):NaN},$.countDecimals=function(w){if($.isNumber(w)&&Math.floor(w)!==w){var F=w.toString().split(".");return F.length>1&&F[1].length||0}return 0},$.correctAfterPlusMinis=function(w,F,R){var L=$.countDecimals(w),m=$.countDecimals(F);if(L>0||m>0){var T=Math.max(L,m);R=parseFloat(R.toFixed(T))}return R},$.sumAnyValues=function(w,F){if(!$.isNumber(w)||!$.isNumber(F)){if(Array.isArray(w)&&Array.isArray(F))return[].concat(w).concat(F);if(Array.isArray(w)||Array.isArray(F)){var R=Array.isArray(w)?w:F,L=R===w?F:w;if("string"==typeof L){var m=R.join(", ");return R===w?m+L:L+m}if("number"==typeof L){for(var T=0,C=0;C<R.length;C++)"number"==typeof R[C]&&(T=$.correctAfterPlusMinis(T,R[C],T+R[C]));return $.correctAfterPlusMinis(T,L,T+L)}}return w+F}return"string"==typeof w||"string"==typeof F?w+F:$.correctAfterPlusMinis(w,F,w+F)},$.correctAfterMultiple=function(w,F,R){var L=$.countDecimals(w)+$.countDecimals(F);return L>0&&(R=parseFloat(R.toFixed(L))),R},$.convertArrayValueToObject=function(w,F,R){void 0===R&&(R=void 0);var L=new Array;if(!w||!Array.isArray(w))return L;for(var m=0;m<w.length;m++){var T=void 0;Array.isArray(R)&&(T=$.findObjByPropValue(R,F,w[m])),T||((T={})[F]=w[m]),L.push(T)}return L},$.findObjByPropValue=function(w,F,R){for(var L=0;L<w.length;L++)if($.isTwoValueEquals(w[L][F],R))return w[L]},$.convertArrayObjectToValue=function(w,F){var R=new Array;if(!w||!Array.isArray(w))return R;for(var L=0;L<w.length;L++){var m=w[L]?w[L][F]:void 0;$.isValueEmpty(m)||R.push(m)}return R},$.convertDateToString=function(w){var F=function(R){return R<10?"0"+R.toString():R.toString()};return w.getFullYear()+"-"+F(w.getMonth()+1)+"-"+F(w.getDate())},$.convertDateTimeToString=function(w){var F=function(R){return R<10?"0"+R.toString():R.toString()};return this.convertDateToString(w)+" "+F(w.getHours())+":"+F(w.getMinutes())},$.convertValToQuestionVal=function(w,F){return w instanceof Date?"datetime-local"===F?$.convertDateTimeToString(w):$.convertDateToString(w):w},$.compareVerions=function(w,F){if(!w&&!F)return 0;for(var R=w.split("."),L=F.split("."),m=R.length,T=L.length,C=0;C<m&&C<T;C++){var y=R[C],h=L[C];if(y.length!==h.length)return y.length<h.length?-1:1;if(y!==h)return y<h?-1:1}return m===T?0:m<T?-1:1},$}();String.prototype.format||(String.prototype.format=function(){var $=arguments;return this.replace(/{(\d+)}/g,function(w,F){return void 0!==$[F]?$[F]:w})})},"./src/images sync \\.svg$":function($e,j,x){var G={"./ArrowDown_34x34.svg":"./src/images/ArrowDown_34x34.svg","./ArrowLeft.svg":"./src/images/ArrowLeft.svg","./ArrowRight.svg":"./src/images/ArrowRight.svg","./Arrow_downGREY_10x10.svg":"./src/images/Arrow_downGREY_10x10.svg","./ChangeCamera.svg":"./src/images/ChangeCamera.svg","./ChooseFile.svg":"./src/images/ChooseFile.svg","./Clear.svg":"./src/images/Clear.svg","./CloseCamera.svg":"./src/images/CloseCamera.svg","./DefaultFile.svg":"./src/images/DefaultFile.svg","./Delete.svg":"./src/images/Delete.svg","./Down_34x34.svg":"./src/images/Down_34x34.svg","./Left.svg":"./src/images/Left.svg","./ModernBooleanCheckChecked.svg":"./src/images/ModernBooleanCheckChecked.svg","./ModernBooleanCheckInd.svg":"./src/images/ModernBooleanCheckInd.svg","./ModernBooleanCheckUnchecked.svg":"./src/images/ModernBooleanCheckUnchecked.svg","./ModernCheck.svg":"./src/images/ModernCheck.svg","./ModernRadio.svg":"./src/images/ModernRadio.svg","./More.svg":"./src/images/More.svg","./NavMenu_24x24.svg":"./src/images/NavMenu_24x24.svg","./ProgressButton.svg":"./src/images/ProgressButton.svg","./ProgressButtonV2.svg":"./src/images/ProgressButtonV2.svg","./RemoveFile.svg":"./src/images/RemoveFile.svg","./Right.svg":"./src/images/Right.svg","./SearchClear.svg":"./src/images/SearchClear.svg","./ShowCamera.svg":"./src/images/ShowCamera.svg","./TakePicture.svg":"./src/images/TakePicture.svg","./TakePicture_24x24.svg":"./src/images/TakePicture_24x24.svg","./TimerCircle.svg":"./src/images/TimerCircle.svg","./V2Check.svg":"./src/images/V2Check.svg","./V2Check_24x24.svg":"./src/images/V2Check_24x24.svg","./V2DragElement_16x16.svg":"./src/images/V2DragElement_16x16.svg","./back-to-panel_16x16.svg":"./src/images/back-to-panel_16x16.svg","./chevron.svg":"./src/images/chevron.svg","./clear_16x16.svg":"./src/images/clear_16x16.svg","./close_16x16.svg":"./src/images/close_16x16.svg","./collapseDetail.svg":"./src/images/collapseDetail.svg","./drag-n-drop.svg":"./src/images/drag-n-drop.svg","./expandDetail.svg":"./src/images/expandDetail.svg","./full-screen_16x16.svg":"./src/images/full-screen_16x16.svg","./loading.svg":"./src/images/loading.svg","./minimize_16x16.svg":"./src/images/minimize_16x16.svg","./no-image.svg":"./src/images/no-image.svg","./ranking-arrows.svg":"./src/images/ranking-arrows.svg","./ranking-dash.svg":"./src/images/ranking-dash.svg","./rating-star-2.svg":"./src/images/rating-star-2.svg","./rating-star-small-2.svg":"./src/images/rating-star-small-2.svg","./rating-star-small.svg":"./src/images/rating-star-small.svg","./rating-star.svg":"./src/images/rating-star.svg","./restore_16x16.svg":"./src/images/restore_16x16.svg","./search.svg":"./src/images/search.svg"};function se(w){var F=$(w);return x(F)}function $(w){if(!x.o(G,w)){var F=new Error("Cannot find module '"+w+"'");throw F.code="MODULE_NOT_FOUND",F}return G[w]}se.keys=function(){return Object.keys(G)},se.resolve=$,$e.exports=se,se.id="./src/images sync \\.svg$"},"./src/images/ArrowDown_34x34.svg":function($e,j){$e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 34 34" xml:space="preserve"><polygon class="st0" points="12,16 14,14 17,17 20,14 22,16 17,21 "></polygon></svg>'},"./src/images/ArrowLeft.svg":function($e,j){$e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8.99999H4.39998L8.69998 13.3L7.29998 14.7L0.599976 7.99999L7.29998 1.29999L8.69998 2.69999L4.39998 6.99999H15V8.99999Z"></path></svg>'},"./src/images/ArrowRight.svg":function($e,j){$e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1 6.99999H11.6L7.3 2.69999L8.7 1.29999L15.4 7.99999L8.7 14.7L7.3 13.3L11.6 8.99999H1V6.99999Z"></path></svg>'},"./src/images/Arrow_downGREY_10x10.svg":function($e,j){$e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 10 10" xml:space="preserve"><polygon class="st0" points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./src/images/ChangeCamera.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23 12.0037C23 14.2445 21.7794 16.3052 19.5684 17.8257C19.3984 17.9458 19.1983 18.0058 19.0082 18.0058C18.688 18.0058 18.3779 17.8557 18.1778 17.5756C17.8677 17.1155 17.9777 16.4953 18.4379 16.1852C20.0887 15.0448 21.0091 13.5643 21.0091 12.0138C21.0091 8.70262 16.9673 6.01171 12.005 6.01171C11.4948 6.01171 10.9945 6.04172 10.5043 6.09173L11.7149 7.30215C12.105 7.69228 12.105 8.32249 11.7149 8.71263C11.5148 8.9127 11.2647 9.00273 11.0045 9.00273C10.7444 9.00273 10.4943 8.90269 10.2942 8.71263L6.58254 5.00136L10.2842 1.2901C10.6744 0.899964 11.3047 0.899964 11.6949 1.2901C12.085 1.68023 12.085 2.31045 11.6949 2.70058L10.3042 4.09105C10.8545 4.03103 11.4147 4.00102 11.985 4.00102C18.0578 4.00102 22.99 7.59225 22.99 12.0037H23ZM12.2851 15.2949C11.895 15.685 11.895 16.3152 12.2851 16.7054L13.4957 17.9158C13.0055 17.9758 12.4952 17.9958 11.995 17.9958C7.03274 17.9958 2.99091 15.3049 2.99091 11.9937C2.99091 10.4332 3.90132 8.95271 5.56207 7.82232C6.02228 7.51222 6.13233 6.89201 5.82219 6.43185C5.51205 5.97169 4.89177 5.86166 4.43156 6.17176C2.22055 7.69228 1 9.76299 1 11.9937C1 16.4052 5.93224 19.9965 12.005 19.9965C12.5753 19.9965 13.1355 19.9665 13.6858 19.9064L12.2951 21.2969C11.905 21.6871 11.905 22.3173 12.2951 22.7074C12.4952 22.9075 12.7453 22.9975 13.0055 22.9975C13.2656 22.9975 13.5157 22.8975 13.7158 22.7074L17.4275 18.9961L13.7158 15.2849C13.3256 14.8947 12.6953 14.8947 12.3051 15.2849L12.2851 15.2949Z"></path></svg>'},"./src/images/ChooseFile.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 9V7C22 5.9 21.1 5 20 5H12L10 3H4C2.9 3 2 3.9 2 5V9V10V21H22L24 9H22ZM4 5H9.2L10.6 6.4L11.2 7H12H20V9H4V5ZM20.3 19H4V11H21.6L20.3 19Z"></path></svg>'},"./src/images/Clear.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.6 8.6L16.4 2.4C16 2 15.5 1.8 15 1.8C14.5 1.8 14 2 13.6 2.4L1.4 14.6C0.600003 15.4 0.600003 16.6 1.4 17.4L6 22H12L22.6 11.4C23.3 10.6 23.3 9.3 22.6 8.6ZM11.1 20H6.8L2.8 16L6.2 12.6L12.4 18.8L11.1 20ZM13.8 17.4L7.6 11.2L15 3.8L21.2 10L13.8 17.4ZM16 20H23V22H14L16 20Z"></path></svg>'},"./src/images/CloseCamera.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.41 12L20.7 4.71C21.09 4.32 21.09 3.69 20.7 3.3C20.31 2.91 19.68 2.91 19.29 3.3L12 10.59L4.71 3.29C4.32 2.9 3.68 2.9 3.29 3.29C2.9 3.68 2.9 4.32 3.29 4.71L10.58 12L3.29 19.29C2.9 19.68 2.9 20.31 3.29 20.7C3.49 20.9 3.74 20.99 4 20.99C4.26 20.99 4.51 20.89 4.71 20.7L12 13.41L19.29 20.7C19.49 20.9 19.74 20.99 20 20.99C20.26 20.99 20.51 20.89 20.71 20.7C21.1 20.31 21.1 19.68 20.71 19.29L13.42 12H13.41Z"></path></svg>'},"./src/images/DefaultFile.svg":function($e,j){$e.exports='<svg viewBox="0 0 56 68" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_9011_41219)"><path d="M54.83 10.83L45.17 1.17C44.7982 0.798664 44.357 0.504208 43.8714 0.303455C43.3858 0.102703 42.8654 -0.000411943 42.34 1.2368e-06H6C4.4087 1.2368e-06 2.88257 0.632142 1.75735 1.75736C0.632136 2.88258 0 4.4087 0 6V62C0 63.5913 0.632136 65.1174 1.75735 66.2426C2.88257 67.3679 4.4087 68 6 68H50C51.5913 68 53.1174 67.3679 54.2426 66.2426C55.3679 65.1174 56 63.5913 56 62V13.66C56.0004 13.1346 55.8973 12.6142 55.6965 12.1286C55.4958 11.643 55.2013 11.2018 54.83 10.83ZM44 2.83L53.17 12H48C46.9391 12 45.9217 11.5786 45.1716 10.8284C44.4214 10.0783 44 9.06087 44 8V2.83ZM54 62C54 63.0609 53.5786 64.0783 52.8284 64.8284C52.0783 65.5786 51.0609 66 50 66H6C4.93913 66 3.92172 65.5786 3.17157 64.8284C2.42142 64.0783 2 63.0609 2 62V6C2 4.93914 2.42142 3.92172 3.17157 3.17157C3.92172 2.42143 4.93913 2 6 2H42V8C42 9.5913 42.6321 11.1174 43.7574 12.2426C44.8826 13.3679 46.4087 14 48 14H54V62ZM14 24H42V26H14V24ZM14 30H42V32H14V30ZM14 36H42V38H14V36ZM14 42H42V44H14V42Z" fill="#909090"></path></g><defs><clipPath id="clip0_9011_41219"><rect width="56" height="68" fill="white"></rect></clipPath></defs></svg>'},"./src/images/Delete.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 4H20H16V2C16 0.9 15.1 0 14 0H10C8.9 0 8 0.9 8 2V4H4H2V6H4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V6H22V4ZM10 2H14V4H10V2ZM18 20H6V6H8H16H18V20ZM14 8H16V18H14V8ZM11 8H13V18H11V8ZM8 8H10V18H8V8Z"></path></svg>'},"./src/images/Down_34x34.svg":function($e,j){$e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 34 34" xml:space="preserve"><g><path class="st0" d="M33,34H0V0h33c0.6,0,1,0.4,1,1v32C34,33.6,33.6,34,33,34z"></path><polygon class="st1" points="12,16 14,14 17,17 20,14 22,16 17,21 "></polygon></g></svg>'},"./src/images/Left.svg":function($e,j){$e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><polygon points="11,12 9,14 3,8 9,2 11,4 7,8 "></polygon></svg>'},"./src/images/ModernBooleanCheckChecked.svg":function($e,j){$e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><polygon points="19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "></polygon></svg>'},"./src/images/ModernBooleanCheckInd.svg":function($e,j){$e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"></path></svg>'},"./src/images/ModernBooleanCheckUnchecked.svg":function($e,j){$e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><rect x="5" y="10" width="14" height="4"></rect></svg>'},"./src/images/ModernCheck.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24"><path d="M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"></path></svg>'},"./src/images/ModernRadio.svg":function($e,j){$e.exports='<svg viewBox="-12 -12 24 24"><circle r="6" cx="0" cy="0"></circle></svg>'},"./src/images/More.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 12C6 13.1 5.1 14 4 14C2.9 14 2 13.1 2 12C2 10.9 2.9 10 4 10C5.1 10 6 10.9 6 12ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10ZM20 10C18.9 10 18 10.9 18 12C18 13.1 18.9 14 20 14C21.1 14 22 13.1 22 12C22 10.9 21.1 10 20 10Z"></path></svg>'},"./src/images/NavMenu_24x24.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16 7H2V5H16V7ZM2 11V13H22V11H2ZM2 19H10V17H2V19Z" fill="black" fill-opacity="0.45"></path></svg>'},"./src/images/ProgressButton.svg":function($e,j){$e.exports='<svg viewBox="0 0 10 10"><polygon points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./src/images/ProgressButtonV2.svg":function($e,j){$e.exports='<svg viewBox="0 0 16 16"><path d="M15 8.99999H4.39998L8.69998 13.3L7.29998 14.7L0.599976 7.99999L7.29998 1.29999L8.69998 2.69999L4.39998 6.99999H15V8.99999Z"></path></svg>'},"./src/images/RemoveFile.svg":function($e,j){$e.exports='<svg viewBox="0 0 16 16"><path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"></path></svg>'},"./src/images/Right.svg":function($e,j){$e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><polygon points="5,4 7,2 13,8 7,14 5,12 9,8 "></polygon></svg>'},"./src/images/SearchClear.svg":function($e,j){$e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>'},"./src/images/ShowCamera.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.01 4H18.4C18.2 4 18.01 3.9 17.9 3.73L16.97 2.34C16.41 1.5 15.48 1 14.47 1H9.54C8.53 1 7.6 1.5 7.04 2.34L6.11 3.73C6 3.9 5.81 4 5.61 4H4C2.35 4 1 5.35 1 7V19C1 20.65 2.35 22 4 22H20C21.65 22 23 20.65 23 19V7C23 5.35 21.65 4 20 4H20.01ZM21.01 19C21.01 19.55 20.56 20 20.01 20H4.01C3.46 20 3.01 19.55 3.01 19V7C3.01 6.45 3.46 6 4.01 6H5.62C6.49 6 7.3 5.56 7.79 4.84L8.72 3.45C8.91 3.17 9.22 3 9.55 3H14.48C14.81 3 15.13 3.17 15.31 3.45L16.24 4.84C16.72 5.56 17.54 6 18.41 6H20.02C20.57 6 21.02 6.45 21.02 7V19H21.01ZM12.01 6C8.7 6 6.01 8.69 6.01 12C6.01 15.31 8.7 18 12.01 18C15.32 18 18.01 15.31 18.01 12C18.01 8.69 15.32 6 12.01 6ZM12.01 16C9.8 16 8.01 14.21 8.01 12C8.01 9.79 9.8 8 12.01 8C14.22 8 16.01 9.79 16.01 12C16.01 14.21 14.22 16 12.01 16ZM13.01 10C13.01 10.55 12.56 11 12.01 11C11.46 11 11.01 11.45 11.01 12C11.01 12.55 10.56 13 10.01 13C9.46 13 9.01 12.55 9.01 12C9.01 10.35 10.36 9 12.01 9C12.56 9 13.01 9.45 13.01 10Z" fill="black" fill-opacity="0.45"></path></svg>'},"./src/images/TakePicture.svg":function($e,j){$e.exports='<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M27 6H23.8C23.34 6 22.92 5.77 22.66 5.39L22.25 4.78C21.51 3.66 20.26 3 18.92 3H13.06C11.72 3 10.48 3.67 9.73 4.78L9.32 5.39C9.07 5.77 8.64 6 8.18 6H4.98C2.79 6 1 7.79 1 10V24C1 26.21 2.79 28 5 28H27C29.21 28 31 26.21 31 24V10C31 7.79 29.21 6 27 6ZM29 24C29 25.1 28.1 26 27 26H5C3.9 26 3 25.1 3 24V10C3 8.9 3.9 8 5 8H8.2C9.33 8 10.38 7.44 11 6.5L11.41 5.89C11.78 5.33 12.41 5 13.07 5H18.93C19.6 5 20.22 5.33 20.59 5.89L21 6.5C21.62 7.44 22.68 8 23.8 8H27C28.1 8 29 8.9 29 10V24ZM16 9C12.13 9 9 12.13 9 16C9 19.87 12.13 23 16 23C19.87 23 23 19.87 23 16C23 12.13 19.87 9 16 9ZM16 21C13.24 21 11 18.76 11 16C11 13.24 13.24 11 16 11C18.76 11 21 13.24 21 16C21 18.76 18.76 21 16 21ZM17 13C17 13.55 16.55 14 16 14C14.9 14 14 14.9 14 16C14 16.55 13.55 17 13 17C12.45 17 12 16.55 12 16C12 13.79 13.79 12 16 12C16.55 12 17 12.45 17 13Z"></path></svg>'},"./src/images/TakePicture_24x24.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.01 4H18.4C18.2 4 18.01 3.9 17.9 3.73L16.97 2.34C16.41 1.5 15.48 1 14.47 1H9.54C8.53 1 7.6 1.5 7.04 2.34L6.11 3.73C6 3.9 5.81 4 5.61 4H4C2.35 4 1 5.35 1 7V19C1 20.65 2.35 22 4 22H20C21.65 22 23 20.65 23 19V7C23 5.35 21.65 4 20 4H20.01ZM21.01 19C21.01 19.55 20.56 20 20.01 20H4.01C3.46 20 3.01 19.55 3.01 19V7C3.01 6.45 3.46 6 4.01 6H5.62C6.49 6 7.3 5.56 7.79 4.84L8.72 3.45C8.91 3.17 9.22 3 9.55 3H14.48C14.81 3 15.13 3.17 15.31 3.45L16.24 4.84C16.72 5.56 17.54 6 18.41 6H20.02C20.57 6 21.02 6.45 21.02 7V19H21.01ZM12.01 6C8.7 6 6.01 8.69 6.01 12C6.01 15.31 8.7 18 12.01 18C15.32 18 18.01 15.31 18.01 12C18.01 8.69 15.32 6 12.01 6ZM12.01 16C9.8 16 8.01 14.21 8.01 12C8.01 9.79 9.8 8 12.01 8C14.22 8 16.01 9.79 16.01 12C16.01 14.21 14.22 16 12.01 16ZM13.01 10C13.01 10.55 12.56 11 12.01 11C11.46 11 11.01 11.45 11.01 12C11.01 12.55 10.56 13 10.01 13C9.46 13 9.01 12.55 9.01 12C9.01 10.35 10.36 9 12.01 9C12.56 9 13.01 9.45 13.01 10Z"></path></svg>'},"./src/images/TimerCircle.svg":function($e,j){$e.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 160 160"><circle cx="80" cy="80" r="70" style="stroke: var(--sd-timer-stroke-background-color); stroke-width: var(--sd-timer-stroke-background-width)" stroke-dasharray="none" stroke-dashoffset="none"></circle><circle cx="80" cy="80" r="70"></circle></svg>'},"./src/images/V2Check.svg":function($e,j){$e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.00001 15.8L2.60001 10.4L4.00001 9L8.00001 13L16 5L17.4 6.4L8.00001 15.8Z"></path></svg>'},"./src/images/V2Check_24x24.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9 20.1L1 12L3.1 9.9L9 15.9L20.9 4L23 6.1L9 20.1Z"></path></svg>'},"./src/images/V2DragElement_16x16.svg":function($e,j){$e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 4C2 3.73478 2.10536 3.48043 2.29289 3.29289C2.48043 3.10536 2.73478 3 3 3H13C13.2652 3 13.5196 3.10536 13.7071 3.29289C13.8946 3.48043 14 3.73478 14 4C14 4.26522 13.8946 4.51957 13.7071 4.70711C13.5196 4.89464 13.2652 5 13 5H3C2.73478 5 2.48043 4.89464 2.29289 4.70711C2.10536 4.51957 2 4.26522 2 4ZM13 7H3C2.73478 7 2.48043 7.10536 2.29289 7.29289C2.10536 7.48043 2 7.73478 2 8C2 8.26522 2.10536 8.51957 2.29289 8.70711C2.48043 8.89464 2.73478 9 3 9H13C13.2652 9 13.5196 8.89464 13.7071 8.70711C13.8946 8.51957 14 8.26522 14 8C14 7.73478 13.8946 7.48043 13.7071 7.29289C13.5196 7.10536 13.2652 7 13 7ZM13 11H3C2.73478 11 2.48043 11.1054 2.29289 11.2929C2.10536 11.4804 2 11.7348 2 12C2 12.2652 2.10536 12.5196 2.29289 12.7071C2.48043 12.8946 2.73478 13 3 13H13C13.2652 13 13.5196 12.8946 13.7071 12.7071C13.8946 12.5196 14 12.2652 14 12C14 11.7348 13.8946 11.4804 13.7071 11.2929C13.5196 11.1054 13.2652 11 13 11Z"></path></svg>'},"./src/images/back-to-panel_16x16.svg":function($e,j){$e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15.0001 6C15.0001 6.55 14.5501 7 14.0001 7H10.0001C9.45006 7 9.00006 6.55 9.00006 6V2C9.00006 1.45 9.45006 1 10.0001 1C10.5501 1 11.0001 1.45 11.0001 2V3.59L13.2901 1.29C13.4901 1.09 13.7401 1 14.0001 1C14.2601 1 14.5101 1.1 14.7101 1.29C15.1001 1.68 15.1001 2.31 14.7101 2.7L12.4201 4.99H14.0101C14.5601 4.99 15.0101 5.44 15.0101 5.99L15.0001 6ZM6.00006 9H2.00006C1.45006 9 1.00006 9.45 1.00006 10C1.00006 10.55 1.45006 11 2.00006 11H3.59006L1.29006 13.29C0.900059 13.68 0.900059 14.31 1.29006 14.7C1.68006 15.09 2.31006 15.09 2.70006 14.7L4.99006 12.41V14C4.99006 14.55 5.44006 15 5.99006 15C6.54006 15 6.99006 14.55 6.99006 14V10C6.99006 9.45 6.54006 9 5.99006 9H6.00006Z"></path></svg>'},"./src/images/chevron.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 15L17 10H7L12 15Z"></path></svg>'},"./src/images/clear_16x16.svg":function($e,j){$e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>'},"./src/images/close_16x16.svg":function($e,j){$e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M9.43 8.0025L13.7 3.7225C14.09 3.3325 14.09 2.6925 13.7 2.2925C13.31 1.9025 12.67 1.9025 12.27 2.2925L7.99 6.5725L3.72 2.3025C3.33 1.9025 2.69 1.9025 2.3 2.3025C1.9 2.6925 1.9 3.3325 2.3 3.7225L6.58 8.0025L2.3 12.2825C1.91 12.6725 1.91 13.3125 2.3 13.7125C2.69 14.1025 3.33 14.1025 3.73 13.7125L8.01 9.4325L12.29 13.7125C12.68 14.1025 13.32 14.1025 13.72 13.7125C14.11 13.3225 14.11 12.6825 13.72 12.2825L9.44 8.0025H9.43Z"></path></svg>'},"./src/images/collapseDetail.svg":function($e,j){$e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H3V9H13V7Z"></path></svg>'},"./src/images/drag-n-drop.svg":function($e,j){$e.exports='<svg viewBox="0 0 10 16" xmlns="http://www.w3.org/2000/svg"><path d="M6 2C6 0.9 6.9 0 8 0C9.1 0 10 0.9 10 2C10 3.1 9.1 4 8 4C6.9 4 6 3.1 6 2ZM2 0C0.9 0 0 0.9 0 2C0 3.1 0.9 4 2 4C3.1 4 4 3.1 4 2C4 0.9 3.1 0 2 0ZM8 6C6.9 6 6 6.9 6 8C6 9.1 6.9 10 8 10C9.1 10 10 9.1 10 8C10 6.9 9.1 6 8 6ZM2 6C0.9 6 0 6.9 0 8C0 9.1 0.9 10 2 10C3.1 10 4 9.1 4 8C4 6.9 3.1 6 2 6ZM8 12C6.9 12 6 12.9 6 14C6 15.1 6.9 16 8 16C9.1 16 10 15.1 10 14C10 12.9 9.1 12 8 12ZM2 12C0.9 12 0 12.9 0 14C0 15.1 0.9 16 2 16C3.1 16 4 15.1 4 14C4 12.9 3.1 12 2 12Z"></path></svg>'},"./src/images/expandDetail.svg":function($e,j){$e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H9V3H7V7H3V9H7V13H9V9H13V7Z"></path></svg>'},"./src/images/full-screen_16x16.svg":function($e,j){$e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6.71 10.71L4.42 13H6.01C6.56 13 7.01 13.45 7.01 14C7.01 14.55 6.56 15 6.01 15H2C1.45 15 1 14.55 1 14V10C1 9.45 1.45 9 2 9C2.55 9 3 9.45 3 10V11.59L5.29 9.3C5.68 8.91 6.31 8.91 6.7 9.3C7.09 9.69 7.09 10.32 6.7 10.71H6.71ZM14 1H10C9.45 1 9 1.45 9 2C9 2.55 9.45 3 10 3H11.59L9.3 5.29C8.91 5.68 8.91 6.31 9.3 6.7C9.5 6.9 9.75 6.99 10.01 6.99C10.27 6.99 10.52 6.89 10.72 6.7L13.01 4.41V6C13.01 6.55 13.46 7 14.01 7C14.56 7 15.01 6.55 15.01 6V2C15.01 1.45 14.56 1 14.01 1H14Z"></path></svg>'},"./src/images/loading.svg":function($e,j){$e.exports='<svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_885_24957)"><path opacity="0.1" d="M24 40C15.18 40 8 32.82 8 24C8 15.18 15.18 8 24 8C32.82 8 40 15.18 40 24C40 32.82 32.82 40 24 40ZM24 12C17.38 12 12 17.38 12 24C12 30.62 17.38 36 24 36C30.62 36 36 30.62 36 24C36 17.38 30.62 12 24 12Z" fill="black" fill-opacity="0.91"></path><path d="M10 26C8.9 26 8 25.1 8 24C8 15.18 15.18 8 24 8C25.1 8 26 8.9 26 10C26 11.1 25.1 12 24 12C17.38 12 12 17.38 12 24C12 25.1 11.1 26 10 26Z" fill="#19B394"></path></g><defs><clipPath id="clip0_885_24957"><rect width="32" height="32" fill="white" transform="translate(8 8)"></rect></clipPath></defs></svg>'},"./src/images/minimize_16x16.svg":function($e,j){$e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 9H3C2.45 9 2 8.55 2 8C2 7.45 2.45 7 3 7H13C13.55 7 14 7.45 14 8C14 8.55 13.55 9 13 9Z"></path></svg>'},"./src/images/no-image.svg":function($e,j){$e.exports='<svg viewBox="0 0 48 48"><g opacity="0.5"><path d="M14 17.01C14 16.4167 14.1759 15.8366 14.5056 15.3433C14.8352 14.8499 15.3038 14.4654 15.8519 14.2384C16.4001 14.0113 17.0033 13.9519 17.5853 14.0676C18.1672 14.1834 18.7018 14.4691 19.1213 14.8887C19.5409 15.3082 19.8266 15.8428 19.9424 16.4247C20.0581 17.0067 19.9987 17.6099 19.7716 18.1581C19.5446 18.7062 19.1601 19.1748 18.6667 19.5044C18.1734 19.8341 17.5933 20.01 17 20.01C16.2044 20.01 15.4413 19.6939 14.8787 19.1313C14.3161 18.5687 14 17.8056 14 17.01ZM27.09 24.14L20 36.01H36L27.09 24.14ZM36.72 8.14L35.57 10.01H36C36.5304 10.01 37.0391 10.2207 37.4142 10.5958C37.7893 10.9709 38 11.4796 38 12.01V36.01C38 36.5404 37.7893 37.0491 37.4142 37.4242C37.0391 37.7993 36.5304 38.01 36 38.01H18.77L17.57 40.01H36C37.0609 40.01 38.0783 39.5886 38.8284 38.8384C39.5786 38.0883 40 37.0709 40 36.01V12.01C39.9966 11.0765 39.6668 10.1737 39.0678 9.45778C38.4688 8.74188 37.6382 8.25802 36.72 8.09V8.14ZM36.86 4.5L12.86 44.5L11.14 43.5L13.23 40.01H12C10.9391 40.01 9.92172 39.5886 9.17157 38.8384C8.42143 38.0883 8 37.0709 8 36.01V12.01C8 10.9491 8.42143 9.93172 9.17157 9.18157C9.92172 8.43143 10.9391 8.01 12 8.01H32.43L35.14 3.5L36.86 4.5ZM14.43 38.01L15.63 36.01H12L19 27.01L20.56 27.8L31.23 10.01H12C11.4696 10.01 10.9609 10.2207 10.5858 10.5958C10.2107 10.9709 10 11.4796 10 12.01V36.01C10 36.5404 10.2107 37.0491 10.5858 37.4242C10.9609 37.7993 11.4696 38.01 12 38.01H14.43Z"></path></g></svg>'},"./src/images/ranking-arrows.svg":function($e,j){$e.exports='<svg viewBox="0 0 10 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 5L5 0L0 5H4V9H6V5H10Z"></path><path d="M6 19V15H4V19H0L5 24L10 19H6Z"></path></svg>'},"./src/images/ranking-dash.svg":function($e,j){$e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13 7H3V9H13V7Z"></path></svg>'},"./src/images/rating-star-2.svg":function($e,j){$e.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" fill="none" stroke-width="2"></path><path d="M24.4663 34.6154L24 34.3695L23.5336 34.6154L14.4788 39.389L16.2156 29.2691L16.3044 28.7517L15.9289 28.3848L8.57358 21.1966L18.7249 19.7094L19.245 19.6332L19.4772 19.1616L24 9.97413L28.5228 19.1616L28.755 19.6332L29.275 19.7094L39.4264 21.1966L32.0711 28.3848L31.6956 28.7517L31.7844 29.2691L33.5211 39.389L24.4663 34.6154Z" stroke-width="2"></path></g></svg>'},"./src/images/rating-star-small-2.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" fill="none" stroke-width="2"></path><path d="M12 15.9472L8.58001 17.7572L9.23001 13.9272L6.45001 11.2072L10.29 10.6472L12 7.17725L13.71 10.6472L17.55 11.2072L14.77 13.9272L15.42 17.7572L12 15.9472Z"></path></svg>'},"./src/images/rating-star-small.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" stroke-width="2"></path></g></svg>'},"./src/images/rating-star.svg":function($e,j){$e.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" stroke-width="2"></path></g></svg>'},"./src/images/restore_16x16.svg":function($e,j){$e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12 13H4C2.9 13 2 12.1 2 11V5C2 3.9 2.9 3 4 3H12C13.1 3 14 3.9 14 5V11C14 12.1 13.1 13 12 13ZM4 5V11H12V5H4Z"></path></svg>'},"./src/images/search.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14 2C9.6 2 6 5.6 6 10C6 11.8 6.6 13.5 7.7 14.9L2.3 20.3C1.9 20.7 1.9 21.3 2.3 21.7C2.5 21.9 2.7 22 3 22C3.3 22 3.5 21.9 3.7 21.7L9.1 16.3C10.5 17.4 12.2 18 14 18C18.4 18 22 14.4 22 10C22 5.6 18.4 2 14 2ZM14 16C10.7 16 8 13.3 8 10C8 6.7 10.7 4 14 4C17.3 4 20 6.7 20 10C20 13.3 17.3 16 14 16Z"></path></svg>'},"./src/images/smiley sync \\.svg$":function($e,j,x){var G={"./average.svg":"./src/images/smiley/average.svg","./excellent.svg":"./src/images/smiley/excellent.svg","./good.svg":"./src/images/smiley/good.svg","./normal.svg":"./src/images/smiley/normal.svg","./not-good.svg":"./src/images/smiley/not-good.svg","./perfect.svg":"./src/images/smiley/perfect.svg","./poor.svg":"./src/images/smiley/poor.svg","./terrible.svg":"./src/images/smiley/terrible.svg","./very-good.svg":"./src/images/smiley/very-good.svg","./very-poor.svg":"./src/images/smiley/very-poor.svg"};function se(w){var F=$(w);return x(F)}function $(w){if(!x.o(G,w)){var F=new Error("Cannot find module '"+w+"'");throw F.code="MODULE_NOT_FOUND",F}return G[w]}se.keys=function(){return Object.keys(G)},se.resolve=$,$e.exports=se,se.id="./src/images/smiley sync \\.svg$"},"./src/images/smiley/average.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.00572 7C6.45572 7 6.00572 6.55 6.00572 6V2C6.00572 1.45 6.45572 1 7.00572 1C7.55572 1 8.00572 1.45 8.00572 2V6C8.00572 6.55 7.55572 7 7.00572 7ZM18.0057 6V2C18.0057 1.45 17.5557 1 17.0057 1C16.4557 1 16.0057 1.45 16.0057 2V6C16.0057 6.55 16.4557 7 17.0057 7C17.5557 7 18.0057 6.55 18.0057 6ZM19.9457 21.33C20.1257 20.81 19.8557 20.24 19.3357 20.05C14.5457 18.35 9.45572 18.35 4.66572 20.05C4.14572 20.23 3.87572 20.81 4.05572 21.33C4.23572 21.85 4.80572 22.12 5.33572 21.94C9.69572 20.4 14.3057 20.4 18.6657 21.94C18.7757 21.98 18.8857 22 18.9957 22C19.4057 22 19.7957 21.74 19.9357 21.33H19.9457Z"></path></svg>'},"./src/images/smiley/excellent.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85767 24 1.15509 20.96 0.0145752 14.16C-0.0354475 13.87 0.0445888 13.57 0.234675 13.35C0.424761 13.13 0.704888 13 0.995019 13H23.005C23.2951 13 23.5752 13.13 23.7653 13.35C23.9554 13.57 24.0354 13.87 23.9854 14.16C22.8549 20.95 17.1423 24 11.99 24H12.01ZM2.25559 15C3.61621 19.82 8.0182 22 12.01 22C16.0018 22 20.4038 19.82 21.7644 15H2.25559ZM8.00819 6V2C8.00819 1.45 7.55799 1 7.00774 1C6.45749 1 6.00729 1.45 6.00729 2V6C6.00729 6.55 6.45749 7 7.00774 7C7.55799 7 8.00819 6.55 8.00819 6ZM18.0127 6V2C18.0127 1.45 17.5625 1 17.0123 1C16.462 1 16.0118 1.45 16.0118 2V6C16.0118 6.55 16.462 7 17.0123 7C17.5625 7 18.0127 6.55 18.0127 6Z"></path></svg>'},"./src/images/smiley/good.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.0022 23.99C11.452 23.99 11.0018 23.5402 11.0018 22.9904C11.0018 22.4407 11.452 21.9909 12.0022 21.9909C16.3137 21.9909 21.0755 19.472 22.0158 13.8344C22.1058 13.2947 22.616 12.9248 23.1662 13.0148C23.7064 13.1047 24.0765 13.6245 23.9865 14.1643C22.8561 20.9513 17.144 24 11.9922 24L12.0022 23.99ZM8.00072 5.99783V1.99957C8.00072 1.4498 7.55056 1 7.00036 1C6.45016 1 6 1.4498 6 1.99957V5.99783C6 6.54759 6.45016 6.99739 7.00036 6.99739C7.55056 6.99739 8.00072 6.54759 8.00072 5.99783ZM18.0043 5.99783V1.99957C18.0043 1.4498 17.5542 1 17.004 1C16.4538 1 16.0036 1.4498 16.0036 1.99957V5.99783C16.0036 6.54759 16.4538 6.99739 17.004 6.99739C17.5542 6.99739 18.0043 6.54759 18.0043 5.99783Z"></path></svg>'},"./src/images/smiley/normal.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 7C6.45 7 6 6.55 6 6V2C6 1.45 6.45 1 7 1C7.55 1 8 1.45 8 2V6C8 6.55 7.55 7 7 7ZM18 6V2C18 1.45 17.55 1 17 1C16.45 1 16 1.45 16 2V6C16 6.55 16.45 7 17 7C17.55 7 18 6.55 18 6ZM21 21C21 20.45 20.55 20 20 20H4C3.45 20 3 20.45 3 21C3 21.55 3.45 22 4 22H20C20.55 22 21 21.55 21 21Z"></path></svg>'},"./src/images/smiley/not-good.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.06927 7C6.51927 7 6.06927 6.55 6.06927 6V2C6.06927 1.45 6.51927 1 7.06927 1C7.61927 1 8.06927 1.45 8.06927 2V6C8.06927 6.55 7.61927 7 7.06927 7ZM18.0693 6V2C18.0693 1.45 17.6193 1 17.0693 1C16.5193 1 16.0693 1.45 16.0693 2V6C16.0693 6.55 16.5193 7 17.0693 7C17.6193 7 18.0693 6.55 18.0693 6ZM22.5693 21.9C23.0693 21.66 23.2793 21.07 23.0393 20.57C21.1093 16.52 16.9093 14 12.0693 14C7.22927 14 3.02927 16.52 1.09927 20.57C0.859273 21.07 1.06927 21.67 1.56927 21.9C2.06927 22.14 2.65927 21.93 2.89927 21.43C4.49927 18.08 8.00927 16 12.0593 16C16.1093 16 19.6293 18.08 21.2193 21.43C21.3893 21.79 21.7493 22 22.1193 22C22.2593 22 22.4093 21.97 22.5493 21.9H22.5693Z"></path></svg>'},"./src/images/smiley/perfect.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 23C6.85721 23 1.15412 19.9621 0.0134987 13.1669C-0.0765501 12.6272 0.293651 12.1076 0.833944 12.0177C1.38424 11.9277 1.89452 12.2975 1.98457 12.8371C2.92508 18.4732 7.69767 20.9914 12 20.9914C16.3023 20.9914 21.0749 18.4732 22.0154 12.8371C22.1055 12.2975 22.6158 11.9277 23.1661 12.0177C23.7063 12.1076 24.0765 12.6272 23.9865 13.1669C22.8559 19.9521 17.1428 23 11.99 23H12.01ZM21.165 6.15177C22.3056 5.01257 22.3056 3.16386 21.165 2.02465L21.0049 1.85477C19.9143 0.765533 18.1633 0.725561 17.0227 1.71487C15.8821 0.715568 14.1312 0.765533 13.0406 1.85477L12.8705 2.01466C11.7299 3.15386 11.7299 5.00257 12.8705 6.14178L17.0227 10.2889L21.175 6.14178L21.165 6.15177ZM15.742 3.27378L17.0127 4.54289L18.2834 3.27378C18.6436 2.91403 19.2239 2.91403 19.5841 3.27378L19.7442 3.43367C20.1044 3.79342 20.1044 4.37301 19.7442 4.73276L17.0127 7.46086L14.2812 4.73276C13.921 4.37301 13.921 3.79342 14.2812 3.43367L14.4413 3.27378C14.6214 3.09391 14.8515 3.00397 15.0917 3.00397C15.3318 3.00397 15.5619 3.09391 15.742 3.27378ZM11.1595 6.15177C12.3002 5.01257 12.3002 3.16386 11.1595 2.02465L10.9995 1.85477C9.90886 0.765533 8.15792 0.725561 7.0173 1.71487C5.87668 0.715568 4.12573 0.765533 3.03514 1.85477L2.86505 2.01466C1.72443 3.15386 1.72443 5.00257 2.86505 6.14178L7.0173 10.2889L11.1695 6.14178L11.1595 6.15177ZM5.7366 3.27378L7.00729 4.54289L8.27798 3.27378C8.63818 2.91403 9.21849 2.91403 9.57869 3.27378L9.73877 3.43367C10.099 3.79342 10.099 4.37301 9.73877 4.73276L7.00729 7.46086L4.27581 4.73276C3.91562 4.37301 3.91562 3.79342 4.27581 3.43367L4.4359 3.27378C4.61599 3.09391 4.84612 3.00397 5.08625 3.00397C5.32638 3.00397 5.5565 3.09391 5.7366 3.27378Z"></path></svg>'},"./src/images/smiley/poor.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.01915 7C6.46961 7 6.01998 6.55 6.01998 6V2C6.01998 1.45 6.46961 1 7.01915 1C7.56869 1 8.01832 1.45 8.01832 2V6C8.01832 6.55 7.56869 7 7.01915 7ZM18.01 6V2C18.01 1.45 17.5604 1 17.0108 1C16.4613 1 16.0117 1.45 16.0117 2V6C16.0117 6.55 16.4613 7 17.0108 7C17.5604 7 18.01 6.55 18.01 6ZM16.4213 21.58L18.01 19.99L19.2989 21.28C19.6886 21.67 20.3181 21.67 20.7077 21.28C21.0974 20.89 21.0974 20.26 20.7077 19.87L19.4188 18.58C18.6395 17.8 17.3705 17.8 16.5912 18.58L15.0025 20.17L13.4138 18.58C12.6345 17.8 11.3655 17.8 10.5862 18.58L8.9975 20.17L7.40883 18.58C6.62948 17.8 5.36053 17.8 4.58118 18.58L3.29226 19.87C2.90258 20.26 2.90258 20.89 3.29226 21.28C3.68193 21.67 4.31141 21.67 4.70108 21.28L5.99001 19.99L7.57868 21.58C8.35803 22.36 9.62698 22.36 10.4063 21.58L11.995 19.99L13.5837 21.58C13.9734 21.97 14.4829 22.16 14.9925 22.16C15.5021 22.16 16.0117 21.97 16.4013 21.58H16.4213Z"></path></svg>'},"./src/images/smiley/terrible.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 4.9938C4 4.44362 4.45 3.99348 5 3.99348H6.59L5.3 2.70306C4.91 2.31293 4.91 1.68272 5.3 1.2926C5.69 0.902468 6.32 0.902468 6.71 1.2926L9.71 4.29357C9.8 4.3836 9.88 4.49364 9.93 4.62368C10.03 4.86376 10.03 5.14385 9.93 5.38393C9.88 5.50397 9.81 5.614 9.71 5.71404L6.71 8.71501C6.51 8.91508 6.26 9.00511 6 9.00511C5.74 9.00511 5.49 8.90508 5.29 8.71501C4.9 8.32489 4.9 7.69468 5.29 7.30456L6.58 6.01413H4.99C4.44 6.01413 3.99 5.56399 3.99 5.01381L4 4.9938ZM14.08 5.37393C14.13 5.49397 14.2 5.604 14.3 5.70403L17.3 8.70501C17.5 8.90508 17.75 8.99511 18.01 8.99511C18.27 8.99511 18.52 8.89507 18.72 8.70501C19.11 8.31488 19.11 7.68468 18.72 7.29455L17.43 6.00413H19.02C19.57 6.00413 20.02 5.55399 20.02 5.00381C20.02 4.45363 19.57 4.00348 19.02 4.00348H17.43L18.72 2.71306C19.11 2.32293 19.11 1.69273 18.72 1.3026C18.33 0.912471 17.7 0.912471 17.31 1.3026L14.31 4.30358C14.22 4.39361 14.14 4.50364 14.09 4.63368C13.99 4.87376 13.99 5.15385 14.09 5.39393L14.08 5.37393ZM22 14.9971V20.999C22 22.6496 20.65 24 19 24H5C3.35 24 2 22.6496 2 20.999V14.9971C2 13.3465 3.35 11.9961 5 11.9961H19C20.65 11.9961 22 13.3465 22 14.9971ZM19 13.9967H16V16.9977H20V14.9971C20 14.4469 19.55 13.9967 19 13.9967ZM14 16.9977V13.9967H10V16.9977H14ZM10 18.9984V21.9993H14V18.9984H10ZM4 14.9971V16.9977H8V13.9967H5C4.45 13.9967 4 14.4469 4 14.9971ZM5 21.9993H8V18.9984H4V20.999C4 21.5492 4.45 21.9993 5 21.9993ZM20 20.999V18.9984H16V21.9993H19C19.55 21.9993 20 21.5492 20 20.999Z"></path></svg>'},"./src/images/smiley/very-good.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85721 24 1.15412 20.96 0.0134987 14.16C-0.0765501 13.62 0.293651 13.1 0.833944 13.01C1.38424 12.92 1.89452 13.29 1.98457 13.83C2.92508 19.47 7.69767 21.99 12 21.99C16.3023 21.99 21.0749 19.47 22.0154 13.83C22.1055 13.29 22.6158 12.92 23.1661 13.01C23.7063 13.1 24.0765 13.62 23.9865 14.16C22.8559 20.95 17.1428 24 11.99 24H12.01ZM8.00783 6V2C8.00783 1.45 7.55759 1 7.00729 1C6.45699 1 6.00675 1.45 6.00675 2V6C6.00675 6.55 6.45699 7 7.00729 7C7.55759 7 8.00783 6.55 8.00783 6ZM18.0133 6V2C18.0133 1.45 17.563 1 17.0127 1C16.4624 1 16.0122 1.45 16.0122 2V6C16.0122 6.55 16.4624 7 17.0127 7C17.563 7 18.0133 6.55 18.0133 6Z"></path></svg>'},"./src/images/smiley/very-poor.svg":function($e,j){$e.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_15894_140103)"><path d="M4.88291 4.50999C4.47291 4.50999 4.08291 4.24999 3.94291 3.83999C3.76291 3.31999 4.03291 2.74999 4.55291 2.56999L8.32291 1.24999C8.84291 1.05999 9.41291 1.33999 9.59291 1.85999C9.77291 2.37999 9.50291 2.94999 8.98291 3.12999L5.20291 4.44999C5.09291 4.48999 4.98291 4.50999 4.87291 4.50999H4.88291ZM19.8129 3.88999C20.0229 3.37999 19.7729 2.78999 19.2629 2.58999L15.5529 1.06999C15.0429 0.859992 14.4529 1.10999 14.2529 1.61999C14.0429 2.12999 14.2929 2.71999 14.8029 2.91999L18.5029 4.42999C18.6229 4.47999 18.7529 4.49999 18.8829 4.49999C19.2729 4.49999 19.6529 4.26999 19.8129 3.87999V3.88999ZM3.50291 5.99999C2.64291 6.36999 1.79291 6.87999 1.00291 7.47999C0.79291 7.63999 0.64291 7.86999 0.59291 8.13999C0.48291 8.72999 0.87291 9.28999 1.45291 9.39999C2.04291 9.50999 2.60291 9.11999 2.71291 8.53999C2.87291 7.68999 3.12291 6.82999 3.50291 5.98999V5.99999ZM21.0429 8.54999C21.6029 10.48 24.2429 8.83999 22.7529 7.47999C21.9629 6.87999 21.1129 6.36999 20.2529 5.99999C20.6329 6.83999 20.8829 7.69999 21.0429 8.54999ZM21.5729 13.2C21.2529 14.2 22.5429 15.09 23.3629 14.39C23.8529 14 23.9229 13.29 23.5429 12.81C21.7429 10.67 22.1329 10.55 21.5829 13.2H21.5729ZM1.75291 11C1.22291 11.79 -0.14709 12.64 0.0129102 13.75C0.15291 14.36 0.75291 14.74 1.35291 14.6C2.98291 14.1 1.80291 12.22 1.75291 11ZM19.8829 17C19.8829 13.14 16.2929 9.99999 11.8829 9.99999C7.47291 9.99999 3.88291 13.14 3.88291 17C3.88291 20.86 7.47291 24 11.8829 24C16.2929 24 19.8829 20.86 19.8829 17ZM17.8829 17C17.8829 19.76 15.1929 22 11.8829 22C8.57291 22 5.88291 19.76 5.88291 17C5.88291 14.24 8.57291 12 11.8829 12C15.1929 12 17.8829 14.24 17.8829 17Z"></path></g><defs><clipPath id="clip0_15894_140103"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>'},"./src/itemvalue.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"ItemValue",function(){return y});var h,G=x("./src/localizablestring.ts"),se=x("./src/jsonobject.ts"),$=x("./src/helpers.ts"),w=x("./src/conditions.ts"),F=x("./src/base.ts"),R=x("./src/settings.ts"),L=x("./src/actions/action.ts"),m=x("./src/question.ts"),T=(h=function(v,f){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(d[a]=u[a])})(v,f)},function(v,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function d(){this.constructor=v}h(v,f),v.prototype=null===f?Object.create(f):(d.prototype=f.prototype,new d)}),C=function(h,v,f,d){var o,u=arguments.length,a=u<3?v:null===d?d=Object.getOwnPropertyDescriptor(v,f):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(h,v,f,d);else for(var s=h.length-1;s>=0;s--)(o=h[s])&&(a=(u<3?o(a):u>3?o(v,f,a):o(v,f))||a);return u>3&&a&&Object.defineProperty(v,f,a),a},y=function(h){function v(f,d,u){void 0===d&&(d=null),void 0===u&&(u="itemvalue");var a=h.call(this)||this;return a.typeName=u,a.ownerPropertyName="",a.locTextValue=new G.LocalizableString(a,!0,"text"),a.locTextValue.onStrChanged=function(o,s){s==a.value&&(s=void 0),a.propertyValueChanged("text",o,s)},a.locTextValue.onGetTextCallback=function(o){return o||($.Helpers.isValueEmpty(a.value)?null:a.value.toString())},d&&(a.locText.text=d),f&&"object"==typeof f?a.setData(f):a.value=f,"itemvalue"!=a.getType()&&se.CustomPropertiesCollection.createProperties(a),a.data=a,a.onCreating(),a}return T(v,h),v.prototype.getMarkdownHtml=function(f,d){return this.locOwner?this.locOwner.getMarkdownHtml(f,d):void 0},v.prototype.getRenderer=function(f){return this.locOwner?this.locOwner.getRenderer(f):null},v.prototype.getRendererContext=function(f){return this.locOwner?this.locOwner.getRendererContext(f):f},v.prototype.getProcessedText=function(f){return this.locOwner?this.locOwner.getProcessedText(f):f},Object.defineProperty(v,"Separator",{get:function(){return R.settings.itemValueSeparator},set:function(f){R.settings.itemValueSeparator=f},enumerable:!1,configurable:!0}),v.setData=function(f,d,u){f.length=0;for(var a=0;a<d.length;a++){var o=d[a],s=o&&"function"==typeof o.getType?o.getType():null!=u?u:"itemvalue",l=se.Serializer.createClass(s);l.setData(o),o.originalItem&&(l.originalItem=o.originalItem),f.push(l)}},v.getData=function(f){for(var d=[],u=0;u<f.length;u++)d.push(f[u].getData());return d},v.getItemByValue=function(f,d){if(!Array.isArray(f))return null;for(var u=$.Helpers.isValueEmpty(d),a=0;a<f.length;a++)if(u&&$.Helpers.isValueEmpty(f[a].value)||$.Helpers.isTwoValueEquals(f[a].value,d,!1,!0,!1))return f[a];return null},v.getTextOrHtmlByValue=function(f,d){var u=v.getItemByValue(f,d);return null!==u?u.locText.textOrHtml:""},v.locStrsChanged=function(f){for(var d=0;d<f.length;d++)f[d].locStrsChanged()},v.runConditionsForItems=function(f,d,u,a,o,s,l){return void 0===s&&(s=!0),v.runConditionsForItemsCore(f,d,u,a,o,!0,s,l)},v.runEnabledConditionsForItems=function(f,d,u,a,o){return v.runConditionsForItemsCore(f,null,d,u,a,!1,!0,o)},v.runConditionsForItemsCore=function(f,d,u,a,o,s,l,c){void 0===l&&(l=!0),a||(a={});for(var b=a.item,M=a.choice,D=!1,g=0;g<f.length;g++){var P=f[g];a.item=P.value,a.choice=P.value;var A=!(!l||!P.getConditionRunner)&&P.getConditionRunner(s);A||(A=u);var k=!0;A&&(k=A.run(a,o)),c&&(k=c(P,k)),d&&k&&d.push(P),k!=(s?P.isVisible:P.isEnabled)&&(D=!0,s?P.setIsVisible&&P.setIsVisible(k):P.setIsEnabled&&P.setIsEnabled(k))}return b?a.item=b:delete a.item,M?a.choice=M:delete a.choice,D},v.prototype.onCreating=function(){},v.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},v.prototype.getSurvey=function(f){return void 0===f&&(f=!1),this.locOwner&&this.locOwner.getSurvey?this.locOwner.getSurvey():null},v.prototype.getLocale=function(){return this.locOwner&&this.locOwner.getLocale?this.locOwner.getLocale():""},Object.defineProperty(v.prototype,"isInternal",{get:function(){return!0===this.isGhost},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"locText",{get:function(){return this.locTextValue},enumerable:!1,configurable:!0}),v.prototype.setLocText=function(f){this.locTextValue=f},Object.defineProperty(v.prototype,"locOwner",{get:function(){return this._locOwner},set:function(f){this._locOwner=f},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(f){var d=void 0;if(!$.Helpers.isValueEmpty(f)){var u=f.toString(),a=u.indexOf(R.settings.itemValueSeparator);a>-1&&(f=u.slice(0,a),d=u.slice(a+1))}this.setPropertyValue("value",f),d&&(this.text=d),this.id=this.value},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"hasText",{get:function(){return!!this.locText.pureText},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"pureText",{get:function(){return this.locText.pureText},set:function(f){this.text=f},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"text",{get:function(){return this.locText.calculatedText},set:function(f){this.locText.text=f},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"calculatedText",{get:function(){return this.locText.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"shortcutText",{get:function(){return this.text},enumerable:!1,configurable:!0}),v.prototype.canSerializeValue=function(){var f=this.value;return null!=f&&!Array.isArray(f)&&"object"!=typeof f},v.prototype.getData=function(){var f=this.toJSON();if(!!f.value&&!!f.value.pos&&delete f.value.pos,$.Helpers.isValueEmpty(f.value))return f;var d=this.canSerializeValue();return d&&(R.settings.serialization.itemValueSerializeAsObject||R.settings.serialization.itemValueSerializeDisplayText)||1!=Object.keys(f).length?(R.settings.serialization.itemValueSerializeDisplayText&&void 0===f.text&&d&&(f.text=this.value.toString()),f):this.value},v.prototype.toJSON=function(){var f={},d=se.Serializer.getProperties(this.getType());(!d||0==d.length)&&(d=se.Serializer.getProperties("itemvalue"));for(var u=new se.JsonObject,a=0;a<d.length;a++){var o=d[a];"text"===o.name&&!this.locText.hasNonDefaultText()&&$.Helpers.isTwoValueEquals(this.value,this.text,!1,!0,!1)||u.valueToJson(this,f,o)}return f},v.prototype.setData=function(f){if(!$.Helpers.isValueEmpty(f)){if(void 0===f.value&&void 0!==f.text&&1===Object.keys(f).length&&(f.value=f.text),void 0!==f.value){var d;d="function"==typeof f.toJSON?f.toJSON():f,(new se.JsonObject).toObject(d,this)}else this.value=f;this.locText.strChanged()}},Object.defineProperty(v.prototype,"visibleIf",{get:function(){return this.getPropertyValueWithoutDefault("visibleIf")||""},set:function(f){this.setPropertyValue("visibleIf",f)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"enableIf",{get:function(){return this.getPropertyValueWithoutDefault("enableIf")||""},set:function(f){this.setPropertyValue("enableIf",f)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isVisible",{get:function(){var f=this.getPropertyValueWithoutDefault("isVisible");return void 0===f||f},enumerable:!1,configurable:!0}),v.prototype.setIsVisible=function(f){this.setPropertyValue("isVisible",f)},Object.defineProperty(v.prototype,"isEnabled",{get:function(){var f=this.getPropertyValueWithoutDefault("isEnabled");return void 0===f||f},enumerable:!1,configurable:!0}),v.prototype.setIsEnabled=function(f){this.setPropertyValue("isEnabled",f)},v.prototype.addUsedLocales=function(f){this.AddLocStringToUsedLocales(this.locTextValue,f)},v.prototype.locStrsChanged=function(){h.prototype.locStrsChanged.call(this),this.locText.strChanged()},v.prototype.onPropertyValueChanged=function(f,d,u){"value"===f&&!this.hasText&&this.locText.strChanged();var a="itemValuePropertyChanged";!this.locOwner||!this.locOwner[a]||this.locOwner[a](this,f,d,u)},v.prototype.getConditionRunner=function(f){return f?this.getVisibleConditionRunner():this.getEnableConditionRunner()},v.prototype.getVisibleConditionRunner=function(){return this.visibleIf?(this.visibleConditionRunner||(this.visibleConditionRunner=new w.ConditionRunner(this.visibleIf)),this.visibleConditionRunner.expression=this.visibleIf,this.visibleConditionRunner):null},v.prototype.getEnableConditionRunner=function(){return this.enableIf?(this.enableConditionRunner||(this.enableConditionRunner=new w.ConditionRunner(this.enableIf)),this.enableConditionRunner.expression=this.enableIf,this.enableConditionRunner):null},Object.defineProperty(v.prototype,"selected",{get:function(){var f=this,d=this._locOwner;return d instanceof m.Question&&d.isItemSelected&&void 0===this.selectedValue&&(this.selectedValue=new F.ComputedUpdater(function(){return d.isItemSelected(f)})),this.selectedValue},enumerable:!1,configurable:!0}),v.prototype.getComponent=function(){return this._locOwner instanceof m.Question?this.componentValue||this._locOwner.itemComponent:this.componentValue},v.prototype.setComponent=function(f){this.componentValue=f},v.prototype.getEnabled=function(){return this.isEnabled},v.prototype.setEnabled=function(f){this.setIsEnabled(f)},v.prototype.getVisible=function(){return(void 0===this.isVisible||this.isVisible)&&(void 0===this._visible||this._visible)},v.prototype.setVisible=function(f){this._visible=f},v.prototype.getLocTitle=function(){return this.locText},v.prototype.getTitle=function(){return this.text},v.prototype.setLocTitle=function(f){},v.prototype.setTitle=function(f){},C([Object(se.property)({defaultValue:!0})],v.prototype,"_visible",void 0),C([Object(se.property)()],v.prototype,"selectedValue",void 0),C([Object(se.property)()],v.prototype,"icon",void 0),v}(L.BaseAction);F.Base.createItemValue=function(h,v){var f=null;return(f=v?se.JsonObject.metaData.createClass(v,{}):"function"==typeof h.getType?new y(null,void 0,h.getType()):new y(null)).setData(h),f},F.Base.itemValueLocStrChanged=function(h){y.locStrsChanged(h)},se.JsonObjectProperty.getItemValuesDefaultValue=function(h,v){var f=new Array;return y.setData(f,Array.isArray(h)?h:[],v),f},se.Serializer.addClass("itemvalue",[{name:"!value",isUnique:!0},{name:"text",serializationProperty:"locText"},{name:"visibleIf:condition",showMode:"form"},{name:"enableIf:condition",showMode:"form",visibleIf:function(h){return!h||"rateValues"!==h.ownerPropertyName}}],function(h){return new y(h)})},"./src/jsonobject.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"property",function(){return m}),x.d(j,"propertyArray",function(){return C}),x.d(j,"JsonObjectProperty",function(){return y}),x.d(j,"CustomPropertiesCollection",function(){return h}),x.d(j,"JsonMetadataClass",function(){return v}),x.d(j,"JsonMetadata",function(){return f}),x.d(j,"JsonError",function(){return d}),x.d(j,"JsonUnknownPropertyError",function(){return u}),x.d(j,"JsonMissingTypeErrorBase",function(){return a}),x.d(j,"JsonMissingTypeError",function(){return o}),x.d(j,"JsonIncorrectTypeError",function(){return s}),x.d(j,"JsonRequiredPropertyError",function(){return l}),x.d(j,"JsonRequiredArrayPropertyError",function(){return c}),x.d(j,"JsonIncorrectPropertyValueError",function(){return b}),x.d(j,"JsonObject",function(){return M}),x.d(j,"Serializer",function(){return D});var g,G=x("./src/surveyStrings.ts"),se=x("./src/base.ts"),$=x("./src/helpers.ts"),w=(g=function(P,A){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,Z){k.__proto__=Z}||function(k,Z){for(var re in Z)Object.prototype.hasOwnProperty.call(Z,re)&&(k[re]=Z[re])})(P,A)},function(P,A){if("function"!=typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function k(){this.constructor=P}g(P,A),P.prototype=null===A?Object.create(A):(k.prototype=A.prototype,new k)});function R(g,P,A){var k=g.getLocalizableString(A);if(!k){var Z=void 0;"object"==typeof P.localizable&&P.localizable.defaultStr&&(Z=P.localizable.defaultStr),k=g.createLocalizableString(A,g,!0,Z),"object"==typeof P.localizable&&"function"==typeof P.localizable.onGetTextCallback&&(k.onGetTextCallback=P.localizable.onGetTextCallback)}}function m(g){return void 0===g&&(g={}),function(P,A){var k=function(Z,re){if(re&&"object"==typeof re&&re.type===se.ComputedUpdater.ComputedUpdaterType){se.Base.startCollectDependencies(function(){return Z[A]=re.updater()},Z,A);var H=re.updater(),E=se.Base.finishCollectDependencies();return re.setDependencies(E),Z.dependencies[A]&&Z.dependencies[A].dispose(),Z.dependencies[A]=re,H}return re};g&&g.localizable?(Object.defineProperty(P,A,{get:function(){return function L(g,P,A){R(g,P,A);var k=g.getLocalizableStringText(A);if(k)return k;if("object"==typeof P.localizable&&P.localizable.defaultStr){var Z=g.getLocale?g.getLocale():"";return G.surveyLocalization.getString(P.localizable.defaultStr,Z)}return""}(this,g,A)},set:function(Z){R(this,g,A);var re=k(this,Z);this.setLocalizableStringText(A,re),g&&g.onSet&&g.onSet(re,this)}}),Object.defineProperty(P,"object"==typeof g.localizable&&g.localizable.name?g.localizable.name:"loc"+A.charAt(0).toUpperCase()+A.slice(1),{get:function(){return R(this,g,A),this.getLocalizableString(A)}})):Object.defineProperty(P,A,{get:function(){var Z=null;return g&&("function"==typeof g.getDefaultValue&&(Z=g.getDefaultValue(this)),void 0!==g.defaultValue&&(Z=g.defaultValue)),this.getPropertyValue(A,Z)},set:function(Z){var re=k(this,Z);this.setPropertyValue(A,re),g&&g.onSet&&g.onSet(re,this)}})}}function T(g,P,A){g.ensureArray(A,function(k,Z){var re=P?P.onPush:null;re&&re(k,Z,g)},function(k,Z){var re=P?P.onRemove:null;re&&re(k,Z,g)})}function C(g){return function(P,A){Object.defineProperty(P,A,{get:function(){return T(this,g,A),this.getPropertyValue(A)},set:function(k){T(this,g,A);var Z=this.getPropertyValue(A);k!==Z&&(Z?Z.splice.apply(Z,function(g,P){for(var A=0,k=P.length,Z=g.length;A<k;A++,Z++)g[Z]=P[A];return g}([0,Z.length],k||[])):this.setPropertyValue(A,k),g&&g.onSet&&g.onSet(k,this))}})}}var y=function(){function g(P,A,k){void 0===k&&(k=!1),this.name=A,this.isRequiredValue=!1,this.isUniqueValue=!1,this.isSerializable=!0,this.isLightSerializable=!0,this.isCustom=!1,this.isDynamicChoices=!1,this.isBindable=!1,this.category="",this.categoryIndex=-1,this.visibleIndex=-1,this.maxLength=-1,this.isArray=!1,this.classInfoValue=P,this.isRequiredValue=k,this.idValue=g.Index++}return Object.defineProperty(g.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"classInfo",{get:function(){return this.classInfoValue},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"type",{get:function(){return this.typeValue?this.typeValue:"string"},set:function(P){"itemvalues"===P&&(P="itemvalue[]"),"textitems"===P&&(P="textitem[]"),this.typeValue=P,this.typeValue.indexOf("[]")===this.typeValue.length-2&&(this.isArray=!0,this.className=this.typeValue.substring(0,this.typeValue.length-2))},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isRequired",{get:function(){return this.isRequiredValue},set:function(P){P!==this.isRequired&&(this.isRequiredValue=P,this.classInfo&&this.classInfo.resetAllProperties())},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isUnique",{get:function(){return this.isUniqueValue},set:function(P){this.isUniqueValue=P},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"uniquePropertyName",{get:function(){return this.uniquePropertyValue},set:function(P){this.uniquePropertyValue=P},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"hasToUseGetValue",{get:function(){return this.onGetValue||this.serializationProperty},enumerable:!1,configurable:!0}),g.prototype.getDefaultValue=function(P){var A=this.defaultValueFunc?this.defaultValueFunc(P):this.defaultValueValue;return!!g.getItemValuesDefaultValue&&D.isDescendantOf(this.className,"itemvalue")&&(A=g.getItemValuesDefaultValue(this.defaultValueValue||[],this.className)),A},Object.defineProperty(g.prototype,"defaultValue",{get:function(){return this.getDefaultValue(void 0)},set:function(P){this.defaultValueValue=P},enumerable:!1,configurable:!0}),g.prototype.isDefaultValue=function(P){return this.isDefaultValueByObj(void 0,P)},g.prototype.isDefaultValueByObj=function(P,A){var k=this.getDefaultValue(P);return $.Helpers.isValueEmpty(k)?this.isLocalizable?null==A:!1===A&&("boolean"==this.type||"switch"==this.type)||""===A||$.Helpers.isValueEmpty(A):$.Helpers.isTwoValueEquals(A,k,!1,!0,!1)},g.prototype.getSerializableValue=function(P){return this.onSerializeValue?this.onSerializeValue(P):this.getValue(P)},g.prototype.getValue=function(P){return this.onGetValue?this.onGetValue(P):this.serializationProperty&&P[this.serializationProperty]?P[this.serializationProperty].getJson():P[this.name]},g.prototype.getPropertyValue=function(P){return this.isLocalizable?P[this.serializationProperty]?P[this.serializationProperty].text:null:this.getValue(P)},Object.defineProperty(g.prototype,"hasToUseSetValue",{get:function(){return this.onSetValue||this.serializationProperty},enumerable:!1,configurable:!0}),g.prototype.settingValue=function(P,A){return!this.onSettingValue||P.isLoadingFromJson?A:this.onSettingValue(P,A)},g.prototype.setValue=function(P,A,k){this.onSetValue?this.onSetValue(P,A,k):this.serializationProperty&&P[this.serializationProperty]?P[this.serializationProperty].setJson(A):(A&&"string"==typeof A&&("number"==this.type&&(A=parseInt(A)),("boolean"==this.type||"switch"==this.type)&&(A="true"===A.toLowerCase())),P[this.name]=A)},g.prototype.validateValue=function(P){var A=this.choices;return!Array.isArray(A)||0===A.length||A.indexOf(P)>-1},g.prototype.getObjType=function(P){return this.classNamePart?P.replace(this.classNamePart,""):P},Object.defineProperty(g.prototype,"choices",{get:function(){return this.getChoices(null)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"hasChoices",{get:function(){return!!this.choicesValue||!!this.choicesfunc},enumerable:!1,configurable:!0}),g.prototype.getChoices=function(P,A){return void 0===A&&(A=null),null!=this.choicesValue?this.choicesValue:null!=this.choicesfunc?this.choicesfunc(P,A):null},g.prototype.setChoices=function(P,A){void 0===A&&(A=null),this.choicesValue=P,this.choicesfunc=A},g.prototype.getBaseValue=function(){return this.baseValue?"function"==typeof this.baseValue?this.baseValue():this.baseValue:""},g.prototype.setBaseValue=function(P){this.baseValue=P},Object.defineProperty(g.prototype,"readOnly",{get:function(){return null!=this.readOnlyValue&&this.readOnlyValue},set:function(P){this.readOnlyValue=P},enumerable:!1,configurable:!0}),g.prototype.isEnable=function(P){return!this.readOnly&&(!P||!this.enableIf||this.enableIf(this.getOriginalObj(P)))},g.prototype.isVisible=function(P,A){return void 0===A&&(A=null),!(!this.visible||this.layout&&this.layout!=P)&&(!this.visibleIf||!A||this.visibleIf(this.getOriginalObj(A)))},g.prototype.getOriginalObj=function(P){if(P&&P.getOriginalObj){var A=P.getOriginalObj();if(A&&D.findProperty(A.getType(),this.name))return A}return P},Object.defineProperty(g.prototype,"visible",{get:function(){return null==this.visibleValue||this.visibleValue},set:function(P){this.visibleValue=P},enumerable:!1,configurable:!0}),g.prototype.isAvailableInVersion=function(P){return!!this.alternativeName||this.isAvailableInVersionCore(P)},g.prototype.getSerializedName=function(P){return this.alternativeName?this.isAvailableInVersionCore(P)?this.name:this.alternativeName:this.name},g.prototype.isAvailableInVersionCore=function(P){return!P||!this.version||$.Helpers.compareVerions(this.version,P)<=0},Object.defineProperty(g.prototype,"isLocalizable",{get:function(){return null!=this.isLocalizableValue&&this.isLocalizableValue},set:function(P){this.isLocalizableValue=P},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"dataList",{get:function(){return Array.isArray(this.dataListValue)?this.dataListValue:[]},set:function(P){this.dataListValue=P},enumerable:!1,configurable:!0}),g.prototype.mergeWith=function(P){for(var A=g.mergableValues,k=0;k<A.length;k++)this.mergeValue(P,A[k])},g.prototype.addDependedProperty=function(P){this.dependedProperties||(this.dependedProperties=[]),this.dependedProperties.indexOf(P)<0&&this.dependedProperties.push(P)},g.prototype.getDependedProperties=function(){return this.dependedProperties?this.dependedProperties:[]},g.prototype.schemaType=function(){if("choicesByUrl"!==this.className)return"string"===this.className?this.className:this.className||this.baseClassName?"array":"switch"==this.type?"boolean":"boolean"==this.type||"number"==this.type?this.type:"string"},g.prototype.schemaRef=function(){if(this.className)return this.className},g.prototype.mergeValue=function(P,A){null==this[A]&&null!=P[A]&&(this[A]=P[A])},g.Index=1,g.mergableValues=["typeValue","choicesValue","baseValue","readOnlyValue","visibleValue","isSerializable","isLightSerializable","isCustom","isBindable","isUnique","uniquePropertyName","isDynamicChoices","isLocalizableValue","className","alternativeName","layout","version","classNamePart","baseClassName","defaultValue","defaultValueFunc","serializationProperty","onGetValue","onSetValue","onSettingValue","displayName","category","categoryIndex","visibleIndex","nextToProperty","overridingProperty","showMode","dependedProperties","visibleIf","enableIf","onExecuteExpression","onPropertyEditorUpdate","maxLength","maxValue","minValue","dataListValue"],g}(),h=function(){function g(){}return g.addProperty=function(P,A){P=P.toLowerCase();var k=g.properties;k[P]||(k[P]=[]),k[P].push(A)},g.removeProperty=function(P,A){P=P.toLowerCase();var k=g.properties;if(k[P])for(var Z=k[P],re=0;re<Z.length;re++)if(Z[re].name==A){k[P].splice(re,1);break}},g.removeAllProperties=function(P){P=P.toLowerCase(),delete g.properties[P]},g.addClass=function(P,A){P=P.toLowerCase(),A&&(A=A.toLowerCase()),g.parentClasses[P]=A},g.getProperties=function(P){P=P.toLowerCase();for(var A=[],k=g.properties;P;){var Z=k[P];if(Z)for(var re=0;re<Z.length;re++)A.push(Z[re]);P=g.parentClasses[P]}return A},g.createProperties=function(P){!P||!P.getType||g.createPropertiesCore(P,P.getType())},g.createPropertiesCore=function(P,A){var k=g.properties;k[A]&&g.createPropertiesInObj(P,k[A]);var Z=g.parentClasses[A];Z&&g.createPropertiesCore(P,Z)},g.createPropertiesInObj=function(P,A){for(var k=0;k<A.length;k++)g.createPropertyInObj(P,A[k])},g.createPropertyInObj=function(P,A){if(!(g.checkIsPropertyExists(P,A.name)||A.serializationProperty&&g.checkIsPropertyExists(P,A.serializationProperty))){if(A.isLocalizable&&A.serializationProperty&&P.createCustomLocalizableObj){P.createCustomLocalizableObj(A.name).defaultValue=A.defaultValue;var Z={get:function(){return P.getLocalizableString(A.name)}};Object.defineProperty(P,A.serializationProperty,Z);var re={get:function(){return P.getLocalizableStringText(A.name)},set:function(B){P.setLocalizableStringText(A.name,B)}};Object.defineProperty(P,A.name,re)}else{var H=A.defaultValue,E=A.isArray||"multiplevalues"===A.type;"function"==typeof P.createNewArray&&(D.isDescendantOf(A.className,"itemvalue")?(P.createNewArray(A.name,function(B){B.locOwner=P,B.ownerPropertyName=A.name}),E=!0):E&&P.createNewArray(A.name),E&&(Array.isArray(H)&&P.setPropertyValue(A.name,H),H=null)),P.getPropertyValue&&P.setPropertyValue&&(re={get:function(){return A.onGetValue?A.onGetValue(P):P.getPropertyValue(A.name,H)},set:function(U){A.onSetValue?A.onSetValue(P,U,null):P.setPropertyValue(A.name,U)}},Object.defineProperty(P,A.name,re))}("condition"===A.type||"expression"===A.type)&&A.onExecuteExpression&&P.addExpressionProperty(A.name,A.onExecuteExpression)}},g.checkIsPropertyExists=function(P,A){return P.hasOwnProperty(A)||P[A]},g.properties={},g.parentClasses={},g}(),v=function(){function g(P,A,k,Z){void 0===k&&(k=null),void 0===Z&&(Z=null),this.name=P,this.creator=k,this.parentName=Z,P=P.toLowerCase(),this.isCustomValue=!k&&"survey"!==P,this.parentName&&(this.parentName=this.parentName.toLowerCase(),h.addClass(P,this.parentName),k&&this.makeParentRegularClass()),this.properties=new Array;for(var re=0;re<A.length;re++)this.createProperty(A[re],this.isCustom)}return g.prototype.find=function(P){for(var A=0;A<this.properties.length;A++)if(this.properties[A].name==P)return this.properties[A];return null},g.prototype.findProperty=function(P){return this.fillAllProperties(),this.hashProperties[P]},g.prototype.getAllProperties=function(){return this.fillAllProperties(),this.allProperties},g.prototype.getRequiredProperties=function(){if(this.requiredProperties)return this.requiredProperties;this.requiredProperties=[];for(var P=this.getAllProperties(),A=0;A<P.length;A++)P[A].isRequired&&this.requiredProperties.push(P[A]);return this.requiredProperties},g.prototype.resetAllProperties=function(){this.allProperties=void 0,this.requiredProperties=void 0,this.hashProperties=void 0;for(var P=D.getChildrenClasses(this.name),A=0;A<P.length;A++)P[A].resetAllProperties()},Object.defineProperty(g.prototype,"isCustom",{get:function(){return this.isCustomValue},enumerable:!1,configurable:!0}),g.prototype.fillAllProperties=function(){var P=this;if(!this.allProperties){this.allProperties=[],this.hashProperties={};var A={};this.properties.forEach(function(re){return A[re.name]=re});var k=this.parentName?D.findClass(this.parentName):null;k&&k.getAllProperties().forEach(function(re){var H=A[re.name];H?(H.mergeWith(re),P.addPropCore(H)):P.addPropCore(re)}),this.properties.forEach(function(re){P.hashProperties[re.name]||P.addPropCore(re)})}},g.prototype.addPropCore=function(P){this.allProperties.push(P),this.hashProperties[P.name]=P,P.alternativeName&&(this.hashProperties[P.alternativeName]=P)},g.prototype.isOverridedProp=function(P){return!!this.parentName&&!!D.findProperty(this.parentName,P)},g.prototype.hasRegularChildClass=function(){if(this.isCustom){this.isCustomValue=!1;for(var P=0;P<this.properties.length;P++)this.properties[P].isCustom=!1;h.removeAllProperties(this.name),this.makeParentRegularClass()}},g.prototype.makeParentRegularClass=function(){if(this.parentName){var P=D.findClass(this.parentName);P&&P.hasRegularChildClass()}},g.prototype.createProperty=function(P,A){void 0===A&&(A=!1);var k="string"==typeof P?P:P.name;if(k){var Z=null,re=k.indexOf(g.typeSymbol);re>-1&&(Z=k.substring(re+1),k=k.substring(0,re));var H=this.getIsPropertyNameRequired(k)||!!P.isRequired;k=this.getPropertyName(k);var E=new y(this,k,H);return Z&&(E.type=Z),"object"==typeof P&&(P.type&&(E.type=P.type),void 0!==P.default&&(E.defaultValue=P.default),void 0!==P.defaultFunc&&(E.defaultValueFunc=P.defaultFunc),$.Helpers.isValueEmpty(P.isSerializable)||(E.isSerializable=P.isSerializable),$.Helpers.isValueEmpty(P.isLightSerializable)||(E.isLightSerializable=P.isLightSerializable),$.Helpers.isValueEmpty(P.maxLength)||(E.maxLength=P.maxLength),void 0!==P.displayName&&(E.displayName=P.displayName),$.Helpers.isValueEmpty(P.category)||(E.category=P.category),$.Helpers.isValueEmpty(P.categoryIndex)||(E.categoryIndex=P.categoryIndex),$.Helpers.isValueEmpty(P.nextToProperty)||(E.nextToProperty=P.nextToProperty),$.Helpers.isValueEmpty(P.overridingProperty)||(E.overridingProperty=P.overridingProperty),$.Helpers.isValueEmpty(P.visibleIndex)||(E.visibleIndex=P.visibleIndex),$.Helpers.isValueEmpty(P.showMode)||(E.showMode=P.showMode),$.Helpers.isValueEmpty(P.maxValue)||(E.maxValue=P.maxValue),$.Helpers.isValueEmpty(P.minValue)||(E.minValue=P.minValue),$.Helpers.isValueEmpty(P.dataList)||(E.dataList=P.dataList),$.Helpers.isValueEmpty(P.isDynamicChoices)||(E.isDynamicChoices=P.isDynamicChoices),$.Helpers.isValueEmpty(P.isBindable)||(E.isBindable=P.isBindable),$.Helpers.isValueEmpty(P.isUnique)||(E.isUnique=P.isUnique),$.Helpers.isValueEmpty(P.uniqueProperty)||(E.uniquePropertyName=P.uniqueProperty),$.Helpers.isValueEmpty(P.isArray)||(E.isArray=P.isArray),(!0===P.visible||!1===P.visible)&&(E.visible=P.visible),P.visibleIf&&(E.visibleIf=P.visibleIf),P.enableIf&&(E.enableIf=P.enableIf),P.onExecuteExpression&&(E.onExecuteExpression=P.onExecuteExpression),P.onPropertyEditorUpdate&&(E.onPropertyEditorUpdate=P.onPropertyEditorUpdate),!0===P.readOnly&&(E.readOnly=!0),P.choices&&E.setChoices("function"!=typeof P.choices?P.choices:null,"function"==typeof P.choices?P.choices:null),P.baseValue&&E.setBaseValue(P.baseValue),P.onSerializeValue&&(E.onSerializeValue=P.onSerializeValue),P.onGetValue&&(E.onGetValue=P.onGetValue),P.onSetValue&&(E.onSetValue=P.onSetValue),P.onSettingValue&&(E.onSettingValue=P.onSettingValue),P.isLocalizable&&(P.serializationProperty="loc"+E.name),P.serializationProperty&&(E.serializationProperty=P.serializationProperty,E.serializationProperty&&0==E.serializationProperty.indexOf("loc")&&(E.isLocalizable=!0)),P.isLocalizable&&(E.isLocalizable=P.isLocalizable),P.className&&(E.className=P.className),P.baseClassName&&(E.baseClassName=P.baseClassName,E.isArray=!0),!0===E.isArray&&(E.isArray=!0),P.classNamePart&&(E.classNamePart=P.classNamePart),P.alternativeName&&(E.alternativeName=P.alternativeName),P.layout&&(E.layout=P.layout),P.version&&(E.version=P.version),P.dependsOn&&this.addDependsOnProperties(E,P.dependsOn)),this.properties.push(E),A&&!this.isOverridedProp(E.name)&&(E.isCustom=!0,h.addProperty(this.name,E)),E}},g.prototype.addDependsOnProperties=function(P,A){if(Array.isArray(A))for(var k=0;k<A.length;k++)this.addDependsOnProperty(P,A[k]);else this.addDependsOnProperty(P,A)},g.prototype.addDependsOnProperty=function(P,A){var k=this.find(A);k||(k=D.findProperty(this.parentName,A)),k&&k.addDependedProperty(P.name)},g.prototype.getIsPropertyNameRequired=function(P){return P.length>0&&P[0]==g.requiredSymbol},g.prototype.getPropertyName=function(P){return this.getIsPropertyNameRequired(P)&&(P=P.slice(1)),P},g.requiredSymbol="!",g.typeSymbol=":",g}(),f=function(){function g(){this.classes={},this.alternativeNames={},this.childrenClasses={},this.dynamicPropsCache={}}return g.prototype.getObjPropertyValue=function(P,A){if(this.isObjWrapper(P)){var k=P.getOriginalObj();if(Z=D.findProperty(k.getType(),A))return this.getObjPropertyValueCore(k,Z)}var Z;return(Z=D.findProperty(P.getType(),A))?this.getObjPropertyValueCore(P,Z):P[A]},g.prototype.setObjPropertyValue=function(P,A,k){if(P[A]!==k)if(P[A]&&P[A].setJson)P[A].setJson(k);else{if(Array.isArray(k)){for(var Z=[],re=0;re<k.length;re++)Z.push(k[re]);k=Z}P[A]=k}},g.prototype.getObjPropertyValueCore=function(P,A){if(!A.isSerializable)return P[A.name];if(A.isLocalizable){if(A.isArray)return P[A.name];if(A.serializationProperty)return P[A.serializationProperty].text}return P.getPropertyValue(A.name)},g.prototype.isObjWrapper=function(P){return!!P.getOriginalObj&&!!P.getOriginalObj()},g.prototype.addClass=function(P,A,k,Z){void 0===k&&(k=null),void 0===Z&&(Z=null),P=P.toLowerCase();var re=new v(P,A,k,Z);return this.classes[P]=re,Z&&(Z=Z.toLowerCase(),this.childrenClasses[Z]||(this.childrenClasses[Z]=[]),this.childrenClasses[Z].push(re)),re},g.prototype.removeClass=function(P){var A=this.findClass(P);if(A&&(delete this.classes[A.name],A.parentName)){var k=this.childrenClasses[A.parentName].indexOf(A);k>-1&&this.childrenClasses[A.parentName].splice(k,1)}},g.prototype.overrideClassCreatore=function(P,A){this.overrideClassCreator(P,A)},g.prototype.overrideClassCreator=function(P,A){P=P.toLowerCase();var k=this.findClass(P);k&&(k.creator=A)},g.prototype.getProperties=function(P){var A=this.findClass(P);return A?A.getAllProperties():[]},g.prototype.getPropertiesByObj=function(P){if(!P||!P.getType)return[];var A=this.getProperties(P.getType()),k=this.getDynamicPropertiesByObj(P);return[].concat(A).concat(k)},g.prototype.addDynamicPropertiesIntoObj=function(P,A,k){var Z=this;k.forEach(function(re){Z.addDynamicPropertyIntoObj(P,A,re.name,!1),re.serializationProperty&&Z.addDynamicPropertyIntoObj(P,A,re.serializationProperty,!0),re.alternativeName&&Z.addDynamicPropertyIntoObj(P,A,re.alternativeName,!1)})},g.prototype.addDynamicPropertyIntoObj=function(P,A,k,Z){var re={configurable:!0,get:function(){return A[k]}};Z||(re.set=function(H){A[k]=H}),Object.defineProperty(P,k,re)},g.prototype.getDynamicPropertiesByObj=function(P,A){if(void 0===A&&(A=null),!P||!P.getType)return[];if(P.getDynamicProperties)return P.getDynamicProperties();if(!P.getDynamicType&&!A)return[];var k=A||P.getDynamicType();return this.getDynamicPropertiesByTypes(P.getType(),k)},g.prototype.getDynamicPropertiesByTypes=function(P,A,k){if(!A)return[];var Z=A+"-"+P;if(this.dynamicPropsCache[Z])return this.dynamicPropsCache[Z];var re=this.getProperties(A);if(!re||0==re.length)return[];for(var H={},E=this.getProperties(P),B=0;B<E.length;B++)H[E[B].name]=E[B];var U=[];k||(k=[]);for(var ae=0;ae<re.length;ae++){var Pe=re[ae];!H[Pe.name]&&k.indexOf(Pe.name)<0&&U.push(Pe)}return this.dynamicPropsCache[Z]=U,U},g.prototype.hasOriginalProperty=function(P,A){return!!this.getOriginalProperty(P,A)},g.prototype.getOriginalProperty=function(P,A){return this.findProperty(P.getType(),A)||(this.isObjWrapper(P)?this.findProperty(P.getOriginalObj().getType(),A):null)},g.prototype.getProperty=function(P,A){var k=this.findProperty(P,A);if(!k)return k;var Z=this.findClass(P);if(k.classInfo===Z)return k;var re=new y(Z,k.name,k.isRequired);return re.mergeWith(k),re.isArray=k.isArray,Z.properties.push(re),Z.resetAllProperties(),re},g.prototype.findProperty=function(P,A){var k=this.findClass(P);return k?k.findProperty(A):null},g.prototype.findProperties=function(P,A){var k=new Array,Z=this.findClass(P);if(!Z)return k;for(var re=0;re<A.length;re++){var H=Z.findProperty(A[re]);H&&k.push(H)}return k},g.prototype.getAllPropertiesByName=function(P){for(var A=new Array,k=this.getAllClasses(),Z=0;Z<k.length;Z++)for(var re=this.findClass(k[Z]),H=0;H<re.properties.length;H++)if(re.properties[H].name==P){A.push(re.properties[H]);break}return A},g.prototype.getAllClasses=function(){var P=new Array;for(var A in this.classes)P.push(A);return P},g.prototype.createClass=function(P,A){void 0===A&&(A=void 0),P=P.toLowerCase();var k=this.findClass(P);if(!k)return null;if(k.creator)return k.creator(A);for(var Z=k.parentName;Z;){if(!(k=this.findClass(Z)))return null;if(Z=k.parentName,k.creator)return this.createCustomType(P,k.creator,A)}return null},g.prototype.createCustomType=function(P,A,k){void 0===k&&(k=void 0),P=P.toLowerCase();var Z=A(k),re=P,H=Z.getTemplate?Z.getTemplate():Z.getType();return Z.getType=function(){return re},Z.getTemplate=function(){return H},h.createProperties(Z),Z},g.prototype.getChildrenClasses=function(P,A){void 0===A&&(A=!1),P=P.toLowerCase();var k=[];return this.fillChildrenClasses(P,A,k),k},g.prototype.getRequiredProperties=function(P){var A=this.findClass(P);if(!A)return[];for(var k=A.getRequiredProperties(),Z=[],re=0;re<k.length;re++)Z.push(k[re].name);return Z},g.prototype.addProperties=function(P,A){P=P.toLowerCase();for(var k=this.findClass(P),Z=0;Z<A.length;Z++)this.addCustomPropertyCore(k,A[Z])},g.prototype.addProperty=function(P,A){return this.addCustomPropertyCore(this.findClass(P),A)},g.prototype.addCustomPropertyCore=function(P,A){if(!P)return null;var k=P.createProperty(A,!0);return k&&(this.clearDynamicPropsCache(P),P.resetAllProperties()),k},g.prototype.removeProperty=function(P,A){var k=this.findClass(P);if(!k)return!1;var Z=k.find(A);Z&&(this.clearDynamicPropsCache(k),this.removePropertyFromClass(k,Z),k.resetAllProperties(),h.removeProperty(k.name,A))},g.prototype.clearDynamicPropsCache=function(P){this.dynamicPropsCache={}},g.prototype.removePropertyFromClass=function(P,A){var k=P.properties.indexOf(A);k<0||P.properties.splice(k,1)},g.prototype.fillChildrenClasses=function(P,A,k){var Z=this.childrenClasses[P];if(Z)for(var re=0;re<Z.length;re++)(!A||Z[re].creator)&&k.push(Z[re]),this.fillChildrenClasses(Z[re].name,A,k)},g.prototype.findClass=function(P){P=P.toLowerCase();var A=this.classes[P];if(!A){var k=this.alternativeNames[P];if(k&&k!=P)return this.findClass(k)}return A},g.prototype.isDescendantOf=function(P,A){if(!P||!A)return!1;P=P.toLowerCase(),A=A.toLowerCase();var k=this.findClass(P);if(!k)return!1;var Z=k;do{if(Z.name===A)return!0;Z=this.classes[Z.parentName]}while(Z);return!1},g.prototype.addAlterNativeClassName=function(P,A){this.alternativeNames[A.toLowerCase()]=P.toLowerCase()},g.prototype.generateSchema=function(P){void 0===P&&(P=void 0),P||(P="survey");var A=this.findClass(P);if(!A)return null;var k={$schema:"http://json-schema.org/draft-07/schema#",title:"SurveyJS Library json schema",type:"object",properties:{},definitions:{locstring:this.generateLocStrClass()}};return this.generateSchemaProperties(A,k,k.definitions,!0),k},g.prototype.generateLocStrClass=function(){var P={},A=D.findProperty("survey","locale");if(A){var k=A.getChoices(null);Array.isArray(k)&&(k.indexOf("en")<0&&k.splice(0,0,"en"),k.splice(0,0,"default"),k.forEach(function(Z){Z&&(P[Z]={type:"string"})}))}return{$id:"locstring",type:"object",properties:P}},g.prototype.generateSchemaProperties=function(P,A,k,Z){if(P){var re=A.properties,H=[];("question"===P.name||"panel"===P.name)&&(re.type={type:"string"},H.push("type"));for(var E=0;E<P.properties.length;E++){var B=P.properties[E];P.parentName&&D.findProperty(P.parentName,B.name)||(re[B.name]=this.generateSchemaProperty(B,k,Z),B.isRequired&&H.push(B.name))}H.length>0&&(A.required=H)}},g.prototype.generateSchemaProperty=function(P,A,k){if(P.isLocalizable)return{oneOf:[{type:"string"},{$ref:this.getChemeRefName("locstring",k)}]};var Z=P.schemaType(),re=P.schemaRef(),H={};if(Z&&(H.type=Z),P.hasChoices){var E=P.getChoices(null);Array.isArray(E)&&E.length>0&&(H.enum=this.getChoicesValues(E))}if(re&&("array"===Z?H.items="string"===P.className?{type:P.className}:{$ref:this.getChemeRefName(P.className,k)}:H.$ref=this.getChemeRefName(re,k),this.generateChemaClass(P.className,A,!1)),P.baseClassName){var B=this.getChildrenClasses(P.baseClassName,!0);"question"==P.baseClassName&&B.push(this.findClass("panel")),H.items={anyOf:[]};for(var U=0;U<B.length;U++){var ae=B[U].name;H.items.anyOf.push({$ref:this.getChemeRefName(ae,k)}),this.generateChemaClass(ae,A,!1)}}return H},g.prototype.getChemeRefName=function(P,A){return A?"#/definitions/"+P:P},g.prototype.generateChemaClass=function(P,A,k){if(!A[P]){var Z=this.findClass(P);if(Z){var re=!!Z.parentName&&"base"!=Z.parentName;re&&this.generateChemaClass(Z.parentName,A,k);var H={type:"object",$id:P};A[P]=H;var E={properties:{}};this.generateSchemaProperties(Z,E,A,k),re?H.allOf=[{$ref:this.getChemeRefName(Z.parentName,k)},{properties:E.properties}]:H.properties=E.properties,Array.isArray(E.required)&&(H.required=E.required)}}},g.prototype.getChoicesValues=function(P){var A=new Array;return P.forEach(function(k){A.push("object"==typeof k&&void 0!==k.value?k.value:k)}),A},g}(),d=function(){function g(P,A){this.type=P,this.message=A,this.description="",this.at=-1,this.end=-1}return g.prototype.getFullDescription=function(){return this.message+(this.description?"\n"+this.description:"")},g}(),u=function(g){function P(A,k){var Z=g.call(this,"unknownproperty","The property '"+A+"' in class '"+k+"' is unknown.")||this;Z.propertyName=A,Z.className=k;var re=D.getProperties(k);if(re){Z.description="The list of available properties are: ";for(var H=0;H<re.length;H++)H>0&&(Z.description+=", "),Z.description+=re[H].name;Z.description+="."}return Z}return w(P,g),P}(d),a=function(g){function P(A,k,Z){var re=g.call(this,k,Z)||this;re.baseClassName=A,re.type=k,re.message=Z,re.description="The following types are available: ";for(var H=D.getChildrenClasses(A,!0),E=0;E<H.length;E++)E>0&&(re.description+=", "),re.description+="'"+H[E].name+"'";return re.description+=".",re}return w(P,g),P}(d),o=function(g){function P(A,k){var Z=g.call(this,k,"missingtypeproperty","The property type is missing in the object. Please take a look at property: '"+A+"'.")||this;return Z.propertyName=A,Z.baseClassName=k,Z}return w(P,g),P}(a),s=function(g){function P(A,k){var Z=g.call(this,k,"incorrecttypeproperty","The property type is incorrect in the object. Please take a look at property: '"+A+"'.")||this;return Z.propertyName=A,Z.baseClassName=k,Z}return w(P,g),P}(a),l=function(g){function P(A,k){var Z=g.call(this,"requiredproperty","The property '"+A+"' is required in class '"+k+"'.")||this;return Z.propertyName=A,Z.className=k,Z}return w(P,g),P}(d),c=function(g){function P(A,k){var Z=g.call(this,"arrayproperty","The property '"+A+"' should be an array in '"+k+"'.")||this;return Z.propertyName=A,Z.className=k,Z}return w(P,g),P}(d),b=function(g){function P(A,k){var Z=g.call(this,"incorrectvalue","The property value: '"+k+"' is incorrect for property '"+A.name+"'.")||this;return Z.property=A,Z.value=k,Z}return w(P,g),P}(d),M=function(){function g(){this.errors=new Array,this.lightSerializing=!1}return Object.defineProperty(g,"metaData",{get:function(){return g.metaDataValue},enumerable:!1,configurable:!0}),g.prototype.toJsonObject=function(P,A){return this.toJsonObjectCore(P,null,A)},g.prototype.toObject=function(P,A,k){this.toObjectCore(P,A,k);var Z=this.getRequiredError(A,P);Z&&this.addNewError(Z,P,A)},g.prototype.toObjectCore=function(P,A,k){if(P){var Z=null,re=void 0,H=!0;if(A.getType&&(re=A.getType(),Z=D.getProperties(re),H=!!re&&!D.isDescendantOf(re,"itemvalue")),Z){for(var E in A.startLoadingFromJson&&A.startLoadingFromJson(P),Z=this.addDynamicProperties(A,P,Z),this.options=k,P)if(E!==g.typePropertyName){if(E===g.positionPropertyName){A[E]=P[E];continue}var B=this.findProperty(Z,E);if(!B){H&&this.addNewError(new u(E.toString(),re),P,A);continue}this.valueToObj(P[E],A,B,P,k)}this.options=void 0,A.endLoadingFromJson&&A.endLoadingFromJson()}}},g.prototype.toJsonObjectCore=function(P,A,k){if(!P||!P.getType)return P;if("function"==typeof P.getData)return P.getData();var Z={};null!=A&&!A.className&&(Z[g.typePropertyName]=A.getObjType(P.getType()));var re=!0===k;return(!k||!0===k)&&(k={}),re&&(k.storeDefaults=re),this.propertiesToJson(P,D.getProperties(P.getType()),Z,k),this.propertiesToJson(P,this.getDynamicProperties(P),Z,k),Z},g.prototype.getDynamicProperties=function(P){return D.getDynamicPropertiesByObj(P)},g.prototype.addDynamicProperties=function(P,A,k){if(!P.getDynamicPropertyName&&!P.getDynamicProperties)return k;if(P.getDynamicPropertyName){var Z=P.getDynamicPropertyName();if(!Z)return k;Z&&A[Z]&&(P[Z]=A[Z])}var re=this.getDynamicProperties(P);return 0===re.length?k:[].concat(k).concat(re)},g.prototype.propertiesToJson=function(P,A,k,Z){for(var re=0;re<A.length;re++)this.valueToJson(P,k,A[re],Z)},g.prototype.valueToJson=function(P,A,k,Z){if(Z||(Z={}),!(!1===k.isSerializable||!1===k.isLightSerializable&&this.lightSerializing)&&(!Z.version||k.isAvailableInVersion(Z.version))){var re=k.getSerializableValue(P);if(Z.storeDefaults||!k.isDefaultValueByObj(P,re)){if(this.isValueArray(re)){for(var H=[],E=0;E<re.length;E++)H.push(this.toJsonObjectCore(re[E],k,Z));re=H.length>0?H:null}else re=this.toJsonObjectCore(re,k,Z);if(null!=re){var B=k.getSerializedName(Z.version),U="function"==typeof P.getPropertyValue&&null!==P.getPropertyValue(B,null);(Z.storeDefaults&&U||!k.isDefaultValueByObj(P,re))&&(!D.onSerializingProperty||!D.onSerializingProperty(P,k,re,A))&&(A[B]=this.removePosOnValueToJson(k,re))}}}},g.prototype.valueToObj=function(P,A,k,Z,re){if(null!=P){if(this.removePos(k,P),null!=k&&k.hasToUseSetValue)return void k.setValue(A,P,this);if(k.isArray&&!Array.isArray(P)&&P&&(P=[P],this.addNewError(new c(Z&&k.alternativeName&&Z[k.alternativeName]?k.alternativeName:k.name,A.getType()),Z||P,A)),this.isValueArray(P))return void this.valueToArray(P,A,k.name,k,re);var E=this.createNewObj(P,k);E.newObj&&(this.toObjectCore(P,E.newObj,re),P=E.newObj),E.error||(null!=k?(k.setValue(A,P,this),re&&re.validatePropertyValues&&(k.validateValue(P)||this.addNewError(new b(k,P),Z,A))):A[k.name]=P)}},g.prototype.removePosOnValueToJson=function(P,A){return!P.isCustom||!A||this.removePosFromObj(A),A},g.prototype.removePos=function(P,A){!P||!P.type||P.type.indexOf("value")<0||this.removePosFromObj(A)},g.prototype.removePosFromObj=function(P){if(P){if(Array.isArray(P))for(var A=0;A<P.length;A++)this.removePosFromObj(P[A]);if("object"==typeof P)for(var k in P[g.positionPropertyName]&&delete P[g.positionPropertyName],P)this.removePosFromObj(P[k])}},g.prototype.isValueArray=function(P){return P&&Array.isArray(P)},g.prototype.createNewObj=function(P,A){var k={newObj:null,error:null},Z=this.getClassNameForNewObj(P,A);return k.newObj=Z?D.createClass(Z,P):null,k.error=this.checkNewObjectOnErrors(k.newObj,P,A,Z),k},g.prototype.getClassNameForNewObj=function(P,A){var k=null!=A&&A.className?A.className:void 0;if(k||(k=P[g.typePropertyName]),!k)return k;k=k.toLowerCase();var Z=A.classNamePart;return Z&&k.indexOf(Z)<0&&(k+=Z),k},g.prototype.checkNewObjectOnErrors=function(P,A,k,Z){var re=null;return P?re=this.getRequiredError(P,A):k.baseClassName&&(re=Z?new s(k.name,k.baseClassName):new o(k.name,k.baseClassName)),re&&this.addNewError(re,A,P),re},g.prototype.getRequiredError=function(P,A){if(!P.getType||"function"==typeof P.getData)return null;var k=D.findClass(P.getType());if(!k)return null;var Z=k.getRequiredProperties();if(!Array.isArray(Z))return null;for(var re=0;re<Z.length;re++){var H=Z[re];if($.Helpers.isValueEmpty(H.defaultValue)&&!A[H.name])return new l(H.name,P.getType())}return null},g.prototype.addNewError=function(P,A,k){if(P.jsonObj=A,P.element=k,this.errors.push(P),A){var Z=A[g.positionPropertyName];!Z||(P.at=Z.start,P.end=Z.end)}},g.prototype.valueToArray=function(P,A,k,Z,re){if(!A[k]||this.isValueArray(A[k])){A[k]&&P.length>0&&A[k].splice(0,A[k].length);var H=A[k]?A[k]:[];this.addValuesIntoArray(P,H,Z,re),A[k]||(A[k]=H)}},g.prototype.addValuesIntoArray=function(P,A,k,Z){for(var re=0;re<P.length;re++){var H=this.createNewObj(P[re],k);H.newObj?(P[re].name&&(H.newObj.name=P[re].name),P[re].valueName&&(H.newObj.valueName=P[re].valueName.toString()),A.push(H.newObj),this.toObjectCore(P[re],H.newObj,Z)):H.error||A.push(P[re])}},g.prototype.findProperty=function(P,A){if(!P)return null;for(var k=0;k<P.length;k++){var Z=P[k];if(Z.name==A||Z.alternativeName==A)return Z}return null},g.typePropertyName="type",g.positionPropertyName="pos",g.metaDataValue=new f,g}(),D=M.metaData},"./src/list.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"defaultListCss",function(){return C}),x.d(j,"ListModel",function(){return y});var h,G=x("./src/jsonobject.ts"),se=x("./src/actions/container.ts"),$=x("./src/actions/action.ts"),w=x("./src/utils/cssClassBuilder.ts"),F=x("./src/element-helper.ts"),R=x("./src/utils/utils.ts"),L=x("./src/settings.ts"),m=(h=function(v,f){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(d[a]=u[a])})(v,f)},function(v,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function d(){this.constructor=v}h(v,f),v.prototype=null===f?Object.create(f):(d.prototype=f.prototype,new d)}),T=function(h,v,f,d){var o,u=arguments.length,a=u<3?v:null===d?d=Object.getOwnPropertyDescriptor(v,f):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(h,v,f,d);else for(var s=h.length-1;s>=0;s--)(o=h[s])&&(a=(u<3?o(a):u>3?o(v,f,a):o(v,f))||a);return u>3&&a&&Object.defineProperty(v,f,a),a},C={root:"sv-list__container",item:"sv-list__item",searchClearButtonIcon:"sv-list__filter-clear-button",loadingIndicator:"sv-list__loading-indicator",itemSelected:"sv-list__item--selected",itemWithIcon:"sv-list__item--with-icon",itemDisabled:"sv-list__item--disabled",itemFocused:"sv-list__item--focused",itemIcon:"sv-list__item-icon",itemSeparator:"sv-list__item-separator",itemBody:"sv-list__item-body",itemsContainer:"sv-list",itemsContainerFiltering:"sv-list--filtering",filter:"sv-list__filter",filterIcon:"sv-list__filter-icon",filterInput:"sv-list__input",emptyContainer:"sv-list__empty-container",emptyText:"sv-list__empty-text"},y=function(h){function v(f,d,u,a,o,s){var l=h.call(this)||this;return l.onSelectionChanged=d,l.allowSelection=u,l.onFilterStringChangedCallback=o,l.elementId=s,l.onItemClick=function(c){l.isItemDisabled(c)||(l.isExpanded=!1,l.allowSelection&&(l.selectedItem=c),l.onSelectionChanged&&l.onSelectionChanged(c))},l.isItemDisabled=function(c){return void 0!==c.enabled&&!c.enabled},l.isItemSelected=function(c){return l.areSameItems(l.selectedItem,c)},l.isItemFocused=function(c){return l.areSameItems(l.focusedItem,c)},l.getListClass=function(){return(new w.CssClassBuilder).append(l.cssClasses.itemsContainer).append(l.cssClasses.itemsContainerFiltering,!!l.filterString&&l.visibleActions.length!==l.visibleItems.length).toString()},l.getItemClass=function(c){return(new w.CssClassBuilder).append(l.cssClasses.item).append(l.cssClasses.itemWithIcon,!!c.iconName).append(l.cssClasses.itemDisabled,l.isItemDisabled(c)).append(l.cssClasses.itemFocused,l.isItemFocused(c)).append(l.cssClasses.itemSelected,l.isItemSelected(c)).append(c.css).toString()},l.getItemIndent=function(c){return((c.level||0)+1)*v.INDENT+"px"},l.setItems(f),l.selectedItem=a,l}return m(v,h),v.prototype.hasText=function(f,d){if(!d)return!0;var u=f.title||"";if(this.onTextSearchCallback)return this.onTextSearchCallback(f,d);var a=u.toLocaleLowerCase();return(a=L.settings.comparator.normalizeTextCallback(a,"filter")).indexOf(d.toLocaleLowerCase())>-1},v.prototype.isItemVisible=function(f){return f.visible&&(!this.shouldProcessFilter||this.hasText(f,this.filterString))},Object.defineProperty(v.prototype,"visibleItems",{get:function(){var f=this;return this.visibleActions.filter(function(d){return f.isItemVisible(d)})},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"shouldProcessFilter",{get:function(){return!this.onFilterStringChangedCallback},enumerable:!1,configurable:!0}),v.prototype.onFilterStringChanged=function(f){var d=this;this.onFilterStringChangedCallback&&this.onFilterStringChangedCallback(f),this.isEmpty=0===this.renderedActions.filter(function(u){return d.isItemVisible(u)}).length},v.prototype.scrollToItem=function(f,d){var u=this;void 0===d&&(d=0),setTimeout(function(){if(u.listContainerHtmlElement){var a=u.listContainerHtmlElement.querySelector("."+f);a&&setTimeout(function(){a.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},d)}},d)},v.prototype.setOnFilterStringChangedCallback=function(f){this.onFilterStringChangedCallback=f},v.prototype.setOnTextSearchCallback=function(f){this.onTextSearchCallback=f},v.prototype.setItems=function(f,d){var u=this;void 0===d&&(d=!0),h.prototype.setItems.call(this,f,d),this.elementId&&this.renderedActions.forEach(function(a){a.elementId=u.elementId+a.id}),!this.isAllDataLoaded&&this.actions.length&&this.actions.push(this.loadingIndicator)},v.prototype.onSet=function(){this.showFilter=this.searchEnabled&&(this.forceShowFilter||(this.actions||[]).length>v.MINELEMENTCOUNT),h.prototype.onSet.call(this)},v.prototype.getDefaultCssClasses=function(){return C},v.prototype.areSameItems=function(f,d){return this.areSameItemsCallback?this.areSameItemsCallback(f,d):!!f&&!!d&&f.id==d.id},Object.defineProperty(v.prototype,"filterStringPlaceholder",{get:function(){return this.getLocalizationString("filterStringPlaceholder")},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"emptyMessage",{get:function(){return this.isAllDataLoaded?this.getLocalizationString("emptyMessage"):this.loadingText},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"scrollableContainer",{get:function(){return this.listContainerHtmlElement.querySelector("."+this.getDefaultCssClasses().itemsContainer)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"loadingText",{get:function(){return this.getLocalizationString("loadingFile")},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"loadingIndicator",{get:function(){return this.loadingIndicatorValue||(this.loadingIndicatorValue=new $.Action({id:"loadingIndicator",title:this.loadingText,action:function(){},css:this.cssClasses.loadingIndicator})),this.loadingIndicatorValue},enumerable:!1,configurable:!0}),v.prototype.goToItems=function(f){if("ArrowDown"===f.key||40===f.keyCode){var u=f.target.parentElement.parentElement.querySelector("ul"),a=Object(R.getFirstVisibleChild)(u);u&&a&&(F.ElementHelper.focusElement(a),f.preventDefault())}},v.prototype.onMouseMove=function(f){this.resetFocusedItem()},v.prototype.onKeyDown=function(f){var d=f.target;"ArrowDown"===f.key||40===f.keyCode?(F.ElementHelper.focusElement(F.ElementHelper.getNextElementPreorder(d)),f.preventDefault()):("ArrowUp"===f.key||38===f.keyCode)&&(F.ElementHelper.focusElement(F.ElementHelper.getNextElementPostorder(d)),f.preventDefault())},v.prototype.onPointerDown=function(f,d){},v.prototype.refresh=function(){this.filterString="",this.resetFocusedItem()},v.prototype.onClickSearchClearButton=function(f){f.currentTarget.parentElement.querySelector("input").focus(),this.refresh()},v.prototype.resetFocusedItem=function(){this.focusedItem=void 0},v.prototype.focusFirstVisibleItem=function(){this.focusedItem=this.visibleItems[0]},v.prototype.focusLastVisibleItem=function(){this.focusedItem=this.visibleItems[this.visibleItems.length-1]},v.prototype.initFocusedItem=function(){var f=this;this.focusedItem=this.visibleItems.filter(function(d){return d.visible&&f.isItemSelected(d)})[0],this.focusedItem||this.focusFirstVisibleItem()},v.prototype.focusNextVisibleItem=function(){if(this.focusedItem){var f=this.visibleItems,d=f.indexOf(this.focusedItem),u=f[d+1];u?this.focusedItem=u:this.focusFirstVisibleItem()}else this.initFocusedItem()},v.prototype.focusPrevVisibleItem=function(){if(this.focusedItem){var f=this.visibleItems,d=f.indexOf(this.focusedItem),u=f[d-1];u?this.focusedItem=u:this.focusLastVisibleItem()}else this.initFocusedItem()},v.prototype.selectFocusedItem=function(){this.focusedItem&&this.onItemClick(this.focusedItem)},v.prototype.initListContainerHtmlElement=function(f){this.listContainerHtmlElement=f},v.prototype.onLastItemRended=function(f){this.isAllDataLoaded||f===this.actions[this.actions.length-1]&&this.listContainerHtmlElement&&(this.hasVerticalScroller=F.ElementHelper.hasVerticalScroller(this.scrollableContainer))},v.prototype.scrollToFocusedItem=function(){this.scrollToItem(this.getDefaultCssClasses().itemFocused)},v.prototype.scrollToSelectedItem=function(){this.scrollToItem(this.getDefaultCssClasses().itemSelected,110)},v.prototype.addScrollEventListener=function(f){f&&(this.scrollHandler=f),this.scrollHandler&&this.scrollableContainer.addEventListener("scroll",this.scrollHandler)},v.prototype.removeScrollEventListener=function(){this.scrollHandler&&this.scrollableContainer.removeEventListener("scroll",this.scrollHandler)},v.prototype.dispose=function(){h.prototype.dispose.call(this),this.loadingIndicatorValue&&this.loadingIndicatorValue.dispose(),this.listContainerHtmlElement=void 0},v.INDENT=16,v.MINELEMENTCOUNT=10,T([Object(G.property)({defaultValue:!0,onSet:function(f,d){d.onSet()}})],v.prototype,"searchEnabled",void 0),T([Object(G.property)({defaultValue:!1})],v.prototype,"showFilter",void 0),T([Object(G.property)({defaultValue:!1})],v.prototype,"forceShowFilter",void 0),T([Object(G.property)({defaultValue:!1})],v.prototype,"isExpanded",void 0),T([Object(G.property)({})],v.prototype,"selectedItem",void 0),T([Object(G.property)()],v.prototype,"focusedItem",void 0),T([Object(G.property)({onSet:function(f,d){d.onFilterStringChanged(d.filterString)}})],v.prototype,"filterString",void 0),T([Object(G.property)({defaultValue:!1})],v.prototype,"hasVerticalScroller",void 0),T([Object(G.property)({defaultValue:!0})],v.prototype,"isAllDataLoaded",void 0),T([Object(G.property)({defaultValue:!1})],v.prototype,"showSearchClearButton",void 0),T([Object(G.property)({defaultValue:!0})],v.prototype,"renderElements",void 0),v}(se.ActionContainer)},"./src/localizablestring.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"LocalizableString",function(){return F}),x.d(j,"LocalizableStrings",function(){return R});var G=x("./src/helpers.ts"),se=x("./src/surveyStrings.ts"),$=x("./src/settings.ts"),w=x("./src/base.ts"),F=function(){function L(m,T,C){void 0===T&&(T=!1),this.owner=m,this.useMarkdown=T,this.name=C,this.values={},this.htmlValues={},this.onStringChanged=new w.EventBase,this.onCreating()}return Object.defineProperty(L,"defaultLocale",{get:function(){return $.settings.localization.defaultLocaleName},set:function(m){$.settings.localization.defaultLocaleName=m},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"localizationName",{get:function(){return this._localizationName},set:function(m){this._localizationName!=m&&(this._localizationName=m,this.strChanged())},enumerable:!1,configurable:!0}),L.prototype.getIsMultiple=function(){return!1},Object.defineProperty(L.prototype,"locale",{get:function(){if(this.owner&&this.owner.getLocale){var m=this.owner.getLocale();if(m||!this.sharedData)return m}return this.sharedData?this.sharedData.locale:""},enumerable:!1,configurable:!0}),L.prototype.strChanged=function(){this.searchableText=void 0,void 0!==this.renderedText&&(this.calculatedTextValue=this.calcText(),this.renderedText!==this.calculatedTextValue&&(this.renderedText=void 0,this.calculatedTextValue=void 0),this.htmlValues={},this.onChanged(),this.onStringChanged.fire(this,{}))},Object.defineProperty(L.prototype,"text",{get:function(){return this.pureText},set:function(m){this.setLocaleText(this.locale,m)},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"calculatedText",{get:function(){return this.renderedText=void 0!==this.calculatedTextValue?this.calculatedTextValue:this.calcText(),this.calculatedTextValue=void 0,this.renderedText},enumerable:!1,configurable:!0}),L.prototype.calcText=function(){var m=this.pureText;return m&&this.owner&&this.owner.getProcessedText&&m.indexOf("{")>-1&&(m=this.owner.getProcessedText(m)),this.onGetTextCallback&&(m=this.onGetTextCallback(m)),m},Object.defineProperty(L.prototype,"pureText",{get:function(){var m=this.locale;m||(m=this.defaultLoc);var T=this.getValue(m);if(this.isValueEmpty(T)&&m===this.defaultLoc&&(T=this.getValue(se.surveyLocalization.defaultLocale)),this.isValueEmpty(T)){var C=this.getRootDialect(m);C&&(T=this.getValue(C))}return this.isValueEmpty(T)&&m!==this.defaultLoc&&(T=this.getValue(this.defaultLoc)),this.isValueEmpty(T)&&!!this.getLocalizationName()&&(T=this.getLocalizationStr(),this.onGetLocalizationTextCallback&&(T=this.onGetLocalizationTextCallback(T))),T||(T=this.defaultValue||""),T},enumerable:!1,configurable:!0}),L.prototype.getRootDialect=function(m){if(!m)return m;var T=m.indexOf("-");return T>-1?m.substring(0,T):""},L.prototype.getLocalizationName=function(){return this.sharedData?this.sharedData.localizationName:this.localizationName},L.prototype.getLocalizationStr=function(){var m=this.getLocalizationName();return m?se.surveyLocalization.getString(m,this.locale):""},Object.defineProperty(L.prototype,"hasHtml",{get:function(){return this.hasHtmlValue()},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"html",{get:function(){return this.hasHtml?this.getHtmlValue():""},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"isEmpty",{get:function(){return 0==this.getValuesKeys().length},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"textOrHtml",{get:function(){return this.hasHtml?this.getHtmlValue():this.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"renderedHtml",{get:function(){return this.textOrHtml},enumerable:!1,configurable:!0}),L.prototype.getLocaleText=function(m){return this.getLocaleTextCore(m)||""},L.prototype.getLocaleTextCore=function(m){return m||(m=this.defaultLoc),this.getValue(m)},L.prototype.isLocaleTextEqualsWithDefault=function(m,T){var C=this.getLocaleTextCore(m);return C===T||this.isValueEmpty(C)&&this.isValueEmpty(T)},L.prototype.clear=function(){this.setJson(void 0)},L.prototype.clearLocale=function(m){this.setLocaleText(m,void 0)},L.prototype.setLocaleText=function(m,T){if(m=this.getValueLoc(m),this.storeDefaultText||!this.isLocaleTextEqualsWithDefault(m,T)){if($.settings.localization.storeDuplicatedTranslations||this.isValueEmpty(T)||!m||m==this.defaultLoc||this.getValue(m)||T!=this.getLocaleText(this.defaultLoc)){m||(m=this.defaultLoc);var v=this.onStrChanged&&m===this.curLocale?this.pureText:void 0;delete this.htmlValues[m],this.isValueEmpty(T)?this.deleteValue(m):"string"==typeof T&&(this.canRemoveLocValue(m,T)?this.setLocaleText(m,null):(this.setValue(m,T),m==this.defaultLoc&&this.deleteValuesEqualsToDefault(T))),this.fireStrChanged(m,v)}}else{if(!this.isValueEmpty(T)||m&&m!==this.defaultLoc)return;var C=se.surveyLocalization.defaultLocale,y=this.getValue(C);C&&!this.isValueEmpty(y)&&(this.setValue(C,T),this.fireStrChanged(C,y))}},L.prototype.isValueEmpty=function(m){return null==m||!this.localizationName&&""===m},Object.defineProperty(L.prototype,"curLocale",{get:function(){return this.locale?this.locale:this.defaultLoc},enumerable:!1,configurable:!0}),L.prototype.canRemoveLocValue=function(m,T){if($.settings.localization.storeDuplicatedTranslations||m===this.defaultLoc)return!1;var C=this.getRootDialect(m);if(C){var y=this.getLocaleText(C);return y?y==T:this.canRemoveLocValue(C,T)}return T==this.getLocaleText(this.defaultLoc)},L.prototype.fireStrChanged=function(m,T){if(this.strChanged(),this.onStrChanged){var C=this.pureText;(m!==this.curLocale||T!==C)&&this.onStrChanged(T,C)}},L.prototype.hasNonDefaultText=function(){var m=this.getValuesKeys();return 0!=m.length&&(m.length>1||m[0]!=this.defaultLoc)},L.prototype.getLocales=function(){var m=this.getValuesKeys();return 0==m.length?[]:m},L.prototype.getJson=function(){if(this.sharedData)return this.sharedData.getJson();var m=this.getValuesKeys();return 0==m.length?null:1!=m.length||m[0]!=$.settings.localization.defaultLocaleName||$.settings.serialization.localizableStringSerializeAsObject?this.values:this.values[m[0]]},L.prototype.setJson=function(m){if(this.sharedData)this.sharedData.setJson(m);else if(this.values={},this.htmlValues={},null!=m){if("string"==typeof m)this.setLocaleText(null,m);else for(var T in m)this.setLocaleText(T,m[T]);this.strChanged()}},Object.defineProperty(L.prototype,"renderAs",{get:function(){return this.owner&&"function"==typeof this.owner.getRenderer&&this.owner.getRenderer(this.name)||L.defaultRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"renderAsData",{get:function(){return this.owner&&"function"==typeof this.owner.getRendererContext&&this.owner.getRendererContext(this)||this},enumerable:!1,configurable:!0}),L.prototype.equals=function(m){return this.sharedData?this.sharedData.equals(m):!(!m||!m.values)&&G.Helpers.isTwoValueEquals(this.values,m.values,!1,!0,!1)},L.prototype.setFindText=function(m){if(this.searchText!=m){if(this.searchText=m,!this.searchableText){var T=this.textOrHtml;this.searchableText=T?T.toLowerCase():""}var C=this.searchableText,y=C&&m?C.indexOf(m):void 0;return y<0&&(y=void 0),(null!=y||this.searchIndex!=y)&&(this.searchIndex=y,this.onSearchChanged&&this.onSearchChanged()),null!=this.searchIndex}},L.prototype.onChanged=function(){},L.prototype.onCreating=function(){},L.prototype.hasHtmlValue=function(){if(!this.owner||!this.useMarkdown)return!1;var m=this.locale;if(m||(m=this.defaultLoc),void 0!==this.htmlValues[m])return!!this.htmlValues[m];var T=this.calculatedText;if(!T)return this.setHtmlValue(m,""),!1;if(this.getLocalizationName()&&T===this.getLocalizationStr())return this.setHtmlValue(m,""),!1;var C=this.owner.getMarkdownHtml(T,this.name);return this.setHtmlValue(m,C),!!C},L.prototype.setHtmlValue=function(m,T){this.htmlValues[m]=T},L.prototype.getHtmlValue=function(){var m=this.locale;return m||(m=this.defaultLoc),this.htmlValues[m]},L.prototype.deleteValuesEqualsToDefault=function(m){if(!$.settings.localization.storeDuplicatedTranslations)for(var T=this.getValuesKeys(),C=0;C<T.length;C++)T[C]!=this.defaultLoc&&this.getValue(T[C])==m&&this.deleteValue(T[C])},L.prototype.getValue=function(m){return this.sharedData?this.sharedData.getValue(m):this.values[this.getValueLoc(m)]},L.prototype.setValue=function(m,T){this.sharedData?this.sharedData.setValue(m,T):this.values[this.getValueLoc(m)]=T},L.prototype.deleteValue=function(m){this.sharedData?this.sharedData.deleteValue(m):delete this.values[this.getValueLoc(m)]},L.prototype.getValueLoc=function(m){return this.disableLocalization?$.settings.localization.defaultLocaleName:m},L.prototype.getValuesKeys=function(){return this.sharedData?this.sharedData.getValuesKeys():Object.keys(this.values)},Object.defineProperty(L.prototype,"defaultLoc",{get:function(){return $.settings.localization.defaultLocaleName},enumerable:!1,configurable:!0}),L.SerializeAsObject=!1,L.defaultRenderer="sv-string-viewer",L.editableRenderer="sv-string-editor",L}(),R=function(){function L(m){this.owner=m,this.values={}}return L.prototype.getIsMultiple=function(){return!0},Object.defineProperty(L.prototype,"locale",{get:function(){return this.owner&&this.owner.getLocale?this.owner.getLocale():""},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"value",{get:function(){return this.getValue("")},set:function(m){this.setValue("",m)},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"text",{get:function(){return Array.isArray(this.value)?this.value.join("\n"):""},set:function(m){this.value=m?m.split("\n"):[]},enumerable:!1,configurable:!0}),L.prototype.getLocaleText=function(m){var T=this.getValueCore(m,!m||m===this.locale);return T&&Array.isArray(T)&&0!=T.length?T.join("\n"):""},L.prototype.setLocaleText=function(m,T){var C=T?T.split("\n"):null;this.setValue(m,C)},L.prototype.getValue=function(m){return this.getValueCore(m)},L.prototype.getValueCore=function(m,T){if(void 0===T&&(T=!0),m=this.getLocale(m),this.values[m])return this.values[m];if(T){var C=$.settings.localization.defaultLocaleName;if(m!==C&&this.values[C])return this.values[C]}return[]},L.prototype.setValue=function(m,T){m=this.getLocale(m);var C=G.Helpers.createCopy(this.values);T&&0!=T.length?this.values[m]=T:delete this.values[m],this.onValueChanged&&this.onValueChanged(C,this.values)},L.prototype.hasValue=function(m){return void 0===m&&(m=""),!this.isEmpty&&this.getValue(m).length>0},Object.defineProperty(L.prototype,"isEmpty",{get:function(){return 0==this.getValuesKeys().length},enumerable:!1,configurable:!0}),L.prototype.getLocale=function(m){return m||(m=this.locale)||$.settings.localization.defaultLocaleName},L.prototype.getLocales=function(){var m=this.getValuesKeys();return 0==m.length?[]:m},L.prototype.getJson=function(){var m=this.getValuesKeys();return 0==m.length?null:1!=m.length||m[0]!=$.settings.localization.defaultLocaleName||$.settings.serialization.localizableStringSerializeAsObject?G.Helpers.createCopy(this.values):this.values[m[0]]},L.prototype.setJson=function(m){if(this.values={},m)if(Array.isArray(m))this.setValue(null,m);else for(var T in m)this.setValue(T,m[T])},L.prototype.getValuesKeys=function(){return Object.keys(this.values)},L}()},"./src/localization/english.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"englishStrings",function(){return G});var G={pagePrevText:"Previous",pageNextText:"Next",completeText:"Complete",previewText:"Preview",editText:"Edit",startSurveyText:"Start",otherItemText:"Other (describe)",noneItemText:"None",refuseItemText:"Refuse to answer",dontKnowItemText:"Don't know",selectAllItemText:"Select All",progressText:"Page {0} of {1}",indexText:"{0} of {1}",panelDynamicProgressText:"{0} of {1}",panelDynamicTabTextFormat:"Panel {panelIndex}",questionsProgressText:"Answered {0}/{1} questions",emptySurvey:"The survey doesn't contain any visible elements.",completingSurvey:"Thank you for completing the survey",completingSurveyBefore:"Our records show that you have already completed this survey.",loadingSurvey:"Loading Survey...",placeholder:"Select...",ratingOptionsCaption:"Select...",value:"value",requiredError:"Response required.",requiredErrorInPanel:"Response required: answer at least one question.",requiredInAllRowsError:"Response required: answer questions in all rows.",eachRowUniqueError:"Each row must have a unique value.",numericError:"The value should be numeric.",minError:"The value should not be less than {0}",maxError:"The value should not be greater than {0}",textMinLength:"Please enter at least {0} character(s).",textMaxLength:"Please enter no more than {0} character(s).",textMinMaxLength:"Please enter at least {0} and no more than {1} characters.",minRowCountError:"Please fill in at least {0} row(s).",minSelectError:"Please select at least {0} option(s).",maxSelectError:"Please select no more than {0} option(s).",numericMinMax:"The '{0}' should be at least {1} and at most {2}",numericMin:"The '{0}' should be at least {1}",numericMax:"The '{0}' should be at most {1}",invalidEmail:"Please enter a valid e-mail address.",invalidExpression:"The expression: {0} should return 'true'.",urlRequestError:"The request returned error '{0}'. {1}",urlGetChoicesError:"The request returned empty data or the 'path' property is incorrect",exceedMaxSize:"The file size should not exceed {0}.",noUploadFilesHandler:"Files cannot be uploaded. Please add a handler for the 'onUploadFiles' event.",otherRequiredError:"Response required: enter another value.",uploadingFile:"Your file is uploading. Please wait several seconds and try again.",loadingFile:"Loading...",chooseFile:"Choose file(s)...",noFileChosen:"No file chosen",filePlaceholder:"Drag and drop a file here or click the button below to select a file to upload.",confirmDelete:"Do you want to delete the record?",keyDuplicationError:"This value should be unique.",addColumn:"Add Column",addRow:"Add Row",removeRow:"Remove",emptyRowsText:"There are no rows.",addPanel:"Add new",removePanel:"Remove",showDetails:"Show Details",hideDetails:"Hide Details",choices_Item:"item",matrix_column:"Column",matrix_row:"Row",multipletext_itemname:"text",savingData:"The results are being saved on the server...",savingDataError:"An error occurred and we could not save the results.",savingDataSuccess:"The results were saved successfully!",saveAgainButton:"Try again",timerMin:"min",timerSec:"sec",timerSpentAll:"You have spent {0} on this page and {1} in total.",timerSpentPage:"You have spent {0} on this page.",timerSpentSurvey:"You have spent {0} in total.",timerLimitAll:"You have spent {0} of {1} on this page and {2} of {3} in total.",timerLimitPage:"You have spent {0} of {1} on this page.",timerLimitSurvey:"You have spent {0} of {1} in total.",clearCaption:"Clear",signaturePlaceHolder:"Sign here",chooseFileCaption:"Select File",takePhotoCaption:"Take Photo",photoPlaceholder:"Click the button below to take a photo using the camera.",fileOrPhotoPlaceholder:"Drag and drop or select a file to upload or take a photo using the camera.",replaceFileCaption:"Replace file",removeFileCaption:"Remove this file",booleanCheckedLabel:"Yes",booleanUncheckedLabel:"No",confirmRemoveFile:"Are you sure that you want to remove this file: {0}?",confirmRemoveAllFiles:"Are you sure that you want to remove all files?",questionTitlePatternText:"Question Title",modalCancelButtonText:"Cancel",modalApplyButtonText:"Apply",filterStringPlaceholder:"Type to search...",emptyMessage:"No data to display",noEntriesText:"There are no entries yet.\nClick the button below to add a new entry.",noEntriesReadonlyText:"There are no entries.",more:"More",tagboxDoneButtonCaption:"OK",selectToRankEmptyRankedAreaText:"All choices are ranked",selectToRankEmptyUnrankedAreaText:"Drag and drop choices here to rank them",ok:"OK",cancel:"Cancel"}},"./src/martixBase.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionMatrixBaseModel",function(){return T});var C,G=x("./src/itemvalue.ts"),se=x("./src/question.ts"),$=x("./src/jsonobject.ts"),w=x("./src/conditions.ts"),F=x("./src/helpers.ts"),R=x("./src/utils/cssClassBuilder.ts"),L=(C=function(y,h){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(v[d]=f[d])})(y,h)},function(y,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function v(){this.constructor=y}C(y,h),y.prototype=null===h?Object.create(h):(v.prototype=h.prototype,new v)}),m=function(C,y,h,v){var u,f=arguments.length,d=f<3?y:null===v?v=Object.getOwnPropertyDescriptor(y,h):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(C,y,h,v);else for(var a=C.length-1;a>=0;a--)(u=C[a])&&(d=(f<3?u(d):f>3?u(y,h,d):u(y,h))||d);return f>3&&d&&Object.defineProperty(y,h,d),d},T=function(C){function y(h){var v=C.call(this,h)||this;return v.generatedVisibleRows=null,v.generatedTotalRow=null,v.filteredRows=null,v.filteredColumns=null,v.columns=v.createColumnValues(),v.rows=v.createItemValues("rows"),v}return L(y,C),y.prototype.createColumnValues=function(){return this.createItemValues("columns")},y.prototype.getType=function(){return"matrixbase"},y.prototype.endLoadingFromJson=function(){C.prototype.endLoadingFromJson.call(this),this.updateVisibilityBasedOnRows()},Object.defineProperty(y.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},set:function(h){this.setPropertyValue("showHeader",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"columns",{get:function(){return this.getPropertyValue("columns")},set:function(h){this.setPropertyValue("columns",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"visibleColumns",{get:function(){return this.filteredColumns?this.filteredColumns:this.columns},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(h){var v=this.processRowsOnSet(h);this.setPropertyValue("rows",v),this.filterItems()},enumerable:!1,configurable:!0}),y.prototype.processRowsOnSet=function(h){return h},y.prototype.getVisibleRows=function(){return[]},Object.defineProperty(y.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"rowsVisibleIf",{get:function(){return this.getPropertyValue("rowsVisibleIf","")},set:function(h){this.setPropertyValue("rowsVisibleIf",h),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"columnsVisibleIf",{get:function(){return this.getPropertyValue("columnsVisibleIf","")},set:function(h){this.setPropertyValue("columnsVisibleIf",h),this.filterItems()},enumerable:!1,configurable:!0}),y.prototype.runCondition=function(h,v){C.prototype.runCondition.call(this,h,v),this.runItemsCondition(h,v)},y.prototype.filterItems=function(){return this.areInvisibleElementsShowing?(this.onRowsChanged(),!1):!(this.isLoadingFromJson||!this.data)&&this.runItemsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},y.prototype.onColumnsChanged=function(){},y.prototype.onRowsChanged=function(){this.updateVisibilityBasedOnRows(),this.fireCallback(this.visibleRowsChangedCallback)},y.prototype.updateVisibilityBasedOnRows=function(){this.hideIfRowsEmpty&&(this.visible=this.rows.length>0&&(!this.filteredRows||this.filteredRows.length>0))},y.prototype.shouldRunColumnExpression=function(){return!this.survey||!this.survey.areInvisibleElementsShowing},y.prototype.hasRowsAsItems=function(){return!0},y.prototype.runItemsCondition=function(h,v){var f=null;if(this.filteredRows&&!F.Helpers.isValueEmpty(this.defaultValue)){f=[];for(var d=0;d<this.filteredRows.length;d++)f.push(this.filteredRows[d])}var u=this.hasRowsAsItems()&&this.runConditionsForRows(h,v),a=this.runConditionsForColumns(h,v);return(u=a||u)&&(this.isClearValueOnHidden&&(!!this.filteredColumns||!!this.filteredRows)&&this.clearIncorrectValues(),f&&this.restoreNewVisibleRowsValues(f),this.clearGeneratedRows(),a&&this.onColumnsChanged(),this.onRowsChanged()),u},y.prototype.clearGeneratedRows=function(){this.generatedVisibleRows=null},y.prototype.runConditionsForRows=function(h,v){var f=!!this.survey&&this.survey.areInvisibleElementsShowing,d=!f&&this.rowsVisibleIf?new w.ConditionRunner(this.rowsVisibleIf):null;this.filteredRows=[];var u=G.ItemValue.runConditionsForItems(this.rows,this.filteredRows,d,h,v,!f);return this.filteredRows.length===this.rows.length&&(this.filteredRows=null),u},y.prototype.runConditionsForColumns=function(h,v){var d=this.survey&&!this.survey.areInvisibleElementsShowing&&this.columnsVisibleIf?new w.ConditionRunner(this.columnsVisibleIf):null;this.filteredColumns=[];var u=G.ItemValue.runConditionsForItems(this.columns,this.filteredColumns,d,h,v,this.shouldRunColumnExpression());return this.filteredColumns.length===this.columns.length&&(this.filteredColumns=null),u},y.prototype.clearIncorrectValues=function(){var h=this.value;if(h){var v=null,f=!1,d=this.filteredRows?this.filteredRows:this.rows,u=this.filteredColumns?this.filteredColumns:this.columns;for(var a in h)G.ItemValue.getItemByValue(d,a)&&G.ItemValue.getItemByValue(u,h[a])?(null==v&&(v={}),v[a]=h[a]):f=!0;f&&(this.value=v),C.prototype.clearIncorrectValues.call(this)}},y.prototype.clearInvisibleValuesInRows=function(){if(!this.isEmpty()){for(var h=this.getUnbindValue(this.value),v=this.rows,f=0;f<v.length;f++){var d=v[f].value;h[d]&&!v[f].isVisible&&delete h[d]}this.isTwoValueEquals(h,this.value)||(this.value=h)}},y.prototype.restoreNewVisibleRowsValues=function(h){var v=this.filteredRows?this.filteredRows:this.rows,f=this.defaultValue,d=this.getUnbindValue(this.value),u=!1;for(var a in f)G.ItemValue.getItemByValue(v,a)&&!G.ItemValue.getItemByValue(h,a)&&(null==d&&(d={}),d[a]=f[a],u=!0);u&&(this.value=d)},y.prototype.needResponsiveWidth=function(){return!0},y.prototype.getTableCss=function(){var h;return(new R.CssClassBuilder).append(this.cssClasses.root).append(this.cssClasses.noHeader,!this.showHeader).append(this.cssClasses.hasFooter,!!(null===(h=this.renderedTable)||void 0===h?void 0:h.showAddRowOnBottom)).append(this.cssClasses.rootAlternateRows,this.alternateRows).append(this.cssClasses.rootVerticalAlignTop,"top"===this.verticalAlign).append(this.cssClasses.rootVerticalAlignMiddle,"middle"===this.verticalAlign).toString()},Object.defineProperty(y.prototype,"columnMinWidth",{get:function(){return this.getPropertyValue("columnMinWidth")||""},set:function(h){this.setPropertyValue("columnMinWidth",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"rowTitleWidth",{get:function(){return this.getPropertyValue("rowTitleWidth")||""},set:function(h){this.setPropertyValue("rowTitleWidth",h)},enumerable:!1,configurable:!0}),y.prototype.getCellAriaLabel=function(h,v){return(this.getLocalizationString("matrix_row")||"row").toLocaleLowerCase()+" "+h+", "+(this.getLocalizationString("matrix_column")||"column").toLocaleLowerCase()+" "+v},Object.defineProperty(y.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),m([Object($.property)()],y.prototype,"verticalAlign",void 0),m([Object($.property)()],y.prototype,"alternateRows",void 0),y}(se.Question);$.Serializer.addClass("matrixbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"columnsVisibleIf:condition","rowsVisibleIf:condition","columnMinWidth",{name:"showHeader:boolean",default:!0},{name:"verticalAlign",choices:["top","middle"],default:"middle"},{name:"alternateRows:boolean",default:!1}],void 0,"question")},"./src/multiSelectListModel.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"MultiSelectListModel",function(){return F});var R,G=x("./src/jsonobject.ts"),se=x("./src/list.ts"),$=(R=function(L,m){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,C){T.__proto__=C}||function(T,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(T[y]=C[y])})(L,m)},function(L,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function T(){this.constructor=L}R(L,m),L.prototype=null===m?Object.create(m):(T.prototype=m.prototype,new T)}),F=function(R){function L(m,T,C,y,h,v){var f=R.call(this,m,T,C,void 0,h,v)||this;return f.onItemClick=function(d){f.isItemDisabled(d)||(f.isExpanded=!1,f.isItemSelected(d)?(f.selectedItems.splice(f.selectedItems.indexOf(d),1),f.onSelectionChanged&&f.onSelectionChanged(d,"removed")):(f.selectedItems.push(d),f.onSelectionChanged&&f.onSelectionChanged(d,"added")))},f.isItemDisabled=function(d){return void 0!==d.enabled&&!d.enabled},f.isItemSelected=function(d){return!!f.allowSelection&&f.selectedItems.filter(function(u){return f.areSameItems(u,d)}).length>0},f.setSelectedItems(y||[]),f}return $(L,R),L.prototype.updateItemState=function(){var m=this;this.actions.forEach(function(T){var C=m.isItemSelected(T);T.visible=!m.hideSelectedItems||!C})},L.prototype.updateState=function(){var m=this;this.updateItemState(),this.isEmpty=0===this.renderedActions.filter(function(T){return m.isItemVisible(T)}).length},L.prototype.setSelectedItems=function(m){this.selectedItems=m,this.updateState()},L.prototype.selectFocusedItem=function(){R.prototype.selectFocusedItem.call(this),this.hideSelectedItems&&this.focusNextVisibleItem()},function(R,L,m,T){var h,C=arguments.length,y=C<3?L:null===T?T=Object.getOwnPropertyDescriptor(L,m):T;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(R,L,m,T);else for(var v=R.length-1;v>=0;v--)(h=R[v])&&(y=(C<3?h(y):C>3?h(L,m,y):h(L,m))||y);C>3&&y&&Object.defineProperty(L,m,y)}([Object(G.property)()],L.prototype,"hideSelectedItems",void 0),L}(se.ListModel)},"./src/notifier.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"Notifier",function(){return m});var T,G=x("./src/base.ts"),se=x("./src/settings.ts"),$=x("./src/jsonobject.ts"),w=x("./src/utils/cssClassBuilder.ts"),F=x("./src/actions/container.ts"),R=(T=function(C,y){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(h[f]=v[f])})(C,y)},function(C,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function h(){this.constructor=C}T(C,y),C.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)}),L=function(T,C,y,h){var d,v=arguments.length,f=v<3?C:null===h?h=Object.getOwnPropertyDescriptor(C,y):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(T,C,y,h);else for(var u=T.length-1;u>=0;u--)(d=T[u])&&(f=(v<3?d(f):v>3?d(C,y,f):d(C,y))||f);return v>3&&f&&Object.defineProperty(C,y,f),f},m=function(T){function C(y){var h=T.call(this)||this;return h.cssClasses=y,h.timeout=se.settings.notifications.lifetime,h.timer=void 0,h.actionsVisibility={},h.showActions=!0,h.actionBar=new F.ActionContainer,h.actionBar.updateCallback=function(v){h.actionBar.actions.forEach(function(f){return f.cssClasses={}})},h.css=h.cssClasses.root,h}return R(C,T),C.prototype.getCssClass=function(y){return(new w.CssClassBuilder).append(this.cssClasses.root).append(this.cssClasses.rootWithButtons,this.actionBar.visibleActions.length>0).append(this.cssClasses.info,"error"!==y&&"success"!==y).append(this.cssClasses.error,"error"===y).append(this.cssClasses.success,"success"===y).append(this.cssClasses.shown,this.active).toString()},C.prototype.updateActionsVisibility=function(y){var h=this;this.actionBar.actions.forEach(function(v){return v.visible=h.showActions&&h.actionsVisibility[v.id]===y})},C.prototype.notify=function(y,h,v){var f=this;void 0===h&&(h="info"),void 0===v&&(v=!1),this.isDisplayed=!0,setTimeout(function(){f.updateActionsVisibility(h),f.message=y,f.active=!0,f.css=f.getCssClass(h),f.timer&&(clearTimeout(f.timer),f.timer=void 0),v||(f.timer=setTimeout(function(){f.timer=void 0,f.active=!1,f.css=f.getCssClass(h)},f.timeout))},1)},C.prototype.addAction=function(y,h){y.visible=!1,y.innerCss=this.cssClasses.button;var v=this.actionBar.addAction(y);this.actionsVisibility[v.id]=h},L([Object($.property)({defaultValue:!1})],C.prototype,"active",void 0),L([Object($.property)({defaultValue:!1})],C.prototype,"isDisplayed",void 0),L([Object($.property)()],C.prototype,"message",void 0),L([Object($.property)()],C.prototype,"css",void 0),C}(G.Base)},"./src/page.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"PageModel",function(){return L});var m,G=x("./src/jsonobject.ts"),se=x("./src/panel.ts"),$=x("./src/utils/cssClassBuilder.ts"),w=x("./src/drag-drop-page-helper-v1.ts"),F=(m=function(T,C){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,h){y.__proto__=h}||function(y,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(y[v]=h[v])})(T,C)},function(T,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function y(){this.constructor=T}m(T,C),T.prototype=null===C?Object.create(C):(y.prototype=C.prototype,new y)}),L=function(m){function T(C){void 0===C&&(C="");var y=m.call(this,C)||this;return y.hasShownValue=!1,y.timeSpent=0,y.locTitle.onGetTextCallback=function(h){return y.canShowPageNumber()&&h?y.num+". "+h:h},y.createLocalizableString("navigationTitle",y,!0),y.createLocalizableString("navigationDescription",y,!0),y.dragDropPageHelper=new w.DragDropPageHelperV1(y),y}return F(T,m),T.prototype.getType=function(){return"page"},T.prototype.toString=function(){return this.name},Object.defineProperty(T.prototype,"isPage",{get:function(){return!0},enumerable:!1,configurable:!0}),T.prototype.canShowPageNumber=function(){return this.survey&&this.survey.showPageNumbers},T.prototype.canShowTitle=function(){return this.survey&&this.survey.showPageTitles},Object.defineProperty(T.prototype,"navigationTitle",{get:function(){return this.getLocalizableStringText("navigationTitle")},set:function(C){this.setLocalizableStringText("navigationTitle",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"locNavigationTitle",{get:function(){return this.getLocalizableString("navigationTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"navigationDescription",{get:function(){return this.getLocalizableStringText("navigationDescription")},set:function(C){this.setLocalizableStringText("navigationDescription",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"locNavigationDescription",{get:function(){return this.getLocalizableString("navigationDescription")},enumerable:!1,configurable:!0}),T.prototype.navigationLocStrChanged=function(){this.locNavigationTitle.strChanged(),this.locNavigationDescription.strChanged()},Object.defineProperty(T.prototype,"renderedNavigationTitle",{get:function(){return this.locNavigationTitle.renderedHtml||this.title||this.name},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"passed",{get:function(){return this.getPropertyValue("passed",!1)},set:function(C){this.setPropertyValue("passed",C)},enumerable:!1,configurable:!0}),T.prototype.removeFromParent=function(){this.survey&&this.removeSelfFromList(this.survey.pages)},T.prototype.onFirstRendering=function(){this.wasShown||m.prototype.onFirstRendering.call(this)},Object.defineProperty(T.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},set:function(C){this.setPropertyValue("visibleIndex",C)},enumerable:!1,configurable:!0}),T.prototype.canRenderFirstRows=function(){return!this.isDesignMode||0==this.visibleIndex},Object.defineProperty(T.prototype,"isStartPage",{get:function(){return this.survey&&this.survey.isPageStarted(this)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"isStarted",{get:function(){return this.isStartPage},enumerable:!1,configurable:!0}),T.prototype.calcCssClasses=function(C){var y={page:{},error:{},pageTitle:"",pageDescription:"",row:"",rowMultiple:"",pageRow:"",rowCompact:""};return this.copyCssClasses(y.page,C.page),this.copyCssClasses(y.error,C.error),C.pageTitle&&(y.pageTitle=C.pageTitle),C.pageDescription&&(y.pageDescription=C.pageDescription),C.row&&(y.row=C.row),C.pageRow&&(y.pageRow=C.pageRow),C.rowMultiple&&(y.rowMultiple=C.rowMultiple),C.rowCompact&&(y.rowCompact=C.rowCompact),this.survey&&this.survey.updatePageCssClasses(this,y),y},Object.defineProperty(T.prototype,"cssTitle",{get:function(){return this.cssClasses.page?(new $.CssClassBuilder).append(this.cssClasses.page.title).toString():""},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"cssRoot",{get:function(){return this.cssClasses.page&&this.survey?(new $.CssClassBuilder).append(this.cssClasses.page.root).append(this.cssClasses.page.emptyHeaderRoot,!(this.survey.renderedHasHeader||this.survey.isShowProgressBarOnTop&&!this.survey.isStaring)).toString():""},enumerable:!1,configurable:!0}),T.prototype.getCssError=function(C){return(new $.CssClassBuilder).append(m.prototype.getCssError.call(this,C)).append(C.page.errorsContainer).toString()},Object.defineProperty(T.prototype,"navigationButtonsVisibility",{get:function(){return this.getPropertyValue("navigationButtonsVisibility")},set:function(C){this.setPropertyValue("navigationButtonsVisibility",C.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"isActive",{get:function(){return!!this.survey&&this.survey.currentPage===this},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"wasShown",{get:function(){return this.hasShownValue},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"hasShown",{get:function(){return this.wasShown},enumerable:!1,configurable:!0}),T.prototype.setWasShown=function(C){if(C!=this.hasShownValue&&(this.hasShownValue=C,!this.isDesignMode&&!0===C)){for(var y=this.elements,h=0;h<y.length;h++)y[h].isPanel&&y[h].randomizeElements(this.areQuestionsRandomized);this.randomizeElements(this.areQuestionsRandomized)}},T.prototype.scrollToTop=function(){this.survey&&this.survey.scrollElementToTop(this,null,this,this.id)},T.prototype.getAllPanels=function(C,y){void 0===C&&(C=!1),void 0===y&&(y=!1);var h=new Array;return this.addPanelsIntoList(h,C,y),h},T.prototype.getPanels=function(C,y){return void 0===C&&(C=!1),void 0===y&&(y=!1),this.getAllPanels(C,y)},Object.defineProperty(T.prototype,"maxTimeToFinish",{get:function(){return this.getPropertyValue("maxTimeToFinish",0)},set:function(C){this.setPropertyValue("maxTimeToFinish",C)},enumerable:!1,configurable:!0}),T.prototype.onNumChanged=function(C){},T.prototype.onVisibleChanged=function(){this.isRandomizing||(m.prototype.onVisibleChanged.call(this),null!=this.survey&&this.survey.pageVisibilityChanged(this,this.isVisible))},T.prototype.getDragDropInfo=function(){return this.dragDropPageHelper.getDragDropInfo()},T.prototype.dragDropStart=function(C,y,h){void 0===h&&(h=-1),this.dragDropPageHelper.dragDropStart(C,y,h)},T.prototype.dragDropMoveTo=function(C,y,h){return void 0===y&&(y=!1),void 0===h&&(h=!1),this.dragDropPageHelper.dragDropMoveTo(C,y,h)},T.prototype.dragDropFinish=function(C){return void 0===C&&(C=!1),this.dragDropPageHelper.dragDropFinish(C)},T.prototype.ensureRowsVisibility=function(){m.prototype.ensureRowsVisibility.call(this),this.getPanels().forEach(function(C){return C.ensureRowsVisibility()})},function(m,T,C,y){var f,h=arguments.length,v=h<3?T:null===y?y=Object.getOwnPropertyDescriptor(T,C):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(m,T,C,y);else for(var d=m.length-1;d>=0;d--)(f=m[d])&&(v=(h<3?f(v):h>3?f(T,C,v):f(T,C))||v);h>3&&v&&Object.defineProperty(T,C,v)}([Object(G.property)({defaultValue:-1,onSet:function(C,y){return y.onNumChanged(C)}})],T.prototype,"num",void 0),T}(se.PanelModelBase);G.Serializer.addClass("page",[{name:"navigationButtonsVisibility",default:"inherit",choices:["inherit","show","hide"]},{name:"maxTimeToFinish:number",default:0,minValue:0},{name:"navigationTitle",visibleIf:function(m){return!!m.survey&&("buttons"===m.survey.progressBarType||m.survey.showTOC)},serializationProperty:"locNavigationTitle"},{name:"navigationDescription",visibleIf:function(m){return!!m.survey&&"buttons"===m.survey.progressBarType},serializationProperty:"locNavigationDescription"},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"}],function(){return new L},"panelbase")},"./src/panel.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionRowModel",function(){return f}),x.d(j,"PanelModelBase",function(){return d}),x.d(j,"PanelModel",function(){return u});var a,G=x("./src/jsonobject.ts"),se=x("./src/helpers.ts"),$=x("./src/base.ts"),w=x("./src/survey-element.ts"),F=x("./src/question.ts"),R=x("./src/questionfactory.ts"),L=x("./src/error.ts"),m=x("./src/settings.ts"),T=x("./src/utils/utils.ts"),C=x("./src/utils/cssClassBuilder.ts"),y=x("./src/drag-drop-panel-helper-v1.ts"),h=(a=function(o,s){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(l[b]=c[b])})(o,s)},function(o,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=o}a(o,s),o.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}),v=function(a,o,s,l){var M,c=arguments.length,b=c<3?o:null===l?l=Object.getOwnPropertyDescriptor(o,s):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(a,o,s,l);else for(var D=a.length-1;D>=0;D--)(M=a[D])&&(b=(c<3?M(b):c>3?M(o,s,b):M(o,s))||b);return c>3&&b&&Object.defineProperty(o,s,b),b},f=function(a){function o(s){var l=a.call(this)||this;return l.panel=s,l._scrollableParent=void 0,l._updateVisibility=void 0,l.idValue=o.getRowId(),l.visible=s.areInvisibleElementsShowing,l.createNewArray("elements"),l.createNewArray("visibleElements"),l}return h(o,a),o.getRowId=function(){return"pr_"+o.rowCounter++},o.prototype.startLazyRendering=function(s,l){var c=this;void 0===l&&(l=T.findScrollableParent),this._scrollableParent=l(s),this._scrollableParent===document.documentElement&&(this._scrollableParent=window);var b=this._scrollableParent.scrollHeight>this._scrollableParent.clientHeight;this.isNeedRender=!b,b&&(this._updateVisibility=function(){var M=Object(T.isElementVisible)(s,50);!c.isNeedRender&&M&&(c.isNeedRender=!0,c.stopLazyRendering())},setTimeout(function(){!!c._scrollableParent&&!!c._scrollableParent.addEventListener&&c._scrollableParent.addEventListener("scroll",c._updateVisibility),c.ensureVisibility()},10))},o.prototype.ensureVisibility=function(){this._updateVisibility&&this._updateVisibility()},o.prototype.stopLazyRendering=function(){!!this._scrollableParent&&!!this._updateVisibility&&!!this._scrollableParent.removeEventListener&&this._scrollableParent.removeEventListener("scroll",this._updateVisibility),this._scrollableParent=void 0,this._updateVisibility=void 0},o.prototype.setIsLazyRendering=function(s){this.isLazyRenderingValue=s,this.isNeedRender=!s},o.prototype.isLazyRendering=function(){return!0===this.isLazyRenderingValue},Object.defineProperty(o.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"elements",{get:function(){return this.getPropertyValue("elements")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"visibleElements",{get:function(){return this.getPropertyValue("visibleElements")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(s){this.setPropertyValue("visible",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isNeedRender",{get:function(){return this.getPropertyValue("isneedrender",!0)},set:function(s){this.setPropertyValue("isneedrender",s)},enumerable:!1,configurable:!0}),o.prototype.updateVisible=function(){var s=this.calcVisible();this.setWidth(),this.visible=s},o.prototype.addElement=function(s){this.elements.push(s),this.updateVisible()},Object.defineProperty(o.prototype,"index",{get:function(){return this.panel.rows.indexOf(this)},enumerable:!1,configurable:!0}),o.prototype.setWidth=function(){var s,l=this.visibleElements.length;if(0!=l){for(var c=1===this.visibleElements.length,b=0,M=[],D=0;D<this.elements.length;D++)if((g=this.elements[D]).isVisible){g.isSingleInRow=c;var P=this.getElementWidth(g);P&&(g.renderWidth=this.getRenderedWidthFromWidth(P),M.push(g)),g.rightIndent=b<l-1&&!this.panel.isDefaultV2Theme&&!(null===(s=this.panel.parentQuestion)||void 0===s?void 0:s.isDefaultV2Theme)?1:0,b++}else g.renderWidth="";for(D=0;D<this.elements.length;D++){var g;!(g=this.elements[D]).isVisible||M.indexOf(g)>-1||(g.renderWidth=0==M.length?Number.parseFloat((100/l).toFixed(6))+"%":this.getRenderedCalcWidth(g,M,l))}}},o.prototype.getRenderedCalcWidth=function(s,l,c){for(var b="100%",M=0;M<l.length;M++)b+=" - "+l[M].renderWidth;var D=c-l.length;return D>1&&(b="("+b+")/"+D.toString()),"calc("+b+")"},o.prototype.getElementWidth=function(s){var l=s.width;return l&&"string"==typeof l?l.trim():""},o.prototype.getRenderedWidthFromWidth=function(s){return se.Helpers.isNumber(s)?s+"px":s},o.prototype.calcVisible=function(){for(var s=[],l=0;l<this.elements.length;l++)this.elements[l].isVisible&&s.push(this.elements[l]);return this.needToUpdateVisibleElements(s)&&this.setPropertyValue("visibleElements",s),s.length>0},o.prototype.needToUpdateVisibleElements=function(s){if(s.length!==this.visibleElements.length)return!0;for(var l=0;l<s.length;l++)if(s[l]!==this.visibleElements[l])return!0;return!1},o.prototype.dispose=function(){a.prototype.dispose.call(this),this.stopLazyRendering()},o.prototype.getRowCss=function(){return(new C.CssClassBuilder).append(this.panel.cssClasses.row).append(this.panel.cssClasses.rowCompact,this.panel.isCompact).append(this.panel.cssClasses.pageRow,this.panel.isPage||!!this.panel.originalPage&&!this.panel.survey.isShowingPreview).append(this.panel.cssClasses.rowMultiple,this.visibleElements.length>1).toString()},o.rowCounter=100,v([Object(G.property)({defaultValue:null})],o.prototype,"dragTypeOverMe",void 0),o}($.Base),d=function(a){function o(s){void 0===s&&(s="");var l=a.call(this,s)||this;return l.isQuestionsReady=!1,l.questionsValue=new Array,l.isRandomizing=!1,l.createNewArray("rows"),l.elementsValue=l.createNewArray("elements",l.onAddElement.bind(l),l.onRemoveElement.bind(l)),l.id=o.getPanelId(),l.addExpressionProperty("visibleIf",function(c,b){l.visible=!0===b},function(c){return!l.areInvisibleElementsShowing}),l.addExpressionProperty("enableIf",function(c,b){l.readOnly=!1===b}),l.addExpressionProperty("requiredIf",function(c,b){l.isRequired=!0===b}),l.createLocalizableString("requiredErrorText",l),l.registerPropertyChangedHandlers(["questionTitleLocation"],function(){l.onVisibleChanged.bind(l),l.updateElementCss(!0)}),l.registerPropertyChangedHandlers(["questionStartIndex","showQuestionNumbers"],function(){l.updateVisibleIndexes()}),l.dragDropPanelHelper=new y.DragDropPanelHelperV1(l),l}return h(o,a),o.getPanelId=function(){return"sp_"+o.panelCounter++},o.prototype.getType=function(){return"panelbase"},o.prototype.setSurveyImpl=function(s,l){a.prototype.setSurveyImpl.call(this,s,l),this.isDesignMode&&this.onVisibleChanged();for(var c=0;c<this.elements.length;c++)this.elements[c].setSurveyImpl(s,l)},o.prototype.endLoadingFromJson=function(){a.prototype.endLoadingFromJson.call(this),this.updateDescriptionVisibility(this.description),this.markQuestionListDirty(),this.onRowsChanged()},Object.defineProperty(o.prototype,"hasTitle",{get:function(){return this.canShowTitle()&&this.locTitle.textOrHtml.length>0||this.isDesignMode&&this.showTitle&&m.settings.designMode.showEmptyTitles},enumerable:!1,configurable:!0}),o.prototype.delete=function(s){void 0===s&&(s=!0),this.removeFromParent(),s&&this.dispose()},o.prototype.removeFromParent=function(){},o.prototype.canShowTitle=function(){return!0},Object.defineProperty(o.prototype,"_showDescription",{get:function(){return!(!this.hasTitle&&this.isDesignMode)&&(this.survey&&this.survey.showPageTitles&&this.hasDescription||this.showDescription&&this.isDesignMode&&m.settings.designMode.showEmptyDescriptions)},enumerable:!1,configurable:!0}),o.prototype.localeChanged=function(){a.prototype.localeChanged.call(this);for(var s=0;s<this.elements.length;s++)this.elements[s].localeChanged()},o.prototype.locStrsChanged=function(){a.prototype.locStrsChanged.call(this);for(var s=0;s<this.elements.length;s++)this.elements[s].locStrsChanged()},Object.defineProperty(o.prototype,"renderedNavigationTitle",{get:function(){return this.title||this.name},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"requiredText",{get:function(){return this.survey&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&"requireNumTitle"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&"numRequireTitle"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&"numTitleRequire"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(s){this.setLocalizableStringText("requiredErrorText",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(s){this.setPropertyValue("questionsOrder",s)},enumerable:!1,configurable:!0}),o.prototype.canRandomize=function(s){return s&&"initial"!==this.questionsOrder||"random"===this.questionsOrder},o.prototype.randomizeElements=function(s){if(this.canRandomize(s)&&!this.isRandomizing){this.isRandomizing=!0;for(var l=[],c=this.elements,b=0;b<c.length;b++)l.push(c[b]);var M=se.Helpers.randomizeArray(l);this.setArrayPropertyDirectly("elements",M,!1),this.updateRows(),this.updateVisibleIndexes(),this.isRandomizing=!1}},Object.defineProperty(o.prototype,"areQuestionsRandomized",{get:function(){return"random"==("default"==this.questionsOrder&&this.survey?this.survey.questionsOrder:this.questionsOrder)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(s){this.setPropertyValue("parent",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"depth",{get:function(){return null==this.parent?0:this.parent.depth+1},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(s){this.setPropertyValue("visibleIf",s)},enumerable:!1,configurable:!0}),o.prototype.calcCssClasses=function(s){var l={panel:{},error:{},row:"",rowMultiple:"",pageRow:"",rowCompact:""};return this.copyCssClasses(l.panel,s.panel),this.copyCssClasses(l.error,s.error),s.pageRow&&(l.pageRow=s.pageRow),s.rowCompact&&(l.rowCompact=s.rowCompact),s.row&&(l.row=s.row),s.rowMultiple&&(l.rowMultiple=s.rowMultiple),this.survey&&this.survey.updatePanelCssClasses(this,l),l},Object.defineProperty(o.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(s){this.setPropertyValue("id",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),o.prototype.getPanel=function(){return this},o.prototype.getLayoutType=function(){return"row"},o.prototype.isLayoutTypeSupported=function(s){return"flow"!==s},Object.defineProperty(o.prototype,"questions",{get:function(){if(!this.isQuestionsReady){this.questionsValue=[];for(var s=0;s<this.elements.length;s++){var l=this.elements[s];if(l.isPanel)for(var c=l.questions,b=0;b<c.length;b++)this.questionsValue.push(c[b]);else this.questionsValue.push(l)}this.isQuestionsReady=!0}return this.questionsValue},enumerable:!1,configurable:!0}),o.prototype.getQuestions=function(s){var l=this.questions;if(!s)return l;var c=[];return l.forEach(function(b){c.push(b),b.getNestedQuestions().forEach(function(M){return c.push(M)})}),c},o.prototype.getValidName=function(s){return s&&s.trim()},o.prototype.getQuestionByName=function(s){for(var l=this.questions,c=0;c<l.length;c++)if(l[c].name==s)return l[c];return null},o.prototype.getElementByName=function(s){for(var l=this.elements,c=0;c<l.length;c++){var b=l[c];if(b.name==s)return b;var M=b.getPanel();if(M){var D=M.getElementByName(s);if(D)return D}}return null},o.prototype.getQuestionByValueName=function(s){for(var l=this.questions,c=0;c<l.length;c++)if(l[c].getValueName()==s)return l[c];return null},o.prototype.getValue=function(){var s={};return this.collectValues(s,0),s},o.prototype.collectValues=function(s,l){var c=this.elements;0===l&&(c=this.questions);for(var M=0;M<c.length;M++){var D=c[M];if(D.isPanel||D.isPage){var g={};D.collectValues(g,l-1)&&(s[D.name]=g)}else{var P=D;if(!P.isEmpty()){var A=P.getValueName();if(s[A]=P.value,this.data){var k=this.data.getComment(A);k&&(s[A+$.Base.commentSuffix]=k)}}}}return!0},o.prototype.getDisplayValue=function(s){for(var l={},c=this.questions,b=0;b<c.length;b++){var M=c[b];M.isEmpty()||(l[s?M.title:M.getValueName()]=M.getDisplayValue(s))}return l},o.prototype.getComments=function(){var s={};if(!this.data)return s;for(var l=this.questions,c=0;c<l.length;c++){var b=l[c],M=this.data.getComment(b.getValueName());M&&(s[b.getValueName()]=M)}return s},o.prototype.clearIncorrectValues=function(){for(var s=0;s<this.elements.length;s++)this.elements[s].clearIncorrectValues()},o.prototype.clearErrors=function(){for(var s=0;s<this.elements.length;s++)this.elements[s].clearErrors();this.errors=[]},o.prototype.markQuestionListDirty=function(){this.isQuestionsReady=!1,this.parent&&this.parent.markQuestionListDirty()},Object.defineProperty(o.prototype,"elements",{get:function(){return this.elementsValue},enumerable:!1,configurable:!0}),o.prototype.getElementsInDesign=function(s){return void 0===s&&(s=!1),this.elements},o.prototype.containsElement=function(s){for(var l=0;l<this.elements.length;l++){var c=this.elements[l];if(c==s)return!0;var b=c.getPanel();if(b&&b.containsElement(s))return!0}return!1},Object.defineProperty(o.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(s){this.setPropertyValue("isRequired",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(s){this.setPropertyValue("requiredIf",s)},enumerable:!1,configurable:!0}),o.prototype.searchText=function(s,l){a.prototype.searchText.call(this,s,l);for(var c=0;c<this.elements.length;c++)this.elements[c].searchText(s,l)},o.prototype.hasErrors=function(s,l,c){return void 0===s&&(s=!0),void 0===l&&(l=!1),void 0===c&&(c=null),!this.validate(s,l,c)},o.prototype.validate=function(s,l,c){return void 0===s&&(s=!0),void 0===l&&(l=!1),void 0===c&&(c=null),!0!==(c=c||{fireCallback:s,focuseOnFirstError:l,firstErrorQuestion:null,result:!1}).result&&(c.result=!1),this.hasErrorsCore(c),c.firstErrorQuestion&&c.firstErrorQuestion.focus(!0),!c.result},o.prototype.validateContainerOnly=function(){this.hasErrorsInPanels({fireCallback:!0}),this.parent&&this.parent.validateContainerOnly()},o.prototype.hasErrorsInPanels=function(s){var l=[];if(this.hasRequiredError(s,l),this.survey){var c=this.survey.validatePanel(this);c&&(l.push(c),s.result=!0)}s.fireCallback&&(this.survey&&this.survey.beforeSettingPanelErrors(this,l),this.errors=l)},o.prototype.getErrorCustomText=function(s,l){return this.survey?this.survey.getSurveyErrorCustomText(this,s,l):s},o.prototype.hasRequiredError=function(s,l){if(this.isRequired){var c=[];if(this.addQuestionsToList(c,!0),0!=c.length){for(var b=0;b<c.length;b++)if(!c[b].isEmpty())return;s.result=!0,l.push(new L.OneAnswerRequiredError(this.requiredErrorText,this)),s.focuseOnFirstError&&!s.firstErrorQuestion&&(s.firstErrorQuestion=c[0])}}},o.prototype.hasErrorsCore=function(s){for(var l=this.elements,c=null,b=0;b<l.length;b++)if((c=l[b]).isVisible)if(c.isPanel)c.hasErrorsCore(s);else{var M=c;M.validate(s.fireCallback,s)||(s.focuseOnFirstError&&null==s.firstErrorQuestion&&(s.firstErrorQuestion=M),s.result=!0)}this.hasErrorsInPanels(s),this.updateContainsErrors()},o.prototype.getContainsErrors=function(){var s=a.prototype.getContainsErrors.call(this);if(s)return s;for(var l=this.elements,c=0;c<l.length;c++)if(l[c].containsErrors)return!0;return!1},o.prototype.updateElementVisibility=function(){for(var s=0;s<this.elements.length;s++){var l=this.elements[s];l.setPropertyValue("isVisible",l.isVisible),l.isPanel&&l.updateElementVisibility()}},o.prototype.getFirstQuestionToFocus=function(s,l){if(void 0===s&&(s=!1),void 0===l&&(l=!1),!s&&!l&&this.isCollapsed)return null;for(var c=this.elements,b=0;b<c.length;b++){var M=c[b];if(M.isVisible&&(l||!M.isCollapsed))if(M.isPanel){var D=M.getFirstQuestionToFocus(s,l);if(D)return D}else{var g=M.getFirstQuestionToFocus(s);if(g)return g}}return null},o.prototype.focusFirstQuestion=function(){var s=this.getFirstQuestionToFocus();s&&s.focus()},o.prototype.focusFirstErrorQuestion=function(){var s=this.getFirstQuestionToFocus(!0);s&&s.focus()},o.prototype.addQuestionsToList=function(s,l,c){void 0===l&&(l=!1),void 0===c&&(c=!1),this.addElementsToList(s,l,c,!1)},o.prototype.addPanelsIntoList=function(s,l,c){void 0===l&&(l=!1),void 0===c&&(c=!1),this.addElementsToList(s,l,c,!0)},o.prototype.addElementsToList=function(s,l,c,b){l&&!this.visible||this.addElementsToListCore(s,this.elements,l,c,b)},o.prototype.addElementsToListCore=function(s,l,c,b,M){for(var D=0;D<l.length;D++){var g=l[D];c&&!g.visible||((M&&g.isPanel||!M&&!g.isPanel)&&s.push(g),g.isPanel?g.addElementsToListCore(s,g.elements,c,b,M):b&&this.addElementsToListCore(s,g.getElementsInDesign(!1),c,b,M))}},o.prototype.updateCustomWidgets=function(){for(var s=0;s<this.elements.length;s++)this.elements[s].updateCustomWidgets()},Object.defineProperty(o.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(s){this.setPropertyValue("questionTitleLocation",s.toLowerCase())},enumerable:!1,configurable:!0}),o.prototype.getQuestionTitleLocation=function(){return this.onGetQuestionTitleLocation?this.onGetQuestionTitleLocation():"default"!=this.questionTitleLocation?this.questionTitleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},o.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},o.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},o.prototype.getChildrenLayoutType=function(){return"row"},o.prototype.getProgressInfo=function(){return w.SurveyElement.getProgressInfoByElements(this.elements,this.isRequired)},Object.defineProperty(o.prototype,"root",{get:function(){for(var s=this;s.parent;)s=s.parent;return s},enumerable:!1,configurable:!0}),o.prototype.childVisibilityChanged=function(){this.getIsPageVisible(null)!==this.getPropertyValue("isVisible",!0)&&this.onVisibleChanged()},o.prototype.createRowAndSetLazy=function(s){var l=this.createRow();return l.setIsLazyRendering(this.isLazyRenderInRow(s)),l},o.prototype.createRow=function(){return new f(this)},o.prototype.onSurveyLoad=function(){for(var s=0;s<this.elements.length;s++)this.elements[s].onSurveyLoad();this.onElementVisibilityChanged(this)},o.prototype.onFirstRendering=function(){a.prototype.onFirstRendering.call(this);for(var s=0;s<this.elements.length;s++)this.elements[s].onFirstRendering();this.onRowsChanged()},o.prototype.updateRows=function(){if(!this.isLoadingFromJson){for(var s=0;s<this.elements.length;s++)this.elements[s].isPanel&&this.elements[s].updateRows();this.onRowsChanged()}},Object.defineProperty(o.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},enumerable:!1,configurable:!0}),o.prototype.ensureRowsVisibility=function(){this.rows.forEach(function(s){s.ensureVisibility()})},o.prototype.onRowsChanged=function(){this.isLoadingFromJson||this.setArrayPropertyDirectly("rows",this.buildRows())},o.prototype.onAddElement=function(s,l){var c=this;if(s.setSurveyImpl(this.surveyImpl),s.parent=this,this.markQuestionListDirty(),this.canBuildRows()){var b=m.settings.supportCreatorV2?this.getDragDropInfo():void 0;this.dragDropPanelHelper.updateRowsOnElementAdded(s,l,b,this)}s.isPanel?this.survey&&this.survey.panelAdded(s,l,this,this.root):this.survey&&this.survey.questionAdded(s,l,this,this.root),this.addElementCallback&&this.addElementCallback(s),s.registerPropertyChangedHandlers(["visible","isVisible"],function(){c.onElementVisibilityChanged(s)},this.id),s.registerPropertyChangedHandlers(["startWithNewLine"],function(){c.onElementStartWithNewLineChanged(s)},this.id),this.onElementVisibilityChanged(this)},o.prototype.onRemoveElement=function(s){s.parent=null,this.markQuestionListDirty(),s.unregisterPropertyChangedHandlers(["visible","isVisible","startWithNewLine"],this.id),this.updateRowsOnElementRemoved(s),!this.isRandomizing&&(s.isPanel?this.survey&&this.survey.panelRemoved(s):this.survey&&this.survey.questionRemoved(s),this.removeElementCallback&&this.removeElementCallback(s),this.onElementVisibilityChanged(this))},o.prototype.onElementVisibilityChanged=function(s){this.isLoadingFromJson||this.isRandomizing||(this.updateRowsVisibility(s),this.childVisibilityChanged(),this.parent&&this.parent.onElementVisibilityChanged(this))},o.prototype.onElementStartWithNewLineChanged=function(s){this.onRowsChanged()},o.prototype.updateRowsVisibility=function(s){for(var l=this.rows,c=0;c<l.length;c++){var b=l[c];if(b.elements.indexOf(s)>-1){b.updateVisible(),b.visible&&!b.isNeedRender&&(b.isNeedRender=!0);break}}},o.prototype.canBuildRows=function(){return!this.isLoadingFromJson&&"row"==this.getChildrenLayoutType()},o.prototype.buildRows=function(){if(!this.canBuildRows())return[];for(var s=new Array,l=0;l<this.elements.length;l++){var c=this.elements[l],b=0==l||c.startWithNewLine,M=b?this.createRowAndSetLazy(s.length):s[s.length-1];b&&s.push(M),M.addElement(c)}for(l=0;l<s.length;l++)s[l].updateVisible();return s},o.prototype.isLazyRenderInRow=function(s){return!(!this.survey||!this.survey.isLazyRendering)&&(s>=this.survey.lazyRenderingFirstBatchSize||!this.canRenderFirstRows())},o.prototype.canRenderFirstRows=function(){return this.isPage},o.prototype.getDragDropInfo=function(){var s=this.getPage(this.parent);return s?s.getDragDropInfo():void 0},o.prototype.updateRowsOnElementRemoved=function(s){!this.canBuildRows()||this.updateRowsRemoveElementFromRow(s,this.findRowByElement(s))},o.prototype.updateRowsRemoveElementFromRow=function(s,l){if(l&&l.panel){var c=l.elements.indexOf(s);c<0||(l.elements.splice(c,1),l.elements.length>0?(l.elements[0].startWithNewLine=!0,l.updateVisible()):l.index>=0&&l.panel.rows.splice(l.index,1))}},o.prototype.findRowByElement=function(s){for(var l=this.rows,c=0;c<l.length;c++)if(l[c].elements.indexOf(s)>-1)return l[c];return null},o.prototype.elementWidthChanged=function(s){if(!this.isLoadingFromJson){var l=this.findRowByElement(s);l&&l.updateVisible()}},Object.defineProperty(o.prototype,"processedTitle",{get:function(){return this.getRenderedTitle(this.locTitle.textOrHtml)},enumerable:!1,configurable:!0}),o.prototype.getRenderedTitle=function(s){return null!=this.textProcessor?this.textProcessor.processText(s,!0):s},Object.defineProperty(o.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(s){s!==this.visible&&(this.setPropertyValue("visible",s),this.setPropertyValue("isVisible",this.isVisible),this.isLoadingFromJson||this.onVisibleChanged())},enumerable:!1,configurable:!0}),o.prototype.onHidingContent=function(){this.questions.forEach(function(s){return s.onHidingContent()})},o.prototype.onVisibleChanged=function(){if(!this.isRandomizing&&(this.setPropertyValue("isVisible",this.isVisible),this.survey&&"none"!==this.survey.getQuestionClearIfInvisible("default")&&!this.isLoadingFromJson))for(var s=this.questions,l=this.isVisible,c=0;c<s.length;c++){var b=s[c];l?b.updateValueWithDefaults():(b.clearValueIfInvisible("onHiddenContainer"),b.onHidingContent())}},o.prototype.notifyStateChanged=function(s){var l=this;if(a.prototype.notifyStateChanged.call(this,s),this.isCollapsed&&this.questions.forEach(function(b){return b.onHidingContent()}),null!=this.survey&&!this.isLoadingFromJson&&this.isExpanded&&"collapsed"===s){var c=this.getFirstQuestionToFocus(!1);c&&setTimeout(function(){!l.isDisposed&&l.survey&&l.survey.scrollElementToTop(c,c,null,c.inputId,!1)},15)}},Object.defineProperty(o.prototype,"isVisible",{get:function(){return this.areInvisibleElementsShowing||this.getIsPageVisible(null)},enumerable:!1,configurable:!0}),o.prototype.getIsPageVisible=function(s){if(!this.visible)return!1;for(var l=0;l<this.elements.length;l++)if(this.elements[l]!=s&&this.elements[l].isVisible)return!0;return!1},o.prototype.setVisibleIndex=function(s){if(!this.isVisible||s<0)return this.resetVisibleIndexes(),0;this.lastVisibleIndex=s;var l=s;s+=this.beforeSetVisibleIndex(s);for(var c=this.getPanelStartIndex(s),b=c,M=0;M<this.elements.length;M++)b+=this.elements[M].setVisibleIndex(b);return this.isContinueNumbering()&&(s+=b-c),s-l},o.prototype.updateVisibleIndexes=function(){void 0!==this.lastVisibleIndex&&(this.resetVisibleIndexes(),this.setVisibleIndex(this.lastVisibleIndex))},o.prototype.resetVisibleIndexes=function(){for(var s=0;s<this.elements.length;s++)this.elements[s].setVisibleIndex(-1)},o.prototype.beforeSetVisibleIndex=function(s){return 0},o.prototype.getPanelStartIndex=function(s){return s},o.prototype.isContinueNumbering=function(){return!0},Object.defineProperty(o.prototype,"isReadOnly",{get:function(){return this.readOnly||!!this.parent&&this.parent.isReadOnly||!!this.survey&&this.survey.isDisplayMode},enumerable:!1,configurable:!0}),o.prototype.onReadOnlyChanged=function(){for(var s=0;s<this.elements.length;s++){var l=this.elements[s];l.setPropertyValue("isReadOnly",l.isReadOnly)}a.prototype.onReadOnlyChanged.call(this)},o.prototype.updateElementCss=function(s){a.prototype.updateElementCss.call(this,s);for(var l=0;l<this.elements.length;l++)this.elements[l].updateElementCss(s)},Object.defineProperty(o.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(s){this.setPropertyValue("enableIf",s)},enumerable:!1,configurable:!0}),o.prototype.addElement=function(s,l){return void 0===l&&(l=-1),!!this.canAddElement(s)&&(l<0||l>=this.elements.length?this.elements.push(s):this.elements.splice(l,0,s),this.wasRendered&&s.onFirstRendering(),!0)},o.prototype.insertElementAfter=function(s,l){var c=this.elements.indexOf(l);c>=0&&this.addElement(s,c+1)},o.prototype.insertElementBefore=function(s,l){var c=this.elements.indexOf(l);c>=0&&this.addElement(s,c)},o.prototype.canAddElement=function(s){return!!s&&s.isLayoutTypeSupported(this.getChildrenLayoutType())},o.prototype.addQuestion=function(s,l){return void 0===l&&(l=-1),this.addElement(s,l)},o.prototype.addPanel=function(s,l){return void 0===l&&(l=-1),this.addElement(s,l)},o.prototype.addNewQuestion=function(s,l,c){void 0===l&&(l=null),void 0===c&&(c=-1);var b=R.QuestionFactory.Instance.createQuestion(s,l);return this.addQuestion(b,c)?b:null},o.prototype.addNewPanel=function(s){void 0===s&&(s=null);var l=this.createNewPanel(s);return this.addPanel(l)?l:null},o.prototype.indexOf=function(s){return this.elements.indexOf(s)},o.prototype.createNewPanel=function(s){var l=G.Serializer.createClass("panel");return l.name=s,l},o.prototype.removeElement=function(s){var l=this.elements.indexOf(s);if(l<0){for(var c=0;c<this.elements.length;c++)if(this.elements[c].removeElement(s))return!0;return!1}return this.elements.splice(l,1),!0},o.prototype.removeQuestion=function(s){this.removeElement(s)},o.prototype.runCondition=function(s,l){if(!this.isDesignMode&&!this.isLoadingFromJson){for(var c=this.elements.slice(),b=0;b<c.length;b++)c[b].runCondition(s,l);this.runConditionCore(s,l)}},o.prototype.onAnyValueChanged=function(s,l){for(var c=this.elements,b=0;b<c.length;b++)c[b].onAnyValueChanged(s,l)},o.prototype.checkBindings=function(s,l){for(var c=this.elements,b=0;b<c.length;b++)c[b].checkBindings(s,l)},o.prototype.dragDropAddTarget=function(s){this.dragDropPanelHelper.dragDropAddTarget(s)},o.prototype.dragDropFindRow=function(s){return this.dragDropPanelHelper.dragDropFindRow(s)},o.prototype.dragDropMoveElement=function(s,l,c){this.dragDropPanelHelper.dragDropMoveElement(s,l,c)},o.prototype.needResponsiveWidth=function(){var s=!1;return this.elements.forEach(function(l){l.needResponsiveWidth()&&(s=!0)}),this.rows.forEach(function(l){l.elements.length>1&&(s=!0)}),s},Object.defineProperty(o.prototype,"hasDescriptionUnderTitle",{get:function(){return this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"cssHeader",{get:function(){return this.cssClasses.panel.header},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"cssDescription",{get:function(){return this.cssClasses.panel.description},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"questionErrorLocation",{get:function(){return this.getPropertyValue("questionErrorLocation")},set:function(s){this.setPropertyValue("questionErrorLocation",s)},enumerable:!1,configurable:!0}),o.prototype.getQuestionErrorLocation=function(){return"default"!==this.questionErrorLocation?this.questionErrorLocation:this.parent?this.parent.getQuestionErrorLocation():this.survey?this.survey.questionErrorLocation:"top"},Object.defineProperty(o.prototype,"no",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"cssError",{get:function(){return this.getCssError(this.cssClasses)},enumerable:!1,configurable:!0}),o.prototype.getCssError=function(s){return(new C.CssClassBuilder).append(s.error.root).toString()},o.prototype.dispose=function(){if(a.prototype.dispose.call(this),this.rows){for(var s=0;s<this.rows.length;s++)this.rows[s].dispose();this.rows.splice(0,this.rows.length)}for(s=0;s<this.elements.length;s++)this.elements[s].dispose();this.elements.splice(0,this.elements.length)},o.panelCounter=100,v([Object(G.property)({defaultValue:!0})],o.prototype,"showTitle",void 0),v([Object(G.property)({defaultValue:!0})],o.prototype,"showDescription",void 0),o}(w.SurveyElement),u=function(a){function o(s){void 0===s&&(s="");var l=a.call(this,s)||this;return l.createNewArray("footerActions"),l.registerPropertyChangedHandlers(["width"],function(){l.parent&&l.parent.elementWidthChanged(l)}),l.registerPropertyChangedHandlers(["indent","innerIndent","rightIndent"],function(){l.onIndentChanged()}),l}return h(o,a),o.prototype.getType=function(){return"panel"},Object.defineProperty(o.prototype,"contentId",{get:function(){return this.id+"_content"},enumerable:!1,configurable:!0}),o.prototype.getSurvey=function(s){return void 0===s&&(s=!1),s?this.parent?this.parent.getSurvey(s):null:a.prototype.getSurvey.call(this,s)},o.prototype.onSurveyLoad=function(){a.prototype.onSurveyLoad.call(this),this.onIndentChanged()},o.prototype.onSetData=function(){a.prototype.onSetData.call(this),this.onIndentChanged()},Object.defineProperty(o.prototype,"isPanel",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"page",{get:function(){return this.getPage(this.parent)},set:function(s){this.setPage(this.parent,s)},enumerable:!1,configurable:!0}),o.prototype.removeFromParent=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},o.prototype.moveTo=function(s,l){return void 0===l&&(l=null),this.moveToBase(this.parent,s,l)},Object.defineProperty(o.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),o.prototype.getTitleOwner=function(){return this},Object.defineProperty(o.prototype,"showNumber",{get:function(){return this.getPropertyValue("showNumber")},set:function(s){this.setPropertyValue("showNumber",s),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(s){this.setPropertyValue("showQuestionNumbers",s),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(s){this.setPropertyValue("questionStartIndex",s)},enumerable:!1,configurable:!0}),o.prototype.getQuestionStartIndex=function(){return this.questionStartIndex?this.questionStartIndex:a.prototype.getQuestionStartIndex.call(this)},Object.defineProperty(o.prototype,"no",{get:function(){return this.getPropertyValue("no","")},enumerable:!1,configurable:!0}),o.prototype.setNo=function(s){this.setPropertyValue("no",se.Helpers.getNumberByIndex(this.visibleIndex,this.getStartIndex()))},o.prototype.notifyStateChanged=function(s){this.isLoadingFromJson||this.locTitle.strChanged(),a.prototype.notifyStateChanged.call(this,s)},o.prototype.createLocTitleProperty=function(){var s=this,l=a.prototype.createLocTitleProperty.call(this);return l.onGetTextCallback=function(c){return!c&&"default"!==s.state&&(c=s.name),c},l},o.prototype.beforeSetVisibleIndex=function(s){var l=-1;return this.showNumber&&(this.isDesignMode||!this.locTitle.isEmpty)&&(l=s),this.setPropertyValue("visibleIndex",l),this.setNo(l),l<0?0:1},o.prototype.getPanelStartIndex=function(s){return"off"==this.showQuestionNumbers?-1:"onpanel"==this.showQuestionNumbers?0:s},o.prototype.isContinueNumbering=function(){return"off"!=this.showQuestionNumbers&&"onpanel"!=this.showQuestionNumbers},o.prototype.notifySurveyOnVisibilityChanged=function(){null!=this.survey&&!this.isLoadingFromJson&&this.survey.panelVisibilityChanged(this,this.isVisible)},o.prototype.hasErrorsCore=function(s){a.prototype.hasErrorsCore.call(this,s),this.isCollapsed&&s.result&&s.fireCallback&&this.expand()},o.prototype.getRenderedTitle=function(s){if(!s){if(this.isCollapsed||this.isExpanded)return this.name;if(this.isDesignMode)return"["+this.name+"]"}return a.prototype.getRenderedTitle.call(this,s)},Object.defineProperty(o.prototype,"innerIndent",{get:function(){return this.getPropertyValue("innerIndent")},set:function(s){this.setPropertyValue("innerIndent",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(s){this.setPropertyValue("startWithNewLine",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(s){this.setPropertyValue("allowAdaptiveActions",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"innerPaddingLeft",{get:function(){return this.getPropertyValue("innerPaddingLeft","")},set:function(s){this.setPropertyValue("innerPaddingLeft",s)},enumerable:!1,configurable:!0}),o.prototype.onIndentChanged=function(){!this.getSurvey()||(this.innerPaddingLeft=this.getIndentSize(this.innerIndent),this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent))},o.prototype.getIndentSize=function(s){if(s<1)return"";var l=this.survey.css;return l&&l.question.indent?s*l.question.indent+"px":""},o.prototype.clearOnDeletingContainer=function(){this.elements.forEach(function(s){(s instanceof F.Question||s instanceof o)&&s.clearOnDeletingContainer()})},Object.defineProperty(o.prototype,"footerActions",{get:function(){return this.getPropertyValue("footerActions")},enumerable:!1,configurable:!0}),o.prototype.getFooterToolbar=function(){var l,c,s=this;if(!this.footerToolbarValue){var b=this.footerActions;this.hasEditButton&&b.push({id:"cancel-preview",locTitle:this.survey.locEditText,innerCss:this.survey.cssNavigationEdit,action:function(){s.cancelPreview()}}),b=this.onGetFooterActionsCallback?this.onGetFooterActionsCallback():null===(l=this.survey)||void 0===l?void 0:l.getUpdatedPanelFooterActions(this,b),this.footerToolbarValue=this.createActionContainer(this.allowAdaptiveActions);var M=this.onGetFooterToolbarCssCallback?this.onGetFooterToolbarCssCallback():"";M||(M=null===(c=this.cssClasses.panel)||void 0===c?void 0:c.footer),M&&(this.footerToolbarValue.containerCss=M),this.footerToolbarValue.setItems(b)}return this.footerToolbarValue},Object.defineProperty(o.prototype,"hasEditButton",{get:function(){return!(!this.survey||"preview"!==this.survey.state)&&1===this.depth},enumerable:!1,configurable:!0}),o.prototype.cancelPreview=function(){!this.hasEditButton||this.survey.cancelPreviewByPage(this)},Object.defineProperty(o.prototype,"cssTitle",{get:function(){return this.getCssTitle(this.cssClasses.panel)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"showErrorsAbovePanel",{get:function(){return this.isDefaultV2Theme&&!this.showPanelAsPage},enumerable:!1,configurable:!0}),o.prototype.getCssError=function(s){var l=(new C.CssClassBuilder).append(a.prototype.getCssError.call(this,s)).append(s.panel.errorsContainer);return l.append("panel-error-root",l.isEmpty()).toString()},o.prototype.onVisibleChanged=function(){a.prototype.onVisibleChanged.call(this),this.notifySurveyOnVisibilityChanged()},o.prototype.needResponsiveWidth=function(){return!this.startWithNewLine||a.prototype.needResponsiveWidth.call(this)},o.prototype.focusIn=function(){!this.survey||this.survey.whenPanelFocusIn(this)},o.prototype.getHasFrameV2=function(){return a.prototype.getHasFrameV2.call(this)&&!this.showPanelAsPage},o.prototype.getIsNested=function(){return a.prototype.getIsNested.call(this)&&void 0!==this.parent},Object.defineProperty(o.prototype,"showPanelAsPage",{get:function(){return!!this.originalPage&&!this.survey.isShowingPreview},enumerable:!1,configurable:!0}),o.prototype.getCssRoot=function(s){return(new C.CssClassBuilder).append(a.prototype.getCssRoot.call(this,s)).append(s.container).append(s.asPage,this.showPanelAsPage).append(s.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},o.prototype.getContainerCss=function(){return this.getCssRoot(this.cssClasses.panel)},o}(d);G.Serializer.addClass("panelbase",["name",{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"readOnly:boolean",overridingProperty:"enableIf"},"visibleIf:condition","enableIf:condition","requiredIf:condition",{name:"questionTitleLocation",default:"default",choices:["default","top","bottom","left","hidden"]},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"},{name:"questionsOrder",default:"default",choices:["default","initial","random"]},{name:"questionErrorLocation",default:"default",choices:["default","top","bottom"]}],function(){return new d}),G.Serializer.addClass("panel",[{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"startWithNewLine:boolean",default:!0},"width",{name:"minWidth",defaultFunc:function(){return"auto"}},{name:"maxWidth",defaultFunc:function(){return m.settings.maxWidth}},{name:"innerIndent:number",default:0,choices:[0,1,2,3]},{name:"indent:number",default:0,choices:[0,1,2,3]},{name:"page",isSerializable:!1,visibleIf:function(a){var o=a?a.survey:null;return!o||!o.pages||o.pages.length>1},choices:function(a){var o=a?a.survey:null;return o?o.pages.map(function(s){return{value:s.name,text:s.title}}):[]}},"showNumber:boolean",{name:"showQuestionNumbers",default:"default",choices:["default","onpanel","off"]},"questionStartIndex",{name:"allowAdaptiveActions:boolean",default:!0,visible:!1}],function(){return new u},"panelbase"),R.ElementFactory.Instance.registerElement("panel",function(a){return new u(a)})},"./src/popup-dropdown-view-model.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"PopupDropdownViewModel",function(){return T});var C,G=x("./src/jsonobject.ts"),se=x("./src/utils/popup.ts"),$=x("./src/popup-view-model.ts"),w=x("./src/utils/devices.ts"),F=x("./src/settings.ts"),R=x("./src/survey.ts"),L=(C=function(y,h){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(v[d]=f[d])})(y,h)},function(y,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function v(){this.constructor=y}C(y,h),y.prototype=null===h?Object.create(h):(v.prototype=h.prototype,new v)}),m=function(C,y,h,v){var u,f=arguments.length,d=f<3?y:null===v?v=Object.getOwnPropertyDescriptor(y,h):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(C,y,h,v);else for(var a=C.length-1;a>=0;a--)(u=C[a])&&(d=(f<3?u(d):f>3?u(y,h,d):u(y,h))||d);return f>3&&d&&Object.defineProperty(y,h,d),d},T=function(C){function y(h,v){var f=C.call(this,h)||this;return f.targetElement=v,f.scrollEventCallBack=function(d){if(f.isOverlay&&w.IsTouch)return d.stopPropagation(),void d.preventDefault();f.hidePopup()},f.resizeEventCallback=function(){var d=window.visualViewport;document.documentElement.style.setProperty("--sv-popup-overlay-height",d.height*d.scale+"px")},f.resizeWindowCallback=function(){f.isOverlay||f.updatePosition(!0,"vue"===R.SurveyModel.platform||"vue3"===R.SurveyModel.platform||"react"==R.SurveyModel.platform)},f.clientY=0,f.isTablet=!1,f.touchStartEventCallback=function(d){f.clientY=d.touches[0].clientY},f.touchMoveEventCallback=function(d){f.preventScrollOuside(d,f.clientY-d.changedTouches[0].clientY)},f.model.onRecalculatePosition.add(f.recalculatePositionHandler),f}return L(y,C),y.prototype.calculateIsTablet=function(h,v){var f=Math.min(h,v);this.isTablet=f>=y.tabletSizeBreakpoint},y.prototype._updatePosition=function(){var h,v,f;if(this.targetElement){var d=this.targetElement.getBoundingClientRect(),u=null===(h=this.container)||void 0===h?void 0:h.querySelector(this.containerSelector);if(u){var a=null===(v=this.container)||void 0===v?void 0:v.querySelector(this.fixedPopupContainer),o=u.querySelector(this.scrollingContentSelector),s=window.getComputedStyle(u),l=parseFloat(s.marginLeft)||0,c=parseFloat(s.marginRight)||0,b=u.offsetHeight-o.offsetHeight+o.scrollHeight,M=u.getBoundingClientRect().width;this.model.setWidthByTarget&&(this.minWidth=d.width+"px");var D=this.model.verticalPosition,g=this.getActualHorizontalPosition();if(window){var P=[b,.9*window.innerHeight,null===(f=window.visualViewport)||void 0===f?void 0:f.height];b=Math.ceil(Math.min.apply(Math,P.filter(function(H){return"number"==typeof H}))),D=se.PopupUtils.updateVerticalPosition(d,b,this.model.verticalPosition,this.model.showPointer,window.innerHeight)}this.popupDirection=se.PopupUtils.calculatePopupDirection(D,g);var A=se.PopupUtils.calculatePosition(d,b,M+l+c,D,g,this.showHeader,this.model.positionMode);if(window){var k=se.PopupUtils.getCorrectedVerticalDimensions(A.top,b,window.innerHeight,D);if(k&&(this.height=k.height+"px",A.top=k.top),this.model.setWidthByTarget)this.width=d.width+"px",A.left=d.left;else{var Z=se.PopupUtils.updateHorizontalDimensions(A.left,M,window.innerWidth,g,this.model.positionMode,{left:l,right:c});Z&&(this.width=Z.width?Z.width+"px":void 0,A.left=Z.left)}}if(a){var re=a.getBoundingClientRect();A.top-=re.top,A.left-=re.left}this.left=A.left+"px",this.top=A.top+"px",this.showHeader&&(this.pointerTarget=se.PopupUtils.calculatePointerTarget(d,A.top,A.left,D,g,l,c),this.pointerTarget.top+="px",this.pointerTarget.left+="px")}}},y.prototype.getActualHorizontalPosition=function(){var h=this.model.horizontalPosition;return!!document&&"rtl"==document.defaultView.getComputedStyle(document.body).direction&&("left"===this.model.horizontalPosition?h="right":"right"===this.model.horizontalPosition&&(h="left")),h},y.prototype.getStyleClass=function(){return C.prototype.getStyleClass.call(this).append("sv-popup--dropdown",!this.isOverlay).append("sv-popup--dropdown-overlay",this.isOverlay&&"overlay"!==this.model.overlayDisplayMode).append("sv-popup--tablet",this.isTablet&&this.isOverlay).append("sv-popup--show-pointer",!this.isOverlay&&this.showHeader).append("sv-popup--"+this.popupDirection,!this.isOverlay&&this.showHeader)},y.prototype.getShowHeader=function(){return this.model.showPointer&&!this.isOverlay},y.prototype.getPopupHeaderTemplate=function(){return"popup-pointer"},y.prototype.setComponentElement=function(h,v){C.prototype.setComponentElement.call(this,h),h&&h.parentElement&&!this.isModal&&(this.targetElement=v||h.parentElement)},y.prototype.resetComponentElement=function(){C.prototype.resetComponentElement.call(this),this.targetElement=void 0},y.prototype.updateOnShowing=function(){this.prevActiveElement=F.settings.environment.root.activeElement,this.isOverlay?this.resetDimensionsAndPositionStyleProperties():this.updatePosition(!0,!1),this.switchFocus(),window.addEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(window.visualViewport.addEventListener("resize",this.resizeEventCallback),this.container&&(this.container.addEventListener("touchstart",this.touchStartEventCallback),this.container.addEventListener("touchmove",this.touchMoveEventCallback)),this.calculateIsTablet(window.innerWidth,window.innerHeight),this.resizeEventCallback()),window.addEventListener("scroll",this.scrollEventCallBack)},Object.defineProperty(y.prototype,"shouldCreateResizeCallback",{get:function(){return!!window.visualViewport&&this.isOverlay&&w.IsTouch},enumerable:!1,configurable:!0}),y.prototype.updatePosition=function(h,v){var f=this;void 0===v&&(v=!0),h&&(this.height="auto"),v?setTimeout(function(){f._updatePosition()},1):this._updatePosition()},y.prototype.updateOnHiding=function(){C.prototype.updateOnHiding.call(this),window.removeEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(window.visualViewport.removeEventListener("resize",this.resizeEventCallback),this.container&&(this.container.removeEventListener("touchstart",this.touchStartEventCallback),this.container.removeEventListener("touchmove",this.touchMoveEventCallback))),window.removeEventListener("scroll",this.scrollEventCallBack),this.isDisposed||(this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.minWidth=void 0)},y.prototype.onModelChanging=function(h){var v=this;this.model&&this.model.onRecalculatePosition.remove(this.recalculatePositionHandler),this.recalculatePositionHandler||(this.recalculatePositionHandler=function(f,d){v.isOverlay||v.updatePosition(d.isResetHeight)}),C.prototype.onModelChanging.call(this,h),h.onRecalculatePosition.add(this.recalculatePositionHandler)},y.prototype.dispose=function(){C.prototype.dispose.call(this),this.updateOnHiding(),this.model&&(this.model.onRecalculatePosition.remove(this.recalculatePositionHandler),this.recalculatePositionHandler=void 0),this.resetComponentElement()},y.tabletSizeBreakpoint=600,m([Object(G.property)()],y.prototype,"isTablet",void 0),m([Object(G.property)({defaultValue:"left"})],y.prototype,"popupDirection",void 0),m([Object(G.property)({defaultValue:{left:"0px",top:"0px"}})],y.prototype,"pointerTarget",void 0),y}($.PopupBaseViewModel)},"./src/popup-modal-view-model.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"PopupModalViewModel",function(){return $});var w,G=x("./src/popup-view-model.ts"),se=(w=function(F,R){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,m){L.__proto__=m}||function(L,m){for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(L[T]=m[T])})(F,R)},function(F,R){if("function"!=typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function L(){this.constructor=F}w(F,R),F.prototype=null===R?Object.create(R):(L.prototype=R.prototype,new L)}),$=function(w){function F(R){var L=w.call(this,R)||this;return L.onScrollOutsideCallback=function(m){L.preventScrollOuside(m,m.deltaY)},L}return se(F,w),F.prototype.getStyleClass=function(){return w.prototype.getStyleClass.call(this).append("sv-popup--modal",!this.isOverlay)},F.prototype.getShowFooter=function(){return!0},F.prototype.createFooterActionBar=function(){var R=this;w.prototype.createFooterActionBar.call(this),this.footerToolbarValue.addAction({id:"apply",visibleIndex:20,title:this.applyButtonText,innerCss:"sv-popup__body-footer-item sv-popup__button sv-popup__button--apply sd-btn sd-btn--action",action:function(){R.apply()}})},Object.defineProperty(F.prototype,"applyButtonText",{get:function(){return this.getLocalizationString("modalApplyButtonText")},enumerable:!1,configurable:!0}),F.prototype.apply=function(){this.model.onApply&&!this.model.onApply()||this.hidePopup()},F.prototype.clickOutside=function(){},F.prototype.onKeyDown=function(R){("Escape"===R.key||27===R.keyCode)&&this.model.onCancel(),w.prototype.onKeyDown.call(this,R)},F.prototype.updateOnShowing=function(){this.container&&this.container.addEventListener("wheel",this.onScrollOutsideCallback,{passive:!1}),w.prototype.updateOnShowing.call(this)},F.prototype.updateOnHiding=function(){this.container&&this.container.removeEventListener("wheel",this.onScrollOutsideCallback),w.prototype.updateOnHiding.call(this)},F}(G.PopupBaseViewModel)},"./src/popup-survey.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"PopupSurveyModel",function(){return R}),x.d(j,"SurveyWindowModel",function(){return L});var m,G=x("./src/base.ts"),se=x("./src/survey.ts"),$=x("./src/jsonobject.ts"),w=(m=function(T,C){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,h){y.__proto__=h}||function(y,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(y[v]=h[v])})(T,C)},function(T,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function y(){this.constructor=T}m(T,C),T.prototype=null===C?Object.create(C):(y.prototype=C.prototype,new y)}),R=function(m){function T(C,y){void 0===y&&(y=null);var h=m.call(this)||this;return h.closeOnCompleteTimeout=0,h.surveyValue=y||h.createSurvey(C),h.surveyValue.fitToContainer=!0,"undefined"!=typeof document&&(h.windowElement=document.createElement("div")),h.survey.onComplete.add(function(v,f){h.onSurveyComplete()}),h.registerPropertyChangedHandlers(["isShowing"],function(){h.showingChangedCallback&&h.showingChangedCallback()}),h.registerPropertyChangedHandlers(["isExpanded"],function(){h.onExpandedChanged()}),h.width=new G.ComputedUpdater(function(){return h.survey.width}),h.width=h.survey.width,h.updateCss(),h.onCreating(),h}return w(T,m),T.prototype.onCreating=function(){},T.prototype.getType=function(){return"popupsurvey"},Object.defineProperty(T.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"isShowing",{get:function(){return this.getPropertyValue("isShowing",!1)},set:function(C){this.setPropertyValue("isShowing",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"isFullScreen",{get:function(){return this.getPropertyValue("isFullScreen",!1)},set:function(C){!this.isExpanded&&!!C&&(this.isExpanded=!0),this.setPropertyValue("isFullScreen",C),this.setCssRoot()},enumerable:!1,configurable:!0}),T.prototype.show=function(){this.isShowing=!0},T.prototype.hide=function(){this.isShowing=!1},T.prototype.toggleFullScreen=function(){this.isFullScreen=!this.isFullScreen},Object.defineProperty(T.prototype,"isExpanded",{get:function(){return this.getPropertyValue("isExpanded",!1)},set:function(C){!!this.isFullScreen&&!C&&(this.isFullScreen=!1),this.setPropertyValue("isExpanded",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"isCollapsed",{get:function(){return!this.isExpanded},enumerable:!1,configurable:!0}),T.prototype.onExpandedChanged=function(){this.expandedChangedCallback&&this.expandedChangedCallback(),this.updateCssButton()},Object.defineProperty(T.prototype,"title",{get:function(){return this.survey.title},set:function(C){this.survey.title=C},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"locTitle",{get:function(){return this.survey.locTitle.isEmpty?null:this.survey.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"locDescription",{get:function(){return this.survey.locTitle.isEmpty?null:this.survey.locDescription},enumerable:!1,configurable:!0}),T.prototype.expand=function(){this.isExpanded=!0},T.prototype.collapse=function(){this.isExpanded=!1},T.prototype.changeExpandCollapse=function(){this.isExpanded=!this.isExpanded},Object.defineProperty(T.prototype,"allowClose",{get:function(){return this.getPropertyValue("allowClose",!1)},set:function(C){this.setPropertyValue("allowClose",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"allowFullScreen",{get:function(){return this.getPropertyValue("allowFullScreen",!1)},set:function(C){this.setPropertyValue("allowFullScreen",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"css",{get:function(){return this.survey.css},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"cssButton",{get:function(){return this.getPropertyValue("cssButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"cssRoot",{get:function(){var C=this.getPropertyValue("cssRoot","");return this.isCollapsed&&(C+=" "+this.getPropertyValue("cssRootCollapsedMod","")),C},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"cssRootCollapsedMod",{get:function(){return this.getPropertyValue("cssRootCollapsedMod")},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"cssRootContent",{get:function(){return this.getPropertyValue("cssRootContent")},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"cssBody",{get:function(){return this.getPropertyValue("cssBody","")},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"cssHeaderRoot",{get:function(){return this.getPropertyValue("cssHeaderRoot","")},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"cssHeaderTitleCollapsed",{get:function(){return this.getPropertyValue("cssHeaderTitleCollapsed","")},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"cssHeaderButtonsContainer",{get:function(){return this.getPropertyValue("cssHeaderButtonsContainer","")},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"cssHeaderCollapseButton",{get:function(){return this.getPropertyValue("cssHeaderCollapseButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"cssHeaderCloseButton",{get:function(){return this.getPropertyValue("cssHeaderCloseButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"cssHeaderFullScreenButton",{get:function(){return this.getPropertyValue("cssHeaderFullScreenButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"renderedWidth",{get:function(){var C=this.getPropertyValue("width","60%");return C&&!isNaN(C)&&(C+="px"),C},enumerable:!1,configurable:!0}),T.prototype.updateCss=function(){if(this.css&&this.css.window){var C=this.css.window;this.setCssRoot(),this.setPropertyValue("cssRootCollapsedMod",C.rootCollapsedMod),this.setPropertyValue("cssRootContent",C.rootContent),this.setPropertyValue("cssBody",C.body);var y=C.header;!y||(this.setPropertyValue("cssHeaderRoot",y.root),this.setPropertyValue("cssHeaderTitleCollapsed",y.titleCollapsed),this.setPropertyValue("cssHeaderButtonsContainer",y.buttonsContainer),this.setPropertyValue("cssHeaderCollapseButton",y.collapseButton),this.setPropertyValue("cssHeaderCloseButton",y.closeButton),this.setPropertyValue("cssHeaderFullScreenButton",y.fullScreenButton),this.updateCssButton())}},T.prototype.setCssRoot=function(){var C=this.css.window;this.setPropertyValue("cssRoot",this.isFullScreen?C.root+" "+C.rootFullScreenMode:C.root)},T.prototype.updateCssButton=function(){var C=this.css.window?this.css.window.header:null;!C||this.setCssButton(this.isExpanded?C.buttonExpanded:C.buttonCollapsed)},T.prototype.setCssButton=function(C){!C||this.setPropertyValue("cssButton",C)},T.prototype.createSurvey=function(C){return new se.SurveyModel(C)},T.prototype.onSurveyComplete=function(){if(!(this.closeOnCompleteTimeout<0))if(0==this.closeOnCompleteTimeout)this.hide();else{var C=this,y=null;y="undefined"!=typeof window?window.setInterval(function(){C.hide(),"undefined"!=typeof window&&window.clearInterval(y)},1e3*this.closeOnCompleteTimeout):0}},T.prototype.onScroll=function(){this.survey.onScroll()},function(m,T,C,y){var f,h=arguments.length,v=h<3?T:null===y?y=Object.getOwnPropertyDescriptor(T,C):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(m,T,C,y);else for(var d=m.length-1;d>=0;d--)(f=m[d])&&(v=(h<3?f(v):h>3?f(T,C,v):f(T,C))||v);h>3&&v&&Object.defineProperty(T,C,v)}([Object($.property)()],T.prototype,"width",void 0),T}(G.Base),L=function(m){function T(){return null!==m&&m.apply(this,arguments)||this}return w(T,m),T}(R)},"./src/popup-utils.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"createPopupModalViewModel",function(){return w}),x.d(j,"createPopupViewModel",function(){return F});var G=x("./src/popup.ts"),se=x("./src/popup-dropdown-view-model.ts"),$=x("./src/popup-modal-view-model.ts");function w(R,L){var m,T=new G.PopupModel(R.componentName,R.data,"top","left",!1,!0,R.onCancel,R.onApply,function(){R.onHide(),y&&C.resetComponentElement()},R.onShow,R.cssClass,R.title);T.displayMode=R.displayMode||"popup",T.isFocusedContent=null===(m=R.isFocusedContent)||void 0===m||m;var C=new $.PopupModalViewModel(T);if(L&&L.appendChild){var y=document.createElement("div");L.appendChild(y),C.setComponentElement(y)}return C.container||C.initializePopupContainer(),C}function F(R,L){return R.isModal?new $.PopupModalViewModel(R):new se.PopupDropdownViewModel(R,L)}},"./src/popup-view-model.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"FOCUS_INPUT_SELECTOR",function(){return T}),x.d(j,"PopupBaseViewModel",function(){return C});var y,G=x("./src/base.ts"),se=x("./src/jsonobject.ts"),$=x("./src/utils/cssClassBuilder.ts"),w=x("./src/actions/container.ts"),F=x("./src/settings.ts"),R=x("./src/utils/utils.ts"),L=(y=function(h,v){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&(f[u]=d[u])})(h,v)},function(h,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function f(){this.constructor=h}y(h,v),h.prototype=null===v?Object.create(v):(f.prototype=v.prototype,new f)}),m=function(y,h,v,f){var a,d=arguments.length,u=d<3?h:null===f?f=Object.getOwnPropertyDescriptor(h,v):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(y,h,v,f);else for(var o=y.length-1;o>=0;o--)(a=y[o])&&(u=(d<3?a(u):d>3?a(h,v,u):a(h,v))||u);return d>3&&u&&Object.defineProperty(h,v,u),u},T='input:not(:disabled):not([readonly]):not([type=hidden]),select:not(:disabled):not([readonly]),textarea:not(:disabled):not([readonly]), button:not(:disabled):not([readonly]), [tabindex]:not([tabindex^="-"])',C=function(y){function h(v){var f=y.call(this)||this;return f.subscriptionId=h.SubscriptionId++,f.popupSelector=".sv-popup",f.fixedPopupContainer=".sv-popup",f.containerSelector=".sv-popup__container",f.scrollingContentSelector=".sv-popup__scrolling-content",f.model=v,f}return L(h,y),Object.defineProperty(h.prototype,"container",{get:function(){return this.containerElement||this.createdContainer},enumerable:!1,configurable:!0}),h.prototype.getLocale=function(){return this.locale?this.locale:y.prototype.getLocale.call(this)},h.prototype.hidePopup=function(){this.model.isVisible=!1},h.prototype.getStyleClass=function(){return(new $.CssClassBuilder).append(this.model.cssClass).append("sv-popup--"+this.model.displayMode,this.isOverlay)},h.prototype.getShowFooter=function(){return this.isOverlay},h.prototype.getShowHeader=function(){return!1},h.prototype.getPopupHeaderTemplate=function(){},h.prototype.createFooterActionBar=function(){var v=this;this.footerToolbarValue=new w.ActionContainer,this.footerToolbar.updateCallback=function(d){v.footerToolbarValue.actions.forEach(function(u){return u.cssClasses={item:"sv-popup__body-footer-item sv-popup__button sd-btn"}})};var f=[{id:"cancel",visibleIndex:10,title:this.cancelButtonText,innerCss:"sv-popup__button--cancel sd-btn",action:function(){v.cancel()}}];f=this.model.updateFooterActions(f),this.footerToolbarValue.setItems(f)},h.prototype.resetDimensionsAndPositionStyleProperties=function(){var v="inherit";this.top=v,this.left=v,this.height=v,this.width=v,this.minWidth=v},h.prototype.onModelChanging=function(v){},h.prototype.setupModel=function(v){var f=this;this.model&&this.model.unregisterPropertyChangedHandlers(["isVisible"],"PopupBaseViewModel"+this.subscriptionId),this.onModelChanging(v),this._model=v;var d=function(){v.isVisible||f.updateOnHiding(),f.isVisible=v.isVisible};v.registerPropertyChangedHandlers(["isVisible"],d,"PopupBaseViewModel"+this.subscriptionId),d()},Object.defineProperty(h.prototype,"model",{get:function(){return this._model},set:function(v){this.setupModel(v)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"title",{get:function(){return this.model.title},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"contentComponentName",{get:function(){return this.model.contentComponentName},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"contentComponentData",{get:function(){return this.model.contentComponentData},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isModal",{get:function(){return this.model.isModal},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isFocusedContent",{get:function(){return this.model.isFocusedContent},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isFocusedContainer",{get:function(){return this.model.isFocusedContainer},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"showFooter",{get:function(){return this.getShowFooter()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"showHeader",{get:function(){return this.getShowHeader()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"popupHeaderTemplate",{get:function(){return this.getPopupHeaderTemplate()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isOverlay",{get:function(){return"overlay"===this.model.displayMode},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"styleClass",{get:function(){return this.getStyleClass().toString()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"cancelButtonText",{get:function(){return this.getLocalizationString("modalCancelButtonText")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.createFooterActionBar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),h.prototype.onKeyDown=function(v){"Tab"===v.key||9===v.keyCode?this.trapFocus(v):("Escape"===v.key||27===v.keyCode)&&this.hidePopup()},h.prototype.trapFocus=function(v){var f=this.container.querySelectorAll(T),d=f[0],u=f[f.length-1];v.shiftKey?F.settings.environment.root.activeElement===d&&(u.focus(),v.preventDefault()):F.settings.environment.root.activeElement===u&&(d.focus(),v.preventDefault())},h.prototype.switchFocus=function(){this.isFocusedContent?this.focusFirstInput():this.isFocusedContainer&&this.focusContainer()},h.prototype.updateOnShowing=function(){this.prevActiveElement=F.settings.environment.root.activeElement,this.isOverlay&&this.resetDimensionsAndPositionStyleProperties(),this.switchFocus()},h.prototype.updateOnHiding=function(){this.isFocusedContent&&this.prevActiveElement&&this.prevActiveElement.focus()},h.prototype.focusContainer=function(){if(this.container){var v=this.container.querySelector(this.popupSelector);null==v||v.focus()}},h.prototype.focusFirstInput=function(){var v=this;setTimeout(function(){if(v.container){var f=v.container.querySelector(v.model.focusFirstInputSelector||T);f?f.focus():v.focusContainer()}},100)},h.prototype.clickOutside=function(v){this.hidePopup(),null==v||v.stopPropagation()},h.prototype.cancel=function(){this.model.onCancel(),this.hidePopup()},h.prototype.dispose=function(){y.prototype.dispose.call(this),this.model&&this.model.unregisterPropertyChangedHandlers(["isVisible"],"PopupBaseViewModel"+this.subscriptionId),this.createdContainer&&(this.createdContainer.remove(),this.createdContainer=void 0),this.footerToolbarValue&&this.footerToolbarValue.dispose(),this.resetComponentElement()},h.prototype.initializePopupContainer=function(){if(!this.container){var v=document.createElement("div");this.createdContainer=v,Object(R.getElement)(F.settings.environment.popupMountContainer).appendChild(v)}},h.prototype.setComponentElement=function(v,f){v&&(this.containerElement=v)},h.prototype.resetComponentElement=function(){this.containerElement=void 0,this.prevActiveElement=void 0},h.prototype.preventScrollOuside=function(v,f){for(var d=v.target;d!==this.container;){if("auto"===window.getComputedStyle(d).overflowY&&d.scrollHeight!==d.offsetHeight){var a=d.scrollTop;if(!(f>0&&Math.abs(d.scrollHeight-d.clientHeight-a)<1||f<0&&a<=0))return}d=d.parentElement}v.cancelable&&v.preventDefault()},h.SubscriptionId=0,m([Object(se.property)({defaultValue:"0px"})],h.prototype,"top",void 0),m([Object(se.property)({defaultValue:"0px"})],h.prototype,"left",void 0),m([Object(se.property)({defaultValue:"auto"})],h.prototype,"height",void 0),m([Object(se.property)({defaultValue:"auto"})],h.prototype,"width",void 0),m([Object(se.property)({defaultValue:"auto"})],h.prototype,"minWidth",void 0),m([Object(se.property)({defaultValue:!1})],h.prototype,"isVisible",void 0),m([Object(se.property)()],h.prototype,"locale",void 0),h}(G.Base)},"./src/popup.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"PopupModel",function(){return F}),x.d(j,"createDialogOptions",function(){return R});var L,G=x("./src/base.ts"),se=x("./src/jsonobject.ts"),$=(L=function(m,T){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,y){C.__proto__=y}||function(C,y){for(var h in y)Object.prototype.hasOwnProperty.call(y,h)&&(C[h]=y[h])})(m,T)},function(m,T){if("function"!=typeof T&&null!==T)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function C(){this.constructor=m}L(m,T),m.prototype=null===T?Object.create(T):(C.prototype=T.prototype,new C)}),w=function(L,m,T,C){var v,y=arguments.length,h=y<3?m:null===C?C=Object.getOwnPropertyDescriptor(m,T):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(L,m,T,C);else for(var f=L.length-1;f>=0;f--)(v=L[f])&&(h=(y<3?v(h):y>3?v(m,T,h):v(m,T))||h);return y>3&&h&&Object.defineProperty(m,T,h),h},F=function(L){function m(T,C,y,h,v,f,d,u,a,o,s,l,c){void 0===y&&(y="bottom"),void 0===h&&(h="left"),void 0===v&&(v=!0),void 0===f&&(f=!1),void 0===d&&(d=function(){}),void 0===u&&(u=function(){return!0}),void 0===a&&(a=function(){}),void 0===o&&(o=function(){}),void 0===s&&(s=""),void 0===l&&(l=""),void 0===c&&(c=function(){});var b=L.call(this)||this;return b.onDispose=c,b.focusFirstInputSelector="",b.onVisibilityChanged=b.addEvent(),b.onFooterActionsCreated=b.addEvent(),b.onRecalculatePosition=b.addEvent(),b.contentComponentName=T,b.contentComponentData=C,b.verticalPosition=y,b.horizontalPosition=h,b.showPointer=v,b.isModal=f,b.onCancel=d,b.onApply=u,b.onHide=a,b.onShow=o,b.cssClass=s,b.title=l,b}return $(m,L),m.prototype.refreshInnerModel=function(){var T=this.contentComponentData.model;T&&T.refresh&&T.refresh()},Object.defineProperty(m.prototype,"isVisible",{get:function(){return this.getPropertyValue("isVisible",!1)},set:function(T){this.isVisible!==T&&(this.setPropertyValue("isVisible",T),this.onVisibilityChanged.fire(this,{model:this,isVisible:T}),this.isVisible?this.onShow():(this.refreshInnerModel(),this.onHide()))},enumerable:!1,configurable:!0}),m.prototype.toggleVisibility=function(){this.isVisible=!this.isVisible},m.prototype.recalculatePosition=function(T){this.onRecalculatePosition.fire(this,{isResetHeight:T})},m.prototype.updateFooterActions=function(T){var C={actions:T};return this.onFooterActionsCreated.fire(this,C),C.actions},m.prototype.dispose=function(){L.prototype.dispose.call(this),this.onDispose()},w([Object(se.property)()],m.prototype,"contentComponentName",void 0),w([Object(se.property)()],m.prototype,"contentComponentData",void 0),w([Object(se.property)({defaultValue:"bottom"})],m.prototype,"verticalPosition",void 0),w([Object(se.property)({defaultValue:"left"})],m.prototype,"horizontalPosition",void 0),w([Object(se.property)({defaultValue:!1})],m.prototype,"showPointer",void 0),w([Object(se.property)({defaultValue:!1})],m.prototype,"isModal",void 0),w([Object(se.property)({defaultValue:!0})],m.prototype,"isFocusedContent",void 0),w([Object(se.property)({defaultValue:!0})],m.prototype,"isFocusedContainer",void 0),w([Object(se.property)({defaultValue:function(){}})],m.prototype,"onCancel",void 0),w([Object(se.property)({defaultValue:function(){return!0}})],m.prototype,"onApply",void 0),w([Object(se.property)({defaultValue:function(){}})],m.prototype,"onHide",void 0),w([Object(se.property)({defaultValue:function(){}})],m.prototype,"onShow",void 0),w([Object(se.property)({defaultValue:""})],m.prototype,"cssClass",void 0),w([Object(se.property)({defaultValue:""})],m.prototype,"title",void 0),w([Object(se.property)({defaultValue:"auto"})],m.prototype,"overlayDisplayMode",void 0),w([Object(se.property)({defaultValue:"popup"})],m.prototype,"displayMode",void 0),w([Object(se.property)({defaultValue:"flex"})],m.prototype,"positionMode",void 0),m}(G.Base);function R(L,m,T,C,y,h,v,f,d){return void 0===y&&(y=function(){}),void 0===h&&(h=function(){}),void 0===d&&(d="popup"),{componentName:L,data:m,onApply:T,onCancel:C,onHide:y,onShow:h,cssClass:v,title:f,displayMode:d}}},"./src/progress-buttons.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"ProgressButtons",function(){return R}),x.d(j,"ProgressButtonsResponsivityManager",function(){return L});var m,G=x("./src/base.ts"),se=x("./src/defaultCss/defaultV2Css.ts"),$=x("./src/page.ts"),w=x("./src/utils/cssClassBuilder.ts"),F=(m=function(T,C){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,h){y.__proto__=h}||function(y,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(y[v]=h[v])})(T,C)},function(T,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function y(){this.constructor=T}m(T,C),T.prototype=null===C?Object.create(C):(y.prototype=C.prototype,new y)}),R=function(m){function T(C){var y=m.call(this)||this;return y.survey=C,y.onResize=y.addEvent(),y}return F(T,m),T.prototype.isListElementClickable=function(C){return!(this.survey.onServerValidateQuestions&&!this.survey.onServerValidateQuestions.isEmpty&&"onComplete"!==this.survey.checkErrorsMode)||C<=this.survey.currentPageNo+1},T.prototype.getRootCss=function(C){void 0===C&&(C="center");var y=this.survey.css.progressButtonsContainerCenter;return this.survey.css.progressButtonsRoot&&(y+=" "+this.survey.css.progressButtonsRoot+" "+this.survey.css.progressButtonsRoot+"--"+(-1!==["footer","contentBottom"].indexOf(C)?"bottom":"top"),y+=" "+this.survey.css.progressButtonsRoot+"--"+(this.showItemTitles?"with-titles":"no-titles")),this.showItemNumbers&&this.survey.css.progressButtonsNumbered&&(y+=" "+this.survey.css.progressButtonsNumbered),y},T.prototype.getListElementCss=function(C){if(!(C>=this.survey.visiblePages.length))return(new w.CssClassBuilder).append(this.survey.css.progressButtonsListElementPassed,this.survey.visiblePages[C].passed).append(this.survey.css.progressButtonsListElementCurrent,this.survey.currentPageNo===C).append(this.survey.css.progressButtonsListElementNonClickable,!this.isListElementClickable(C)).toString()},T.prototype.getScrollButtonCss=function(C,y){return(new w.CssClassBuilder).append(this.survey.css.progressButtonsImageButtonLeft,y).append(this.survey.css.progressButtonsImageButtonRight,!y).append(this.survey.css.progressButtonsImageButtonHidden,!C).toString()},T.prototype.clickListElement=function(C){C instanceof $.PageModel||(C=this.survey.visiblePages[C]),this.survey.tryNavigateToPage(C)},T.prototype.isListContainerHasScroller=function(C){var y=C.querySelector("."+this.survey.css.progressButtonsListContainer);return!!y&&y.scrollWidth>y.offsetWidth},T.prototype.isCanShowItemTitles=function(C){var y=C.querySelector("ul");if(!y||y.children.length<2)return!0;if(y.clientWidth>y.parentElement.clientWidth)return!1;for(var h=y.children[0].clientWidth,v=0;v<y.children.length;v++)if(Math.abs(y.children[v].clientWidth-h)>5)return!1;return!0},T.prototype.clearConnectorsWidth=function(C){for(var y=C.querySelectorAll(".sd-progress-buttons__connector"),h=0;h<y.length;h++)y[h].style.width=""},T.prototype.adjustConnectors=function(C){var y=C.querySelector("ul");if(y)for(var h=C.querySelectorAll(".sd-progress-buttons__connector"),v=y.clientWidth/(y.children.length-1)-4,f=0;f<h.length;f++)h[f].style.width=v+"px"},Object.defineProperty(T.prototype,"showItemNumbers",{get:function(){return"defaultV2"===se.surveyCss.currentType&&this.survey.progressBarShowPageNumbers},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"showItemTitles",{get:function(){return"defaultV2"!==se.surveyCss.currentType||this.survey.progressBarShowPageTitles},enumerable:!1,configurable:!0}),T.prototype.getItemNumber=function(C){var y="";return this.showItemNumbers&&(y+=this.survey.visiblePages.indexOf(C)+1),y},Object.defineProperty(T.prototype,"headerText",{get:function(){return this.survey.currentPage?this.survey.currentPage.renderedNavigationTitle:""},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"footerText",{get:function(){return this.survey.progressText},enumerable:!1,configurable:!0}),T.prototype.processResponsiveness=function(C){this.onResize.fire(this,{width:C})},T}(G.Base),L=function(){function m(T,C,y){var h=this;this.model=T,this.element=C,this.viewModel=y,this.criticalProperties=["progressBarType","progressBarShowPageTitles"],this.canShowItemTitles=!0,this.processResponsiveness=function(v,f){if(h.viewModel.onUpdateScroller(v.isListContainerHasScroller(h.element)),v.showItemTitles)return v.survey.isMobile?(h.prevWidth=f.width,h.canShowItemTitles=!1,h.model.adjustConnectors(h.element),void h.viewModel.onResize(h.canShowItemTitles)):(h.model.clearConnectorsWidth(h.element),void 0!==h.timer&&clearTimeout(h.timer),void(h.timer=setTimeout(function(){(void 0===h.prevWidth||h.prevWidth<f.width&&!h.canShowItemTitles||h.prevWidth>f.width&&h.canShowItemTitles)&&(h.prevWidth=f.width,h.canShowItemTitles=v.isCanShowItemTitles(h.element),h.viewModel.onResize(h.canShowItemTitles),h.timer=void 0)},10)));h.model.adjustConnectors(h.element)},this.model.survey.registerFunctionOnPropertiesValueChanged(this.criticalProperties,function(){return h.forceUpdate()},"ProgressButtonsResponsivityManager"+this.viewModel.container),this.model.onResize.add(this.processResponsiveness),this.forceUpdate()}return m.prototype.forceUpdate=function(){this.viewModel.onUpdateSettings(),this.processResponsiveness(this.model,{})},m.prototype.dispose=function(){clearTimeout(this.timer),this.model.onResize.remove(this.processResponsiveness),this.model.survey.unRegisterFunctionOnPropertiesValueChanged(this.criticalProperties,"ProgressButtonsResponsivityManager"+this.viewModel.container),this.element=void 0,this.model=void 0},m}()},"./src/question.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"Question",function(){return o});var l,G=x("./src/helpers.ts"),se=x("./src/jsonobject.ts"),$=x("./src/survey-element.ts"),w=x("./src/error.ts"),F=x("./src/validator.ts"),R=x("./src/localizablestring.ts"),L=x("./src/conditions.ts"),m=x("./src/questionCustomWidgets.ts"),T=x("./src/settings.ts"),C=x("./src/rendererFactory.ts"),y=x("./src/utils/cssClassBuilder.ts"),h=x("./src/utils/utils.ts"),v=x("./src/console-warnings.ts"),f=x("./src/conditionProcessValue.ts"),d=(l=function(c,b){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,D){M.__proto__=D}||function(M,D){for(var g in D)Object.prototype.hasOwnProperty.call(D,g)&&(M[g]=D[g])})(c,b)},function(c,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function M(){this.constructor=c}l(c,b),c.prototype=null===b?Object.create(b):(M.prototype=b.prototype,new M)}),u=function(l,c,b,M){var P,D=arguments.length,g=D<3?c:null===M?M=Object.getOwnPropertyDescriptor(c,b):M;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(l,c,b,M);else for(var A=l.length-1;A>=0;A--)(P=l[A])&&(g=(D<3?P(g):D>3?P(c,b,g):P(c,b))||g);return D>3&&g&&Object.defineProperty(c,b,g),g},a=function l(c,b,M){this.name=c,this.canRun=b,this.doComplete=M,this.runSecondCheck=function(D){return!1}},o=function(l){function c(b){var M=l.call(this,b)||this;return M.customWidgetData={isNeedRender:!0},M.hasCssErrorCallback=function(){return!1},M.isReadyValue=!0,M.dependedQuestions=[],M.onReadyChanged=M.addEvent(),M.triggersInfo=[],M.isRunningValidatorsValue=!1,M.isValueChangedInSurvey=!1,M.allowNotifyValueChanged=!0,M.id=c.getQuestionId(),M.onCreating(),M.createNewArray("validators",function(g){g.errorOwner=M}),M.addExpressionProperty("visibleIf",function(g,P){M.visible=!0===P},function(g){return!M.areInvisibleElementsShowing}),M.addExpressionProperty("enableIf",function(g,P){M.readOnly=!1===P}),M.addExpressionProperty("requiredIf",function(g,P){M.isRequired=!0===P}),M.createLocalizableString("commentText",M,!0,"otherItemText"),M.createLocalizableString("requiredErrorText",M),M.addTriggerInfo("resetValueIf",function(){return!M.isEmpty()},function(){M.clearValue(),M.updateValueWithDefaults()}),M.addTriggerInfo("setValueIf",function(){return!0},function(){return M.runSetValueExpression()}).runSecondCheck=function(g){return M.checkExpressionIf(g)},M.registerPropertyChangedHandlers(["width"],function(){M.updateQuestionCss(),M.parent&&M.parent.elementWidthChanged(M)}),M.registerPropertyChangedHandlers(["isRequired"],function(){!M.isRequired&&M.errors.length>0&&M.validate(),M.locTitle.strChanged(),M.clearCssClasses()}),M.registerPropertyChangedHandlers(["indent","rightIndent"],function(){M.onIndentChanged()}),M.registerPropertyChangedHandlers(["showCommentArea","showOtherItem"],function(){M.initCommentFromSurvey()}),M.registerFunctionOnPropertiesValueChanged(["no","readOnly","hasVisibleErrors","containsErrors"],function(){M.updateQuestionCss()}),M.registerPropertyChangedHandlers(["isMobile"],function(){M.onMobileChanged()}),M}return d(c,l),c.getQuestionId=function(){return"sq_"+c.questionCounter++},c.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&"div"===T.settings.readOnly.commentRenderMode},c.prototype.allowMobileInDesignMode=function(){return!1},c.prototype.updateIsMobileFromSurvey=function(){this.setIsMobile(this.survey._isMobile)},c.prototype.setIsMobile=function(b){this.isMobile=b&&(this.allowMobileInDesignMode()||!this.isDesignMode)},c.prototype.themeChanged=function(b){},c.prototype.getDefaultTitle=function(){return this.name},c.prototype.createLocTitleProperty=function(){var b=this,M=l.prototype.createLocTitleProperty.call(this);return M.storeDefaultText=!0,M.onGetTextCallback=function(D){return D||(D=b.getDefaultTitle()),b.survey?b.survey.getUpdatedQuestionTitle(b,D):D},this.locProcessedTitle=new R.LocalizableString(this,!0),this.locProcessedTitle.sharedData=M,M},c.prototype.getSurvey=function(b){return void 0===b&&(b=!1),b?this.parent?this.parent.getSurvey(b):null:this.onGetSurvey?this.onGetSurvey():l.prototype.getSurvey.call(this)},c.prototype.getValueName=function(){return this.valueName?this.valueName.toString():this.name},Object.defineProperty(c.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(b){var M=this.getValueName();this.setPropertyValue("valueName",b),this.onValueNameChanged(M)},enumerable:!1,configurable:!0}),c.prototype.onValueNameChanged=function(b){!this.survey||(this.survey.questionRenamed(this,this.name,b||this.name),this.initDataFromSurvey())},c.prototype.onNameChanged=function(b){this.locTitle.strChanged(),this.survey&&this.survey.questionRenamed(this,b,this.valueName?this.valueName:b)},Object.defineProperty(c.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),c.prototype.onAsyncRunningChanged=function(){this.updateIsReady()},c.prototype.updateIsReady=function(){var b=this.getIsQuestionReady();if(b)for(var M=this.getIsReadyDependsOn(),D=0;D<M.length;D++)if(!M[D].getIsQuestionReady()){b=!1;break}this.setIsReady(b)},c.prototype.getIsQuestionReady=function(){return!this.isAsyncExpressionRunning&&this.getAreNestedQuestionsReady()},c.prototype.getAreNestedQuestionsReady=function(){var b=this.getIsReadyNestedQuestions();if(!Array.isArray(b))return!0;for(var M=0;M<b.length;M++)if(!b[M].isReady)return!1;return!0},c.prototype.getIsReadyNestedQuestions=function(){return this.getNestedQuestions()},c.prototype.setIsReady=function(b){var M=this.isReadyValue;this.isReadyValue=b,M!=b&&(this.getIsReadyDependends().forEach(function(D){return D.updateIsReady()}),this.onReadyChanged.fire(this,{question:this,isReady:b,oldIsReady:M}))},c.prototype.getIsReadyDependsOn=function(){return this.getIsReadyDependendCore(!0)},c.prototype.getIsReadyDependends=function(){return this.getIsReadyDependendCore(!1)},c.prototype.getIsReadyDependendCore=function(b){var M=this;if(!this.survey)return[];var D=this.survey.questionsByValueName(this.getValueName()),g=new Array;return D.forEach(function(P){P!==M&&g.push(P)}),b||(this.parentQuestion&&g.push(this.parentQuestion),this.dependedQuestions.length>0&&this.dependedQuestions.forEach(function(P){return g.push(P)})),g},c.prototype.choicesLoaded=function(){},Object.defineProperty(c.prototype,"page",{get:function(){return this.parentQuestion?this.parentQuestion.page:this.getPage(this.parent)},set:function(b){this.setPage(this.parent,b)},enumerable:!1,configurable:!0}),c.prototype.getPanel=function(){return null},c.prototype.delete=function(b){void 0===b&&(b=!0),this.removeFromParent(),b?this.dispose():this.resetDependedQuestions()},c.prototype.removeFromParent=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},c.prototype.addDependedQuestion=function(b){!b||this.dependedQuestions.indexOf(b)>-1||this.dependedQuestions.push(b)},c.prototype.removeDependedQuestion=function(b){if(b){var M=this.dependedQuestions.indexOf(b);M>-1&&this.dependedQuestions.splice(M,1)}},c.prototype.updateDependedQuestions=function(){for(var b=0;b<this.dependedQuestions.length;b++)this.dependedQuestions[b].updateDependedQuestion()},c.prototype.updateDependedQuestion=function(){},c.prototype.resetDependedQuestion=function(){},Object.defineProperty(c.prototype,"isFlowLayout",{get:function(){return"flow"===this.getLayoutType()},enumerable:!1,configurable:!0}),c.prototype.getLayoutType=function(){return this.parent?this.parent.getChildrenLayoutType():"row"},c.prototype.isLayoutTypeSupported=function(b){return"flow"!==b},Object.defineProperty(c.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(b){b!=this.visible&&(this.setPropertyValue("visible",b),this.onVisibleChanged(),this.notifySurveyVisibilityChanged())},enumerable:!1,configurable:!0}),c.prototype.onVisibleChanged=function(){this.updateIsVisibleProp(),!this.isVisible&&this.errors&&this.errors.length>0&&(this.errors=[])},c.prototype.notifyStateChanged=function(b){l.prototype.notifyStateChanged.call(this,b),this.isCollapsed&&this.onHidingContent()},c.prototype.updateIsVisibleProp=function(){var b=this.getPropertyValue("isVisible"),M=this.isVisible;b!==M&&(this.setPropertyValue("isVisible",M),M||this.onHidingContent())},Object.defineProperty(c.prototype,"useDisplayValuesInDynamicTexts",{get:function(){return this.getPropertyValue("useDisplayValuesInDynamicTexts")},set:function(b){this.setPropertyValue("useDisplayValuesInDynamicTexts",b)},enumerable:!1,configurable:!0}),c.prototype.getUseDisplayValuesInDynamicTexts=function(){return this.useDisplayValuesInDynamicTexts},Object.defineProperty(c.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(b){this.setPropertyValue("visibleIf",b)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isVisible",{get:function(){return!(this.survey&&this.survey.areEmptyElementsHidden&&this.isEmpty())&&(!!this.areInvisibleElementsShowing||this.isVisibleCore())},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isVisibleInSurvey",{get:function(){return this.isVisible&&this.isParentVisible},enumerable:!1,configurable:!0}),c.prototype.isVisibleCore=function(){return this.visible},Object.defineProperty(c.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),c.prototype.onHidingContent=function(){},Object.defineProperty(c.prototype,"hideNumber",{get:function(){return this.getPropertyValue("hideNumber")},set:function(b){this.setPropertyValue("hideNumber",b),this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isAllowTitleLeft",{get:function(){return!0},enumerable:!1,configurable:!0}),c.prototype.getType=function(){return"question"},Object.defineProperty(c.prototype,"isQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),c.prototype.moveTo=function(b,M){return void 0===M&&(M=null),this.moveToBase(this.parent,b,M)},c.prototype.getProgressInfo=function(){return this.hasInput?{questionCount:1,answeredQuestionCount:this.isEmpty()?0:1,requiredQuestionCount:this.isRequired?1:0,requiredAnsweredQuestionCount:!this.isEmpty()&&this.isRequired?1:0}:l.prototype.getProgressInfo.call(this)},c.prototype.ensureSetValueExpressionRunner=function(){var b=this;this.setValueExpressionRunner?this.setValueExpressionRunner.expression=this.setValueExpression:(this.setValueExpressionRunner=new L.ExpressionRunner(this.setValueExpression),this.setValueExpressionRunner.onRunComplete=function(M){b.isTwoValueEquals(b.value,M)||(b.value=M)})},c.prototype.runSetValueExpression=function(){this.setValueExpression?(this.ensureSetValueExpressionRunner(),this.setValueExpressionRunner.run(this.getDataFilteredValues(),this.getDataFilteredProperties())):this.clearValue()},c.prototype.checkExpressionIf=function(b){return this.ensureSetValueExpressionRunner(),!!this.setValueExpressionRunner&&(new f.ProcessValue).isAnyKeyChanged(b,this.setValueExpressionRunner.getVariables())},c.prototype.addTriggerInfo=function(b,M,D){var g=new a(b,M,D);return this.triggersInfo.push(g),g},c.prototype.runTriggerInfo=function(b,M,D){var g=this[b.name],P={};P[M]=D,g&&!b.isRunning&&b.canRun()?(b.runner?b.runner.expression=g:(b.runner=new L.ExpressionRunner(g),b.runner.onRunComplete=function(A){!0===A&&b.doComplete(),b.isRunning=!1}),((new f.ProcessValue).isAnyKeyChanged(P,b.runner.getVariables())||b.runSecondCheck(P))&&(b.isRunning=!0,b.runner.run(this.getDataFilteredValues(),this.getDataFilteredProperties()))):b.runSecondCheck(P)&&b.doComplete()},c.prototype.runTriggers=function(b,M){var D=this;this.isReadOnly||this.isSettingQuestionValue||this.parentQuestion&&this.parentQuestion.getValueName()===b||this.triggersInfo.forEach(function(g){D.runTriggerInfo(g,b,M)})},c.prototype.runConditions=function(){this.data&&!this.isLoadingFromJson&&(this.isDesignMode||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.locStrsChanged())},c.prototype.setSurveyImpl=function(b,M){l.prototype.setSurveyImpl.call(this,b),this.survey&&(this.survey.questionCreated(this),!0!==M&&this.runConditions(),this.calcRenderedCommentPlaceholder(),this.visible||this.updateIsVisibleProp(),this.updateIsMobileFromSurvey())},Object.defineProperty(c.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(b){this.parent!==b&&(this.removeFromParent(),this.setPropertyValue("parent",b),this.updateQuestionCss(),this.onParentChanged())},enumerable:!1,configurable:!0}),c.prototype.onParentChanged=function(){},Object.defineProperty(c.prototype,"hasTitle",{get:function(){return"hidden"!==this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"titleLocation",{get:function(){return this.getPropertyValue("titleLocation")},set:function(b){var M="hidden"==this.titleLocation||"hidden"==b;this.setPropertyValue("titleLocation",b.toLowerCase()),this.updateQuestionCss(),M&&this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),c.prototype.getTitleOwner=function(){return this},c.prototype.getIsTitleRenderedAsString=function(){return"hidden"===this.titleLocation},c.prototype.notifySurveyVisibilityChanged=function(){if(this.survey&&!this.isLoadingFromJson){this.survey.questionVisibilityChanged(this,this.isVisible);var b=this.isClearValueOnHidden;this.visible||this.clearValueOnHidding(b),b&&this.isVisibleInSurvey&&this.updateValueWithDefaults()}},c.prototype.clearValueOnHidding=function(b){b&&this.clearValueIfInvisible()},c.prototype.getTitleLocation=function(){if(this.isFlowLayout)return"hidden";var b=this.getTitleLocationCore();return"left"===b&&!this.isAllowTitleLeft&&(b="top"),b},c.prototype.getTitleLocationCore=function(){return"default"!==this.titleLocation?this.titleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},Object.defineProperty(c.prototype,"hasTitleOnLeft",{get:function(){return this.hasTitle&&"left"===this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasTitleOnTop",{get:function(){return this.hasTitle&&"top"===this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasTitleOnBottom",{get:function(){return this.hasTitle&&"bottom"===this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasTitleOnLeftTop",{get:function(){if(!this.hasTitle)return!1;var b=this.getTitleLocation();return"left"===b||"top"===b},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"errorLocation",{get:function(){return this.getPropertyValue("errorLocation")},set:function(b){this.setPropertyValue("errorLocation",b)},enumerable:!1,configurable:!0}),c.prototype.getErrorLocation=function(){return"default"!==this.errorLocation?this.errorLocation:this.parentQuestion?this.parentQuestion.getChildErrorLocation(this):this.parent?this.parent.getQuestionErrorLocation():this.survey?this.survey.questionErrorLocation:"top"},c.prototype.getChildErrorLocation=function(b){return this.getErrorLocation()},Object.defineProperty(c.prototype,"hasInput",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasSingleInput",{get:function(){return this.hasInput},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"inputId",{get:function(){return this.id+"i"},enumerable:!1,configurable:!0}),c.prototype.getDefaultTitleValue=function(){return this.name},c.prototype.getDefaultTitleTagName=function(){return T.settings.titleTags.question},Object.defineProperty(c.prototype,"descriptionLocation",{get:function(){return this.getPropertyValue("descriptionLocation")},set:function(b){this.setPropertyValue("descriptionLocation",b),this.updateQuestionCss()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasDescriptionUnderTitle",{get:function(){return"underTitle"==this.getDescriptionLocation()&&this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasDescriptionUnderInput",{get:function(){return"underInput"==this.getDescriptionLocation()&&this.hasDescription},enumerable:!1,configurable:!0}),c.prototype.getDescriptionLocation=function(){return"default"!==this.descriptionLocation?this.descriptionLocation:this.survey?this.survey.questionDescriptionLocation:"underTitle"},c.prototype.needClickTitleFunction=function(){return l.prototype.needClickTitleFunction.call(this)||this.hasInput},c.prototype.processTitleClick=function(){var b=this;if(l.prototype.processTitleClick.call(this),!this.isCollapsed)return setTimeout(function(){b.focus()},1),!0},Object.defineProperty(c.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(b){this.setLocalizableStringText("requiredErrorText",b)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"commentText",{get:function(){return this.getLocalizableStringText("commentText")},set:function(b){this.setLocalizableStringText("commentText",b)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"locCommentText",{get:function(){return this.getLocalizableString("commentText")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"commentPlaceHolder",{get:function(){return this.commentPlaceholder},set:function(b){this.commentPlaceholder=b},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"renderedCommentPlaceholder",{get:function(){return this.getPropertyValue("renderedCommentPlaceholder")},enumerable:!1,configurable:!0}),c.prototype.calcRenderedCommentPlaceholder=function(){this.setPropertyValue("renderedCommentPlaceholder",this.isReadOnly?void 0:this.commentPlaceHolder)},c.prototype.getAllErrors=function(){return this.errors.slice()},c.prototype.getErrorByType=function(b){for(var M=0;M<this.errors.length;M++)if(this.errors[M].getErrorType()===b)return this.errors[M];return null},Object.defineProperty(c.prototype,"customWidget",{get:function(){return!this.isCustomWidgetRequested&&!this.customWidgetValue&&(this.isCustomWidgetRequested=!0,this.updateCustomWidget()),this.customWidgetValue},enumerable:!1,configurable:!0}),c.prototype.updateCustomWidget=function(){this.customWidgetValue=m.CustomWidgetCollection.Instance.getCustomWidget(this)},c.prototype.localeChanged=function(){l.prototype.localeChanged.call(this),this.calcRenderedCommentPlaceholder(),this.localeChangedCallback&&this.localeChangedCallback()},Object.defineProperty(c.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isContainer",{get:function(){return!1},enumerable:!1,configurable:!0}),c.prototype.updateCommentElements=function(){if(this.autoGrowComment&&Array.isArray(this.commentElements))for(var b=0;b<this.commentElements.length;b++){var M=this.commentElements[b];M&&Object(h.increaseHeightByContent)(M)}},c.prototype.onCommentInput=function(b){this.isInputTextUpdate?b.target&&(this.comment=b.target.value):this.updateCommentElements()},c.prototype.onCommentChange=function(b){this.comment=b.target.value,this.comment!==b.target.value&&(b.target.value=this.comment)},c.prototype.afterRenderQuestionElement=function(b){!this.survey||!this.hasSingleInput||this.survey.afterRenderQuestionInput(this,b)},c.prototype.afterRender=function(b){var M=this;this.afterRenderCore(b),this.survey&&(this.survey.afterRenderQuestion(this,b),this.afterRenderQuestionCallback&&this.afterRenderQuestionCallback(this,b),(this.supportComment()||this.supportOther())&&(this.commentElements=[],this.getCommentElementsId().forEach(function(D){var P=T.settings.environment.root.getElementById(D);P&&M.commentElements.push(P)}),this.updateCommentElements()),this.checkForResponsiveness(b))},c.prototype.afterRenderCore=function(b){},c.prototype.getCommentElementsId=function(){return[this.commentId]},c.prototype.beforeDestroyQuestionElement=function(b){this.commentElements=void 0},Object.defineProperty(c.prototype,"processedTitle",{get:function(){return this.locProcessedTitle.textOrHtml||this.name},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fullTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&"requireNumTitle"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&"numRequireTitle"==this.titlePattern&&""!==this.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&"numTitleRequire"==this.titlePattern&&""!==this.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(b){this.startWithNewLine!=b&&this.setPropertyValue("startWithNewLine",b)},enumerable:!1,configurable:!0}),c.prototype.calcCssClasses=function(b){var M={error:{}};return this.copyCssClasses(M,b.question),this.copyCssClasses(M.error,b.error),this.updateCssClasses(M,b),this.survey&&this.survey.updateQuestionCssClasses(this,M),this.onUpdateCssClassesCallback&&this.onUpdateCssClassesCallback(M),M},Object.defineProperty(c.prototype,"cssRoot",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssRoot","")},enumerable:!1,configurable:!0}),c.prototype.setCssRoot=function(b){this.setPropertyValue("cssRoot",b)},c.prototype.getCssRoot=function(b){var M=this.hasCssError();return(new y.CssClassBuilder).append(l.prototype.getCssRoot.call(this,b)).append(this.isFlowLayout&&!this.isDesignMode?b.flowRoot:b.mainRoot).append(b.titleLeftRoot,!this.isFlowLayout&&this.hasTitleOnLeft).append(b.titleTopRoot,!this.isFlowLayout&&this.hasTitleOnTop).append(b.titleBottomRoot,!this.isFlowLayout&&this.hasTitleOnBottom).append(b.descriptionUnderInputRoot,!this.isFlowLayout&&this.hasDescriptionUnderInput).append(b.hasError,M).append(b.hasErrorTop,M&&"top"==this.getErrorLocation()).append(b.hasErrorBottom,M&&"bottom"==this.getErrorLocation()).append(b.small,!this.width).append(b.answered,this.isAnswered).toString()},Object.defineProperty(c.prototype,"cssHeader",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssHeader","")},enumerable:!1,configurable:!0}),c.prototype.setCssHeader=function(b){this.setPropertyValue("cssHeader",b)},c.prototype.getCssHeader=function(b){return(new y.CssClassBuilder).append(b.header).append(b.headerTop,this.hasTitleOnTop).append(b.headerLeft,this.hasTitleOnLeft).append(b.headerBottom,this.hasTitleOnBottom).toString()},c.prototype.supportContainerQueries=function(){return!1},Object.defineProperty(c.prototype,"cssContent",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssContent","")},enumerable:!1,configurable:!0}),c.prototype.setCssContent=function(b){this.setPropertyValue("cssContent",b)},c.prototype.getCssContent=function(b){return(new y.CssClassBuilder).append(b.content).append(b.contentSupportContainerQueries,this.supportContainerQueries()).append(b.contentLeft,this.hasTitleOnLeft).toString()},Object.defineProperty(c.prototype,"cssTitle",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssTitle","")},enumerable:!1,configurable:!0}),c.prototype.setCssTitle=function(b){this.setPropertyValue("cssTitle",b)},c.prototype.getCssTitle=function(b){return(new y.CssClassBuilder).append(l.prototype.getCssTitle.call(this,b)).append(b.titleOnAnswer,!this.containsErrors&&this.isAnswered).append(b.titleEmpty,!this.title.trim()).toString()},Object.defineProperty(c.prototype,"cssDescription",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssDescription","")},enumerable:!1,configurable:!0}),c.prototype.setCssDescription=function(b){this.setPropertyValue("cssDescription",b)},c.prototype.getCssDescription=function(b){return(new y.CssClassBuilder).append(b.description,this.hasDescriptionUnderTitle).append(b.descriptionUnderInput,this.hasDescriptionUnderInput).toString()},c.prototype.showErrorOnCore=function(b){return!this.showErrorsAboveQuestion&&!this.showErrorsBelowQuestion&&this.getErrorLocation()===b},Object.defineProperty(c.prototype,"showErrorOnTop",{get:function(){return this.showErrorOnCore("top")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showErrorOnBottom",{get:function(){return this.showErrorOnCore("bottom")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showErrorsOutsideQuestion",{get:function(){return this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showErrorsAboveQuestion",{get:function(){return this.showErrorsOutsideQuestion&&"top"===this.getErrorLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showErrorsBelowQuestion",{get:function(){return this.showErrorsOutsideQuestion&&"bottom"===this.getErrorLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"cssError",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssError","")},enumerable:!1,configurable:!0}),c.prototype.setCssError=function(b){this.setPropertyValue("cssError",b)},c.prototype.getCssError=function(b){return(new y.CssClassBuilder).append(b.error.root).append(b.errorsContainer,this.showErrorsBelowQuestion||this.showErrorsAboveQuestion).append(b.errorsContainerTop,this.showErrorsAboveQuestion).append(b.errorsContainerBottom,this.showErrorsBelowQuestion).append(b.error.locationTop,this.showErrorOnTop).append(b.error.locationBottom,this.showErrorOnBottom).toString()},c.prototype.hasCssError=function(){return this.errors.length>0||this.hasCssErrorCallback()},c.prototype.getRootCss=function(){return(new y.CssClassBuilder).append(this.cssRoot).append(this.cssClasses.disabled,this.isReadOnly).append(this.cssClasses.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},c.prototype.getQuestionRootCss=function(){return(new y.CssClassBuilder).append(this.cssClasses.root).append(this.cssClasses.rootMobile,this.isMobile).toString()},c.prototype.updateElementCss=function(b){l.prototype.updateElementCss.call(this,b),b&&this.updateQuestionCss(!0),this.onIndentChanged()},c.prototype.updateQuestionCss=function(b){this.isLoadingFromJson||!this.survey||!0!==b&&!this.cssClassesValue||this.updateElementCssCore(this.cssClasses)},c.prototype.ensureElementCss=function(){this.cssClassesValue||this.updateQuestionCss(!0)},c.prototype.updateElementCssCore=function(b){this.setCssRoot(this.getCssRoot(b)),this.setCssHeader(this.getCssHeader(b)),this.setCssContent(this.getCssContent(b)),this.setCssTitle(this.getCssTitle(b)),this.setCssDescription(this.getCssDescription(b)),this.setCssError(this.getCssError(b))},c.prototype.updateCssClasses=function(b,M){if(M.question){var D=M[this.getCssType()],g=(new y.CssClassBuilder).append(b.title).append(M.question.titleRequired,this.isRequired);b.title=g.toString();var P=(new y.CssClassBuilder).append(b.root).append(D,this.isRequired&&!!M.question.required);if(null==D)b.root=P.toString();else if("string"==typeof D||D instanceof String)b.root=P.append(D.toString()).toString();else for(var A in b.root=P.toString(),D)b[A]=D[A]}},c.prototype.getCssType=function(){return this.getType()},Object.defineProperty(c.prototype,"renderCssRoot",{get:function(){return this.cssClasses.root||void 0},enumerable:!1,configurable:!0}),c.prototype.onIndentChanged=function(){this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent)},c.prototype.getIndentSize=function(b){return b<1||!this.getSurvey()||!this.cssClasses||!this.cssClasses.indent?"":b*this.cssClasses.indent+"px"},c.prototype.focus=function(b,M){if(void 0===b&&(b=!1),!this.isDesignMode&&this.isVisible&&this.survey){var D=this.page;D&&this.survey.activePage!==D?this.survey.focusQuestionByInstance(this,b):this.focuscore(b,M)}},c.prototype.focuscore=function(b,M){void 0===b&&(b=!1),this.survey&&(this.expandAllParents(this),this.survey.scrollElementToTop(this,this,null,this.id,M));var D=b?this.getFirstErrorInputElementId():this.getFirstInputElementId();$.SurveyElement.FocusElement(D)&&this.fireCallback(this.focusCallback)},c.prototype.expandAllParents=function(b){!b||(b.isCollapsed&&b.expand(),this.expandAllParents(b.parent),this.expandAllParents(b.parentQuestion))},c.prototype.focusIn=function(){!this.survey||this.isDisposed||this.isContainer||this.survey.whenQuestionFocusIn(this)},c.prototype.fireCallback=function(b){b&&b()},c.prototype.getOthersMaxLength=function(){return this.survey&&this.survey.maxOthersLength>0?this.survey.maxOthersLength:null},c.prototype.onCreating=function(){},c.prototype.getFirstQuestionToFocus=function(b){return this.hasInput&&(!b||this.currentErrorCount>0)?this:null},c.prototype.getFirstInputElementId=function(){return this.inputId},c.prototype.getFirstErrorInputElementId=function(){return this.getFirstInputElementId()},c.prototype.getProcessedTextValue=function(b){var M=b.name.toLocaleLowerCase();b.isExists=-1!==Object.keys(c.TextPreprocessorValuesMap).indexOf(M)||void 0!==this[b.name],b.value=this[c.TextPreprocessorValuesMap[M]||b.name]},c.prototype.supportComment=function(){var b=this.getPropertyByName("showCommentArea");return!b||b.visible},c.prototype.supportOther=function(){return!1},Object.defineProperty(c.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(b){this.setPropertyValue("isRequired",b)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(b){this.setPropertyValue("requiredIf",b)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showCommentArea",{get:function(){return this.getPropertyValue("showCommentArea",!1)},set:function(b){!this.supportComment()||this.setPropertyValue("showCommentArea",b)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasComment",{get:function(){return this.showCommentArea},set:function(b){this.showCommentArea=b},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(b){this.setPropertyValue("id",b)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ariaTitleId",{get:function(){return this.id+"_ariaTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"commentId",{get:function(){return this.id+"_comment"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showOtherItem",{get:function(){return this.getPropertyValue("showOtherItem",!1)},set:function(b){!this.supportOther()||this.showOtherItem==b||(this.setPropertyValue("showOtherItem",b),this.hasOtherChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasOther",{get:function(){return this.showOtherItem},set:function(b){this.showOtherItem=b},enumerable:!1,configurable:!0}),c.prototype.hasOtherChanged=function(){},Object.defineProperty(c.prototype,"requireUpdateCommentValue",{get:function(){return this.hasComment||this.hasOther},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isReadOnly",{get:function(){return this.readOnly||!!this.parent&&this.parent.isReadOnly||!!this.survey&&this.survey.isDisplayMode||!!this.parentQuestion&&this.parentQuestion.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isInputReadOnly",{get:function(){return void 0!==this.forceIsInputReadOnly?this.forceIsInputReadOnly:this.isReadOnly||this.isDesignModeV2},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"renderedInputReadOnly",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"renderedInputDisabled",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),c.prototype.onReadOnlyChanged=function(){this.setPropertyValue("isInputReadOnly",this.isInputReadOnly),l.prototype.onReadOnlyChanged.call(this),this.isReadOnly&&this.clearErrors(),this.updateQuestionCss(),this.calcRenderedCommentPlaceholder()},Object.defineProperty(c.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(b){this.setPropertyValue("enableIf",b)},enumerable:!1,configurable:!0}),c.prototype.surveyChoiceItemVisibilityChange=function(){},c.prototype.runCondition=function(b,M){this.isDesignMode||(M||(M={}),M.question=this,this.runConditionCore(b,M),!this.isValueChangedDirectly&&(!this.isClearValueOnHidden||this.isVisibleInSurvey)&&(this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.runDefaultValueExpression(this.defaultValueRunner,b,M)))},Object.defineProperty(c.prototype,"no",{get:function(){return this.getPropertyValue("no")},enumerable:!1,configurable:!0}),c.prototype.calcNo=function(){if(!this.hasTitle||this.hideNumber)return"";var b=G.Helpers.getNumberByIndex(this.visibleIndex,this.getStartIndex());return this.survey&&(b=this.survey.getUpdatedQuestionNo(this,b)),b},c.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},c.prototype.onSurveyLoad=function(){this.isCustomWidgetRequested=!1,this.fireCallback(this.surveyLoadCallback),this.updateValueWithDefaults(),this.isEmpty()&&this.initDataFromSurvey(),this.calcRenderedCommentPlaceholder(),this.onIndentChanged()},c.prototype.onSetData=function(){l.prototype.onSetData.call(this),this.survey&&(this.initDataFromSurvey(),this.onSurveyValueChanged(this.value),this.updateValueWithDefaults(),this.onIndentChanged(),this.updateQuestionCss(),this.updateIsAnswered())},c.prototype.initDataFromSurvey=function(){if(this.data){var b=this.data.getValue(this.getValueName());(!G.Helpers.isValueEmpty(b)||!this.isLoadingFromJson)&&this.updateValueFromSurvey(b),this.initCommentFromSurvey()}},c.prototype.initCommentFromSurvey=function(){this.updateCommentFromSurvey(this.data&&this.requireUpdateCommentValue?this.data.getComment(this.getValueName()):"")},c.prototype.runExpression=function(b){if(this.survey&&b)return this.survey.runExpression(b)},Object.defineProperty(c.prototype,"autoGrowComment",{get:function(){return this.survey&&this.survey.autoGrowComment},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"allowResizeComment",{get:function(){return this.survey&&this.survey.allowResizeComment},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"questionValue",{get:function(){return this.getPropertyValueWithoutDefault("value")},set:function(b){this.setPropertyValue("value",b)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"questionComment",{get:function(){return this.getPropertyValueWithoutDefault("comment")},set:function(b){this.setPropertyValue("comment",b),this.fireCallback(this.commentChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isValueArray",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"value",{get:function(){return this.getValueCore()},set:function(b){this.setNewValue(b)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasFilteredValue",{get:function(){return!1},enumerable:!1,configurable:!0}),c.prototype.getFilteredValue=function(){return this.value},Object.defineProperty(c.prototype,"valueForSurvey",{get:function(){return this.valueToDataCallback?this.valueToDataCallback(this.value):this.value},enumerable:!1,configurable:!0}),c.prototype.clearValue=function(){void 0!==this.value&&(this.value=void 0),this.comment&&(this.comment=void 0),this.setValueChangedDirectly(!1)},c.prototype.unbindValue=function(){this.clearValue()},c.prototype.createValueCopy=function(){return this.getUnbindValue(this.value)},c.prototype.initDataUI=function(){},c.prototype.getUnbindValue=function(b){return this.isValueSurveyElement(b)?b:G.Helpers.getUnbindValue(b)},c.prototype.isValueSurveyElement=function(b){return!!b&&(Array.isArray(b)?b.length>0&&this.isValueSurveyElement(b[0]):!!b.getType&&!!b.onPropertyChanged)},c.prototype.canClearValueAsInvisible=function(b){return!(("onHiddenContainer"!==b||this.isParentVisible)&&(this.isVisibleInSurvey||this.page&&this.page.isStartPage||this.survey&&this.survey.hasVisibleQuestionByValueName(this.getValueName())))},Object.defineProperty(c.prototype,"isParentVisible",{get:function(){if(this.parentQuestion&&!this.parentQuestion.isVisible)return!1;for(var b=this.parent;b;){if(!b.isVisible)return!1;b=b.parent}return!0},enumerable:!1,configurable:!0}),c.prototype.clearValueIfInvisible=function(b){void 0===b&&(b="onHidden");var M=this.getClearIfInvisible();"none"!==M&&("onHidden"===b&&"onComplete"===M||"onHiddenContainer"===b&&M!==b||this.clearValueIfInvisibleCore(b))},c.prototype.clearValueIfInvisibleCore=function(b){this.canClearValueAsInvisible(b)&&(this.clearValue(),this.setValueChangedDirectly(void 0))},Object.defineProperty(c.prototype,"clearIfInvisible",{get:function(){return this.getPropertyValue("clearIfInvisible")},set:function(b){this.setPropertyValue("clearIfInvisible",b)},enumerable:!1,configurable:!0}),c.prototype.getClearIfInvisible=function(){var b=this.clearIfInvisible;return this.survey?this.survey.getQuestionClearIfInvisible(b):"default"!==b?b:"onComplete"},Object.defineProperty(c.prototype,"displayValue",{get:function(){return this.isLoadingFromJson?"":this.getDisplayValue(!0)},enumerable:!1,configurable:!0}),c.prototype.getDisplayValue=function(b,M){void 0===M&&(M=void 0);var D=this.calcDisplayValue(b,M);return this.survey&&(D=this.survey.getQuestionDisplayValue(this,D)),this.displayValueCallback?this.displayValueCallback(D):D},c.prototype.calcDisplayValue=function(b,M){if(void 0===M&&(M=void 0),this.customWidget){var D=this.customWidget.getDisplayValue(this,M);if(D)return D}return M=null==M?this.createValueCopy():M,this.isValueEmpty(M,!this.allowSpaceAsAnswer)?this.getDisplayValueEmpty():this.getDisplayValueCore(b,M)},c.prototype.getDisplayValueCore=function(b,M){return M},c.prototype.getDisplayValueEmpty=function(){return""},Object.defineProperty(c.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(b){this.isValueExpression(b)?this.defaultValueExpression=b.substring(1):(this.setPropertyValue("defaultValue",this.convertDefaultValue(b)),this.updateValueWithDefaults())},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"defaultValueExpression",{get:function(){return this.getPropertyValue("defaultValueExpression")},set:function(b){this.setPropertyValue("defaultValueExpression",b),this.defaultValueRunner=void 0,this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"resetValueIf",{get:function(){return this.getPropertyValue("resetValueIf")},set:function(b){this.setPropertyValue("resetValueIf",b)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"setValueIf",{get:function(){return this.getPropertyValue("setValueIf")},set:function(b){this.setPropertyValue("setValueIf",b)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"setValueExpression",{get:function(){return this.getPropertyValue("setValueExpression")},set:function(b){this.setPropertyValue("setValueExpression",b)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"resizeStyle",{get:function(){return this.allowResizeComment?"both":"none"},enumerable:!1,configurable:!0}),c.prototype.getPlainData=function(b){var M=this;if(b||(b={includeEmpty:!0,includeQuestionTypes:!1}),b.includeEmpty||!this.isEmpty()){var D={name:this.name,title:this.locTitle.renderedHtml,value:this.value,displayValue:this.displayValue,isNode:!1,getString:function(g){return"object"==typeof g?JSON.stringify(g):g}};return!0===b.includeQuestionTypes&&(D.questionType=this.getType()),(b.calculations||[]).forEach(function(g){D[g.propertyName]=M.getPlainDataCalculatedValue(g.propertyName)}),this.hasComment&&(D.isNode=!0,D.data=[{name:0,isComment:!0,title:"Comment",value:T.settings.commentSuffix,displayValue:this.comment,getString:function(g){return"object"==typeof g?JSON.stringify(g):g},isNode:!1}]),D}},c.prototype.getPlainDataCalculatedValue=function(b){return this[b]},Object.defineProperty(c.prototype,"correctAnswer",{get:function(){return this.getPropertyValue("correctAnswer")},set:function(b){this.setPropertyValue("correctAnswer",this.convertDefaultValue(b))},enumerable:!1,configurable:!0}),c.prototype.convertDefaultValue=function(b){return b},Object.defineProperty(c.prototype,"quizQuestionCount",{get:function(){return this.isVisible&&this.hasInput&&!this.isValueEmpty(this.correctAnswer)?this.getQuizQuestionCount():0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"correctAnswerCount",{get:function(){return this.isEmpty()||this.isValueEmpty(this.correctAnswer)?0:this.getCorrectAnswerCount()},enumerable:!1,configurable:!0}),c.prototype.getQuizQuestionCount=function(){return 1},c.prototype.getCorrectAnswerCount=function(){return this.checkIfAnswerCorrect()?1:0},c.prototype.checkIfAnswerCorrect=function(){var b=G.Helpers.isTwoValueEquals(this.value,this.correctAnswer,this.getAnswerCorrectIgnoreOrder(),T.settings.comparator.caseSensitive,!0),M=b?1:0,D={result:b,correctAnswer:M,correctAnswers:M,incorrectAnswers:this.quizQuestionCount-M};return this.survey&&this.survey.onCorrectQuestionAnswer(this,D),D.result},c.prototype.getAnswerCorrectIgnoreOrder=function(){return!1},c.prototype.isAnswerCorrect=function(){return this.correctAnswerCount==this.quizQuestionCount},c.prototype.updateValueWithDefaults=function(){this.isLoadingFromJson||!this.isDesignMode&&this.isDefaultValueEmpty()||!this.isDesignMode&&!this.isEmpty()||this.isEmpty()&&this.isDefaultValueEmpty()||this.isClearValueOnHidden&&!this.isVisible||this.isDesignMode&&this.isContentElement&&this.isDefaultValueEmpty()||this.setDefaultValue()},Object.defineProperty(c.prototype,"isClearValueOnHidden",{get:function(){var b=this.getClearIfInvisible();return"none"!==b&&"onComplete"!==b&&("onHidden"===b||"onHiddenContainer"===b)},enumerable:!1,configurable:!0}),c.prototype.getQuestionFromArray=function(b,M){return null},c.prototype.getDefaultValue=function(){return this.defaultValue},c.prototype.isDefaultValueEmpty=function(){return!this.defaultValueExpression&&this.isValueEmpty(this.defaultValue,!this.allowSpaceAsAnswer)},c.prototype.getDefaultRunner=function(b,M){return!b&&!!M&&(b=this.createExpressionRunner(M)),b&&(b.expression=M),b},c.prototype.setDefaultValue=function(){var b=this;this.setDefaultValueCore(function(M){b.isTwoValueEquals(b.value,M)||(b.value=M)})},c.prototype.setDefaultValueCore=function(b){this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.setValueAndRunExpression(this.defaultValueRunner,this.getUnbindValue(this.defaultValue),function(M){return b(M)})},c.prototype.isValueExpression=function(b){return!!b&&"string"==typeof b&&b.length>0&&"="==b[0]},c.prototype.setValueAndRunExpression=function(b,M,D,g,P){var A=this;void 0===g&&(g=null),void 0===P&&(P=null);var k=function(Z){A.runExpressionSetValue(Z,D)};this.runDefaultValueExpression(b,g,P,k)||k(M)},c.prototype.convertFuncValuetoQuestionValue=function(b){return G.Helpers.convertValToQuestionVal(b)},c.prototype.runExpressionSetValue=function(b,M){M(this.convertFuncValuetoQuestionValue(b))},c.prototype.runDefaultValueExpression=function(b,M,D,g){var P=this;return void 0===M&&(M=null),void 0===D&&(D=null),!(!b||!this.data||(g||(g=function(A){P.runExpressionSetValue(A,function(k){P.isTwoValueEquals(P.value,k)||(P.value=k)})}),M||(M=this.data.getFilteredValues()),D||(D=this.data.getFilteredProperties()),!!b&&b.canRun&&(b.onRunComplete=function(A){null==A&&(A=P.defaultValue),P.isChangingViaDefaultValue=!0,g(A),P.isChangingViaDefaultValue=!1},b.run(M,D)),0))},Object.defineProperty(c.prototype,"comment",{get:function(){return this.getQuestionComment()},set:function(b){if(b){var M=b.toString().trim();M!==b&&(b=M)===this.comment&&this.setPropertyValueDirectly("comment",b)}this.comment!=b&&(this.setQuestionComment(b),this.updateCommentElements())},enumerable:!1,configurable:!0}),c.prototype.getCommentAreaCss=function(b){return void 0===b&&(b=!1),(new y.CssClassBuilder).append("form-group",b).append(this.cssClasses.formGroup,!b).append(this.cssClasses.commentArea).toString()},c.prototype.getQuestionComment=function(){return this.questionComment},c.prototype.setQuestionComment=function(b){this.setNewComment(b)},c.prototype.isEmpty=function(){return this.isValueEmpty(this.value,!this.allowSpaceAsAnswer)},Object.defineProperty(c.prototype,"isAnswered",{get:function(){return this.getPropertyValue("isAnswered")},set:function(b){this.setPropertyValue("isAnswered",b)},enumerable:!1,configurable:!0}),c.prototype.updateIsAnswered=function(){var b=this.isAnswered;this.setPropertyValue("isAnswered",this.getIsAnswered()),b!==this.isAnswered&&this.updateQuestionCss()},c.prototype.getIsAnswered=function(){return!this.isEmpty()},Object.defineProperty(c.prototype,"validators",{get:function(){return this.getPropertyValue("validators")},set:function(b){this.setPropertyValue("validators",b)},enumerable:!1,configurable:!0}),c.prototype.getValidators=function(){return this.validators},c.prototype.getSupportedValidators=function(){for(var b=[],M=this.getType();M;){var D=T.settings.supportedValidators[M];if(D)for(var g=D.length-1;g>=0;g--)b.splice(0,0,D[g]);M=se.Serializer.findClass(M).parentName}return b},c.prototype.addConditionObjectsByContext=function(b,M){b.push({name:this.getValueName(),text:this.processedTitle,question:this})},c.prototype.getNestedQuestions=function(b){void 0===b&&(b=!1);var M=[];return this.collectNestedQuestions(M,b),1===M.length&&M[0]===this?[]:M},c.prototype.collectNestedQuestions=function(b,M){void 0===M&&(M=!1),(!M||this.isVisible)&&this.collectNestedQuestionsCore(b,M)},c.prototype.collectNestedQuestionsCore=function(b,M){b.push(this)},c.prototype.getConditionJson=function(b,M){void 0===b&&(b=null),void 0===M&&(M=null);var D=(new se.JsonObject).toJsonObject(this);return D.type=this.getType(),D},c.prototype.hasErrors=function(b,M){void 0===b&&(b=!0),void 0===M&&(M=null);var g=this.checkForErrors(!!M&&!0===M.isOnValueChanged);return b&&(this.survey&&this.survey.beforeSettingQuestionErrors(this,g),this.errors=g,this.errors!==g&&this.errors.forEach(function(P){return P.locText.strChanged()})),this.updateContainsErrors(),this.isCollapsed&&M&&b&&g.length>0&&this.expand(),g.length>0},c.prototype.validate=function(b,M){return void 0===b&&(b=!0),void 0===M&&(M=null),!!M&&M.isOnValueChanged&&this.parent&&this.parent.validateContainerOnly(),!this.hasErrors(b,M)},Object.defineProperty(c.prototype,"currentErrorCount",{get:function(){return this.errors.length},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"requiredText",{get:function(){return null!=this.survey&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),c.prototype.addError=function(b){if(b){var M;M="string"==typeof b||b instanceof String?new w.CustomError(b,this.survey):b,this.errors.push(M)}},c.prototype.removeError=function(b){var M=this.errors,D=M.indexOf(b);-1!==D&&M.splice(D,1)},c.prototype.checkForErrors=function(b){var M=new Array;return this.isVisible&&this.canCollectErrors()&&this.collectErrors(M,b),M},c.prototype.canCollectErrors=function(){return!this.isReadOnly||T.settings.readOnly.enableValidation},c.prototype.collectErrors=function(b,M){if(this.onCheckForErrors(b,M),!(b.length>0)&&this.canRunValidators(M)){var D=this.runValidators();if(D.length>0){b.length=0;for(var g=0;g<D.length;g++)b.push(D[g])}if(this.survey&&0==b.length){var P=this.fireSurveyValidation();P&&b.push(P)}}},c.prototype.canRunValidators=function(b){return!0},c.prototype.fireSurveyValidation=function(){return this.validateValueCallback?this.validateValueCallback():this.survey?this.survey.validateQuestion(this):null},c.prototype.onCheckForErrors=function(b,M){var D=this;if((!M||this.isOldAnswered)&&this.hasRequiredError()){var g=new w.AnswerRequiredError(this.requiredErrorText,this);g.onUpdateErrorTextCallback=function(P){P.text=D.requiredErrorText},b.push(g)}},c.prototype.hasRequiredError=function(){return this.isRequired&&this.isEmpty()},Object.defineProperty(c.prototype,"isRunningValidators",{get:function(){return this.getIsRunningValidators()},enumerable:!1,configurable:!0}),c.prototype.getIsRunningValidators=function(){return this.isRunningValidatorsValue},c.prototype.runValidators=function(){var b=this;return this.validatorRunner&&(this.validatorRunner.onAsyncCompleted=null),this.validatorRunner=new F.ValidatorRunner,this.isRunningValidatorsValue=!0,this.validatorRunner.onAsyncCompleted=function(M){b.doOnAsyncCompleted(M)},this.validatorRunner.run(this)},c.prototype.doOnAsyncCompleted=function(b){for(var M=0;M<b.length;M++)this.errors.push(b[M]);this.isRunningValidatorsValue=!1,this.raiseOnCompletedAsyncValidators()},c.prototype.raiseOnCompletedAsyncValidators=function(){this.onCompletedAsyncValidators&&!this.isRunningValidators&&(this.onCompletedAsyncValidators(this.getAllErrors().length>0),this.onCompletedAsyncValidators=null)},c.prototype.setNewValue=function(b){this.isNewValueEqualsToValue(b)||!this.checkIsValueCorrect(b)||(this.isOldAnswered=this.isAnswered,this.isSettingQuestionValue=!0,this.setNewValueInData(b),this.allowNotifyValueChanged&&this.onValueChanged(),this.isSettingQuestionValue=!1,this.isAnswered!==this.isOldAnswered&&this.updateQuestionCss(),this.isOldAnswered=void 0)},c.prototype.checkIsValueCorrect=function(b){var M=this.isValueEmpty(b,!this.allowSpaceAsAnswer)||this.isNewValueCorrect(b);return M||v.ConsoleWarnings.inCorrectQuestionValue(this.name,b),M},c.prototype.isNewValueCorrect=function(b){return!0},c.prototype.isNewValueEqualsToValue=function(b){var M=this.value;return!(!this.isTwoValueEquals(b,M,!1,!1)||b===M&&M&&(Array.isArray(M)||"object"==typeof M))},c.prototype.isTextValue=function(){return!1},Object.defineProperty(c.prototype,"isSurveyInputTextUpdate",{get:function(){return!!this.survey&&this.survey.isUpdateValueTextOnTyping},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"requireStrictCompare",{get:function(){return!1},enumerable:!1,configurable:!0}),c.prototype.getDataLocNotification=function(){return!!this.isInputTextUpdate&&"text"},Object.defineProperty(c.prototype,"isInputTextUpdate",{get:function(){return this.isSurveyInputTextUpdate&&this.isTextValue()},enumerable:!1,configurable:!0}),c.prototype.setNewValueInData=function(b){b=this.valueToData(b),this.isValueChangedInSurvey||this.setValueCore(b)},c.prototype.getValueCore=function(){return this.questionValue},c.prototype.setValueCore=function(b){this.setQuestionValue(b),null!=this.data&&this.canSetValueToSurvey()&&(b=this.valueForSurvey,this.data.setValue(this.getValueName(),b,this.getDataLocNotification(),this.allowNotifyValueChanged,this.name)),this.isMouseDown=!1},c.prototype.canSetValueToSurvey=function(){return!0},c.prototype.valueFromData=function(b){return b},c.prototype.valueToData=function(b){return b},c.prototype.convertToCorrectValue=function(b){return b},c.prototype.onValueChanged=function(){},c.prototype.onMouseDown=function(){this.isMouseDown=!0},c.prototype.setNewComment=function(b){this.questionComment!==b&&(this.questionComment=b,this.setCommentIntoData(b))},c.prototype.setCommentIntoData=function(b){null!=this.data&&this.data.setComment(this.getValueName(),b,!!this.isSurveyInputTextUpdate&&"text")},c.prototype.getValidName=function(b){return s(b)},c.prototype.updateValueFromSurvey=function(b,M){var D=this;if(void 0===M&&(M=!1),b=this.getUnbindValue(b),this.valueFromDataCallback&&(b=this.valueFromDataCallback(b)),this.checkIsValueCorrect(b)){var g=this.isValueEmpty(b);!g&&this.defaultValueExpression?this.setDefaultValueCore(function(P){D.updateValueFromSurveyCore(b,D.isTwoValueEquals(b,P))}):(this.updateValueFromSurveyCore(b,this.data!==this.getSurvey()),M&&g&&(this.isValueChangedDirectly=!1)),this.updateDependedQuestions(),this.updateIsAnswered()}},c.prototype.updateValueFromSurveyCore=function(b,M){this.isChangingViaDefaultValue=M,this.setQuestionValue(this.valueFromData(b)),this.isChangingViaDefaultValue=!1},c.prototype.updateCommentFromSurvey=function(b){this.questionComment=b},c.prototype.onChangeQuestionValue=function(b){},c.prototype.setValueChangedDirectly=function(b){this.isValueChangedDirectly=b,this.setValueChangedDirectlyCallback&&this.setValueChangedDirectlyCallback(b)},c.prototype.setQuestionValue=function(b,M){void 0===M&&(M=!0),b=this.convertToCorrectValue(b);var D=this.isTwoValueEquals(this.questionValue,b);!D&&!this.isChangingViaDefaultValue&&!this.isParentChangingViaDefaultValue&&this.setValueChangedDirectly(!0),this.questionValue=b,D||this.onChangeQuestionValue(b),!D&&this.allowNotifyValueChanged&&this.fireCallback(this.valueChangedCallback),M&&this.updateIsAnswered()},Object.defineProperty(c.prototype,"isParentChangingViaDefaultValue",{get:function(){var b;return!0===(null===(b=this.data)||void 0===b?void 0:b.isChangingViaDefaultValue)},enumerable:!1,configurable:!0}),c.prototype.onSurveyValueChanged=function(b){},c.prototype.setVisibleIndex=function(b){return(!this.isVisible||!this.hasTitle&&!T.settings.numbering.includeQuestionsWithHiddenTitle||this.hideNumber&&!T.settings.numbering.includeQuestionsWithHiddenNumber)&&(b=-1),this.setPropertyValue("visibleIndex",b),this.setPropertyValue("no",this.calcNo()),b<0?0:1},c.prototype.removeElement=function(b){return!1},c.prototype.supportGoNextPageAutomatic=function(){return!1},c.prototype.supportGoNextPageError=function(){return!0},c.prototype.clearIncorrectValues=function(){},c.prototype.clearOnDeletingContainer=function(){},c.prototype.clearErrors=function(){this.errors=[]},c.prototype.clearUnusedValues=function(){},c.prototype.onAnyValueChanged=function(b,M){},c.prototype.checkBindings=function(b,M){if(!this.bindings.isEmpty()&&this.data)for(var D=this.bindings.getPropertiesByValueName(b),g=0;g<D.length;g++){var P=D[g];this.isValueEmpty(M)&&G.Helpers.isNumber(this[P])&&(M=0),this[P]=M}},c.prototype.getComponentName=function(){return C.RendererFactory.Instance.getRendererByQuestion(this)},c.prototype.isDefaultRendering=function(){return!!this.customWidget||"default"===this.renderAs||"default"===this.getComponentName()},c.prototype.getErrorCustomText=function(b,M){return this.survey?this.survey.getSurveyErrorCustomText(this,b,M):b},c.prototype.getValidatorTitle=function(){return null},Object.defineProperty(c.prototype,"validatedValue",{get:function(){return this.value},set:function(b){this.value=b},enumerable:!1,configurable:!0}),c.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},c.prototype.processPopupVisiblilityChanged=function(b,M){this.survey.processPopupVisiblityChanged(this,b,M)},c.prototype.onTextKeyDownHandler=function(b){13===b.keyCode&&this.survey.questionEditFinishCallback(this,b)},c.prototype.transformToMobileView=function(){},c.prototype.transformToDesktopView=function(){},c.prototype.needResponsiveWidth=function(){return!1},c.prototype.supportResponsiveness=function(){return!1},c.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme&&!this.isDesignMode},c.prototype.checkForResponsiveness=function(b){var M=this;this.needResponsiveness()&&(this.isCollapsed?this.registerPropertyChangedHandlers(["state"],function(){M.isExpanded&&(M.initResponsiveness(b),M.unregisterPropertyChangedHandlers(["state"],"for-responsiveness"))},"for-responsiveness"):this.initResponsiveness(b))},c.prototype.getObservedElementSelector=function(){return".sd-scrollable-container"},c.prototype.onMobileChanged=function(){this.onMobileChangedCallback&&this.onMobileChangedCallback()},c.prototype.triggerResponsiveness=function(b){void 0===b&&(b=!0),this.triggerResponsivenessCallback&&this.triggerResponsivenessCallback(b)},c.prototype.initResponsiveness=function(b){var M=this;if(this.destroyResizeObserver(),b&&this.isDefaultRendering()){var D=this.getObservedElementSelector();if(!D)return;if(!b.querySelector(D))return;var P=!1,A=void 0;this.triggerResponsivenessCallback=function(k){k&&(A=void 0,M.renderAs="default",P=!1);var Z=function(){var re=b.querySelector(D);!A&&M.isDefaultRendering()&&(A=re.scrollWidth),P=!(P||!Object(h.isContainerVisible)(re))&&M.processResponsiveness(A,Object(h.getElementWidth)(re))};k?setTimeout(Z,1):Z()},this.resizeObserver=new ResizeObserver(function(k){window.requestAnimationFrame(function(){M.triggerResponsiveness(!1)})}),this.onMobileChangedCallback=function(){setTimeout(function(){var k=b.querySelector(D);M.processResponsiveness(A,Object(h.getElementWidth)(k))},0)},this.resizeObserver.observe(b)}},c.prototype.getCompactRenderAs=function(){return"default"},c.prototype.getDesktopRenderAs=function(){return"default"},c.prototype.processResponsiveness=function(b,M){if(M=Math.round(M),Math.abs(b-M)>2){var D=this.renderAs;return this.renderAs=b>M?this.getCompactRenderAs():this.getDesktopRenderAs(),D!==this.renderAs}return!1},c.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0,this.onMobileChangedCallback=void 0,this.triggerResponsivenessCallback=void 0,this.renderAs=this.getDesktopRenderAs())},c.prototype.dispose=function(){l.prototype.dispose.call(this),this.resetDependedQuestions(),this.destroyResizeObserver()},c.prototype.resetDependedQuestions=function(){for(var b=0;b<this.dependedQuestions.length;b++)this.dependedQuestions[b].resetDependedQuestion()},Object.defineProperty(c.prototype,"isNewA11yStructure",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ariaLabel",{get:function(){return this.isNewA11yStructure?null:this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ariaRole",{get:function(){return this.isNewA11yStructure?null:"textbox"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ariaRequired",{get:function(){return this.isNewA11yStructure?null:this.isRequired?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ariaInvalid",{get:function(){return this.isNewA11yStructure?null:this.hasCssError()?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ariaLabelledBy",{get:function(){return this.isNewA11yStructure?null:this.hasTitle?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ariaExpanded",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ariaDescribedBy",{get:function(){return this.isNewA11yStructure?null:this.hasCssError()?this.id+"_errors":null},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"a11y_input_ariaRole",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"a11y_input_ariaRequired",{get:function(){return this.isRequired?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"a11y_input_ariaInvalid",{get:function(){return this.hasCssError()?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"a11y_input_ariaLabel",{get:function(){return this.hasTitle&&!this.parentQuestion?null:this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"a11y_input_ariaLabelledBy",{get:function(){return this.hasTitle&&!this.parentQuestion?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"a11y_input_ariaDescribedBy",{get:function(){return this.hasCssError()?this.id+"_errors":null},enumerable:!1,configurable:!0}),c.TextPreprocessorValuesMap={title:"processedTitle",require:"requiredText"},c.questionCounter=100,u([Object(se.property)({defaultValue:!1})],c.prototype,"isMobile",void 0),u([Object(se.property)()],c.prototype,"forceIsInputReadOnly",void 0),u([Object(se.property)({localizable:!0,onSet:function(b,M){return M.calcRenderedCommentPlaceholder()}})],c.prototype,"commentPlaceholder",void 0),u([Object(se.property)()],c.prototype,"renderAs",void 0),u([Object(se.property)({defaultValue:!1})],c.prototype,"inMatrixMode",void 0),c}($.SurveyElement);function s(l){if(!l)return l;for(l=l.trim().replace(/[\{\}]+/g,"");l&&l[0]===T.settings.expressionDisableConversionChar;)l=l.substring(1);return l}se.Serializer.addClass("question",[{name:"!name",onSettingValue:function(l,c){return s(c)}},{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"useDisplayValuesInDynamicTexts:boolean",alternativeName:"useDisplayValuesInTitle",default:!0,layout:"row"},"visibleIf:condition",{name:"width"},{name:"minWidth",defaultFunc:function(){return T.settings.minWidth}},{name:"maxWidth",defaultFunc:function(){return T.settings.maxWidth}},{name:"startWithNewLine:boolean",default:!0,layout:"row"},{name:"indent:number",default:0,choices:[0,1,2,3],layout:"row"},{name:"page",isSerializable:!1,visibleIf:function(l){var c=l?l.survey:null;return!c||!c.pages||c.pages.length>1},choices:function(l){var c=l?l.survey:null;return c?c.pages.map(function(b){return{value:b.name,text:b.title}}):[]}},{name:"title:text",serializationProperty:"locTitle",layout:"row",dependsOn:"name",onPropertyEditorUpdate:function(l,c){l&&c&&(c.placeholder=l.name)}},{name:"titleLocation",default:"default",choices:["default","top","bottom","left","hidden"],layout:"row"},{name:"description:text",serializationProperty:"locDescription",layout:"row"},{name:"descriptionLocation",default:"default",choices:["default","underInput","underTitle"]},{name:"hideNumber:boolean",dependsOn:"titleLocation",visibleIf:function(l){if(!l)return!0;if("hidden"===l.titleLocation)return!1;var c=l?l.parent:null;if(c&&"off"===c.showQuestionNumbers)return!1;var M=l?l.survey:null;return!M||"off"!==M.showQuestionNumbers||!!c&&"onpanel"===c.showQuestionNumbers}},{name:"valueName",onSettingValue:function(l,c){return s(c)}},"enableIf:condition","resetValueIf:condition","setValueIf:condition","setValueExpression:expression","defaultValue:value",{name:"defaultValueExpression:expression",category:"logic"},"correctAnswer:value",{name:"clearIfInvisible",default:"default",choices:["default","none","onComplete","onHidden","onHiddenContainer"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},"requiredIf:condition",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"errorLocation",default:"default",choices:["default","top","bottom"]},{name:"readOnly:switch",overridingProperty:"enableIf"},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"bindings:bindings",serializationProperty:"bindings",visibleIf:function(l){return l.bindings.getNames().length>0}},{name:"renderAs",default:"default",visible:!1},{name:"showCommentArea",visible:!1,default:!1,alternativeName:"hasComment",category:"general"},{name:"commentText",dependsOn:"showCommentArea",visibleIf:function(l){return l.showCommentArea},serializationProperty:"locCommentText",layout:"row"},{name:"commentPlaceholder",alternativeName:"commentPlaceHolder",serializationProperty:"locCommentPlaceholder",dependsOn:"showCommentArea",visibleIf:function(l){return l.hasComment}}]),se.Serializer.addAlterNativeClassName("question","questionbase")},"./src/questionCustomWidgets.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionCustomWidget",function(){return se}),x.d(j,"CustomWidgetCollection",function(){return $});var G=x("./src/base.ts"),se=function(){function w(F,R){this.name=F,this.widgetJson=R,this.htmlTemplate=R.htmlTemplate?R.htmlTemplate:""}return w.prototype.afterRender=function(F,R){var L=this;!this.widgetJson.afterRender||(F.localeChangedCallback=function(){L.widgetJson.willUnmount&&L.widgetJson.willUnmount(F,R),L.widgetJson.afterRender(F,R)},this.widgetJson.afterRender(F,R))},w.prototype.willUnmount=function(F,R){this.widgetJson.willUnmount&&this.widgetJson.willUnmount(F,R)},w.prototype.getDisplayValue=function(F,R){return void 0===R&&(R=void 0),this.widgetJson.getDisplayValue?this.widgetJson.getDisplayValue(F,R):null},w.prototype.isFit=function(F){return!(!this.isLibraryLoaded()||!this.widgetJson.isFit)&&this.widgetJson.isFit(F)},Object.defineProperty(w.prototype,"canShowInToolbox",{get:function(){return!1!==this.widgetJson.showInToolbox&&"customtype"==$.Instance.getActivatedBy(this.name)&&(!this.widgetJson.widgetIsLoaded||this.widgetJson.widgetIsLoaded())},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"showInToolbox",{get:function(){return!1!==this.widgetJson.showInToolbox},set:function(F){this.widgetJson.showInToolbox=F},enumerable:!1,configurable:!0}),w.prototype.init=function(){this.widgetJson.init&&this.widgetJson.init()},w.prototype.activatedByChanged=function(F){this.isLibraryLoaded()&&this.widgetJson.activatedByChanged&&this.widgetJson.activatedByChanged(F)},w.prototype.isLibraryLoaded=function(){return!this.widgetJson.widgetIsLoaded||1==this.widgetJson.widgetIsLoaded()},Object.defineProperty(w.prototype,"isDefaultRender",{get:function(){return this.widgetJson.isDefaultRender},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"pdfQuestionType",{get:function(){return this.widgetJson.pdfQuestionType},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"pdfRender",{get:function(){return this.widgetJson.pdfRender},enumerable:!1,configurable:!0}),w}(),$=function(){function w(){this.widgetsValues=[],this.widgetsActivatedBy={},this.onCustomWidgetAdded=new G.Event}return Object.defineProperty(w.prototype,"widgets",{get:function(){return this.widgetsValues},enumerable:!1,configurable:!0}),w.prototype.add=function(F,R){void 0===R&&(R="property"),this.addCustomWidget(F,R)},w.prototype.addCustomWidget=function(F,R){void 0===R&&(R="property");var L=F.name;L||(L="widget_"+this.widgets.length+1);var m=new se(L,F);return this.widgetsValues.push(m),m.init(),this.widgetsActivatedBy[L]=R,m.activatedByChanged(R),this.onCustomWidgetAdded.fire(m,null),m},w.prototype.getActivatedBy=function(F){return this.widgetsActivatedBy[F]||"property"},w.prototype.setActivatedBy=function(F,R){if(F&&R){var L=this.getCustomWidgetByName(F);!L||(this.widgetsActivatedBy[F]=R,L.activatedByChanged(R))}},w.prototype.clear=function(){this.widgetsValues=[]},w.prototype.getCustomWidgetByName=function(F){for(var R=0;R<this.widgets.length;R++)if(this.widgets[R].name==F)return this.widgets[R];return null},w.prototype.getCustomWidget=function(F){for(var R=0;R<this.widgetsValues.length;R++)if(this.widgetsValues[R].isFit(F))return this.widgetsValues[R];return null},w.Instance=new w,w}()},"./src/question_baseselect.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionSelectBase",function(){return d}),x.d(j,"QuestionCheckboxBase",function(){return u});var o,G=x("./src/jsonobject.ts"),se=x("./src/survey.ts"),$=x("./src/question.ts"),w=x("./src/itemvalue.ts"),F=x("./src/surveyStrings.ts"),R=x("./src/error.ts"),L=x("./src/choicesRestful.ts"),m=x("./src/conditions.ts"),T=x("./src/helpers.ts"),C=x("./src/settings.ts"),y=x("./src/utils/cssClassBuilder.ts"),h=x("./src/utils/utils.ts"),v=(o=function(s,l){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=b}||function(c,b){for(var M in b)Object.prototype.hasOwnProperty.call(b,M)&&(c[M]=b[M])})(s,l)},function(s,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=s}o(s,l),s.prototype=null===l?Object.create(l):(c.prototype=l.prototype,new c)}),f=function(o,s,l,c){var D,b=arguments.length,M=b<3?s:null===c?c=Object.getOwnPropertyDescriptor(s,l):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(o,s,l,c);else for(var g=o.length-1;g>=0;g--)(D=o[g])&&(M=(b<3?D(M):b>3?D(s,l,M):D(s,l))||M);return b>3&&M&&Object.defineProperty(s,l,M),M},d=function(o){function s(l){var c=o.call(this,l)||this;c.otherItemValue=new w.ItemValue("other"),c.isSettingDefaultValue=!1,c.isSettingComment=!1,c.isRunningChoices=!1,c.isFirstLoadChoicesFromUrl=!0,c.isUpdatingChoicesDependedQuestions=!1,c.headItemsCount=0,c.footItemsCount=0,c.prevIsOtherSelected=!1,c.noneItemValue=c.createDefaultItem(C.settings.noneItemValue,"noneText","noneItemText"),c.refuseItemValue=c.createDefaultItem(C.settings.refuseItemValue,"refuseText","refuseItemText"),c.dontKnowItemValue=c.createDefaultItem(C.settings.dontKnowItemValue,"dontKnowText","dontKnowItemText"),c.createItemValues("choices"),c.registerPropertyChangedHandlers(["choices"],function(){c.filterItems()||c.onVisibleChoicesChanged()}),c.registerPropertyChangedHandlers(["choicesFromQuestion","choicesFromQuestionMode","choiceValuesFromQuestion","choiceTextsFromQuestion","showNoneItem","showRefuseItem","showDontKnowItem","isUsingRestful","isMessagePanelVisible"],function(){c.onVisibleChoicesChanged()}),c.registerPropertyChangedHandlers(["hideIfChoicesEmpty"],function(){c.onVisibleChanged()}),c.createNewArray("visibleChoices"),c.setNewRestfulProperty();var b=c.createLocalizableString("otherText",c.otherItemValue,!0,"otherItemText");return c.createLocalizableString("otherErrorText",c,!0,"otherRequiredError"),c.otherItemValue.locOwner=c,c.otherItemValue.setLocText(b),c.choicesByUrl.createItemValue=function(M){return c.createItemValue(M)},c.choicesByUrl.beforeSendRequestCallback=function(){c.onBeforeSendRequest()},c.choicesByUrl.getResultCallback=function(M){c.onLoadChoicesFromUrl(M)},c.choicesByUrl.updateResultCallback=function(M,D){return c.survey?c.survey.updateChoicesFromServer(c,M,D):M},c}return v(s,o),Object.defineProperty(s.prototype,"waitingChoicesByURL",{get:function(){return!this.isChoicesLoaded&&this.hasChoicesUrl},enumerable:!1,configurable:!0}),s.prototype.getType=function(){return"selectbase"},s.prototype.dispose=function(){o.prototype.dispose.call(this);var l=this.getQuestionWithChoices();l&&l.removeDependedQuestion(this)},s.prototype.resetDependedQuestion=function(){this.choicesFromQuestion=""},Object.defineProperty(s.prototype,"otherId",{get:function(){return this.id+"_other"},enumerable:!1,configurable:!0}),s.prototype.getCommentElementsId=function(){return[this.commentId,this.otherId]},s.prototype.getItemValueType=function(){return"itemvalue"},s.prototype.createItemValue=function(l,c){var b=G.Serializer.createClass(this.getItemValueType(),l);return b.locOwner=this,c&&(b.text=c),b},Object.defineProperty(s.prototype,"isUsingCarryForward",{get:function(){return!!this.carryForwardQuestionType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"carryForwardQuestionType",{get:function(){return this.getPropertyValue("carryForwardQuestionType")},enumerable:!1,configurable:!0}),s.prototype.setCarryForwardQuestionType=function(l,c){this.setPropertyValue("carryForwardQuestionType",l?"select":c?"array":void 0)},Object.defineProperty(s.prototype,"isUsingRestful",{get:function(){return this.getPropertyValueWithoutDefault("isUsingRestful")||!1},enumerable:!1,configurable:!0}),s.prototype.updateIsUsingRestful=function(){this.setPropertyValueDirectly("isUsingRestful",this.hasChoicesUrl)},s.prototype.supportGoNextPageError=function(){return!this.isOtherSelected||!!this.otherValue},s.prototype.isLayoutTypeSupported=function(l){return!0},s.prototype.localeChanged=function(){o.prototype.localeChanged.call(this),"none"!==this.choicesOrder&&(this.updateVisibleChoices(),this.onVisibleChoicesChanged())},s.prototype.locStrsChanged=function(){o.prototype.locStrsChanged.call(this),this.choicesFromUrl&&(w.ItemValue.locStrsChanged(this.choicesFromUrl),w.ItemValue.locStrsChanged(this.visibleChoices))},Object.defineProperty(s.prototype,"otherValue",{get:function(){return this.showCommentArea?this.otherValueCore:this.comment},set:function(l){this.showCommentArea?this.setOtherValueInternally(l):this.comment=l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"otherValueCore",{get:function(){return this.getPropertyValue("otherValue")},set:function(l){this.setPropertyValue("otherValue",l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"otherItem",{get:function(){return this.otherItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isOtherSelected",{get:function(){return this.hasOther&&this.getHasOther(this.renderedValue)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isNoneSelected",{get:function(){return this.showNoneItem&&this.getIsItemValue(this.renderedValue,this.noneItem)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"showNoneItem",{get:function(){return this.getPropertyValue("showNoneItem")},set:function(l){this.setPropertyValue("showNoneItem",l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasNone",{get:function(){return this.showNoneItem},set:function(l){this.showNoneItem=l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"noneItem",{get:function(){return this.noneItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"noneText",{get:function(){return this.getLocalizableStringText("noneText")},set:function(l){this.setLocalizableStringText("noneText",l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"locNoneText",{get:function(){return this.getLocalizableString("noneText")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"showRefuseItem",{get:function(){return this.getPropertyValue("showRefuseItem")},set:function(l){this.setPropertyValue("showRefuseItem",l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"refuseItem",{get:function(){return this.refuseItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"refuseText",{get:function(){return this.getLocalizableStringText("refuseText")},set:function(l){this.setLocalizableStringText("refuseText",l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"locRefuseText",{get:function(){return this.getLocalizableString("refuseText")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"showDontKnowItem",{get:function(){return this.getPropertyValue("showDontKnowItem")},set:function(l){this.setPropertyValue("showDontKnowItem",l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dontKnowItem",{get:function(){return this.dontKnowItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dontKnowText",{get:function(){return this.getLocalizableStringText("dontKnowText")},set:function(l){this.setLocalizableStringText("dontKnowText",l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"locDontKnowText",{get:function(){return this.getLocalizableString("dontKnowText")},enumerable:!1,configurable:!0}),s.prototype.createDefaultItem=function(l,c,b){var M=new w.ItemValue(l),D=this.createLocalizableString(c,M,!0,b);return M.locOwner=this,M.setLocText(D),M},Object.defineProperty(s.prototype,"choicesVisibleIf",{get:function(){return this.getPropertyValue("choicesVisibleIf","")},set:function(l){this.setPropertyValue("choicesVisibleIf",l),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"choicesEnableIf",{get:function(){return this.getPropertyValue("choicesEnableIf","")},set:function(l){this.setPropertyValue("choicesEnableIf",l),this.filterItems()},enumerable:!1,configurable:!0}),s.prototype.surveyChoiceItemVisibilityChange=function(){this.filterItems()},s.prototype.runCondition=function(l,c){o.prototype.runCondition.call(this,l,c),this.runItemsEnableCondition(l,c),this.runItemsCondition(l,c)},s.prototype.isTextValue=function(){return!0},s.prototype.setDefaultValue=function(){this.isSettingDefaultValue=!this.isValueEmpty(this.defaultValue)&&this.hasUnknownValue(this.defaultValue),this.prevOtherValue=void 0,o.prototype.setDefaultValue.call(this),this.isSettingDefaultValue=!1},s.prototype.getIsMultipleValue=function(){return!1},s.prototype.convertDefaultValue=function(l){if(null==l||null==l)return l;if(this.getIsMultipleValue()){if(!Array.isArray(l))return[l]}else if(Array.isArray(l)&&l.length>0)return l[0];return l},s.prototype.filterItems=function(){if(this.isLoadingFromJson||!this.data||this.areInvisibleElementsShowing)return!1;var l=this.getDataFilteredValues(),c=this.getDataFilteredProperties();return this.runItemsEnableCondition(l,c),this.runItemsCondition(l,c)},s.prototype.runItemsCondition=function(l,c){this.setConditionalChoicesRunner();var b=this.runConditionsForItems(l,c);return!!this.filteredChoicesValue&&this.filteredChoicesValue.length===this.activeChoices.length&&(this.filteredChoicesValue=void 0),b&&(this.onVisibleChoicesChanged(),this.clearIncorrectValues()),b},s.prototype.runItemsEnableCondition=function(l,c){var b=this;this.setConditionalEnableChoicesRunner(),w.ItemValue.runEnabledConditionsForItems(this.activeChoices,this.conditionChoicesEnableIfRunner,l,c,function(D,g){return g&&b.onEnableItemCallBack(D)})&&this.clearDisabledValues(),this.onAfterRunItemsEnableCondition()},s.prototype.onAfterRunItemsEnableCondition=function(){},s.prototype.onEnableItemCallBack=function(l){return!0},s.prototype.onSelectedItemValuesChangedHandler=function(l){var c;null===(c=this.survey)||void 0===c||c.loadedChoicesFromServer(this)},s.prototype.getItemIfChoicesNotContainThisValue=function(l,c){return this.waitingChoicesByURL?this.createItemValue(l,c):null},s.prototype.getSingleSelectedItem=function(){var l=this.selectedItemValues;if(this.isEmpty())return null;var c=w.ItemValue.getItemByValue(this.visibleChoices,this.value);return this.onGetSingleSelectedItem(c),!c&&(!l||this.value!=l.id)&&this.updateSelectedItemValues(),c||l||(this.isOtherSelected?this.otherItem:this.getItemIfChoicesNotContainThisValue(this.value))},s.prototype.onGetSingleSelectedItem=function(l){},s.prototype.getMultipleSelectedItems=function(){return[]},s.prototype.setConditionalChoicesRunner=function(){this.choicesVisibleIf?(this.conditionChoicesVisibleIfRunner||(this.conditionChoicesVisibleIfRunner=new m.ConditionRunner(this.choicesVisibleIf)),this.conditionChoicesVisibleIfRunner.expression=this.choicesVisibleIf):this.conditionChoicesVisibleIfRunner=null},s.prototype.setConditionalEnableChoicesRunner=function(){this.choicesEnableIf?(this.conditionChoicesEnableIfRunner||(this.conditionChoicesEnableIfRunner=new m.ConditionRunner(this.choicesEnableIf)),this.conditionChoicesEnableIfRunner.expression=this.choicesEnableIf):this.conditionChoicesEnableIfRunner=null},s.prototype.canSurveyChangeItemVisibility=function(){return!!this.survey&&this.survey.canChangeChoiceItemsVisibility()},s.prototype.changeItemVisisbility=function(){var l=this;return this.canSurveyChangeItemVisibility()?function(c,b){return l.survey.getChoiceItemVisibility(l,c,b)}:null},s.prototype.runConditionsForItems=function(l,c){this.filteredChoicesValue=[];var b=this.changeItemVisisbility();return w.ItemValue.runConditionsForItems(this.activeChoices,this.getFilteredChoices(),this.areInvisibleElementsShowing?null:this.conditionChoicesVisibleIfRunner,l,c,!this.survey||!this.survey.areInvisibleElementsShowing,function(M,D){return b?b(M,D):D})},s.prototype.getHasOther=function(l){return this.getIsItemValue(l,this.otherItem)},s.prototype.getIsItemValue=function(l,c){return l===c.value},Object.defineProperty(s.prototype,"validatedValue",{get:function(){return this.rendredValueToDataCore(this.value)},enumerable:!1,configurable:!0}),s.prototype.createRestful=function(){return new L.ChoicesRestful},s.prototype.setNewRestfulProperty=function(){this.setPropertyValue("choicesByUrl",this.createRestful()),this.choicesByUrl.owner=this,this.choicesByUrl.loadingOwner=this},Object.defineProperty(s.prototype,"autoOtherMode",{get:function(){return this.getPropertyValue("autoOtherMode")},set:function(l){this.setPropertyValue("autoOtherMode",l)},enumerable:!1,configurable:!0}),s.prototype.getQuestionComment=function(){return this.showCommentArea?o.prototype.getQuestionComment.call(this):this.otherValueCore?this.otherValueCore:this.hasComment||this.getStoreOthersAsComment()?o.prototype.getQuestionComment.call(this):this.otherValueCore},s.prototype.selectOtherValueFromComment=function(l){this.value=l?this.otherItem.value:void 0},s.prototype.setQuestionComment=function(l){this.showCommentArea?o.prototype.setQuestionComment.call(this,l):(this.onUpdateCommentOnAutoOtherMode(l),this.getStoreOthersAsComment()?o.prototype.setQuestionComment.call(this,l):this.setOtherValueInternally(l),this.updateChoicesDependedQuestions())},s.prototype.onUpdateCommentOnAutoOtherMode=function(l){if(this.autoOtherMode){this.prevOtherValue=void 0;var c=this.isOtherSelected;(!c&&l||c&&!l)&&this.selectOtherValueFromComment(!!l)}},s.prototype.setOtherValueInternally=function(l){!this.isSettingComment&&l!=this.otherValueCore&&(this.isSettingComment=!0,this.otherValueCore=l,this.isOtherSelected&&!this.isRenderedValueSetting&&(this.value=this.rendredValueToData(this.renderedValue)),this.isSettingComment=!1)},s.prototype.clearValue=function(){o.prototype.clearValue.call(this),this.prevOtherValue=void 0},s.prototype.updateCommentFromSurvey=function(l){o.prototype.updateCommentFromSurvey.call(this,l),this.prevOtherValue=void 0},Object.defineProperty(s.prototype,"renderedValue",{get:function(){return this.getPropertyValue("renderedValue",null)},set:function(c){this.setPropertyValue("renderedValue",c),c=this.rendredValueToData(c),this.isTwoValueEquals(c,this.value)||(this.value=c)},enumerable:!1,configurable:!0}),s.prototype.setQuestionValue=function(l,c,b){if(void 0===c&&(c=!0),void 0===b&&(b=!0),!this.isLoadingFromJson&&!this.isTwoValueEquals(this.value,l)&&(o.prototype.setQuestionValue.call(this,l,c),this.setPropertyValue("renderedValue",this.rendredValueFromData(l)),this.updateChoicesDependedQuestions(),!this.hasComment&&b)){var M=this.isOtherSelected;if(M&&this.prevOtherValue){var D=this.prevOtherValue;this.prevOtherValue=void 0,this.otherValue=D}!M&&this.otherValue&&(this.getStoreOthersAsComment()&&!this.autoOtherMode&&(this.prevOtherValue=this.otherValue),this.makeCommentEmpty=!0,this.otherValueCore="",this.setPropertyValue("comment",""))}},s.prototype.setValueCore=function(l){o.prototype.setValueCore.call(this,l),this.makeCommentEmpty&&(this.setCommentIntoData(""),this.makeCommentEmpty=!1)},s.prototype.setNewValue=function(l){l=this.valueFromData(l),(!this.choicesByUrl.isRunning&&!this.choicesByUrl.isWaitingForParameters||!this.isValueEmpty(l))&&(this.cachedValueForUrlRequests=l),o.prototype.setNewValue.call(this,l)},s.prototype.valueFromData=function(l){var c=w.ItemValue.getItemByValue(this.activeChoices,l);return c?c.value:o.prototype.valueFromData.call(this,l)},s.prototype.rendredValueFromData=function(l){return this.getStoreOthersAsComment()?l:this.renderedValueFromDataCore(l)},s.prototype.rendredValueToData=function(l){return this.getStoreOthersAsComment()?l:this.rendredValueToDataCore(l)},s.prototype.renderedValueFromDataCore=function(l){return this.hasUnknownValue(l,!0,!1)?(this.otherValue=l,this.otherItem.value):this.valueFromData(l)},s.prototype.rendredValueToDataCore=function(l){return l==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()&&(l=this.otherValue),l},s.prototype.needConvertRenderedOtherToDataValue=function(){var l=this.otherValue;return!(!l||(l=l.trim(),!l))&&this.hasUnknownValue(l,!0,!1)},s.prototype.getIsQuestionReady=function(){return o.prototype.getIsQuestionReady.call(this)&&!this.waitingChoicesByURL&&!this.waitingGetChoiceDisplayValueResponse},s.prototype.updateSelectedItemValues=function(){var l=this;if(!this.waitingGetChoiceDisplayValueResponse&&this.survey&&!this.isEmpty()){var c=this.value,b=Array.isArray(c)?c:[c];b.some(function(D){return!w.ItemValue.getItemByValue(l.choices,D)})&&(this.choicesLazyLoadEnabled||this.hasChoicesUrl)&&(this.waitingGetChoiceDisplayValueResponse=!0,this.updateIsReady(),this.survey.getChoiceDisplayValue({question:this,values:b,setItems:function(D){for(var g=[],P=1;P<arguments.length;P++)g[P-1]=arguments[P];if(l.waitingGetChoiceDisplayValueResponse=!1,D&&D.length){var A=D.map(function(k,Z){return l.createItemValue(b[Z],k)});l.setCustomValuesIntoItems(A,g),l.selectedItemValues=Array.isArray(c)?A:A[0],l.updateIsReady()}else l.updateIsReady()}}))}},s.prototype.setCustomValuesIntoItems=function(l,c){!Array.isArray(c)||0===c.length||c.forEach(function(b){var M=b.values,D=b.propertyName;if(Array.isArray(M))for(var g=0;g<l.length&&g<M.length;g++)l[g][D]=M[g]})},s.prototype.hasUnknownValue=function(l,c,b,M){if(void 0===c&&(c=!1),void 0===b&&(b=!0),void 0===M&&(M=!1),!M&&this.isValueEmpty(l)||c&&l==this.otherItem.value||this.showNoneItem&&l==this.noneItem.value||this.showRefuseItem&&l==this.refuseItem.value||this.showDontKnowItem&&l==this.dontKnowItem.value)return!1;var D=b?this.getFilteredChoices():this.activeChoices;return null==w.ItemValue.getItemByValue(D,l)},s.prototype.isValueDisabled=function(l){var c=w.ItemValue.getItemByValue(this.getFilteredChoices(),l);return!!c&&!c.isEnabled},Object.defineProperty(s.prototype,"choicesByUrl",{get:function(){return this.getPropertyValue("choicesByUrl")},set:function(l){!l||(this.setNewRestfulProperty(),this.choicesByUrl.fromJSON(l.toJSON()))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(l){this.setPropertyValue("choices",l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"choicesFromQuestion",{get:function(){return this.getPropertyValue("choicesFromQuestion")},set:function(l){var c=this.getQuestionWithChoices();this.isLockVisibleChoices=!!c&&c.name===l,!!c&&c.name!==l&&c.removeDependedQuestion(this),this.setPropertyValue("choicesFromQuestion",l),this.isLockVisibleChoices=!1},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"choicesFromQuestionMode",{get:function(){return this.getPropertyValue("choicesFromQuestionMode")},set:function(l){this.setPropertyValue("choicesFromQuestionMode",l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"choiceValuesFromQuestion",{get:function(){return this.getPropertyValue("choiceValuesFromQuestion")},set:function(l){this.setPropertyValue("choiceValuesFromQuestion",l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"choiceTextsFromQuestion",{get:function(){return this.getPropertyValue("choiceTextsFromQuestion")},set:function(l){this.setPropertyValue("choiceTextsFromQuestion",l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hideIfChoicesEmpty",{get:function(){return this.getPropertyValue("hideIfChoicesEmpty")},set:function(l){this.setPropertyValue("hideIfChoicesEmpty",l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues",!1)},set:function(l){this.setPropertyValue("keepIncorrectValues",l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(l){this.setPropertyValue("storeOthersAsComment",l)},enumerable:!1,configurable:!0}),s.prototype.hasOtherChanged=function(){this.onVisibleChoicesChanged()},Object.defineProperty(s.prototype,"choicesOrder",{get:function(){return this.getPropertyValue("choicesOrder")},set:function(l){(l=l.toLowerCase())!=this.choicesOrder&&(this.setPropertyValue("choicesOrder",l),this.onVisibleChoicesChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"otherText",{get:function(){return this.getLocalizableStringText("otherText")},set:function(l){this.setLocalizableStringText("otherText",l),this.onVisibleChoicesChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"locOtherText",{get:function(){return this.getLocalizableString("otherText")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"otherPlaceHolder",{get:function(){return this.otherPlaceholder},set:function(l){this.otherPlaceholder=l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"otherErrorText",{get:function(){return this.getLocalizableStringText("otherErrorText")},set:function(l){this.setLocalizableStringText("otherErrorText",l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"locOtherErrorText",{get:function(){return this.getLocalizableString("otherErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"visibleChoices",{get:function(){return this.getPropertyValue("visibleChoices")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"enabledChoices",{get:function(){for(var l=[],c=this.visibleChoices,b=0;b<c.length;b++)c[b].isEnabled&&l.push(c[b]);return l},enumerable:!1,configurable:!0}),s.prototype.updateVisibleChoices=function(){if(!this.isLoadingFromJson&&!this.isDisposed){var l=new Array,c=this.calcVisibleChoices();c||(c=[]);for(var b=0;b<c.length;b++)l.push(c[b]);(!this.isTwoValueEquals(this.visibleChoices,l)||this.choicesLazyLoadEnabled)&&this.setArrayPropertyDirectly("visibleChoices",l)}},s.prototype.calcVisibleChoices=function(){if(this.canUseFilteredChoices())return this.getFilteredChoices();var l=this.sortVisibleChoices(this.getFilteredChoices().slice());return this.addToVisibleChoices(l,this.isAddDefaultItems),l},s.prototype.canUseFilteredChoices=function(){return!(this.isAddDefaultItems||this.showNoneItem||this.showRefuseItem||this.showDontKnowItem||this.hasOther||"none"!=this.choicesOrder)},s.prototype.setCanShowOptionItemCallback=function(l){this.canShowOptionItemCallback=l,l&&this.onVisibleChoicesChanged()},Object.defineProperty(s.prototype,"newItem",{get:function(){return this.newItemValue},enumerable:!1,configurable:!0}),s.prototype.addToVisibleChoices=function(l,c){this.headItemsCount=0,this.footItemsCount=0,this.isEmptyActiveChoicesInDesign||this.addNewItemToVisibleChoices(l,c);var b=new Array;this.addNonChoicesItems(b,c),b.sort(function(g,P){return g.index===P.index?0:g.index<P.index?-1:1});for(var M=0;M<b.length;M++){var D=b[M];D.index<0?(l.splice(M,0,D.item),this.headItemsCount++):(l.push(D.item),this.footItemsCount++)}},s.prototype.addNewItemToVisibleChoices=function(l,c){!c||(this.newItemValue||(this.newItemValue=this.createItemValue("newitem"),this.newItemValue.isGhost=!0),!this.isUsingCarryForward&&this.canShowOptionItem(this.newItemValue,c,!1)&&(this.footItemsCount=1,l.push(this.newItemValue)))},s.prototype.addNonChoicesItems=function(l,c){this.supportNone()&&this.addNonChoiceItem(l,this.noneItem,c,this.showNoneItem,C.settings.specialChoicesOrder.noneItem),this.supportRefuse()&&this.addNonChoiceItem(l,this.refuseItem,c,this.showRefuseItem,C.settings.specialChoicesOrder.refuseItem),this.supportDontKnow()&&this.addNonChoiceItem(l,this.dontKnowItem,c,this.showDontKnowItem,C.settings.specialChoicesOrder.dontKnowItem),this.supportOther()&&this.addNonChoiceItem(l,this.otherItem,c,this.hasOther,C.settings.specialChoicesOrder.otherItem)},s.prototype.addNonChoiceItem=function(l,c,b,M,D){this.canShowOptionItem(c,b,M)&&D.forEach(function(g){return l.push({index:g,item:c})})},s.prototype.canShowOptionItem=function(l,c,b){var M=c&&(!this.canShowOptionItemCallback||this.canShowOptionItemCallback(l))||b;return this.canSurveyChangeItemVisibility()?this.changeItemVisisbility()(l,M):M},s.prototype.isItemInList=function(l){return l===this.otherItem?this.hasOther:l===this.noneItem?this.showNoneItem:l===this.refuseItem?this.showRefuseItem:l===this.dontKnowItem?this.showDontKnowItem:l!==this.newItemValue},Object.defineProperty(s.prototype,"isAddDefaultItems",{get:function(){return C.settings.showDefaultItemsInCreatorV2&&this.isDesignModeV2&&!this.customWidget&&!this.isContentElement},enumerable:!1,configurable:!0}),s.prototype.getPlainData=function(l){var c=this;void 0===l&&(l={includeEmpty:!0,includeQuestionTypes:!1});var b=o.prototype.getPlainData.call(this,l);if(b){var M=Array.isArray(this.value)?this.value:[this.value];b.isNode=!0,b.data=(b.data||[]).concat(M.map(function(D,g){var P=w.ItemValue.getItemByValue(c.visibleChoices,D),A={name:g,title:"Choice",value:D,displayValue:c.getChoicesDisplayValue(c.visibleChoices,D),getString:function(k){return"object"==typeof k?JSON.stringify(k):k},isNode:!1};return P&&(l.calculations||[]).forEach(function(k){A[k.propertyName]=P[k.propertyName]}),c.isOtherSelected&&c.otherItemValue===P&&(A.isOther=!0,A.displayValue=c.otherValue),A}))}return b},s.prototype.getDisplayValueCore=function(l,c){return this.getChoicesDisplayValue(this.visibleChoices,c)},s.prototype.getDisplayValueEmpty=function(){return w.ItemValue.getTextOrHtmlByValue(this.visibleChoices,void 0)},s.prototype.getChoicesDisplayValue=function(l,c){if(c==this.otherItemValue.value)return this.otherValue?this.otherValue:this.locOtherText.textOrHtml;var b=this.getSingleSelectedItem();if(b&&this.isTwoValueEquals(b.value,c))return b.locText.textOrHtml;var M=w.ItemValue.getTextOrHtmlByValue(l,c);return""==M&&c?c:M},s.prototype.getDisplayArrayValue=function(l,c,b){for(var M=this,D=this.visibleChoices,g=[],P=[],A=0;A<c.length;A++)P.push(b?b(A):c[A]);if(T.Helpers.isTwoValueEquals(this.value,P)&&this.getMultipleSelectedItems().forEach(function(Z){return g.push(M.getItemDisplayValue(Z))}),0===g.length)for(A=0;A<P.length;A++){var k=this.getChoicesDisplayValue(D,P[A]);k&&g.push(k)}return g.join(", ")},s.prototype.getItemDisplayValue=function(l){return l===this.otherItem&&this.comment?this.comment:l.locText.textOrHtml},s.prototype.getFilteredChoices=function(){return this.filteredChoicesValue?this.filteredChoicesValue:this.activeChoices},Object.defineProperty(s.prototype,"activeChoices",{get:function(){var l=this.getCarryForwardQuestion();return"select"===this.carryForwardQuestionType?(l.addDependedQuestion(this),this.getChoicesFromSelectQuestion(l)):"array"===this.carryForwardQuestionType?(l.addDependedQuestion(this),this.getChoicesFromArrayQuestion(l)):this.isEmptyActiveChoicesInDesign?[]:this.choicesFromUrl?this.choicesFromUrl:this.getChoices()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isMessagePanelVisible",{get:function(){return this.getPropertyValue("isMessagePanelVisible",!1)},set:function(l){this.setPropertyValue("isMessagePanelVisible",l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isEmptyActiveChoicesInDesign",{get:function(){return this.isDesignModeV2&&(this.hasChoicesUrl||this.isMessagePanelVisible)},enumerable:!1,configurable:!0}),s.prototype.getCarryForwardQuestion=function(l){var c=this.findCarryForwardQuestion(l),b=this.getQuestionWithChoicesCore(c),M=b?null:this.getQuestionWithArrayValue(c);return this.setCarryForwardQuestionType(!!b,!!M),b||M?c:null},s.prototype.getIsReadyDependsOn=function(){var l=o.prototype.getIsReadyDependsOn.call(this);return this.carryForwardQuestion&&l.push(this.carryForwardQuestion),l},s.prototype.getQuestionWithChoices=function(){return this.getQuestionWithChoicesCore(this.findCarryForwardQuestion())},s.prototype.findCarryForwardQuestion=function(l){return l||(l=this.data),this.carryForwardQuestion=null,this.choicesFromQuestion&&l&&(this.carryForwardQuestion=l.findQuestionByName(this.choicesFromQuestion)),this.carryForwardQuestion},s.prototype.getQuestionWithChoicesCore=function(l){return l&&l.visibleChoices&&G.Serializer.isDescendantOf(l.getType(),"selectbase")&&l!==this?l:null},s.prototype.getQuestionWithArrayValue=function(l){return l&&l.isValueArray?l:null},s.prototype.getChoicesFromArrayQuestion=function(l){if(this.isDesignMode)return[];var c=l.value;if(!Array.isArray(c))return[];for(var b=[],M=0;M<c.length;M++){var D=c[M];if(T.Helpers.isValueObject(D)){var g=this.getValueKeyName(D);g&&!this.isValueEmpty(D[g])&&b.push(this.createItemValue(D[g],this.choiceTextsFromQuestion?D[this.choiceTextsFromQuestion]:void 0))}}return b},s.prototype.getValueKeyName=function(l){if(this.choiceValuesFromQuestion)return this.choiceValuesFromQuestion;var c=Object.keys(l);return c.length>0?c[0]:void 0},s.prototype.getChoicesFromSelectQuestion=function(l){if(this.isDesignMode)return[];for(var c=[],b="selected"==this.choicesFromQuestionMode||"unselected"!=this.choicesFromQuestionMode&&void 0,M=l.visibleChoices,D=0;D<M.length;D++)if(!l.isBuiltInChoice(M[D])){if(void 0===b){c.push(this.copyChoiceItem(M[D]));continue}var g=l.isItemSelected(M[D]);(g&&b||!g&&!b)&&c.push(this.copyChoiceItem(M[D]))}return"selected"===this.choicesFromQuestionMode&&!this.showOtherItem&&l.isOtherSelected&&!!l.comment&&c.push(this.createItemValue(l.otherItem.value,l.comment)),c},s.prototype.copyChoiceItem=function(l){var c=this.createItemValue(l.value);return c.setData(l),c},Object.defineProperty(s.prototype,"hasActiveChoices",{get:function(){var l=this.visibleChoices;(!l||0==l.length)&&(this.onVisibleChoicesChanged(),l=this.visibleChoices);for(var c=0;c<l.length;c++)if(!this.isBuiltInChoice(l[c]))return!0;return!1},enumerable:!1,configurable:!0}),s.prototype.isBuiltInChoice=function(l){return this.isNoneItem(l)||l===this.otherItem||l===this.newItemValue},s.prototype.isNoneItem=function(l){return this.getNoneItems().indexOf(l)>-1},s.prototype.getNoneItems=function(){return[this.noneItem,this.refuseItem,this.dontKnowItem]},s.prototype.getChoices=function(){return this.choices},s.prototype.supportOther=function(){return this.isSupportProperty("showOtherItem")},s.prototype.supportNone=function(){return this.isSupportProperty("showNoneItem")},s.prototype.supportRefuse=function(){return this.isSupportProperty("showRefuseItem")},s.prototype.supportDontKnow=function(){return this.isSupportProperty("showDontKnowItem")},s.prototype.isSupportProperty=function(l){return!this.isDesignMode||this.getPropertyByName(l).visible},s.prototype.onCheckForErrors=function(l,c){var b=this;if(o.prototype.onCheckForErrors.call(this,l,c),this.hasOther&&this.isOtherSelected&&!this.otherValue){var M=new R.OtherEmptyError(this.otherErrorText,this);M.onUpdateErrorTextCallback=function(D){D.text=b.otherErrorText},l.push(M)}},s.prototype.setSurveyImpl=function(l,c){this.isRunningChoices=!0,o.prototype.setSurveyImpl.call(this,l,c),this.isRunningChoices=!1,this.runChoicesByUrl(),this.isAddDefaultItems&&this.updateVisibleChoices()},s.prototype.setSurveyCore=function(l){o.prototype.setSurveyCore.call(this,l),l&&this.choicesFromQuestion&&this.onVisibleChoicesChanged()},s.prototype.getStoreOthersAsComment=function(){return!this.isSettingDefaultValue&&!this.showCommentArea&&(!0===this.storeOthersAsComment||"default"==this.storeOthersAsComment&&(null==this.survey||this.survey.storeOthersAsComment)||this.hasChoicesUrl&&!this.choicesFromUrl)},s.prototype.onSurveyLoad=function(){this.runChoicesByUrl(),this.onVisibleChoicesChanged(),o.prototype.onSurveyLoad.call(this)},s.prototype.onAnyValueChanged=function(l,c){o.prototype.onAnyValueChanged.call(this,l,c),l!=this.getValueName()&&this.runChoicesByUrl();var b=this.choicesFromQuestion;l&&b&&(l===b||c===b)&&this.onVisibleChoicesChanged()},s.prototype.updateValueFromSurvey=function(l,c){var b="";this.hasOther&&!this.isRunningChoices&&!this.choicesByUrl.isRunning&&this.getStoreOthersAsComment()&&(this.hasUnknownValue(l)&&!this.getHasOther(l)?(b=this.getCommentFromValue(l),l=this.setOtherValueIntoValue(l)):b=this.data.getComment(this.getValueName())),o.prototype.updateValueFromSurvey.call(this,l,c),(this.isRunningChoices||this.choicesByUrl.isRunning)&&!this.isEmpty()&&(this.cachedValueForUrlRequests=this.value),b&&this.setNewComment(b)},s.prototype.getCommentFromValue=function(l){return l},s.prototype.setOtherValueIntoValue=function(l){return this.otherItem.value},s.prototype.onOtherValueInput=function(l){this.isInputTextUpdate?l.target&&(this.otherValue=l.target.value):this.updateCommentElements()},s.prototype.onOtherValueChange=function(l){this.otherValue=l.target.value,this.otherValue!==l.target.value&&(l.target.value=this.otherValue)},s.prototype.runChoicesByUrl=function(){if(this.updateIsUsingRestful(),this.choicesByUrl&&!this.isLoadingFromJson&&!this.isRunningChoices&&!this.isDesignModeV2){var l=this.surveyImpl?this.surveyImpl.getTextProcessor():this.textProcessor;l||(l=this.survey),l&&(this.updateIsReady(),this.isRunningChoices=!0,this.choicesByUrl.run(l),this.isRunningChoices=!1)}},s.prototype.onBeforeSendRequest=function(){!0===C.settings.web.disableQuestionWhileLoadingChoices&&!this.isReadOnly&&(this.enableOnLoadingChoices=!0,this.readOnly=!0)},s.prototype.onLoadChoicesFromUrl=function(l){this.enableOnLoadingChoices&&(this.readOnly=!1);var c=[];this.isReadOnly||this.choicesByUrl&&this.choicesByUrl.error&&c.push(this.choicesByUrl.error);var b=null,M=!0;this.isFirstLoadChoicesFromUrl&&!this.cachedValueForUrlRequests&&this.defaultValue&&(this.cachedValueForUrlRequests=this.defaultValue,M=!1),this.isValueEmpty(this.cachedValueForUrlRequests)&&(this.cachedValueForUrlRequests=this.value);var D=this.createCachedValueForUrlRequests(this.cachedValueForUrlRequests,M);if(l&&(l.length>0||this.choicesByUrl.allowEmptyResponse)&&(b=new Array,w.ItemValue.setData(b,l)),b)for(var g=0;g<b.length;g++)b[g].locOwner=this;this.setChoicesFromUrl(b,c,D)},s.prototype.canAvoidSettChoicesFromUrl=function(l){return!this.isFirstLoadChoicesFromUrl&&!((!l||Array.isArray(l)&&0===l.length)&&!this.isEmpty())&&T.Helpers.isTwoValueEquals(this.choicesFromUrl,l)},s.prototype.setChoicesFromUrl=function(l,c,b){if(!this.canAvoidSettChoicesFromUrl(l)){if(this.isFirstLoadChoicesFromUrl=!1,this.choicesFromUrl=l,this.filterItems(),this.onVisibleChoicesChanged(),l){var M=this.updateCachedValueForUrlRequests(b,l);if(M&&!this.isReadOnly){var D=!this.isTwoValueEquals(this.value,M.value);try{this.isValueEmpty(M.value)||(this.allowNotifyValueChanged=!1,this.setQuestionValue(void 0,!0,!1)),this.allowNotifyValueChanged=D,D?this.value=M.value:this.setQuestionValue(M.value)}finally{this.allowNotifyValueChanged=!0}}}!this.isReadOnly&&!l&&!this.isFirstLoadChoicesFromUrl&&(this.value=null),this.errors=c,this.choicesLoaded()}},s.prototype.createCachedValueForUrlRequests=function(l,c){if(this.isValueEmpty(l))return null;if(Array.isArray(l)){for(var b=[],M=0;M<l.length;M++)b.push(this.createCachedValueForUrlRequests(l[M],!0));return b}return{value:l,isExists:!c||!this.hasUnknownValue(l)}},s.prototype.updateCachedValueForUrlRequests=function(l,c){if(this.isValueEmpty(l))return null;if(Array.isArray(l)){for(var b=[],M=0;M<l.length;M++){var D=this.updateCachedValueForUrlRequests(l[M],c);if(D&&!this.isValueEmpty(D.value)){var g=D.value;(A=w.ItemValue.getItemByValue(c,D.value))&&(g=A.value),b.push(g)}}return{value:b}}var A,P=l.isExists&&this.hasUnknownValue(l.value)?null:l.value;return(A=w.ItemValue.getItemByValue(c,P))&&(P=A.value),{value:P}},s.prototype.updateChoicesDependedQuestions=function(){this.isLoadingFromJson||this.isUpdatingChoicesDependedQuestions||!this.allowNotifyValueChanged||this.choicesByUrl.isRunning||(this.isUpdatingChoicesDependedQuestions=!0,this.updateDependedQuestions(),this.isUpdatingChoicesDependedQuestions=!1)},s.prototype.updateDependedQuestion=function(){this.onVisibleChoicesChanged(),this.clearIncorrectValues()},s.prototype.onSurveyValueChanged=function(l){o.prototype.onSurveyValueChanged.call(this,l),this.updateChoicesDependedQuestions()},s.prototype.onVisibleChoicesChanged=function(){this.isLoadingFromJson||this.isLockVisibleChoices||(this.updateVisibleChoices(),this.onVisibleChanged(),this.visibleChoicesChangedCallback&&this.visibleChoicesChangedCallback(),this.updateChoicesDependedQuestions())},s.prototype.isVisibleCore=function(){var l=o.prototype.isVisibleCore.call(this);if(!this.hideIfChoicesEmpty||!l)return l;var c=this.getFilteredChoices();return!c||c.length>0},s.prototype.sortVisibleChoices=function(l){if(this.isDesignMode)return l;var c=this.choicesOrder.toLowerCase();return"asc"==c?this.sortArray(l,1):"desc"==c?this.sortArray(l,-1):"random"==c?this.randomizeArray(l):l},s.prototype.sortArray=function(l,c){return l.sort(function(b,M){return T.Helpers.compareStrings(b.calculatedText,M.calculatedText)*c})},s.prototype.randomizeArray=function(l){return T.Helpers.randomizeArray(l)},Object.defineProperty(s.prototype,"hasChoicesUrl",{get:function(){return this.choicesByUrl&&!!this.choicesByUrl.url},enumerable:!1,configurable:!0}),s.prototype.clearIncorrectValues=function(){!this.hasValueToClearIncorrectValues()||!this.canClearIncorrectValues()||(this.clearIncorrectValuesCallback?this.clearIncorrectValuesCallback():this.clearIncorrectValuesCore())},s.prototype.canClearIncorrectValues=function(){return!(this.carryForwardQuestion&&!this.carryForwardQuestion.isReady||this.survey&&this.survey.questionsByValueName(this.getValueName()).length>1||this.hasChoicesUrl&&(!this.choicesFromUrl||0==this.choicesFromUrl.length))},s.prototype.hasValueToClearIncorrectValues=function(){return!(this.survey&&this.survey.keepIncorrectValues||this.keepIncorrectValues||this.isEmpty())},s.prototype.clearValueIfInvisibleCore=function(l){o.prototype.clearValueIfInvisibleCore.call(this,l),this.clearIncorrectValues()},s.prototype.isItemSelected=function(l){return l===this.otherItem?this.isOtherSelected:this.isItemSelectedCore(l)},s.prototype.isItemSelectedCore=function(l){return l.value===this.value},s.prototype.clearDisabledValues=function(){!this.survey||!this.survey.clearValueOnDisableItems||this.clearDisabledValuesCore()},s.prototype.clearIncorrectValuesCore=function(){this.canClearValueAnUnknown(this.value)&&this.clearValue()},s.prototype.canClearValueAnUnknown=function(l){return!(!this.getStoreOthersAsComment()&&this.isOtherSelected)&&this.hasUnknownValue(l,!0,!0,!0)},s.prototype.clearDisabledValuesCore=function(){this.isValueDisabled(this.value)&&this.clearValue()},s.prototype.clearUnusedValues=function(){o.prototype.clearUnusedValues.call(this),this.isOtherSelected||(this.otherValue=""),!this.showCommentArea&&!this.getStoreOthersAsComment()&&!this.isOtherSelected&&(this.comment="")},s.prototype.getColumnClass=function(){return(new y.CssClassBuilder).append(this.cssClasses.column).append("sv-q-column-"+this.colCount,this.hasColumns).toString()},s.prototype.getItemIndex=function(l){return this.visibleChoices.indexOf(l)},s.prototype.getItemClass=function(l){var c={item:l},b=this.getItemClassCore(l,c);return c.css=b,this.survey&&this.survey.updateChoiceItemCss(this,c),c.css},s.prototype.getCurrentColCount=function(){return this.colCount},s.prototype.getItemClassCore=function(l,c){var b=(new y.CssClassBuilder).append(this.cssClasses.item).append(this.cssClasses.itemInline,!this.hasColumns&&0===this.colCount).append("sv-q-col-"+this.getCurrentColCount(),!this.hasColumns&&0!==this.colCount).append(this.cssClasses.itemOnError,this.hasCssError()),M=this.isReadOnly||!l.isEnabled,D=this.isItemSelected(l)||this.isOtherSelected&&this.otherItem.value===l.value,g=!(M||D||this.survey&&this.survey.isDesignMode),P=l===this.noneItem;return c.isDisabled=M,c.isChecked=D,c.isNone=P,b.append(this.cssClasses.itemDisabled,M).append(this.cssClasses.itemChecked,D).append(this.cssClasses.itemHover,g).append(this.cssClasses.itemNone,P).toString()},s.prototype.getLabelClass=function(l){return(new y.CssClassBuilder).append(this.cssClasses.label).append(this.cssClasses.labelChecked,this.isItemSelected(l)).toString()},s.prototype.getControlLabelClass=function(l){return(new y.CssClassBuilder).append(this.cssClasses.controlLabel).append(this.cssClasses.controlLabelChecked,this.isItemSelected(l)).toString()||void 0},Object.defineProperty(s.prototype,"headItems",{get:function(){for(var l=this.separateSpecialChoices||this.isDesignMode?this.headItemsCount:0,c=[],b=0;b<l;b++)c.push(this.visibleChoices[b]);return c},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"footItems",{get:function(){for(var l=this.separateSpecialChoices||this.isDesignMode?this.footItemsCount:0,c=[],b=this.visibleChoices,M=0;M<l;M++)c.push(b[b.length-l+M]);return c},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dataChoices",{get:function(){var l=this;return this.visibleChoices.filter(function(c){return!l.isBuiltInChoice(c)})},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"bodyItems",{get:function(){return this.hasHeadItems||this.hasFootItems?this.dataChoices:this.visibleChoices},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasHeadItems",{get:function(){return this.headItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasFootItems",{get:function(){return this.footItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"columns",{get:function(){var l=[],c=this.getCurrentColCount();if(this.hasColumns&&this.visibleChoices.length>0){var b=this.separateSpecialChoices||this.isDesignMode?this.dataChoices:this.visibleChoices;if("column"==C.settings.showItemsInOrder)for(var M=0,D=b.length%c,g=0;g<c;g++){for(var P=[],A=M;A<M+Math.floor(b.length/c);A++)P.push(b[A]);D>0&&(D--,P.push(b[A]),A++),M=A,l.push(P)}else for(g=0;g<c;g++){for(P=[],A=g;A<b.length;A+=c)P.push(b[A]);l.push(P)}}return l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasColumns",{get:function(){return!this.isMobile&&this.getCurrentColCount()>1},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"rowLayout",{get:function(){return 0==this.getCurrentColCount()&&!(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"blockedRow",{get:function(){return 0==this.getCurrentColCount()&&(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),s.prototype.choicesLoaded=function(){this.isChoicesLoaded=!0,this.updateIsReady(),this.survey&&this.survey.loadedChoicesFromServer(this),this.loadedChoicesFromServerCallback&&this.loadedChoicesFromServerCallback()},s.prototype.getItemValueWrapperComponentName=function(l){var c=this.survey;return c?c.getItemValueWrapperComponentName(l,this):se.SurveyModel.TemplateRendererComponentName},s.prototype.getItemValueWrapperComponentData=function(l){var c=this.survey;return c?c.getItemValueWrapperComponentData(l,this):l},s.prototype.ariaItemChecked=function(l){return this.renderedValue===l.value?"true":"false"},s.prototype.isOtherItem=function(l){return this.hasOther&&l.value==this.otherItem.value},Object.defineProperty(s.prototype,"itemSvgIcon",{get:function(){return this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),s.prototype.getSelectBaseRootCss=function(){return(new y.CssClassBuilder).append(this.getQuestionRootCss()).append(this.cssClasses.rootRow,this.rowLayout).toString()},s.prototype.allowMobileInDesignMode=function(){return!0},s.prototype.getAriaItemLabel=function(l){return l.locText.renderedHtml},s.prototype.getItemId=function(l){return this.inputId+"_"+this.getItemIndex(l)},Object.defineProperty(s.prototype,"questionName",{get:function(){return this.name+"_"+this.id},enumerable:!1,configurable:!0}),s.prototype.getItemEnabled=function(l){return!this.isInputReadOnly&&l.isEnabled},s.prototype.afterRender=function(l){o.prototype.afterRender.call(this,l),this.rootElement=l},s.prototype.beforeDestroyQuestionElement=function(l){o.prototype.beforeDestroyQuestionElement.call(this,l),this.rootElement=void 0},s.prototype.focusOtherComment=function(){var l=this;this.rootElement&&setTimeout(function(){var c=l.rootElement.querySelector("textarea");c&&c.focus()},10)},s.prototype.onValueChanged=function(){o.prototype.onValueChanged.call(this),!this.isDesignMode&&!this.prevIsOtherSelected&&this.isOtherSelected&&this.focusOtherComment(),this.prevIsOtherSelected=this.isOtherSelected},s.prototype.getDefaultItemComponent=function(){return""},Object.defineProperty(s.prototype,"itemComponent",{get:function(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())},set:function(l){this.setPropertyValue("itemComponent",l)},enumerable:!1,configurable:!0}),s.prototype.updateCssClasses=function(l,c){if(o.prototype.updateCssClasses.call(this,l,c),this.dropdownListModel){var b={};Object(h.mergeValues)(c.list,b),Object(h.mergeValues)(l.list,b),l.list=b}},s.prototype.calcCssClasses=function(l){var c=o.prototype.calcCssClasses.call(this,l);return this.dropdownListModel&&this.dropdownListModel.updateCssClasses(c.popup,c.list),c},f([Object(G.property)({onSet:function(l,c){c.onSelectedItemValuesChangedHandler(l)}})],s.prototype,"selectedItemValues",void 0),f([Object(G.property)()],s.prototype,"separateSpecialChoices",void 0),f([Object(G.property)({localizable:!0})],s.prototype,"otherPlaceholder",void 0),s}($.Question),u=function(o){function s(l){return o.call(this,l)||this}return v(s,o),Object.defineProperty(s.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount",this.isFlowLayout?0:void 0)},set:function(l){l<0||l>5||this.isFlowLayout||(this.setPropertyValue("colCount",l),this.fireCallback(this.colCountChangedCallback))},enumerable:!1,configurable:!0}),s.prototype.onParentChanged=function(){o.prototype.onParentChanged.call(this),this.isFlowLayout&&this.setPropertyValue("colCount",null)},s.prototype.onParentQuestionChanged=function(){this.onVisibleChoicesChanged()},s.prototype.getSearchableItemValueKeys=function(l){l.push("choices")},s}(d);function a(o,s){var l;if(!o)return!1;if(o.templateQuestion){var c=null===(l=o.colOwner)||void 0===l?void 0:l.data;if(!(o=o.templateQuestion).getCarryForwardQuestion(c))return!1}return o.carryForwardQuestionType===s}G.Serializer.addClass("selectbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"choicesFromQuestion:question_carryforward",{name:"choices:itemvalue[]",uniqueProperty:"value",baseValue:function(){return F.surveyLocalization.getString("choices_Item")},dependsOn:"choicesFromQuestion",visibleIf:function(o){return!o.choicesFromQuestion}},{name:"choicesFromQuestionMode",default:"all",choices:["all","selected","unselected"],dependsOn:"choicesFromQuestion",visibleIf:function(o){return a(o,"select")}},{name:"choiceValuesFromQuestion",dependsOn:"choicesFromQuestion",visibleIf:function(o){return a(o,"array")}},{name:"choiceTextsFromQuestion",dependsOn:"choicesFromQuestion",visibleIf:function(o){return a(o,"array")}},{name:"choicesOrder",default:"none",choices:["none","asc","desc","random"],dependsOn:"choicesFromQuestion",visibleIf:function(o){return!o.choicesFromQuestion}},{name:"choicesByUrl:restfull",className:"choicesByUrl",onGetValue:function(o){return o.choicesByUrl.getData()},onSetValue:function(o,s){o.choicesByUrl.setData(s)}},"hideIfChoicesEmpty:boolean","choicesVisibleIf:condition",{name:"choicesEnableIf:condition",dependsOn:"choicesFromQuestion",visibleIf:function(o){return!o.choicesFromQuestion}},{name:"separateSpecialChoices:boolean",visible:!1},{name:"showOtherItem:boolean",alternativeName:"hasOther"},{name:"showNoneItem:boolean",alternativeName:"hasNone"},{name:"showRefuseItem:boolean",visible:!1},{name:"showDontKnowItem:boolean",visible:!1},{name:"otherPlaceholder",alternativeName:"otherPlaceHolder",serializationProperty:"locOtherPlaceholder",dependsOn:"showOtherItem",visibleIf:function(o){return o.hasOther}},{name:"noneText",serializationProperty:"locNoneText",dependsOn:"showNoneItem",visibleIf:function(o){return o.showNoneItem}},{name:"refuseText",serializationProperty:"locRefuseText",dependsOn:"showRefuseItem",visibleIf:function(o){return o.showRefuseItem}},{name:"dontKnowText",serializationProperty:"locDontKnowText",dependsOn:"showDontKnowItem",visibleIf:function(o){return o.showDontKnowItem}},{name:"otherText",serializationProperty:"locOtherText",dependsOn:"showOtherItem",visibleIf:function(o){return o.hasOther}},{name:"otherErrorText",serializationProperty:"locOtherErrorText",dependsOn:"showOtherItem",visibleIf:function(o){return o.hasOther}},{name:"storeOthersAsComment",default:"default",choices:["default",!0,!1],visible:!1}],null,"question"),G.Serializer.addClass("checkboxbase",[{name:"colCount:number",default:1,choices:[0,1,2,3,4,5],layout:"row"}],null,"selectbase")},"./src/question_boolean.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionBooleanModel",function(){return m});var T,G=x("./src/questionfactory.ts"),se=x("./src/jsonobject.ts"),$=x("./src/question.ts"),w=x("./src/utils/cssClassBuilder.ts"),F=x("./src/utils/utils.ts"),R=(T=function(C,y){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(h[f]=v[f])})(C,y)},function(C,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function h(){this.constructor=C}T(C,y),C.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)}),L=function(T,C,y,h){var d,v=arguments.length,f=v<3?C:null===h?h=Object.getOwnPropertyDescriptor(C,y):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(T,C,y,h);else for(var u=T.length-1;u>=0;u--)(d=T[u])&&(f=(v<3?d(f):v>3?d(C,y,f):d(C,y))||f);return v>3&&f&&Object.defineProperty(C,y,f),f},m=function(T){function C(y){var h=T.call(this,y)||this;return h.createLocalizableString("labelFalse",h,!0,"booleanUncheckedLabel"),h.createLocalizableString("labelTrue",h,!0,"booleanCheckedLabel"),h}return R(C,T),C.prototype.getType=function(){return"boolean"},C.prototype.isLayoutTypeSupported=function(y){return!0},C.prototype.supportGoNextPageAutomatic=function(){return"checkbox"!==this.renderAs},Object.defineProperty(C.prototype,"isIndeterminate",{get:function(){return this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"hasTitle",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"booleanValue",{get:function(){return this.isEmpty()?null:this.value==this.getValueTrue()},set:function(y){this.isReadOnly||this.isDesignMode||this.setBooleanValue(y)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"checkedValue",{get:function(){return this.booleanValue},set:function(y){this.booleanValue=y},enumerable:!1,configurable:!0}),C.prototype.setBooleanValue=function(y){this.isValueEmpty(y)?(this.value=null,this.booleanValueRendered=null):(this.value=1==y?this.getValueTrue():this.getValueFalse(),this.booleanValueRendered=y)},Object.defineProperty(C.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(y){!0===y&&(y="true"),!1===y&&(y="false"),void 0===y&&(y="indeterminate"),this.setPropertyValue("defaultValue",y),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),C.prototype.getDefaultValue=function(){return"indeterminate"==this.defaultValue||void 0===this.defaultValue?null:"true"==this.defaultValue?this.getValueTrue():this.getValueFalse()},Object.defineProperty(C.prototype,"locTitle",{get:function(){var y=this.getLocalizableString("title");return!this.isValueEmpty(this.locLabel.text)&&(this.isValueEmpty(y.text)||this.isLabelRendered&&!this.showTitle)?this.locLabel:y},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"labelRenderedAriaID",{get:function(){return this.isLabelRendered?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isLabelRendered",{get:function(){return"hidden"===this.titleLocation},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"canRenderLabelDescription",{get:function(){return this.isLabelRendered&&this.hasDescription&&(this.hasDescriptionUnderTitle||this.hasDescriptionUnderInput)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"labelTrue",{get:function(){return this.getLocalizableStringText("labelTrue")},set:function(y){this.setLocalizableStringText("labelTrue",y)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"locLabelTrue",{get:function(){return this.getLocalizableString("labelTrue")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isDeterminated",{get:function(){return null!==this.booleanValue},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"labelFalse",{get:function(){return this.getLocalizableStringText("labelFalse")},set:function(y){this.setLocalizableStringText("labelFalse",y)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"locLabelFalse",{get:function(){return this.getLocalizableString("labelFalse")},enumerable:!1,configurable:!0}),C.prototype.getValueTrue=function(){return void 0===this.valueTrue||this.valueTrue},C.prototype.getValueFalse=function(){return void 0!==this.valueFalse&&this.valueFalse},C.prototype.setDefaultValue=function(){this.isDefaultValueSet("true",this.valueTrue)&&this.setBooleanValue(!0),this.isDefaultValueSet("false",this.valueFalse)&&this.setBooleanValue(!1),"indeterminate"==this.defaultValue&&this.setBooleanValue(null)},C.prototype.isDefaultValueSet=function(y,h){return this.defaultValue==y||void 0!==h&&this.defaultValue===h},C.prototype.getDisplayValueCore=function(y,h){return h==this.getValueTrue()?this.locLabelTrue.textOrHtml:this.locLabelFalse.textOrHtml},C.prototype.getItemCssValue=function(y){return(new w.CssClassBuilder).append(y.item).append(y.itemOnError,this.hasCssError()).append(y.itemDisabled,this.isReadOnly).append(y.itemHover,!this.isDesignMode).append(y.itemChecked,!!this.booleanValue).append(y.itemIndeterminate,null===this.booleanValue).toString()},C.prototype.getItemCss=function(){return this.getItemCssValue(this.cssClasses)},C.prototype.getCheckboxItemCss=function(){return this.getItemCssValue({item:this.cssClasses.checkboxItem,itemOnError:this.cssClasses.checkboxItemOnError,itemDisabled:this.cssClasses.checkboxItemDisabled,itemChecked:this.cssClasses.checkboxItemChecked,itemIndeterminate:this.cssClasses.checkboxItemIndeterminate})},C.prototype.getLabelCss=function(y){return(new w.CssClassBuilder).append(this.cssClasses.label).append(this.cssClasses.disabledLabel,this.booleanValue===!y||this.isReadOnly).append(this.cssClasses.labelTrue,!this.isIndeterminate&&!0===y).append(this.cssClasses.labelFalse,!this.isIndeterminate&&!1===y).toString()},Object.defineProperty(C.prototype,"svgIcon",{get:function(){return this.booleanValue&&this.cssClasses.svgIconCheckedId?this.cssClasses.svgIconCheckedId:null===this.booleanValue&&this.cssClasses.svgIconIndId?this.cssClasses.svgIconIndId:!this.booleanValue&&this.cssClasses.svgIconUncheckedId?this.cssClasses.svgIconUncheckedId:this.cssClasses.svgIconId},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"allowClick",{get:function(){return this.isIndeterminate&&!this.isInputReadOnly},enumerable:!1,configurable:!0}),C.prototype.getCheckedLabel=function(){return!0===this.booleanValue?this.locLabelTrue:!1===this.booleanValue?this.locLabelFalse:void 0},C.prototype.setQuestionValue=function(y,h){void 0===h&&(h=!0),"true"===y&&"true"!==this.valueTrue&&(y=!0),"false"===y&&"false"!==this.valueFalse&&(y=!1),"indeterminate"===y&&(y=null),T.prototype.setQuestionValue.call(this,y,h)},C.prototype.onLabelClick=function(y,h){return this.allowClick&&(Object(F.preventDefaults)(y),this.booleanValue=h),!0},C.prototype.calculateBooleanValueByEvent=function(y,h){var v="rtl"==document.defaultView.getComputedStyle(y.target).direction;this.booleanValue=v?!h:h},C.prototype.onSwitchClickModel=function(y){return!this.allowClick||(Object(F.preventDefaults)(y),void this.calculateBooleanValueByEvent(y,y.offsetX/y.target.offsetWidth>.5))},C.prototype.onKeyDownCore=function(y){return("ArrowLeft"===y.key||"ArrowRight"===y.key)&&(y.stopPropagation(),this.calculateBooleanValueByEvent(y,"ArrowRight"===y.key)),!0},C.prototype.getRadioItemClass=function(y,h){var v=void 0;return y.radioItem&&(v=y.radioItem),y.radioItemChecked&&h===this.booleanValue&&(v=(v?v+" ":"")+y.radioItemChecked),v},C.prototype.supportResponsiveness=function(){return!0},C.prototype.getCompactRenderAs=function(){return"radio"},C.prototype.createActionContainer=function(y){return T.prototype.createActionContainer.call(this,"checkbox"!==this.renderAs)},Object.defineProperty(C.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"a11y_input_ariaRole",{get:function(){return"switch"},enumerable:!1,configurable:!0}),L([Object(se.property)()],C.prototype,"booleanValueRendered",void 0),L([Object(se.property)()],C.prototype,"showTitle",void 0),L([Object(se.property)({localizable:!0})],C.prototype,"label",void 0),L([Object(se.property)()],C.prototype,"valueTrue",void 0),L([Object(se.property)()],C.prototype,"valueFalse",void 0),C}($.Question);se.Serializer.addClass("boolean",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"label:text",serializationProperty:"locLabel",isSerializable:!1,visible:!1},{name:"labelTrue:text",serializationProperty:"locLabelTrue"},{name:"labelFalse:text",serializationProperty:"locLabelFalse"},"valueTrue","valueFalse",{name:"renderAs",default:"default",visible:!1}],function(){return new m("")},"question"),G.QuestionFactory.Instance.registerQuestion("boolean",function(T){return new m(T)})},"./src/question_buttongroup.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"ButtonGroupItemValue",function(){return L}),x.d(j,"QuestionButtonGroupModel",function(){return m}),x.d(j,"ButtonGroupItemModel",function(){return T});var C,G=x("./src/jsonobject.ts"),se=x("./src/itemvalue.ts"),$=x("./src/question_baseselect.ts"),w=x("./src/utils/cssClassBuilder.ts"),F=(C=function(y,h){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(v[d]=f[d])})(y,h)},function(y,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function v(){this.constructor=y}C(y,h),y.prototype=null===h?Object.create(h):(v.prototype=h.prototype,new v)}),R=function(C,y,h,v){var u,f=arguments.length,d=f<3?y:null===v?v=Object.getOwnPropertyDescriptor(y,h):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(C,y,h,v);else for(var a=C.length-1;a>=0;a--)(u=C[a])&&(d=(f<3?u(d):f>3?u(y,h,d):u(y,h))||d);return f>3&&d&&Object.defineProperty(y,h,d),d},L=function(C){function y(h,v,f){void 0===v&&(v=null),void 0===f&&(f="buttongroupitemvalue");var d=C.call(this,h,v,f)||this;return d.typeName=f,d}return F(y,C),y.prototype.getType=function(){return this.typeName?this.typeName:"buttongroupitemvalue"},R([Object(G.property)()],y.prototype,"iconName",void 0),R([Object(G.property)()],y.prototype,"iconSize",void 0),R([Object(G.property)()],y.prototype,"showCaption",void 0),y}(se.ItemValue),m=function(C){function y(h){return C.call(this,h)||this}return F(y,C),y.prototype.getType=function(){return"buttongroup"},y.prototype.getItemValueType=function(){return"buttongroupitemvalue"},y.prototype.supportOther=function(){return!1},y}($.QuestionCheckboxBase);G.Serializer.addClass("buttongroup",[{name:"choices:buttongroupitemvalue[]"}],function(){return new m("")},"checkboxbase"),G.Serializer.addClass("buttongroupitemvalue",[{name:"showCaption:boolean",default:!0},{name:"iconName:text"},{name:"iconSize:number"}],function(C){return new L(C)},"itemvalue");var T=function(){function C(y,h,v){this.question=y,this.item=h,this.index=v}return Object.defineProperty(C.prototype,"value",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"iconName",{get:function(){return this.item.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"iconSize",{get:function(){return this.item.iconSize||24},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"caption",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"showCaption",{get:function(){return this.item.showCaption||void 0===this.item.showCaption},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isRequired",{get:function(){return this.question.isRequired},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"selected",{get:function(){return this.question.isItemSelected(this.item)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"readOnly",{get:function(){return this.question.isInputReadOnly||!this.item.isEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"name",{get:function(){return this.question.name+"_"+this.question.id},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"id",{get:function(){return this.question.inputId+"_"+this.index},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"hasErrors",{get:function(){return this.question.errors.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"describedBy",{get:function(){return this.question.errors.length>0?this.question.id+"_errors":null},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"labelClass",{get:function(){return(new w.CssClassBuilder).append(this.question.cssClasses.item).append(this.question.cssClasses.itemSelected,this.selected).append(this.question.cssClasses.itemHover,!this.readOnly&&!this.selected).append(this.question.cssClasses.itemDisabled,this.question.isReadOnly||!this.item.isEnabled).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"css",{get:function(){return{label:this.labelClass,icon:this.question.cssClasses.itemIcon,control:this.question.cssClasses.itemControl,caption:this.question.cssClasses.itemCaption,decorator:this.question.cssClasses.itemDecorator}},enumerable:!1,configurable:!0}),C.prototype.onChange=function(){this.question.renderedValue=this.item.value},C}()},"./src/question_checkbox.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionCheckboxModel",function(){return C});var y,G=x("./src/jsonobject.ts"),se=x("./src/questionfactory.ts"),$=x("./src/question_baseselect.ts"),w=x("./src/helpers.ts"),F=x("./src/itemvalue.ts"),R=x("./src/utils/cssClassBuilder.ts"),L=x("./src/error.ts"),m=x("./src/settings.ts"),T=(y=function(h,v){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&(f[u]=d[u])})(h,v)},function(h,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function f(){this.constructor=h}y(h,v),h.prototype=null===v?Object.create(v):(f.prototype=v.prototype,new f)}),C=function(y){function h(v){var f=y.call(this,v)||this;f.invisibleOldValues={},f.isChangingValueOnClearIncorrect=!1,f.selectAllItemValue=new F.ItemValue(""),f.selectAllItemValue.id="selectall";var d=f.createLocalizableString("selectAllText",f.selectAllItem,!0,"selectAllItemText");return f.selectAllItem.locOwner=f,f.selectAllItem.setLocText(d),f.registerPropertyChangedHandlers(["showSelectAllItem","selectAllText"],function(){f.onVisibleChoicesChanged()}),f}return T(h,y),h.prototype.getDefaultItemComponent=function(){return"survey-checkbox-item"},h.prototype.getType=function(){return"checkbox"},h.prototype.onCreating=function(){y.prototype.onCreating.call(this),this.createNewArray("renderedValue"),this.createNewArray("value")},h.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(h.prototype,"valuePropertyName",{get:function(){return this.getPropertyValue("valuePropertyName")},set:function(v){this.setPropertyValue("valuePropertyName",v)},enumerable:!1,configurable:!0}),h.prototype.getQuestionFromArray=function(v,f){if(v&&v===this.valuePropertyName){var d=this.value;if(Array.isArray(d)&&f<d.length)return this}return null},Object.defineProperty(h.prototype,"selectAllItem",{get:function(){return this.selectAllItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"selectAllText",{get:function(){return this.getLocalizableStringText("selectAllText")},set:function(v){this.setLocalizableStringText("selectAllText",v)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"locSelectAllText",{get:function(){return this.getLocalizableString("selectAllText")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"showSelectAllItem",{get:function(){return this.getPropertyValue("showSelectAllItem")},set:function(v){this.setPropertyValue("showSelectAllItem",v)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"hasSelectAll",{get:function(){return this.showSelectAllItem},set:function(v){this.showSelectAllItem=v},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isAllSelected",{get:function(){for(var v=this.getNoneItems(),f=0;f<v.length;f++)if(this.isItemSelected(v[f]))return!1;var d=this.getVisibleEnableItems();if(0===d.length)return!1;var u=this.value;if(!u||!Array.isArray(u)||0===u.length||u.length<d.length)return!1;var a=[];for(f=0;f<u.length;f++)a.push(this.getRealValue(u[f]));for(f=0;f<d.length;f++)if(a.indexOf(d[f].value)<0)return!1;return!0},set:function(v){v?this.selectAll():this.clearValue()},enumerable:!1,configurable:!0}),h.prototype.toggleSelectAll=function(){this.isAllSelected=!this.isAllSelected},h.prototype.selectAll=function(){for(var v=[],f=this.getVisibleEnableItems(),d=0;d<f.length;d++)v.push(f[d].value);this.renderedValue=v},h.prototype.clickItemHandler=function(v,f){if(v===this.selectAllItem)!0===f||!1===f?this.isAllSelected=f:this.toggleSelectAll();else if(this.isNoneItem(v))this.renderedValue=[v.value];else{var d=[].concat(this.renderedValue||[]),u=d.indexOf(v.value);f?u<0&&d.push(v.value):u>-1&&d.splice(u,1),this.renderedValue=d}},h.prototype.isItemSelectedCore=function(v){if(v===this.selectAllItem)return this.isAllSelected;var f=this.renderedValue;if(!f||!Array.isArray(f))return!1;for(var d=0;d<f.length;d++)if(this.isTwoValueEquals(f[d],v.value))return!0;return!1},h.prototype.getRealValue=function(v){return v&&(this.valuePropertyName?v[this.valuePropertyName]:v)},Object.defineProperty(h.prototype,"isValueArray",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"maxSelectedChoices",{get:function(){return this.getPropertyValue("maxSelectedChoices")},set:function(v){v<0&&(v=0),this.setPropertyValue("maxSelectedChoices",v),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"minSelectedChoices",{get:function(){return this.getPropertyValue("minSelectedChoices")},set:function(v){v<0&&(v=0),this.setPropertyValue("minSelectedChoices",v)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"selectedChoices",{get:function(){var v=this.renderedValue,f=this.visibleChoices,d=this.selectedItemValues;if(this.isEmpty())return[];var u=this.defaultSelectedItemValues?[].concat(this.defaultSelectedItemValues,f):f,a=v.map(function(o){return F.ItemValue.getItemByValue(u,o)}).filter(function(o){return!!o});return!a.length&&!d&&this.updateSelectedItemValues(),this.validateItemValues(a)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"selectedItems",{get:function(){return this.selectedChoices},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"hasFilteredValue",{get:function(){return!!this.valuePropertyName},enumerable:!1,configurable:!0}),h.prototype.getFilteredValue=function(){return this.hasFilteredValue?this.renderedValue:y.prototype.getFilteredValue.call(this)},h.prototype.getMultipleSelectedItems=function(){return this.selectedChoices},h.prototype.validateItemValues=function(v){var f=this;if(v.length)return v;var d=this.selectedItemValues;return d&&d.length?(this.defaultSelectedItemValues=[].concat(d),d):this.renderedValue.map(function(a){return f.createItemValue(a)})},h.prototype.getAnswerCorrectIgnoreOrder=function(){return!0},h.prototype.onCheckForErrors=function(v,f){if(y.prototype.onCheckForErrors.call(this,v,f),!f&&this.minSelectedChoices>0&&this.checkMinSelectedChoicesUnreached()){var d=new L.CustomError(this.getLocalizationFormatString("minSelectError",this.minSelectedChoices),this);v.push(d)}},h.prototype.onVisibleChoicesChanged=function(){y.prototype.onVisibleChoicesChanged.call(this),this.updateSelectAllItemProps()},h.prototype.onEnableItemCallBack=function(v){return!this.shouldCheckMaxSelectedChoices()||this.isItemSelected(v)},h.prototype.onAfterRunItemsEnableCondition=function(){this.updateSelectAllItemProps(),this.maxSelectedChoices<1?this.otherItem.setIsEnabled(!0):this.hasOther&&this.otherItem.setIsEnabled(!this.shouldCheckMaxSelectedChoices()||this.isOtherSelected)},h.prototype.updateSelectAllItemProps=function(){!this.hasSelectAll||this.selectAllItem.setIsEnabled(this.getSelectAllEnabled())},h.prototype.getSelectAllEnabled=function(){if(!this.hasSelectAll)return!0;var f=this.getVisibleEnableItems().length,d=this.maxSelectedChoices;return!(d>0&&d<f)&&f>0},h.prototype.getVisibleEnableItems=function(){for(var v=new Array,f=this.activeChoices,d=0;d<f.length;d++){var u=f[d];u.isEnabled&&u.isVisible&&v.push(u)}return v},h.prototype.shouldCheckMaxSelectedChoices=function(){if(this.maxSelectedChoices<1)return!1;var v=this.value;return(Array.isArray(v)?v.length:0)>=this.maxSelectedChoices},h.prototype.checkMinSelectedChoicesUnreached=function(){if(this.minSelectedChoices<1)return!1;var v=this.value;return(Array.isArray(v)?v.length:0)<this.minSelectedChoices},h.prototype.getItemClassCore=function(v,f){return f.isSelectAllItem=v===this.selectAllItem,(new R.CssClassBuilder).append(y.prototype.getItemClassCore.call(this,v,f)).append(this.cssClasses.itemSelectAll,f.isSelectAllItem).toString()},h.prototype.updateValueFromSurvey=function(v,f){y.prototype.updateValueFromSurvey.call(this,v,f),this.invisibleOldValues={}},h.prototype.setDefaultValue=function(){y.prototype.setDefaultValue.call(this);var v=this.defaultValue;if(Array.isArray(v))for(var f=0;f<v.length;f++){var d=this.getRealValue(v[f]);this.canClearValueAnUnknown(d)&&this.addIntoInvisibleOldValues(d)}},h.prototype.addIntoInvisibleOldValues=function(v){this.invisibleOldValues[v]=v},h.prototype.hasValueToClearIncorrectValues=function(){return y.prototype.hasValueToClearIncorrectValues.call(this)||!w.Helpers.isValueEmpty(this.invisibleOldValues)},h.prototype.setNewValue=function(v){this.isChangingValueOnClearIncorrect||(this.invisibleOldValues={}),v=this.valueFromData(v);var f=this.value;v||(v=[]),f||(f=[]),!this.isTwoValueEquals(f,v)&&(this.removeNoneItemsValues(f,v),y.prototype.setNewValue.call(this,v))},h.prototype.getIsMultipleValue=function(){return!0},h.prototype.getCommentFromValue=function(v){var f=this.getFirstUnknownIndex(v);return f<0?"":v[f]},h.prototype.setOtherValueIntoValue=function(v){var f=this.getFirstUnknownIndex(v);return f<0||v.splice(f,1,this.otherItem.value),v},h.prototype.getFirstUnknownIndex=function(v){if(!Array.isArray(v))return-1;for(var f=0;f<v.length;f++)if(this.hasUnknownValue(v[f],!1,!1))return f;return-1},h.prototype.removeNoneItemsValues=function(v,f){var d=[];if(this.showNoneItem&&d.push(this.noneItem.value),this.showRefuseItem&&d.push(this.refuseItem.value),this.showDontKnowItem&&d.push(this.dontKnowItem.value),d.length>0){var u=this.noneIndexInArray(v,d),a=this.noneIndexInArray(f,d);if(u.index>-1)if(u.val===a.val)f.length>0&&f.splice(a.index,1);else{var o=this.noneIndexInArray(f,[u.val]);o.index>-1&&o.index<f.length-1&&f.splice(o.index,1)}else if(a.index>-1&&f.length>1){var s=this.convertValueToObject([a.val])[0];f.splice(0,f.length,s)}}},h.prototype.noneIndexInArray=function(v,f){if(!Array.isArray(v))return{index:-1,val:void 0};for(var d=v.length-1;d>=0;d--){var u=f.indexOf(this.getRealValue(v[d]));if(u>-1)return{index:d,val:f[u]}}return{index:-1,val:void 0}},h.prototype.canUseFilteredChoices=function(){return!this.hasSelectAll&&y.prototype.canUseFilteredChoices.call(this)},h.prototype.supportSelectAll=function(){return this.isSupportProperty("showSelectAllItem")},h.prototype.addNonChoicesItems=function(v,f){y.prototype.addNonChoicesItems.call(this,v,f),this.supportSelectAll()&&this.addNonChoiceItem(v,this.selectAllItem,f,this.hasSelectAll,m.settings.specialChoicesOrder.selectAllItem)},h.prototype.isBuiltInChoice=function(v){return v===this.selectAllItem||y.prototype.isBuiltInChoice.call(this,v)},h.prototype.isItemInList=function(v){return v==this.selectAllItem?this.hasSelectAll:y.prototype.isItemInList.call(this,v)},h.prototype.getDisplayValueCore=function(v,f){if(!Array.isArray(f))return y.prototype.getDisplayValueCore.call(this,v,f);var d=this.valuePropertyName;return this.getDisplayArrayValue(v,f,function(a){var o=f[a];return!!d&&!!o[d]&&(o=o[d]),o})},h.prototype.clearIncorrectValuesCore=function(){this.clearIncorrectAndDisabledValues(!1)},h.prototype.clearDisabledValuesCore=function(){this.clearIncorrectAndDisabledValues(!0)},h.prototype.clearIncorrectAndDisabledValues=function(v){var f=this.value,d=!1,u=this.restoreValuesFromInvisible();if(f||0!=u.length){if(!Array.isArray(f)||0==f.length){if(this.isChangingValueOnClearIncorrect=!0,v||(this.hasComment?this.value=null:this.clearValue()),this.isChangingValueOnClearIncorrect=!1,0==u.length)return;f=[]}for(var a=[],o=0;o<f.length;o++){var s=this.getRealValue(f[o]),l=this.canClearValueAnUnknown(s);!v&&!l||v&&!this.isValueDisabled(s)?a.push(f[o]):(d=!0,l&&this.addIntoInvisibleOldValues(f[o]))}for(o=0;o<u.length;o++)a.push(u[o]),d=!0;!d||(this.isChangingValueOnClearIncorrect=!0,0==a.length?this.clearValue():this.value=a,this.isChangingValueOnClearIncorrect=!1)}},h.prototype.restoreValuesFromInvisible=function(){for(var v=[],f=this.visibleChoices,d=0;d<f.length;d++){var u=f[d];if(u!==this.selectAllItem){var a=f[d].value;w.Helpers.isTwoValueEquals(a,this.invisibleOldValues[a])&&(this.isItemSelected(u)||v.push(a),delete this.invisibleOldValues[a])}}return v},h.prototype.getConditionJson=function(v,f){void 0===v&&(v=null),void 0===f&&(f=null);var d=y.prototype.getConditionJson.call(this);return("contains"==v||"notcontains"==v)&&(d.type="radiogroup"),d.maxSelectedChoices=0,d.minSelectedChoices=0,d},h.prototype.isAnswerCorrect=function(){return w.Helpers.isArrayContainsEqual(this.value,this.correctAnswer)},h.prototype.setDefaultValueWithOthers=function(){this.value=this.renderedValueFromDataCore(this.defaultValue)},h.prototype.getIsItemValue=function(v,f){return!(!v||!Array.isArray(v))&&v.indexOf(f.value)>=0},h.prototype.valueFromData=function(v){if(!v)return v;if(!Array.isArray(v))return[y.prototype.valueFromData.call(this,v)];for(var f=[],d=0;d<v.length;d++){var u=F.ItemValue.getItemByValue(this.activeChoices,v[d]);f.push(u?u.value:v[d])}return f},h.prototype.rendredValueFromData=function(v){return v=this.convertValueFromObject(v),y.prototype.rendredValueFromData.call(this,v)},h.prototype.rendredValueToData=function(v){return v=y.prototype.rendredValueToData.call(this,v),this.convertValueToObject(v)},h.prototype.convertValueFromObject=function(v){return this.valuePropertyName?w.Helpers.convertArrayObjectToValue(v,this.valuePropertyName):v},h.prototype.convertValueToObject=function(v){if(!this.valuePropertyName)return v;var f=void 0;return!!this.survey&&this.survey.questionsByValueName(this.getValueName()).length>1&&(f=this.data.getValue(this.getValueName())),w.Helpers.convertArrayValueToObject(v,this.valuePropertyName,f)},h.prototype.renderedValueFromDataCore=function(v){if((!v||!Array.isArray(v))&&(v=[]),!this.hasActiveChoices)return v;for(var f=0;f<v.length;f++){if(v[f]==this.otherItem.value)return v;if(this.hasUnknownValue(v[f],!0,!1)){this.otherValue=v[f];var d=v.slice();return d[f]=this.otherItem.value,d}}return v},h.prototype.rendredValueToDataCore=function(v){if(!v||!v.length)return v;for(var f=0;f<v.length;f++)if(v[f]==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()){var d=v.slice();return d[f]=this.otherValue,d}return v},h.prototype.selectOtherValueFromComment=function(v){var f=[],d=this.renderedValue;if(Array.isArray(d))for(var u=0;u<d.length;u++)d[u]!==this.otherItem.value&&f.push(d[u]);v&&f.push(this.otherItem.value),this.value=f},Object.defineProperty(h.prototype,"checkBoxSvgPath",{get:function(){return"M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"a11y_input_ariaRole",{get:function(){return"listbox"},enumerable:!1,configurable:!0}),h}($.QuestionCheckboxBase);G.Serializer.addClass("checkbox",[{name:"showSelectAllItem:boolean",alternativeName:"hasSelectAll"},{name:"separateSpecialChoices",visible:!0},{name:"maxSelectedChoices:number",default:0,onSettingValue:function(y,h){if(h<=0)return 0;var v=y.minSelectedChoices;return v>0&&h<v?v:h}},{name:"minSelectedChoices:number",default:0,onSettingValue:function(y,h){if(h<=0)return 0;var v=y.maxSelectedChoices;return v>0&&h>v?v:h}},{name:"selectAllText",serializationProperty:"locSelectAllText",dependsOn:"showSelectAllItem",visibleIf:function(y){return y.hasSelectAll}},{name:"valuePropertyName",category:"data"},{name:"itemComponent",visible:!1,default:"survey-checkbox-item"}],function(){return new C("")},"checkboxbase"),se.QuestionFactory.Instance.registerQuestion("checkbox",function(y){var h=new C(y);return h.choices=se.QuestionFactory.DefaultChoices,h})},"./src/question_comment.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionCommentModel",function(){return L});var m,G=x("./src/jsonobject.ts"),se=x("./src/questionfactory.ts"),$=x("./src/question_textbase.ts"),w=x("./src/utils/utils.ts"),F=x("./src/settings.ts"),R=(m=function(T,C){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,h){y.__proto__=h}||function(y,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(y[v]=h[v])})(T,C)},function(T,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function y(){this.constructor=T}m(T,C),T.prototype=null===C?Object.create(C):(y.prototype=C.prototype,new y)}),L=function(m){function T(){return null!==m&&m.apply(this,arguments)||this}return R(T,m),Object.defineProperty(T.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(C){this.setPropertyValue("rows",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"cols",{get:function(){return this.getPropertyValue("cols")},set:function(C){this.setPropertyValue("cols",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"acceptCarriageReturn",{get:function(){return this.getPropertyValue("acceptCarriageReturn")},set:function(C){this.setPropertyValue("acceptCarriageReturn",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"autoGrow",{get:function(){return this.getPropertyValue("autoGrow")||this.survey&&this.survey.autoGrowComment},set:function(C){this.setPropertyValue("autoGrow",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"allowResize",{get:function(){return this.getPropertyValue("allowResize")},set:function(C){this.setPropertyValue("allowResize",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"renderedAllowResize",{get:function(){return this.allowResize&&this.survey&&this.survey.allowResizeComment},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"resizeStyle",{get:function(){return this.renderedAllowResize?"both":"none"},enumerable:!1,configurable:!0}),T.prototype.getType=function(){return"comment"},T.prototype.afterRenderQuestionElement=function(C){this.element=F.settings.environment.root.getElementById(this.inputId)||C,this.updateElement(),m.prototype.afterRenderQuestionElement.call(this,C)},T.prototype.updateElement=function(){var C=this;this.element&&this.autoGrow&&setTimeout(function(){return Object(w.increaseHeightByContent)(C.element)},1)},T.prototype.beforeDestroyQuestionElement=function(C){m.prototype.beforeDestroyQuestionElement.call(this,C),this.element=void 0},T.prototype.onInput=function(C){this.isInputTextUpdate?this.value=C.target.value:this.updateElement(),this.updateRemainingCharacterCounter(C.target.value)},T.prototype.onKeyDown=function(C){this.onKeyDownPreprocess&&this.onKeyDownPreprocess(C),!this.acceptCarriageReturn&&("Enter"===C.key||13===C.keyCode)&&(C.preventDefault(),C.stopPropagation())},T.prototype.setQuestionValue=function(C,y){void 0===y&&(y=!0),m.prototype.setQuestionValue.call(this,C,y),this.updateElement()},T.prototype.onValueChanged=function(){m.prototype.onValueChanged.call(this),this.updateElement()},T.prototype.setNewValue=function(C){!this.acceptCarriageReturn&&!!C&&(C=C.replace(new RegExp("(\r\n|\n|\r)","gm"),"")),m.prototype.setNewValue.call(this,C)},T.prototype.getValueSeparator=function(){return"\n"},Object.defineProperty(T.prototype,"className",{get:function(){return(this.cssClasses?this.getControlClass():"panel-comment-root")||void 0},enumerable:!1,configurable:!0}),T}($.QuestionTextBase);G.Serializer.addClass("comment",[{name:"maxLength:number",default:-1},{name:"cols:number",default:50,visible:!1,isSerializable:!1},{name:"rows:number",default:4},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"]},{name:"autoGrow:boolean"},{name:"allowResize:boolean",default:!0},{name:"acceptCarriageReturn:boolean",default:!0,visible:!1}],function(){return new L("")},"textbase"),se.QuestionFactory.Instance.registerQuestion("comment",function(m){return new L(m)})},"./src/question_custom.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"ComponentQuestionJSON",function(){return m}),x.d(j,"ComponentCollection",function(){return T}),x.d(j,"QuestionCustomModelBase",function(){return C}),x.d(j,"QuestionCustomModel",function(){return y}),x.d(j,"QuestionCompositeModel",function(){return v});var f,G=x("./src/question.ts"),se=x("./src/jsonobject.ts"),$=x("./src/survey-element.ts"),w=x("./src/helpers.ts"),F=x("./src/textPreProcessor.ts"),R=x("./src/utils/cssClassBuilder.ts"),L=(f=function(d,u){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(a[s]=o[s])})(d,u)},function(d,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function a(){this.constructor=d}f(d,u),d.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)}),m=function(){function f(d,u){this.name=d,this.json=u;var a=this;se.Serializer.addClass(d,[],function(o){return T.Instance.createQuestion(o?o.name:"",a)},"question"),this.onInit()}return f.prototype.onInit=function(){!this.json.onInit||this.json.onInit()},f.prototype.onCreated=function(d){!this.json.onCreated||this.json.onCreated(d)},f.prototype.onLoaded=function(d){!this.json.onLoaded||this.json.onLoaded(d)},f.prototype.onAfterRender=function(d,u){!this.json.onAfterRender||this.json.onAfterRender(d,u)},f.prototype.onAfterRenderContentElement=function(d,u,a){!this.json.onAfterRenderContentElement||this.json.onAfterRenderContentElement(d,u,a)},f.prototype.onUpdateQuestionCssClasses=function(d,u,a){!this.json.onUpdateQuestionCssClasses||this.json.onUpdateQuestionCssClasses(d,u,a)},f.prototype.onPropertyChanged=function(d,u,a){!this.json.onPropertyChanged||this.json.onPropertyChanged(d,u,a)},f.prototype.onValueChanged=function(d,u,a){!this.json.onValueChanged||this.json.onValueChanged(d,u,a)},f.prototype.onValueChanging=function(d,u,a){return this.json.onValueChanging?this.json.onValueChanging(d,u,a):a},f.prototype.onItemValuePropertyChanged=function(d,u,a,o,s){!this.json.onItemValuePropertyChanged||this.json.onItemValuePropertyChanged(d,{obj:u,propertyName:a,name:o,newValue:s})},f.prototype.getDisplayValue=function(d,u,a){return this.json.getDisplayValue?this.json.getDisplayValue(a):a.getDisplayValue(d,u)},Object.defineProperty(f.prototype,"defaultQuestionTitle",{get:function(){return this.json.defaultQuestionTitle},enumerable:!1,configurable:!0}),f.prototype.setValueToQuestion=function(d){var u=this.json.valueToQuestion||this.json.setValue;return u?u(d):d},f.prototype.getValueFromQuestion=function(d){var u=this.json.valueFromQuestion||this.json.getValue;return u?u(d):d},Object.defineProperty(f.prototype,"isComposite",{get:function(){return!!this.json.elementsJSON||!!this.json.createElements},enumerable:!1,configurable:!0}),f.prototype.getDynamicProperties=function(){return Array.isArray(this.dynamicProperties)||(this.dynamicProperties=this.calcDynamicProperties()),this.dynamicProperties},f.prototype.calcDynamicProperties=function(){var d=this.json.inheritBaseProps;if(!d||!this.json.questionJSON)return[];var u=this.json.questionJSON.type;if(!u)return[];if(Array.isArray(d)){var a=[];return d.forEach(function(l){var c=se.Serializer.findProperty(u,l);c&&a.push(c)}),a}var o=[];for(var s in this.json.questionJSON)o.push(s);return se.Serializer.getDynamicPropertiesByTypes(this.name,u,o)},f}(),T=function(){function f(){this.customQuestionValues=[]}return f.prototype.add=function(d){if(d){var u=d.name;if(!u)throw"Attribute name is missed";if(u=u.toLowerCase(),this.getCustomQuestionByName(u))throw"There is already registered custom question with name '"+u+"'";if(se.Serializer.findClass(u))throw"There is already class with name '"+u+"'";var a=new m(u,d);this.onAddingJson&&this.onAddingJson(u,a.isComposite),this.customQuestionValues.push(a)}},f.prototype.remove=function(d){if(!d)return!1;var u=this.getCustomQuestionIndex(d.toLowerCase());return!(u<0||(this.removeByIndex(u),0))},Object.defineProperty(f.prototype,"items",{get:function(){return this.customQuestionValues},enumerable:!1,configurable:!0}),f.prototype.getCustomQuestionByName=function(d){var u=this.getCustomQuestionIndex(d);return u>=0?this.customQuestionValues[u]:void 0},f.prototype.getCustomQuestionIndex=function(d){for(var u=0;u<this.customQuestionValues.length;u++)if(this.customQuestionValues[u].name===d)return u;return-1},f.prototype.removeByIndex=function(d){se.Serializer.removeClass(this.customQuestionValues[d].name),this.customQuestionValues.splice(d,1)},f.prototype.clear=function(d){for(var u=this.customQuestionValues.length-1;u>=0;u--)(d||!this.customQuestionValues[u].json.internal)&&this.removeByIndex(u)},f.prototype.createQuestion=function(d,u){return u.isComposite?this.createCompositeModel(d,u):this.createCustomModel(d,u)},f.prototype.createCompositeModel=function(d,u){return this.onCreateComposite?this.onCreateComposite(d,u):new v(d,u)},f.prototype.createCustomModel=function(d,u){return this.onCreateCustom?this.onCreateCustom(d,u):new y(d,u)},f.Instance=new f,f}(),C=function(f){function d(u,a){var o=f.call(this,u)||this;return o.customQuestion=a,se.CustomPropertiesCollection.createProperties(o),$.SurveyElement.CreateDisabledDesignElements=!0,o.locQuestionTitle=o.createLocalizableString("questionTitle",o),o.locQuestionTitle.setJson(o.customQuestion.defaultQuestionTitle),o.createWrapper(),$.SurveyElement.CreateDisabledDesignElements=!1,o.customQuestion&&o.customQuestion.onCreated(o),o}return L(d,f),d.prototype.getType=function(){return this.customQuestion?this.customQuestion.name:"custom"},d.prototype.locStrsChanged=function(){f.prototype.locStrsChanged.call(this),this.getElement()&&this.getElement().locStrsChanged()},d.prototype.localeChanged=function(){f.prototype.locStrsChanged.call(this),this.getElement()&&this.getElement().localeChanged()},d.prototype.getDefaultTitle=function(){return this.locQuestionTitle.isEmpty?f.prototype.getDefaultTitle.call(this):this.getProcessedText(this.locQuestionTitle.textOrHtml)},d.prototype.addUsedLocales=function(u){f.prototype.addUsedLocales.call(this,u),this.getElement()&&this.getElement().addUsedLocales(u)},d.prototype.needResponsiveWidth=function(){var u=this.getElement();return!!u&&u.needResponsiveWidth()},d.prototype.createWrapper=function(){},d.prototype.onPropertyValueChanged=function(u,a,o){f.prototype.onPropertyValueChanged.call(this,u,a,o),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onPropertyChanged(this,u,o)},d.prototype.itemValuePropertyChanged=function(u,a,o,s){f.prototype.itemValuePropertyChanged.call(this,u,a,o,s),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onItemValuePropertyChanged(this,u,u.ownerPropertyName,a,s)},d.prototype.onFirstRendering=function(){var u=this.getElement();u&&u.onFirstRendering(),f.prototype.onFirstRendering.call(this)},d.prototype.onHidingContent=function(){f.prototype.onHidingContent.call(this);var u=this.getElement();u&&u.onHidingContent()},d.prototype.getProgressInfo=function(){var u=f.prototype.getProgressInfo.call(this);return this.getElement()&&(u=this.getElement().getProgressInfo()),this.isRequired&&0==u.requiredQuestionCount&&(u.requiredQuestionCount=1,this.isEmpty()||(u.answeredQuestionCount=1)),u},d.prototype.initElement=function(u){!u||(u.setSurveyImpl(this),u.disableDesignActions=!0)},d.prototype.setSurveyImpl=function(u,a){this.isSettingValOnLoading=!0,f.prototype.setSurveyImpl.call(this,u,a),this.initElement(this.getElement()),this.isSettingValOnLoading=!1},d.prototype.onSurveyLoad=function(){f.prototype.onSurveyLoad.call(this),this.getElement()&&(this.getElement().onSurveyLoad(),this.customQuestion.onLoaded(this))},d.prototype.afterRenderQuestionElement=function(u){},d.prototype.afterRenderCore=function(u){f.prototype.afterRenderCore.call(this,u),this.customQuestion&&this.customQuestion.onAfterRender(this,u)},d.prototype.onUpdateQuestionCssClasses=function(u,a){this.customQuestion&&this.customQuestion.onUpdateQuestionCssClasses(this,u,a)},d.prototype.setQuestionValue=function(u,a){void 0===a&&(a=!0),f.prototype.setQuestionValue.call(this,u,a),this.updateElementCss()},d.prototype.setNewValue=function(u){f.prototype.setNewValue.call(this,u),this.updateElementCss()},d.prototype.getSurveyData=function(){return this},d.prototype.getTextProcessor=function(){return this.textProcessor},d.prototype.getValue=function(u){return this.value},d.prototype.setValue=function(u,a,o,s){if(this.data){var l=this.convertDataName(u),c=this.convertDataValue(u,a);this.valueToDataCallback&&(c=this.valueToDataCallback(c)),this.data.setValue(l,c,o,s),this.updateIsAnswered(),this.updateElementCss(),this.customQuestion&&this.customQuestion.onValueChanged(this,u,a)}},d.prototype.getQuestionByName=function(u){},d.prototype.isValueChanging=function(u,a){if(this.customQuestion){var o=a;if(a=this.customQuestion.onValueChanging(this,u,a),!w.Helpers.isTwoValueEquals(a,o)){var s=this.getQuestionByName(u);if(s)return s.value=a,!0}}return!1},d.prototype.convertDataName=function(u){return this.getValueName()},d.prototype.convertDataValue=function(u,a){return a},d.prototype.getVariable=function(u){return this.data?this.data.getVariable(u):null},d.prototype.setVariable=function(u,a){!this.data||this.data.setVariable(u,a)},d.prototype.getComment=function(u){return this.data?this.data.getComment(this.getValueName()):""},d.prototype.setComment=function(u,a,o){!this.data||this.data.setComment(this.getValueName(),a,o)},d.prototype.getAllValues=function(){return this.data?this.data.getAllValues():{}},d.prototype.getFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},d.prototype.getFilteredProperties=function(){return this.data?this.data.getFilteredProperties():{}},d.prototype.findQuestionByName=function(u){return this.data?this.data.findQuestionByName(u):null},d.prototype.addElement=function(u,a){},d.prototype.removeElement=function(u){return!1},d.prototype.getQuestionTitleLocation=function(){return"left"},d.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},d.prototype.getChildrenLayoutType=function(){return"row"},d.prototype.elementWidthChanged=function(u){},Object.defineProperty(d.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),d.prototype.indexOf=function(u){return-1},d.prototype.ensureRowsVisibility=function(){},d.prototype.validateContainerOnly=function(){},d.prototype.getQuestionErrorLocation=function(){return this.getErrorLocation()},d.prototype.getContentDisplayValueCore=function(u,a,o){return o?this.customQuestion.getDisplayValue(u,a,o):f.prototype.getDisplayValueCore.call(this,u,a)},d}(G.Question),y=function(f){function d(){return null!==f&&f.apply(this,arguments)||this}return L(d,f),d.prototype.getTemplate=function(){return"custom"},d.prototype.getDynamicProperties=function(){return this.customQuestion.getDynamicProperties()||[]},d.prototype.getDynamicType=function(){return this.questionWrapper?this.questionWrapper.getType():"question"},d.prototype.getOriginalObj=function(){return this.questionWrapper},d.prototype.createWrapper=function(){var u=this;this.questionWrapper=this.createQuestion(),this.createDynamicProperties(this.questionWrapper),this.getDynamicProperties().length>0&&(this.questionWrapper.onPropertyValueChangedCallback=function(a,o,s,l,c){u.getDynamicProperty(a)&&u.propertyValueChanged(a,o,s,c)})},d.prototype.getDynamicProperty=function(u){for(var a=this.getDynamicProperties(),o=0;o<a.length;o++)if(a[o].name===u)return a[o];return null},d.prototype.getElement=function(){return this.contentQuestion},d.prototype.onAnyValueChanged=function(u,a){f.prototype.onAnyValueChanged.call(this,u,a),this.contentQuestion&&this.contentQuestion.onAnyValueChanged(u,a)},d.prototype.getQuestionByName=function(u){return this.contentQuestion},d.prototype.getDefaultTitle=function(){return this.hasJSONTitle&&this.contentQuestion?this.getProcessedText(this.contentQuestion.title):f.prototype.getDefaultTitle.call(this)},d.prototype.setValue=function(u,a,o,s){this.isValueChanging(u,a)||f.prototype.setValue.call(this,u,a,o,s)},d.prototype.onSetData=function(){f.prototype.onSetData.call(this),this.survey&&!this.isEmpty()&&this.setValue(this.name,this.value,!1,this.allowNotifyValueChanged)},d.prototype.hasErrors=function(u,a){if(void 0===u&&(u=!0),void 0===a&&(a=null),!this.contentQuestion)return!1;var o=this.contentQuestion.hasErrors(u,a);this.errors=[];for(var s=0;s<this.contentQuestion.errors.length;s++)this.errors.push(this.contentQuestion.errors[s]);return o||(o=f.prototype.hasErrors.call(this,u,a)),this.updateElementCss(),o},d.prototype.focus=function(u){void 0===u&&(u=!1),this.contentQuestion?this.contentQuestion.focus(u):f.prototype.focus.call(this,u)},d.prototype.afterRenderCore=function(u){f.prototype.afterRenderCore.call(this,u),this.contentQuestion&&this.contentQuestion.afterRender(u)},Object.defineProperty(d.prototype,"contentQuestion",{get:function(){return this.questionWrapper},enumerable:!1,configurable:!0}),d.prototype.createQuestion=function(){var u=this,a=this.customQuestion.json,o=null;if(a.questionJSON){this.hasJSONTitle=!!a.questionJSON.title;var s=a.questionJSON.type;if(!s||!se.Serializer.findClass(s))throw"type attribute in questionJSON is empty or incorrect";o=se.Serializer.createClass(s),this.initElement(o),o.fromJSON(a.questionJSON)}else a.createQuestion&&(o=a.createQuestion(),this.initElement(o));return o&&(o.isContentElement=!0,o.name||(o.name="question"),o.onUpdateCssClassesCallback=function(l){u.onUpdateQuestionCssClasses(o,l)},o.hasCssErrorCallback=function(){return u.errors.length>0},o.setValueChangedDirectlyCallback=function(l){u.setValueChangedDirectly(l)}),o},d.prototype.onSurveyLoad=function(){f.prototype.onSurveyLoad.call(this),this.contentQuestion&&this.isEmpty()&&!this.contentQuestion.isEmpty()&&(this.value=this.getContentQuestionValue())},d.prototype.runCondition=function(u,a){f.prototype.runCondition.call(this,u,a),this.contentQuestion&&this.contentQuestion.runCondition(u,a)},d.prototype.convertDataName=function(u){if(!this.contentQuestion)return f.prototype.convertDataName.call(this,u);var a=u.replace(this.contentQuestion.getValueName(),this.getValueName());return 0==a.indexOf(this.getValueName())?a:f.prototype.convertDataName.call(this,u)},d.prototype.convertDataValue=function(u,a){return this.convertDataName(u)==f.prototype.convertDataName.call(this,u)?this.getContentQuestionValue():a},d.prototype.getContentQuestionValue=function(){if(this.contentQuestion){var u=this.contentQuestion.value;return this.customQuestion&&(u=this.customQuestion.getValueFromQuestion(u)),u}},d.prototype.setContentQuestionValue=function(u){!this.contentQuestion||(this.customQuestion&&(u=this.customQuestion.setValueToQuestion(u)),this.contentQuestion.value=u)},d.prototype.canSetValueToSurvey=function(){return!1},d.prototype.setQuestionValue=function(u,a){void 0===a&&(a=!0),f.prototype.setQuestionValue.call(this,u,a),!this.isLoadingFromJson&&this.contentQuestion&&!this.isTwoValueEquals(this.getContentQuestionValue(),u)&&this.setContentQuestionValue(this.getUnbindValue(u))},d.prototype.onSurveyValueChanged=function(u){f.prototype.onSurveyValueChanged.call(this,u),this.contentQuestion&&this.contentQuestion.onSurveyValueChanged(u)},d.prototype.getValueCore=function(){return this.contentQuestion?this.getContentQuestionValue():f.prototype.getValueCore.call(this)},d.prototype.setValueChangedDirectly=function(u){this.isSettingValueChanged||(this.isSettingValueChanged=!0,f.prototype.setValueChangedDirectly.call(this,u),this.contentQuestion&&this.contentQuestion.setValueChangedDirectly(u),this.isSettingValueChanged=!1)},d.prototype.createDynamicProperties=function(u){if(u){var a=this.getDynamicProperties();Array.isArray(a)&&se.Serializer.addDynamicPropertiesIntoObj(this,u,a)}},d.prototype.initElement=function(u){var a=this;f.prototype.initElement.call(this,u),u&&(u.parent=this,u.afterRenderQuestionCallback=function(o,s){a.customQuestion&&a.customQuestion.onAfterRenderContentElement(a,o,s)})},d.prototype.updateElementCss=function(u){this.contentQuestion&&this.questionWrapper.updateElementCss(u),f.prototype.updateElementCss.call(this,u)},d.prototype.updateElementCssCore=function(u){this.contentQuestion&&(u=this.contentQuestion.cssClasses),f.prototype.updateElementCssCore.call(this,u)},d.prototype.getDisplayValueCore=function(u,a){return f.prototype.getContentDisplayValueCore.call(this,u,a,this.contentQuestion)},d}(C),h=function(f){function d(u,a){var o=f.call(this,a)||this;return o.composite=u,o.variableName=a,o}return L(d,f),Object.defineProperty(d.prototype,"survey",{get:function(){return this.composite.survey},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"panel",{get:function(){return this.composite.contentPanel},enumerable:!1,configurable:!0}),d}(F.QuestionTextProcessor),v=function(f){function d(u,a){var o=f.call(this,u,a)||this;return o.customQuestion=a,o.settingNewValue=!1,o.textProcessing=new h(o,d.ItemVariableName),o}return L(d,f),d.prototype.createWrapper=function(){this.panelWrapper=this.createPanel()},d.prototype.getTemplate=function(){return"composite"},d.prototype.getElement=function(){return this.contentPanel},d.prototype.getCssRoot=function(u){return(new R.CssClassBuilder).append(f.prototype.getCssRoot.call(this,u)).append(u.composite).toString()},Object.defineProperty(d.prototype,"contentPanel",{get:function(){return this.panelWrapper},enumerable:!1,configurable:!0}),d.prototype.hasErrors=function(u,a){void 0===u&&(u=!0),void 0===a&&(a=null);var o=f.prototype.hasErrors.call(this,u,a);return this.contentPanel&&this.contentPanel.hasErrors(u,!1,a)||o},d.prototype.updateElementCss=function(u){f.prototype.updateElementCss.call(this,u),this.contentPanel&&this.contentPanel.updateElementCss(u)},d.prototype.getTextProcessor=function(){return this.textProcessing},d.prototype.findQuestionByName=function(u){return this.getQuestionByName(u)||f.prototype.findQuestionByName.call(this,u)},d.prototype.clearValueIfInvisibleCore=function(u){f.prototype.clearValueIfInvisibleCore.call(this,u);for(var a=this.contentPanel.questions,o=0;o<a.length;o++)a[o].clearValueIfInvisible(u)},d.prototype.onAnyValueChanged=function(u,a){f.prototype.onAnyValueChanged.call(this,u,a);for(var o=this.contentPanel.questions,s=0;s<o.length;s++)o[s].onAnyValueChanged(u,a)},Object.defineProperty(d.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),d.prototype.createPanel=function(){var u=this,a=se.Serializer.createClass("panel");a.showQuestionNumbers="off",a.renderWidth="100%";var o=this.customQuestion.json;return o.elementsJSON&&a.fromJSON({elements:o.elementsJSON}),o.createElements&&o.createElements(a,this),this.initElement(a),a.readOnly=this.isReadOnly,a.questions.forEach(function(s){return s.onUpdateCssClassesCallback=function(l){u.onUpdateQuestionCssClasses(s,l)}}),this.setAfterRenderCallbacks(a),a},d.prototype.onReadOnlyChanged=function(){this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly),f.prototype.onReadOnlyChanged.call(this)},d.prototype.onSurveyLoad=function(){if(this.isSettingValOnLoading=!0,this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly,this.setIsContentElement(this.contentPanel)),f.prototype.onSurveyLoad.call(this),this.contentPanel){var u=this.getContentPanelValue();w.Helpers.isValueEmpty(u)||(this.value=u)}this.isSettingValOnLoading=!1},d.prototype.setIsContentElement=function(u){u.isContentElement=!0;for(var a=u.elements,o=0;o<a.length;o++){var s=a[o];s.isPanel?this.setIsContentElement(s):s.isContentElement=!0}},d.prototype.setVisibleIndex=function(u){var a=f.prototype.setVisibleIndex.call(this,u);return this.isVisible&&!!this.contentPanel&&(a+=this.contentPanel.setVisibleIndex(u)),a},d.prototype.runCondition=function(u,a){if(f.prototype.runCondition.call(this,u,a),this.contentPanel){var o=u[d.ItemVariableName];u[d.ItemVariableName]=this.contentPanel.getValue(),this.contentPanel.runCondition(u,a),delete u[d.ItemVariableName],o&&(u[d.ItemVariableName]=o)}},d.prototype.getValue=function(u){var a=this.value;return a?a[u]:null},d.prototype.getQuestionByName=function(u){return this.contentPanel?this.contentPanel.getQuestionByName(u):void 0},d.prototype.setValue=function(u,a,o,s){if(this.settingNewValue)this.setNewValueIntoQuestion(u,a);else if(!this.isValueChanging(u,a)){if(this.settingNewValue=!0,!this.isEditingSurveyElement&&this.contentPanel)for(var l=0,c=this.contentPanel.questions.length+1;l<c&&this.updateValueCoreWithPanelValue();)l++;this.setNewValueIntoQuestion(u,a),f.prototype.setValue.call(this,u,a,o,s),this.settingNewValue=!1}},d.prototype.getFilteredValues=function(){var u=this.data?this.data.getFilteredValues():{};return this.contentPanel&&(u[d.ItemVariableName]=this.contentPanel.getValue()),u},d.prototype.updateValueCoreWithPanelValue=function(){var u=this.getContentPanelValue();return!this.isTwoValueEquals(this.getValueCore(),u)&&(this.setValueCore(u),!0)},d.prototype.getContentPanelValue=function(u){return u||(u=this.contentPanel.getValue()),this.customQuestion.setValueToQuestion(u)},d.prototype.getValueForContentPanel=function(u){return this.customQuestion.getValueFromQuestion(u)},d.prototype.setNewValueIntoQuestion=function(u,a){var o=this.getQuestionByName(u);o&&!this.isTwoValueEquals(a,o.value)&&(o.value=a)},d.prototype.addConditionObjectsByContext=function(u,a){if(this.contentPanel)for(var o=this.contentPanel.questions,s=this.name,l=this.title,c=0;c<o.length;c++)u.push({name:s+"."+o[c].name,text:l+"."+o[c].title,question:o[c]})},d.prototype.collectNestedQuestionsCore=function(u,a){!this.contentPanel||this.contentPanel.questions.forEach(function(o){return o.collectNestedQuestions(u,a)})},d.prototype.convertDataValue=function(u,a){var o=this.getValueForContentPanel(this.value);return o||(o={}),this.isValueEmpty(a)&&!this.isEditingSurveyElement?delete o[u]:o[u]=a,this.getContentPanelValue(o)},d.prototype.setQuestionValue=function(u,a){void 0===a&&(a=!0),this.setValuesIntoQuestions(u),!this.isEditingSurveyElement&&!!this.contentPanel&&(u=this.getContentPanelValue()),f.prototype.setQuestionValue.call(this,u,a)},d.prototype.setValuesIntoQuestions=function(u){if(this.contentPanel){u=this.getValueForContentPanel(u);var a=this.settingNewValue;this.settingNewValue=!0;for(var o=this.contentPanel.questions,s=0;s<o.length;s++){var l=o[s].getValueName(),c=u?u[l]:void 0,b=o[s];this.isTwoValueEquals(b.value,c)||(b.value=c)}this.settingNewValue=a}},d.prototype.getDisplayValueCore=function(u,a){return f.prototype.getContentDisplayValueCore.call(this,u,a,this.contentPanel)},d.prototype.setAfterRenderCallbacks=function(u){var a=this;if(u&&this.customQuestion)for(var o=u.questions,s=0;s<o.length;s++)o[s].afterRenderQuestionCallback=function(l,c){a.customQuestion.onAfterRenderContentElement(a,l,c)}},d.ItemVariableName="composite",d}(C)},"./src/question_dropdown.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionDropdownModel",function(){return T});var C,G=x("./src/jsonobject.ts"),se=x("./src/questionfactory.ts"),$=x("./src/question_baseselect.ts"),w=x("./src/utils/cssClassBuilder.ts"),F=x("./src/dropdownListModel.ts"),R=x("./src/settings.ts"),L=(C=function(y,h){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(v[d]=f[d])})(y,h)},function(y,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function v(){this.constructor=y}C(y,h),y.prototype=null===h?Object.create(h):(v.prototype=h.prototype,new v)}),m=function(C,y,h,v){var u,f=arguments.length,d=f<3?y:null===v?v=Object.getOwnPropertyDescriptor(y,h):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(C,y,h,v);else for(var a=C.length-1;a>=0;a--)(u=C[a])&&(d=(f<3?u(d):f>3?u(y,h,d):u(y,h))||d);return f>3&&d&&Object.defineProperty(y,h,d),d},T=function(C){function y(h){var v=C.call(this,h)||this;return v.lastSelectedItemValue=null,v.minMaxChoices=[],v.onOpened=v.addEvent(),v.createLocalizableString("placeholder",v,!1,!0),v.createLocalizableString("clearCaption",v,!1,!0),v.registerPropertyChangedHandlers(["choicesMin","choicesMax","choicesStep"],function(){v.onVisibleChoicesChanged()}),v.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],function(){v.updateReadOnlyText()}),v.updateReadOnlyText(),v}return L(y,C),y.prototype.updateReadOnlyText=function(){var h=this.selectedItem?"":this.placeholder;"select"==this.renderAs&&(this.isOtherSelected?h=this.otherText:this.isNoneSelected?h=this.noneText:this.selectedItem&&(h=this.selectedItemText)),this.readOnlyText=h},y.prototype.locStrsChanged=function(){C.prototype.locStrsChanged.call(this),this.updateReadOnlyText()},Object.defineProperty(y.prototype,"showOptionsCaption",{get:function(){return this.allowClear},set:function(h){this.allowClear=h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"showClearButton",{get:function(){return this.allowClear&&!this.isEmpty()&&(!this.isDesignMode||R.settings.supportCreatorV2)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(h){this.placeholder=h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(h){this.setLocalizableStringText("placeholder",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(h){this.setLocalizableStringText("clearCaption",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),y.prototype.getType=function(){return"dropdown"},Object.defineProperty(y.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"selectedItem",{get:function(){return this.getSingleSelectedItem()},enumerable:!1,configurable:!0}),y.prototype.onGetSingleSelectedItem=function(h){h&&(this.lastSelectedItemValue=h)},y.prototype.supportGoNextPageAutomatic=function(){return!this.isOtherSelected},y.prototype.getChoices=function(){var h=C.prototype.getChoices.call(this);if(this.choicesMax<=this.choicesMin)return h;for(var v=[],f=0;f<h.length;f++)v.push(h[f]);if(0===this.minMaxChoices.length||this.minMaxChoices.length!==(this.choicesMax-this.choicesMin)/this.choicesStep+1)for(this.minMaxChoices=[],f=this.choicesMin;f<=this.choicesMax;f+=this.choicesStep)this.minMaxChoices.push(this.createItemValue(f));return v.concat(this.minMaxChoices)},Object.defineProperty(y.prototype,"choicesMin",{get:function(){return this.getPropertyValue("choicesMin")},set:function(h){this.setPropertyValue("choicesMin",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"choicesMax",{get:function(){return this.getPropertyValue("choicesMax")},set:function(h){this.setPropertyValue("choicesMax",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"choicesStep",{get:function(){return this.getPropertyValue("choicesStep")},set:function(h){h<1&&(h=1),this.setPropertyValue("choicesStep",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete","")},set:function(h){this.setPropertyValue("autocomplete",h)},enumerable:!1,configurable:!0}),y.prototype.getControlClass=function(){return(new w.CssClassBuilder).append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.controlInputFieldComponent,!!this.inputFieldComponentName).toString()},Object.defineProperty(y.prototype,"selectedItemLocText",{get:function(){var h=this.suggestedItem||this.selectedItem;return null==h?void 0:h.locText},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"inputFieldComponentName",{get:function(){return this.inputFieldComponent||this.itemComponent},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"showSelectedItemLocText",{get:function(){return!this.inputHasValue&&!this.inputFieldComponentName&&!!this.selectedItemLocText&&this.dropdownListModel.canShowSelectedItem},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"showInputFieldComponent",{get:function(){return!this.inputHasValue&&!!this.inputFieldComponentName&&!this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"selectedItemText",{get:function(){var h=this.selectedItem;return h?h.text:""},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"dropdownListModel",{get:function(){return"select"!==this.renderAs&&!this.dropdownListModelValue&&(this.dropdownListModelValue=new F.DropdownListModel(this)),this.dropdownListModelValue},set:function(h){this.dropdownListModelValue=h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"popupModel",{get:function(){var h;return null===(h=this.dropdownListModel)||void 0===h?void 0:h.popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"ariaExpanded",{get:function(){var h=this.popupModel;return h&&h.isVisible?"true":"false"},enumerable:!1,configurable:!0}),y.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},y.prototype.onSelectedItemValuesChangedHandler=function(h){var v;null===(v=this.dropdownListModel)||void 0===v||v.setInputStringFromSelectedItem(h),C.prototype.onSelectedItemValuesChangedHandler.call(this,h)},y.prototype.hasUnknownValue=function(h,v,f,d){return!this.choicesLazyLoadEnabled&&C.prototype.hasUnknownValue.call(this,h,v,f,d)},y.prototype.needConvertRenderedOtherToDataValue=function(){var h,v=null===(h=this.otherValue)||void 0===h?void 0:h.trim();return!!v&&C.prototype.hasUnknownValue.call(this,v,!0,!1)},y.prototype.getItemIfChoicesNotContainThisValue=function(h,v){return this.choicesLazyLoadEnabled&&!this.dropdownListModel.isAllDataLoaded?this.createItemValue(h,v):C.prototype.getItemIfChoicesNotContainThisValue.call(this,h,v)},y.prototype.onVisibleChoicesChanged=function(){C.prototype.onVisibleChoicesChanged.call(this),!this.isLoadingFromJson&&this.popupModel&&this.dropdownListModel.updateItems()},y.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},y.prototype.getInputId=function(){return this.inputId+"_0"},y.prototype.clearValue=function(){var h;C.prototype.clearValue.call(this),this.lastSelectedItemValue=null,null===(h=this.dropdownListModel)||void 0===h||h.clear()},y.prototype.onClick=function(h){this.onOpenedCallBack&&this.onOpenedCallBack()},y.prototype.onKeyUp=function(h){46===(h.which||h.keyCode)&&(this.clearValue(),h.preventDefault(),h.stopPropagation())},y.prototype.dispose=function(){C.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},m([Object(G.property)()],y.prototype,"allowClear",void 0),m([Object(G.property)({onSet:function(h,v){v.dropdownListModel&&v.dropdownListModel.setSearchEnabled(h)}})],y.prototype,"searchEnabled",void 0),m([Object(G.property)()],y.prototype,"searchMode",void 0),m([Object(G.property)({defaultValue:!1})],y.prototype,"inputHasValue",void 0),m([Object(G.property)({defaultValue:""})],y.prototype,"readOnlyText",void 0),m([Object(G.property)()],y.prototype,"choicesLazyLoadEnabled",void 0),m([Object(G.property)()],y.prototype,"choicesLazyLoadPageSize",void 0),m([Object(G.property)()],y.prototype,"suggestedItem",void 0),y}($.QuestionSelectBase);G.Serializer.addClass("dropdown",[{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",alternativeName:"showOptionsCaption",default:!0},{name:"choicesMin:number",default:0},{name:"choicesMax:number",default:0},{name:"choicesStep:number",default:1,minValue:1},{name:"autocomplete",alternativeName:"autoComplete",choices:R.settings.questions.dataList},{name:"renderAs",default:"default",visible:!1},{name:"searchEnabled:boolean",default:!0,visible:!1},{name:"searchMode",default:"contains",choices:["contains","startsWith"]},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"inputFieldComponent",visible:!1},{name:"itemComponent",visible:!1,default:""}],function(){return new T("")},"selectbase"),se.QuestionFactory.Instance.registerQuestion("dropdown",function(C){var y=new T(C);return y.choices=se.QuestionFactory.DefaultChoices,y})},"./src/question_empty.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionEmptyModel",function(){return w});var F,G=x("./src/jsonobject.ts"),se=x("./src/question.ts"),$=(F=function(R,L){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,T){m.__proto__=T}||function(m,T){for(var C in T)Object.prototype.hasOwnProperty.call(T,C)&&(m[C]=T[C])})(R,L)},function(R,L){if("function"!=typeof L&&null!==L)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function m(){this.constructor=R}F(R,L),R.prototype=null===L?Object.create(L):(m.prototype=L.prototype,new m)}),w=function(F){function R(L){return F.call(this,L)||this}return $(R,F),R.prototype.getType=function(){return"empty"},R}(se.Question);G.Serializer.addClass("empty",[],function(){return new w("")},"question")},"./src/question_expression.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionExpressionModel",function(){return R}),x.d(j,"getCurrecyCodes",function(){return L});var m,G=x("./src/helpers.ts"),se=x("./src/question.ts"),$=x("./src/jsonobject.ts"),w=x("./src/questionfactory.ts"),F=(m=function(T,C){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,h){y.__proto__=h}||function(y,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(y[v]=h[v])})(T,C)},function(T,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function y(){this.constructor=T}m(T,C),T.prototype=null===C?Object.create(C):(y.prototype=C.prototype,new y)}),R=function(m){function T(C){var y=m.call(this,C)||this;return y.createLocalizableString("format",y),y.registerPropertyChangedHandlers(["expression"],function(){y.expressionRunner&&(y.expressionRunner=y.createRunner())}),y.registerPropertyChangedHandlers(["format","currency","displayStyle"],function(){y.updateFormatedValue()}),y}return F(T,m),T.prototype.getType=function(){return"expression"},Object.defineProperty(T.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"format",{get:function(){return this.getLocalizableStringText("format","")},set:function(C){this.setLocalizableStringText("format",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"locFormat",{get:function(){return this.getLocalizableString("format")},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(C){this.setPropertyValue("expression",C)},enumerable:!1,configurable:!0}),T.prototype.locCalculation=function(){this.expressionIsRunning=!0},T.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},T.prototype.runCondition=function(C,y){m.prototype.runCondition.call(this,C,y),this.expression&&!this.expressionIsRunning&&(this.runIfReadOnly||!this.isReadOnly)&&(this.locCalculation(),this.expressionRunner||(this.expressionRunner=this.createRunner()),this.expressionRunner.run(C,y))},T.prototype.canCollectErrors=function(){return!0},T.prototype.hasRequiredError=function(){return!1},T.prototype.createRunner=function(){var C=this,y=this.createExpressionRunner(this.expression);return y.onRunComplete=function(h){C.value=C.roundValue(h),C.unlocCalculation()},y},Object.defineProperty(T.prototype,"maximumFractionDigits",{get:function(){return this.getPropertyValue("maximumFractionDigits")},set:function(C){C<-1||C>20||this.setPropertyValue("maximumFractionDigits",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"minimumFractionDigits",{get:function(){return this.getPropertyValue("minimumFractionDigits")},set:function(C){C<-1||C>20||this.setPropertyValue("minimumFractionDigits",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"runIfReadOnly",{get:function(){return!0===this.runIfReadOnlyValue},set:function(C){this.runIfReadOnlyValue=C},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"formatedValue",{get:function(){return this.getPropertyValue("formatedValue","")},enumerable:!1,configurable:!0}),T.prototype.updateFormatedValue=function(){this.setPropertyValue("formatedValue",this.getDisplayValueCore(!1,this.value))},T.prototype.onValueChanged=function(){this.updateFormatedValue()},T.prototype.updateValueFromSurvey=function(C,y){m.prototype.updateValueFromSurvey.call(this,C,y),this.updateFormatedValue()},T.prototype.getDisplayValueCore=function(C,y){var h=null==y?this.defaultValue:y,v="";if(!this.isValueEmpty(h)){var f=this.getValueAsStr(h);v=this.format?this.format.format(f):f}return this.survey&&(v=this.survey.getExpressionDisplayValue(this,h,v)),v},Object.defineProperty(T.prototype,"displayStyle",{get:function(){return this.getPropertyValue("displayStyle")},set:function(C){this.setPropertyValue("displayStyle",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"currency",{get:function(){return this.getPropertyValue("currency")},set:function(C){["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"].indexOf(C)<0||this.setPropertyValue("currency",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"useGrouping",{get:function(){return this.getPropertyValue("useGrouping")},set:function(C){this.setPropertyValue("useGrouping",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"precision",{get:function(){return this.getPropertyValue("precision")},set:function(C){this.setPropertyValue("precision",C)},enumerable:!1,configurable:!0}),T.prototype.roundValue=function(C){if(C!==1/0)return this.precision<0||!G.Helpers.isNumber(C)?C:parseFloat(C.toFixed(this.precision))},T.prototype.getValueAsStr=function(C){if("date"==this.displayStyle){var y=new Date(C);if(y&&y.toLocaleDateString)return y.toLocaleDateString()}if("none"!=this.displayStyle&&G.Helpers.isNumber(C)){var h=this.getLocale();h||(h="en");var v={style:this.displayStyle,currency:this.currency,useGrouping:this.useGrouping};return this.maximumFractionDigits>-1&&(v.maximumFractionDigits=this.maximumFractionDigits),this.minimumFractionDigits>-1&&(v.minimumFractionDigits=this.minimumFractionDigits),C.toLocaleString(h,v)}return C.toString()},T}(se.Question);function L(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]}$.Serializer.addClass("expression",["expression:expression",{name:"format",serializationProperty:"locFormat"},{name:"displayStyle",default:"none",choices:["none","decimal","currency","percent","date"]},{name:"currency",choices:function(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]},default:"USD",visibleIf:function(m){return"currency"===m.displayStyle}},{name:"maximumFractionDigits:number",default:-1},{name:"minimumFractionDigits:number",default:-1},{name:"useGrouping:boolean",default:!0},{name:"precision:number",default:-1,category:"data"},{name:"enableIf",visible:!1},{name:"isRequired",visible:!1},{name:"readOnly",visible:!1},{name:"requiredErrorText",visible:!1},{name:"defaultValueExpression",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"requiredIf",visible:!1}],function(){return new R("")},"question"),w.QuestionFactory.Instance.registerQuestion("expression",function(m){return new R(m)})},"./src/question_file.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"dataUrl2File",function(){return d}),x.d(j,"QuestionFileModelBase",function(){return u}),x.d(j,"QuestionFileModel",function(){return a}),x.d(j,"FileLoader",function(){return o});var s,G=x("./src/question.ts"),se=x("./src/jsonobject.ts"),$=x("./src/questionfactory.ts"),w=x("./src/base.ts"),F=x("./src/error.ts"),R=x("./src/utils/cssClassBuilder.ts"),L=x("./src/utils/utils.ts"),m=x("./src/actions/container.ts"),T=x("./src/actions/action.ts"),C=x("./src/helpers.ts"),y=x("./src/utils/camera.ts"),h=x("./src/settings.ts"),v=(s=function(l,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,M){b.__proto__=M}||function(b,M){for(var D in M)Object.prototype.hasOwnProperty.call(M,D)&&(b[D]=M[D])})(l,c)},function(l,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function b(){this.constructor=l}s(l,c),l.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}),f=function(s,l,c,b){var g,M=arguments.length,D=M<3?l:null===b?b=Object.getOwnPropertyDescriptor(l,c):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(s,l,c,b);else for(var P=s.length-1;P>=0;P--)(g=s[P])&&(D=(M<3?g(D):M>3?g(l,c,D):g(l,c))||D);return M>3&&D&&Object.defineProperty(l,c,D),D};function d(s,l,c){var b=atob(s.split(",")[1]),M=new Uint8Array(b.split("").map(function(D){return D.charCodeAt(0)})).buffer;return new File([M],l,{type:c})}var u=function(s){function l(){var c=null!==s&&s.apply(this,arguments)||this;return c.isUploading=!1,c.onUploadStateChanged=c.addEvent(),c.onStateChanged=c.addEvent(),c}return v(l,s),l.prototype.stateChanged=function(c){this.currentState!=c&&("loading"===c&&(this.isUploading=!0),"loaded"===c&&(this.isUploading=!1),"error"===c&&(this.isUploading=!1),this.currentState=c,this.onStateChanged.fire(this,{state:c}),this.onUploadStateChanged.fire(this,{state:c}))},Object.defineProperty(l.prototype,"showLoadingIndicator",{get:function(){return this.isUploading&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"storeDataAsText",{get:function(){return this.getPropertyValue("storeDataAsText")},set:function(c){this.setPropertyValue("storeDataAsText",c)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"waitForUpload",{get:function(){return this.getPropertyValue("waitForUpload")},set:function(c){this.setPropertyValue("waitForUpload",c)},enumerable:!1,configurable:!0}),l.prototype.clearValue=function(){this.clearOnDeletingContainer(),s.prototype.clearValue.call(this)},l.prototype.clearOnDeletingContainer=function(){!this.survey||this.survey.clearFiles(this,this.name,this.value,null,function(){})},l.prototype.onCheckForErrors=function(c,b){s.prototype.onCheckForErrors.call(this,c,b),this.isUploading&&this.waitForUpload&&c.push(new F.UploadingFileError(this.getLocalizationString("uploadingFile"),this))},l.prototype.uploadFiles=function(c){var b=this;this.survey&&(this.stateChanged("loading"),this.survey.uploadFiles(this,this.name,c,function(M,D){Array.isArray(M)&&(b.setValueFromResult(M),Array.isArray(D)&&(D.forEach(function(g){return b.errors.push(new F.UploadingFileError(g,b))}),b.stateChanged("error"))),"success"===M&&Array.isArray(D)&&b.setValueFromResult(D),"error"===M&&("string"==typeof D&&b.errors.push(new F.UploadingFileError(D,b)),Array.isArray(D)&&D.length>0&&D.forEach(function(g){return b.errors.push(new F.UploadingFileError(g,b))}),b.stateChanged("error")),b.stateChanged("loaded")}))},f([Object(se.property)()],l.prototype,"isUploading",void 0),f([Object(se.property)({defaultValue:"empty"})],l.prototype,"currentState",void 0),l}(G.Question),a=function(s){function l(c){var b=s.call(this,c)||this;return b.isDragging=!1,b.fileNavigator=new m.ActionContainer,b.canFlipCameraValue=void 0,b.prevPreviewLength=0,b.calcAvailableItemsCount=function(M,D,g){var P=Math.floor(M/(D+g));return(P+1)*(D+g)-g<=M&&P++,P},b.dragCounter=0,b.onDragEnter=function(M){b.canDragDrop()&&(M.preventDefault(),b.isDragging=!0,b.dragCounter++)},b.onDragOver=function(M){if(!b.canDragDrop())return M.returnValue=!1,!1;M.dataTransfer.dropEffect="copy",M.preventDefault()},b.onDrop=function(M){b.canDragDrop()&&(b.isDragging=!1,b.dragCounter=0,M.preventDefault(),b.onChange(M.dataTransfer))},b.onDragLeave=function(M){b.canDragDrop()&&(b.dragCounter--,0===b.dragCounter&&(b.isDragging=!1))},b.doChange=function(M){b.onChange(M.target||M.srcElement)},b.doClean=function(){b.needConfirmRemoveFile?Object(L.confirmActionAsync)(b.confirmRemoveAllMessage,function(){b.clearFilesCore()},void 0,b.getLocale(),b.survey.rootElement):b.clearFilesCore()},b.doDownloadFile=function(M,D){Object(L.detectIEOrEdge)()&&(M.preventDefault(),Object(L.loadFileFromBase64)(D.content,D.name))},b.createLocalizableString("takePhotoCaption",b,!1,!0),b.actionsContainer=new m.ActionContainer,b.actionsContainer.locOwner=b,b.fileIndexAction=new T.Action({id:"fileIndex",title:b.getFileIndexCaption(),enabled:!1}),b.prevFileAction=new T.Action({id:"prevPage",iconSize:16,action:function(){b.indexToShow=b.previewValue.length&&(b.indexToShow-1+b.pagesCount)%b.pagesCount||0,b.fileIndexAction.title=b.getFileIndexCaption()}}),b.nextFileAction=new T.Action({id:"nextPage",iconSize:16,action:function(){b.indexToShow=b.previewValue.length&&(b.indexToShow+1)%b.pagesCount||0,b.fileIndexAction.title=b.getFileIndexCaption()}}),b.takePictureAction=new T.Action({iconName:"icon-takepicture",id:"sv-file-take-picture",iconSize:"auto",innerCss:new w.ComputedUpdater(function(){return(new R.CssClassBuilder).append(b.cssClasses.contextButton).append(b.cssClasses.takePictureButton).toString()}),locTitle:b.locTakePhotoCaption,showTitle:!1,action:function(){b.snapPicture()}}),b.closeCameraAction=new T.Action({iconName:"icon-closecamera",id:"sv-file-close-camera",iconSize:"auto",innerCss:new w.ComputedUpdater(function(){return(new R.CssClassBuilder).append(b.cssClasses.contextButton).append(b.cssClasses.closeCameraButton).toString()}),action:function(){b.stopVideo()}}),b.changeCameraAction=new T.Action({iconName:"icon-changecamera",id:"sv-file-change-camera",iconSize:"auto",innerCss:new w.ComputedUpdater(function(){return(new R.CssClassBuilder).append(b.cssClasses.contextButton).append(b.cssClasses.changeCameraButton).toString()}),visible:new w.ComputedUpdater(function(){return b.canFlipCamera()}),action:function(){b.flipCamera()}}),b.chooseFileAction=new T.Action({iconName:"icon-choosefile",id:"sv-file-choose-file",iconSize:"auto",data:{question:b},component:"sv-file-choose-btn"}),b.startCameraAction=new T.Action({iconName:"icon-takepicture_24x24",id:"sv-file-start-camera",iconSize:"auto",locTitle:b.locTakePhotoCaption,showTitle:new w.ComputedUpdater(function(){return!b.isAnswered}),enabledIf:function(){return!b.isInputReadOnly},action:function(){b.startVideo()}}),b.cleanAction=new T.Action({iconName:"icon-clear",id:"sv-file-clean",iconSize:"auto",title:new w.ComputedUpdater(function(){return b.clearButtonCaption}),showTitle:!1,enabledIf:function(){return!b.isInputReadOnly},innerCss:new w.ComputedUpdater(function(){return b.cssClasses.removeButton}),action:function(){b.doClean()}}),[b.closeCameraAction,b.changeCameraAction,b.takePictureAction].forEach(function(M){M.cssClasses={}}),b.registerFunctionOnPropertiesValueChanged(["sourceType","currentMode","isAnswered"],function(){b.updateActionsVisibility()}),b.actionsContainer.actions=[b.chooseFileAction,b.startCameraAction,b.cleanAction],b.fileNavigator.actions=[b.prevFileAction,b.fileIndexAction,b.nextFileAction],b}return v(l,s),Object.defineProperty(l.prototype,"fileNavigatorVisible",{get:function(){return!this.isUploading&&!this.isPlayingVideo&&this.containsMultiplyFiles&&this.pageSize<this.previewValue.length&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"pagesCount",{get:function(){return Math.ceil(this.previewValue.length/this.pageSize)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"actionsContainerVisible",{get:function(){return!this.isUploading&&!this.isPlayingVideo&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"videoId",{get:function(){return this.id+"_video"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"hasVideoUI",{get:function(){return"file"!==this.currentMode},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"hasFileUI",{get:function(){return"camera"!==this.currentMode},enumerable:!1,configurable:!0}),l.prototype.startVideo=function(){var c=this;"file"===this.currentMode||this.isDesignMode||this.isPlayingVideo||(this.setIsPlayingVideo(!0),setTimeout(function(){c.startVideoInCamera()},0))},l.prototype.startVideoInCamera=function(){var c=this;this.camera.startVideo(this.videoId,function(b){c.videoStream=b,b||c.stopVideo()},Object(L.getRenderedSize)(this.imageWidth),Object(L.getRenderedSize)(this.imageHeight))},l.prototype.stopVideo=function(){this.setIsPlayingVideo(!1),this.closeVideoStream()},l.prototype.snapPicture=function(){var c=this;this.isPlayingVideo&&(this.camera.snap(this.videoId,function(M){if(M){var D=new File([M],"snap_picture.png",{type:"image/png"});c.loadFiles([D])}}),this.stopVideo())},l.prototype.canFlipCamera=function(){var c=this;return void 0===this.canFlipCameraValue&&(this.canFlipCameraValue=this.camera.canFlip(function(b){c.canFlipCameraValue=b})),this.canFlipCameraValue},l.prototype.flipCamera=function(){!this.canFlipCamera()||(this.closeVideoStream(),this.camera.flip(),this.startVideoInCamera())},l.prototype.closeVideoStream=function(){this.videoStream&&(this.videoStream.getTracks().forEach(function(c){c.stop()}),this.videoStream=void 0)},l.prototype.onHidingContent=function(){s.prototype.onHidingContent.call(this),this.stopVideo()},l.prototype.updateElementCssCore=function(c){s.prototype.updateElementCssCore.call(this,c),this.prevFileAction.iconName=this.cssClasses.leftIconId,this.nextFileAction.iconName=this.cssClasses.rightIconId},l.prototype.getFileIndexCaption=function(){return this.getLocalizationFormatString("indexText",this.indexToShow+1,this.pagesCount)},l.prototype.updateFileNavigator=function(){this.indexToShow=this.previewValue.length&&(this.indexToShow+this.pagesCount)%this.pagesCount||0,this.fileIndexAction.title=this.getFileIndexCaption()},l.prototype.previewValueChanged=function(){var c=this;this.previewValue.length!==this.prevPreviewLength&&(this.indexToShow=this.previewValue.length>0?this.prevPreviewLength>this.previewValue.length?this.indexToShow>=this.pagesCount&&this.indexToShow>0?this.pagesCount-1:this.indexToShow:Math.floor(this.prevPreviewLength/this.pageSize):0),this.fileIndexAction.title=this.getFileIndexCaption(),this.containsMultiplyFiles=this.previewValue.length>1,this.previewValue.length>0&&!this.calculatedGapBetweenItems&&!this.calculatedItemWidth&&setTimeout(function(){c.processResponsiveness(0,c._width)}),this.prevPreviewLength=this.previewValue.length},l.prototype.isPreviewVisible=function(c){return!this.fileNavigatorVisible||this.indexToShow*this.pageSize<=c&&c<(this.indexToShow+1)*this.pageSize},l.prototype.getType=function(){return"file"},Object.defineProperty(l.prototype,"showPreview",{get:function(){return this.getPropertyValue("showPreview")},set:function(c){this.setPropertyValue("showPreview",c)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"allowMultiple",{get:function(){return this.getPropertyValue("allowMultiple")},set:function(c){this.setPropertyValue("allowMultiple",c)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(c){this.setPropertyValue("imageHeight",c)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(c){this.setPropertyValue("imageWidth",c)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"acceptedTypes",{get:function(){return this.getPropertyValue("acceptedTypes")},set:function(c){this.setPropertyValue("acceptedTypes",c)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"allowImagesPreview",{get:function(){return this.getPropertyValue("allowImagesPreview")},set:function(c){this.setPropertyValue("allowImagesPreview",c)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"maxSize",{get:function(){return this.getPropertyValue("maxSize")},set:function(c){this.setPropertyValue("maxSize",c)},enumerable:!1,configurable:!0}),l.prototype.chooseFile=function(){var c=this,b=document.getElementById(this.inputId);b&&(this.survey?this.survey.chooseFiles(b,function(M){return c.loadFiles(M)},{element:this}):b.click())},Object.defineProperty(l.prototype,"needConfirmRemoveFile",{get:function(){return this.getPropertyValue("needConfirmRemoveFile")},set:function(c){this.setPropertyValue("needConfirmRemoveFile",c)},enumerable:!1,configurable:!0}),l.prototype.getConfirmRemoveMessage=function(c){return this.confirmRemoveMessage.format(c)},Object.defineProperty(l.prototype,"takePhotoCaption",{get:function(){return this.getLocalizableStringText("takePhotoCaption")},set:function(c){this.setLocalizableStringText("takePhotoCaption",c)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locTakePhotoCaption",{get:function(){return this.getLocalizableString("takePhotoCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locRenderedPlaceholder",{get:function(){var c=this;return void 0===this.locRenderedPlaceholderValue&&(this.locRenderedPlaceholderValue=new w.ComputedUpdater(function(){var M=!c.isDesignMode&&c.hasFileUI||c.isDesignMode&&"camera"!=c.sourceType;return c.isReadOnly?c.locNoFileChosenCaption:M&&(!c.isDesignMode&&c.hasVideoUI||c.isDesignMode&&"file"!=c.sourceType)?c.locFileOrPhotoPlaceholder:M?c.locFilePlaceholder:c.locPhotoPlaceholder})),this.locRenderedPlaceholderValue},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"currentMode",{get:function(){return this.getPropertyValue("currentMode",this.sourceType)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isPlayingVideo",{get:function(){return this.getPropertyValue("isPlayingVideo",!1)},enumerable:!1,configurable:!0}),l.prototype.setIsPlayingVideo=function(c){this.setPropertyValue("isPlayingVideo",c)},l.prototype.updateCurrentMode=function(){var c=this;this.isDesignMode||("file"!==this.sourceType?this.camera.hasCamera(function(b){c.setPropertyValue("currentMode",b&&c.isDefaultV2Theme?c.sourceType:"file")}):this.setPropertyValue("currentMode",this.sourceType))},l.prototype.updateActionsVisibility=function(){var c=this.isDesignMode;this.chooseFileAction.visible=!c&&this.hasFileUI||c&&"camera"!==this.sourceType,this.startCameraAction.visible=!c&&this.hasVideoUI||c&&"file"!==this.sourceType,this.cleanAction.visible=!!this.isAnswered},Object.defineProperty(l.prototype,"inputTitle",{get:function(){return this.isUploading?this.loadingFileTitle:this.isEmpty()?this.chooseFileTitle:" "},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"chooseButtonText",{get:function(){return this.isEmpty()||this.allowMultiple?this.chooseButtonCaption:this.replaceButtonCaption},enumerable:!1,configurable:!0}),l.prototype.clear=function(c){var b=this;!this.survey||(this.containsMultiplyFiles=!1,this.survey.clearFiles(this,this.name,this.value,null,function(M,D){"success"===M&&(b.value=void 0,b.errors=[],!!c&&c(),b.indexToShow=0,b.fileIndexAction.title=b.getFileIndexCaption())}))},Object.defineProperty(l.prototype,"renderCapture",{get:function(){return this.allowCameraAccess?"user":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"multipleRendered",{get:function(){return this.allowMultiple?"multiple":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showChooseButton",{get:function(){return!this.isReadOnly&&!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showFileDecorator",{get:function(){return!this.isPlayingVideo&&!this.showLoadingIndicator},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"allowShowPreview",{get:function(){return!this.showLoadingIndicator&&!this.isPlayingVideo},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showPreviewContainer",{get:function(){return this.previewValue&&this.previewValue.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showRemoveButtonCore",{get:function(){var c=this.showLoadingIndicator,b=this.isReadOnly,M=this.isEmpty();return!(b||M||c||this.isDefaultV2Theme)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showRemoveButton",{get:function(){return this.showRemoveButtonCore&&this.cssClasses.removeButton},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showRemoveButtonBottom",{get:function(){var c=(new R.CssClassBuilder).append(this.cssClasses.removeButtonBottom).append(this.cssClasses.contextButton).toString();return this.showRemoveButtonCore&&c},enumerable:!1,configurable:!0}),l.prototype.defaultImage=function(c){return!this.canPreviewImage(c)&&!!this.cssClasses.defaultImage},l.prototype.removeFile=function(c){this.removeFileByContent(this.value.filter(function(b){return b.name===c})[0])},l.prototype.removeFileByContent=function(c){var b=this;!this.survey||this.survey.clearFiles(this,this.name,this.value,c.name,function(M,D){if("success"===M){var g=b.value;b.value=Array.isArray(g)?g.filter(function(P){return!C.Helpers.isTwoValueEquals(P,c,!0,!1,!1)}):void 0}})},l.prototype.setValueFromResult=function(c){this.value=(this.value||[]).concat(c.map(function(b){return{name:b.file.name,type:b.file.type,content:b.content}}))},l.prototype.loadFiles=function(c){var b=this;if(this.survey&&(this.errors=[],this.allFilesOk(c))){var M=function(){b.stateChanged("loading");var D=[];b.storeDataAsText?c.forEach(function(g){var P=new FileReader;P.onload=function(A){(D=D.concat([{name:g.name,type:g.type,content:P.result}])).length===c.length&&(b.value=(b.value||[]).concat(D))},P.readAsDataURL(g)}):b.uploadFiles(c)};this.allowMultiple?M():this.clear(M)}},Object.defineProperty(l.prototype,"camera",{get:function(){return this.cameraValue||(this.cameraValue=new y.Camera),this.cameraValue},enumerable:!1,configurable:!0}),l.prototype.canPreviewImage=function(c){return this.allowImagesPreview&&!!c&&this.isFileImage(c)},l.prototype.loadPreview=function(c){var b=this;if(this.previewValue.splice(0,this.previewValue.length),this.showPreview&&c){var M=Array.isArray(c)?c:c?[c]:[];this.storeDataAsText?M.forEach(function(D){b.previewValue.push({name:D.name,type:D.type,content:D.content||D})}):(this._previewLoader&&this._previewLoader.dispose(),this.isFileLoading=!0,this._previewLoader=new o(this,function(D,g){"loaded"===D&&(g.forEach(function(P){b.previewValue.push(P)}),b.previewValueChanged()),b.isFileLoading=!1,b._previewLoader.dispose(),b._previewLoader=void 0}),this._previewLoader.load(M)),this.previewValueChanged()}},Object.defineProperty(l.prototype,"isFileLoading",{get:function(){return this.isFileLoadingValue},set:function(c){this.isFileLoadingValue=c,this.updateIsReady()},enumerable:!1,configurable:!0}),l.prototype.getIsQuestionReady=function(){return s.prototype.getIsQuestionReady.call(this)&&!this.isFileLoading},l.prototype.allFilesOk=function(c){var b=this,M=this.errors?this.errors.length:0;return(c||[]).forEach(function(D){b.maxSize>0&&D.size>b.maxSize&&b.errors.push(new F.ExceedSizeError(b.maxSize,b))}),M===this.errors.length},l.prototype.isFileImage=function(c){if(!c||!c.content||!c.content.substring)return!1;var b="data:image",M=c.content&&c.content.substring(0,b.length);return(M=M&&M.toLowerCase())===b||!!c.type&&0===c.type.toLowerCase().indexOf("image/")},l.prototype.getPlainData=function(c){void 0===c&&(c={includeEmpty:!0});var b=s.prototype.getPlainData.call(this,c);if(b&&!this.isEmpty()){b.isNode=!1;var M=Array.isArray(this.value)?this.value:[this.value];b.data=M.map(function(D,g){return{name:g,title:"File",value:D.content&&D.content||D,displayValue:D.name&&D.name||D,getString:function(P){return"object"==typeof P?JSON.stringify(P):P},isNode:!1}})}return b},l.prototype.getImageWrapperCss=function(c){return(new R.CssClassBuilder).append(this.cssClasses.imageWrapper).append(this.cssClasses.imageWrapperDefaultImage,this.defaultImage(c)).toString()},l.prototype.getActionsContainerCss=function(c){return(new R.CssClassBuilder).append(c.actionsContainer).append(c.actionsContainerAnswered,this.isAnswered).toString()},l.prototype.getRemoveButtonCss=function(){return(new R.CssClassBuilder).append(this.cssClasses.removeFileButton).append(this.cssClasses.contextButton).toString()},l.prototype.getChooseFileCss=function(){var c=this.isAnswered;return(new R.CssClassBuilder).append(this.cssClasses.chooseFile).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.chooseFileAsText,!c).append(this.cssClasses.chooseFileAsTextDisabled,!c&&this.isInputReadOnly).append(this.cssClasses.contextButton,c).append(this.cssClasses.chooseFileAsIcon,c).toString()},l.prototype.getReadOnlyFileCss=function(){return(new R.CssClassBuilder).append("form-control").append(this.cssClasses.placeholderInput).toString()},Object.defineProperty(l.prototype,"fileRootCss",{get:function(){return(new R.CssClassBuilder).append(this.cssClasses.root).append(this.cssClasses.rootDragging,this.isDragging).append(this.cssClasses.rootAnswered,this.isAnswered).append(this.cssClasses.single,!this.allowMultiple).append(this.cssClasses.singleImage,!this.allowMultiple&&this.isAnswered&&this.canPreviewImage(this.value[0])).append(this.cssClasses.mobile,this.isMobile).toString()},enumerable:!1,configurable:!0}),l.prototype.getFileDecoratorCss=function(){return(new R.CssClassBuilder).append(this.cssClasses.fileDecorator).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.fileDecoratorDrag,this.isDragging).toString()},l.prototype.onChange=function(c){if(window.FileReader&&c&&c.files&&!(c.files.length<1)){for(var b=[],M=this.allowMultiple?c.files.length:1,D=0;D<M;D++)b.push(c.files[D]);c.value="",this.loadFiles(b)}},l.prototype.onChangeQuestionValue=function(c){s.prototype.onChangeQuestionValue.call(this,c),this.stateChanged(this.isEmpty()?"empty":"loaded"),this.isLoadingFromJson||this.loadPreview(c)},l.prototype.calcCssClasses=function(c){var b=s.prototype.calcCssClasses.call(this,c);return this.actionsContainer.cssClasses=c.actionBar,this.actionsContainer.cssClasses.itemWithTitle=this.actionsContainer.cssClasses.item,this.actionsContainer.cssClasses.item="",this.actionsContainer.cssClasses.itemAsIcon=b.contextButton,this.actionsContainer.containerCss=b.actionsContainer,b},l.prototype.updateElementCss=function(c){s.prototype.updateElementCss.call(this,c),this.updateCurrentMode()},l.prototype.endLoadingFromJson=function(){s.prototype.endLoadingFromJson.call(this),this.updateCurrentMode(),this.updateActionsVisibility(),this.loadPreview(this.value)},l.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme},l.prototype.supportResponsiveness=function(){return!0},l.prototype.getObservedElementSelector=function(){return Object(L.classesToSelector)(this.cssClasses.dragArea)},l.prototype.getFileListSelector=function(){return Object(L.classesToSelector)(this.cssClasses.fileList)},l.prototype.triggerResponsiveness=function(c){c&&(this.calculatedGapBetweenItems=void 0,this.calculatedItemWidth=void 0),s.prototype.triggerResponsiveness.call(this)},l.prototype.processResponsiveness=function(c,b){var M=this;if(this._width=b,this.rootElement&&(!this.calculatedGapBetweenItems||!this.calculatedItemWidth)&&this.allowMultiple){var g=this.getFileListSelector()?this.rootElement.querySelector(this.getFileListSelector()):void 0;if(g){this.calculatedGapBetweenItems=Math.ceil(Number.parseFloat(window.getComputedStyle(g).gap));var P=Array.from(g.children).filter(function(A,k){return M.isPreviewVisible(k)})[0];P&&(this.calculatedItemWidth=Math.ceil(Number.parseFloat(window.getComputedStyle(P).width)))}}return!(!this.calculatedGapBetweenItems||!this.calculatedItemWidth||(this.pageSize=this.calcAvailableItemsCount(b,this.calculatedItemWidth,this.calculatedGapBetweenItems),0))},l.prototype.canDragDrop=function(){return!this.isInputReadOnly&&"camera"!==this.currentMode&&!this.isPlayingVideo},l.prototype.afterRender=function(c){this.rootElement=c,s.prototype.afterRender.call(this,c)},l.prototype.clearFilesCore=function(){if(this.rootElement){var c=this.rootElement.querySelectorAll("input")[0];c&&(c.value="")}this.clear()},l.prototype.doRemoveFile=function(c){var b=this;this.needConfirmRemoveFile?Object(L.confirmActionAsync)(this.getConfirmRemoveMessage(c.name),function(){b.removeFileCore(c)},void 0,this.getLocale(),this.survey.rootElement):this.removeFileCore(c)},l.prototype.removeFileCore=function(c){var b=this.previewValue.indexOf(c);this.removeFileByContent(-1===b?c:this.value[b])},l.prototype.dispose=function(){this.cameraValue=void 0,this.closeVideoStream(),s.prototype.dispose.call(this)},f([Object(se.property)()],l.prototype,"isDragging",void 0),f([Object(se.propertyArray)({})],l.prototype,"previewValue",void 0),f([Object(se.property)({defaultValue:0})],l.prototype,"indexToShow",void 0),f([Object(se.property)({defaultValue:1,onSet:function(c,b){b.updateFileNavigator()}})],l.prototype,"pageSize",void 0),f([Object(se.property)({defaultValue:!1})],l.prototype,"containsMultiplyFiles",void 0),f([Object(se.property)()],l.prototype,"allowCameraAccess",void 0),f([Object(se.property)({onSet:function(c,b){b.isLoadingFromJson||b.updateCurrentMode()}})],l.prototype,"sourceType",void 0),f([Object(se.property)()],l.prototype,"canFlipCameraValue",void 0),f([Object(se.property)({localizable:{defaultStr:"confirmRemoveFile"}})],l.prototype,"confirmRemoveMessage",void 0),f([Object(se.property)({localizable:{defaultStr:"confirmRemoveAllFiles"}})],l.prototype,"confirmRemoveAllMessage",void 0),f([Object(se.property)({localizable:{defaultStr:"noFileChosen"}})],l.prototype,"noFileChosenCaption",void 0),f([Object(se.property)({localizable:{defaultStr:"chooseFileCaption"}})],l.prototype,"chooseButtonCaption",void 0),f([Object(se.property)({localizable:{defaultStr:"replaceFileCaption"}})],l.prototype,"replaceButtonCaption",void 0),f([Object(se.property)({localizable:{defaultStr:"clearCaption"}})],l.prototype,"clearButtonCaption",void 0),f([Object(se.property)({localizable:{defaultStr:"removeFileCaption"}})],l.prototype,"removeFileCaption",void 0),f([Object(se.property)({localizable:{defaultStr:"loadingFile"}})],l.prototype,"loadingFileTitle",void 0),f([Object(se.property)({localizable:{defaultStr:"chooseFile"}})],l.prototype,"chooseFileTitle",void 0),f([Object(se.property)({localizable:{defaultStr:"fileOrPhotoPlaceholder"}})],l.prototype,"fileOrPhotoPlaceholder",void 0),f([Object(se.property)({localizable:{defaultStr:"photoPlaceholder"}})],l.prototype,"photoPlaceholder",void 0),f([Object(se.property)({localizable:{defaultStr:"filePlaceholder"}})],l.prototype,"filePlaceholder",void 0),f([Object(se.property)()],l.prototype,"locRenderedPlaceholderValue",void 0),l}(u);se.Serializer.addClass("file",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"showPreview:boolean",default:!0},"allowMultiple:boolean",{name:"allowImagesPreview:boolean",default:!0,dependsOn:"showPreview",visibleIf:function(s){return!!s.showPreview}},"imageHeight","imageWidth","acceptedTypes",{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1},{name:"maxSize:number",default:0},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"validators",visible:!1},{name:"needConfirmRemoveFile:boolean"},{name:"sourceType",choices:["file","camera","file-camera"],default:"file",category:"general",visible:!0,visibleIf:function(){return h.settings.supportCreatorV2}},{name:"fileOrPhotoPlaceholder:text",serializationProperty:"locFileOrPhotoPlaceholder",category:"general",visibleIf:function(){return h.settings.supportCreatorV2}},{name:"photoPlaceholder:text",serializationProperty:"locPhotoPlaceholder",category:"general",visibleIf:function(){return h.settings.supportCreatorV2}},{name:"filePlaceholder:text",serializationProperty:"locFilePlaceholder",category:"general",visibleIf:function(){return h.settings.supportCreatorV2}},{name:"allowCameraAccess:switch",category:"general",visible:!1}],function(){return new a("")},"question"),$.QuestionFactory.Instance.registerQuestion("file",function(s){return new a(s)});var o=function(){function s(l,c){this.fileQuestion=l,this.callback=c,this.loaded=[]}return s.prototype.load=function(l){var c=this,b=0;this.loaded=new Array(l.length),l.forEach(function(M,D){c.fileQuestion.survey&&c.fileQuestion.survey.downloadFile(c.fileQuestion,c.fileQuestion.name,M,function(g,P){!c.fileQuestion||!c.callback||("success"===g?(c.loaded[D]={content:P,name:M.name,type:M.type},++b===l.length&&c.callback("loaded",c.loaded)):c.callback("error",c.loaded))})})},s.prototype.dispose=function(){this.fileQuestion=void 0,this.callback=void 0},s}()},"./src/question_html.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionHtmlModel",function(){return F});var R,G=x("./src/questionnonvalue.ts"),se=x("./src/jsonobject.ts"),$=x("./src/questionfactory.ts"),w=(R=function(L,m){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,C){T.__proto__=C}||function(T,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(T[y]=C[y])})(L,m)},function(L,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function T(){this.constructor=L}R(L,m),L.prototype=null===m?Object.create(m):(T.prototype=m.prototype,new T)}),F=function(R){function L(m){var T=R.call(this,m)||this;return T.createLocalizableString("html",T).onGetTextCallback=function(y){return T.survey&&!T.ignoreHtmlProgressing?T.processHtml(y):y},T}return w(L,R),L.prototype.getType=function(){return"html"},Object.defineProperty(L.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),L.prototype.getProcessedText=function(m){return this.ignoreHtmlProgressing?m:R.prototype.getProcessedText.call(this,m)},Object.defineProperty(L.prototype,"html",{get:function(){return this.getLocalizableStringText("html","")},set:function(m){this.setLocalizableStringText("html",m)},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"processedHtml",{get:function(){return this.processHtml(this.html)},enumerable:!1,configurable:!0}),L.prototype.processHtml=function(m){return this.survey?this.survey.processHtml(m,"html-question"):this.html},Object.defineProperty(L.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),L}(G.QuestionNonValue);se.Serializer.addClass("html",[{name:"html:html",serializationProperty:"locHtml"},{name:"hideNumber",visible:!1},{name:"state",visible:!1},{name:"titleLocation",visible:!1},{name:"descriptionLocation",visible:!1},{name:"errorLocation",visible:!1},{name:"indent",visible:!1},{name:"width",visible:!1}],function(){return new F("")},"nonvalue"),$.QuestionFactory.Instance.registerQuestion("html",function(R){return new F(R)})},"./src/question_image.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionImageModel",function(){return v});var d,G=x("./src/questionnonvalue.ts"),se=x("./src/jsonobject.ts"),$=x("./src/questionfactory.ts"),w=x("./src/utils/cssClassBuilder.ts"),F=x("./src/utils/utils.ts"),R=(d=function(u,a){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])})(u,a)},function(u,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function o(){this.constructor=u}d(u,a),u.prototype=null===a?Object.create(a):(o.prototype=a.prototype,new o)}),m=["youtube.com","youtu.be"],T=[".mp4",".mov",".wmv",".flv",".avi",".mkv"],C="https://www.youtube.com/",y="embed";function h(d){if(!d)return!1;d=d.toLowerCase();for(var u=0;u<m.length;u++)if(-1!==d.indexOf(m[u]))return!0;return!1}var v=function(d){function u(a){var o=d.call(this,a)||this;return o.createLocalizableString("imageLink",o,!1).onGetTextCallback=function(l){return function f(d){if(!d||!h(d))return d;if(d.toLocaleLowerCase().indexOf(y)>-1)return d;for(var a="",o=d.length-1;o>=0&&"="!==d[o]&&"/"!==d[o];o--)a=d[o]+a;return C+y+"/"+a}(l)},o.createLocalizableString("altText",o,!1),o.registerPropertyChangedHandlers(["contentMode","imageLink"],function(){return o.calculateRenderedMode()}),o}return R(u,d),u.prototype.getType=function(){return"image"},Object.defineProperty(u.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),u.prototype.onSurveyLoad=function(){d.prototype.onSurveyLoad.call(this),this.calculateRenderedMode()},Object.defineProperty(u.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(a){this.setLocalizableStringText("imageLink",a)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"altText",{get:function(){return this.getLocalizableStringText("altText")},set:function(a){this.setLocalizableStringText("altText",a)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"locAltText",{get:function(){return this.getLocalizableString("altText")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(a){this.setPropertyValue("imageHeight",a)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"renderedStyleHeight",{get:function(){return this.imageHeight?Object(F.getRenderedStyleSize)(this.imageHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"renderedHeight",{get:function(){return this.imageHeight?Object(F.getRenderedSize)(this.imageHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(a){this.setPropertyValue("imageWidth",a)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"renderedStyleWidth",{get:function(){return this.imageWidth?Object(F.getRenderedStyleSize)(this.imageWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"renderedWidth",{get:function(){return this.imageWidth?Object(F.getRenderedSize)(this.imageWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(a){this.setPropertyValue("imageFit",a)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(a){this.setPropertyValue("contentMode",a),"video"===a&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"renderedMode",{get:function(){return this.getPropertyValue("renderedMode","image")},enumerable:!1,configurable:!0}),u.prototype.getImageCss=function(){var a=this.getPropertyByName("imageHeight"),o=this.getPropertyByName("imageWidth"),s=a.isDefaultValue(this.imageHeight)&&o.isDefaultValue(this.imageWidth);return(new w.CssClassBuilder).append(this.cssClasses.image).append(this.cssClasses.adaptive,s).toString()},u.prototype.onLoadHandler=function(){this.contentNotLoaded=!1},u.prototype.onErrorHandler=function(){this.contentNotLoaded=!0},u.prototype.setRenderedMode=function(a){this.setPropertyValue("renderedMode",a)},u.prototype.calculateRenderedMode=function(){"auto"!==this.contentMode?this.setRenderedMode(this.contentMode):this.isYoutubeVideo()?this.setRenderedMode("youtube"):this.isVideo()?this.setRenderedMode("video"):this.setRenderedMode("image")},u.prototype.isYoutubeVideo=function(){return h(this.imageLink)},u.prototype.isVideo=function(){var a=this.imageLink;if(!a)return!1;a=a.toLowerCase();for(var o=0;o<T.length;o++)if(a.endsWith(T[o]))return!0;return!1},function(d,u,a,o){var c,s=arguments.length,l=s<3?u:null===o?o=Object.getOwnPropertyDescriptor(u,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(d,u,a,o);else for(var b=d.length-1;b>=0;b--)(c=d[b])&&(l=(s<3?c(l):s>3?c(u,a,l):c(u,a))||l);s>3&&l&&Object.defineProperty(u,a,l)}([Object(se.property)({defaultValue:!1})],u.prototype,"contentNotLoaded",void 0),u}(G.QuestionNonValue);se.Serializer.addClass("image",[{name:"imageLink:file",serializationProperty:"locImageLink"},{name:"altText",serializationProperty:"locAltText",alternativeName:"text",category:"general"},{name:"contentMode",default:"auto",choices:["auto","image","video","youtube"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight",default:"150"},{name:"imageWidth",default:"200"}],function(){return new v("")},"nonvalue"),$.QuestionFactory.Instance.registerQuestion("image",function(d){return new v(d)})},"./src/question_imagepicker.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"ImageItemValue",function(){return y}),x.d(j,"QuestionImagePickerModel",function(){return h});var v,G=x("./src/jsonobject.ts"),se=x("./src/questionfactory.ts"),$=x("./src/question_baseselect.ts"),w=x("./src/itemvalue.ts"),F=x("./src/helpers.ts"),R=x("./src/utils/cssClassBuilder.ts"),L=x("./src/settings.ts"),m=x("./src/utils/utils.ts"),T=(v=function(f,d){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,a){u.__proto__=a}||function(u,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(u[o]=a[o])})(f,d)},function(f,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function u(){this.constructor=f}v(f,d),f.prototype=null===d?Object.create(d):(u.prototype=d.prototype,new u)}),C=function(v,f,d,u){var s,a=arguments.length,o=a<3?f:null===u?u=Object.getOwnPropertyDescriptor(f,d):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(v,f,d,u);else for(var l=v.length-1;l>=0;l--)(s=v[l])&&(o=(a<3?s(o):a>3?s(f,d,o):s(f,d))||o);return a>3&&o&&Object.defineProperty(f,d,o),o},y=function(v){function f(d,u,a){void 0===u&&(u=null),void 0===a&&(a="imageitemvalue");var o=v.call(this,d,u,a)||this;return o.typeName=a,o.createLocalizableString("imageLink",o,!1),o}return T(f,v),f.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},Object.defineProperty(f.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(d){this.setLocalizableStringText("imageLink",d),this.imageNotLoaded=!1,this.videoNotLoaded=!1},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),f.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},f.prototype.getMarkdownHtml=function(d,u){return this.locOwner?this.locOwner.getMarkdownHtml(d,u):void 0},f.prototype.getRenderer=function(d){return this.locOwner?this.locOwner.getRenderer(d):null},f.prototype.getRendererContext=function(d){return this.locOwner?this.locOwner.getRendererContext(d):d},f.prototype.getProcessedText=function(d){return this.locOwner?this.locOwner.getProcessedText(d):d},f.prototype.onErrorHandler=function(){this.contentNotLoaded=!0},Object.defineProperty(f.prototype,"contentNotLoaded",{get:function(){return this.locOwner instanceof h&&"video"==this.locOwner.contentMode?this.videoNotLoaded:this.imageNotLoaded},set:function(d){this.locOwner instanceof h&&"video"==this.locOwner.contentMode?this.videoNotLoaded=d:this.imageNotLoaded=d},enumerable:!1,configurable:!0}),C([Object(G.property)({defaultValue:!1})],f.prototype,"videoNotLoaded",void 0),C([Object(G.property)({defaultValue:!1})],f.prototype,"imageNotLoaded",void 0),f}(w.ItemValue),h=function(v){function f(d){var u=v.call(this,d)||this;return u.isResponsiveValue=!1,u.onContentLoaded=function(a,o){a.contentNotLoaded=!1;var s=o.target;a.aspectRatio="video"==u.contentMode?s.videoWidth/s.videoHeight:s.naturalWidth/s.naturalHeight,u._width&&u.processResponsiveness(0,u._width)},u.colCount=0,u.registerPropertyChangedHandlers(["minImageWidth","maxImageWidth","minImageHeight","maxImageHeight","visibleChoices","colCount","isResponsiveValue"],function(){u._width&&u.processResponsiveness(0,u._width)}),u.registerPropertyChangedHandlers(["imageWidth","imageHeight"],function(){u.calcIsResponsive()}),u.calcIsResponsive(),u}return T(f,v),f.prototype.getType=function(){return"imagepicker"},f.prototype.supportGoNextPageAutomatic=function(){return!this.multiSelect},Object.defineProperty(f.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),f.prototype.getItemValueType=function(){return"imageitemvalue"},Object.defineProperty(f.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),f.prototype.supportOther=function(){return!1},f.prototype.supportNone=function(){return!1},f.prototype.supportRefuse=function(){return!1},f.prototype.supportDontKnow=function(){return!1},f.prototype.isAnswerCorrect=function(){return this.multiSelect?F.Helpers.isArrayContainsEqual(this.value,this.correctAnswer):v.prototype.isAnswerCorrect.call(this)},Object.defineProperty(f.prototype,"multiSelect",{get:function(){return this.getPropertyValue("multiSelect")},set:function(d){this.setPropertyValue("multiSelect",d)},enumerable:!1,configurable:!0}),f.prototype.isItemSelected=function(d){var u=this.value,a=d;if(this.isValueEmpty(u)||!a.imageLink||a.contentNotLoaded)return!1;if(!this.multiSelect)return this.isTwoValueEquals(u,d.value);if(!Array.isArray(u))return!1;for(var o=0;o<u.length;o++)if(this.isTwoValueEquals(u[o],d.value))return!0;return!1},f.prototype.getItemEnabled=function(d){return!(!d.imageLink||d.contentNotLoaded)&&v.prototype.getItemEnabled.call(this,d)},f.prototype.clearIncorrectValues=function(){if(this.multiSelect){var d=this.value;if(!d)return;if(!Array.isArray(d)||0==d.length)return void this.clearValue();for(var u=[],a=0;a<d.length;a++)this.hasUnknownValue(d[a],!0)||u.push(d[a]);if(u.length==d.length)return;0==u.length?this.clearValue():this.value=u}else v.prototype.clearIncorrectValues.call(this)},f.prototype.getDisplayValueCore=function(d,u){return this.multiSelect||Array.isArray(u)?this.getDisplayArrayValue(d,u):v.prototype.getDisplayValueCore.call(this,d,u)},Object.defineProperty(f.prototype,"showLabel",{get:function(){return this.getPropertyValue("showLabel")},set:function(d){this.setPropertyValue("showLabel",d)},enumerable:!1,configurable:!0}),f.prototype.endLoadingFromJson=function(){v.prototype.endLoadingFromJson.call(this),!this.isDesignMode&&this.multiSelect&&(this.createNewArray("renderedValue"),this.createNewArray("value")),this.calcIsResponsive()},f.prototype.getValueCore=function(){var d=v.prototype.getValueCore.call(this);return void 0!==d?d:this.multiSelect?[]:d},f.prototype.convertValToArrayForMultSelect=function(d){return!this.multiSelect||this.isValueEmpty(d)||Array.isArray(d)?d:[d]},f.prototype.renderedValueFromDataCore=function(d){return this.convertValToArrayForMultSelect(d)},f.prototype.rendredValueToDataCore=function(d){return this.convertValToArrayForMultSelect(d)},Object.defineProperty(f.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(d){this.setPropertyValue("imageHeight",d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedImageHeight",{get:function(){return(this.isResponsive?Math.floor(this.responsiveImageHeight):this.imageHeight)||150},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(d){this.setPropertyValue("imageWidth",d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedImageWidth",{get:function(){return(this.isResponsive?Math.floor(this.responsiveImageWidth):this.imageWidth)||200},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(d){this.setPropertyValue("imageFit",d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(d){this.setPropertyValue("contentMode",d),"video"===d&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),f.prototype.convertDefaultValue=function(d){return d},Object.defineProperty(f.prototype,"inputType",{get:function(){return this.multiSelect?"checkbox":"radio"},enumerable:!1,configurable:!0}),f.prototype.isBuiltInChoice=function(d){return!1},f.prototype.addToVisibleChoices=function(d,u){this.addNewItemToVisibleChoices(d,u)},f.prototype.getSelectBaseRootCss=function(){return(new R.CssClassBuilder).append(v.prototype.getSelectBaseRootCss.call(this)).append(this.cssClasses.rootColumn,1==this.getCurrentColCount()).toString()},Object.defineProperty(f.prototype,"isResponsive",{get:function(){return this.isResponsiveValue&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"exactSizesAreEmpty",{get:function(){var d=this;return!["imageHeight","imageWidth"].some(function(u){return null!=d[u]})},enumerable:!1,configurable:!0}),f.prototype.calcIsResponsive=function(){this.isResponsiveValue=this.exactSizesAreEmpty},f.prototype.getObservedElementSelector=function(){return Object(m.classesToSelector)(this.cssClasses.root)},f.prototype.supportResponsiveness=function(){return!0},f.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme},f.prototype.getCurrentColCount=function(){return void 0===this.responsiveColCount||0===this.colCount?this.colCount:this.responsiveColCount},f.prototype.processResponsiveness=function(d,u){this._width=u=Math.floor(u);var a=function(H,E,B){var U=Math.floor(H/(E+B));return(U+1)*(E+B)-B<=H&&U++,U};if(this.isResponsive){var g,o=this.choices.length+(this.isDesignMode?1:0),s=this.gapBetweenItems||0,l=this.minImageWidth,c=this.maxImageWidth,b=this.maxImageHeight,M=this.minImageHeight,D=this.colCount;if(0===D)if((s+l)*o-s>u){var P=a(u,l,s);g=Math.floor((u-s*(P-1))/P)}else g=Math.floor((u-s*(o-1))/o);else{var A=a(u,l,s);A<D?(this.responsiveColCount=A>=1?A:1,D=this.responsiveColCount):this.responsiveColCount=D,g=Math.floor((u-s*(D-1))/D)}g=Math.max(l,Math.min(g,c));var k=Number.MIN_VALUE;this.choices.forEach(function(H){var E=g/H.aspectRatio;k=E>k?E:k}),k>b?k=b:k<M&&(k=M);var Z=this.responsiveImageWidth,re=this.responsiveImageHeight;return this.responsiveImageWidth=g,this.responsiveImageHeight=k,Z!==this.responsiveImageWidth||re!==this.responsiveImageHeight}return!1},f.prototype.triggerResponsiveness=function(d){void 0===d&&(d=!0),d&&this.reCalcGapBetweenItemsCallback&&this.reCalcGapBetweenItemsCallback(),v.prototype.triggerResponsiveness.call(this,d)},f.prototype.afterRender=function(d){var u=this;v.prototype.afterRender.call(this,d);var a=this.getObservedElementSelector(),o=d&&a?d.querySelector(a):void 0;o&&(this.reCalcGapBetweenItemsCallback=function(){u.gapBetweenItems=Math.ceil(Number.parseFloat(window.getComputedStyle(o).gap))||16},this.reCalcGapBetweenItemsCallback())},C([Object(G.property)({})],f.prototype,"responsiveImageHeight",void 0),C([Object(G.property)({})],f.prototype,"responsiveImageWidth",void 0),C([Object(G.property)({})],f.prototype,"isResponsiveValue",void 0),C([Object(G.property)({})],f.prototype,"maxImageWidth",void 0),C([Object(G.property)({})],f.prototype,"minImageWidth",void 0),C([Object(G.property)({})],f.prototype,"maxImageHeight",void 0),C([Object(G.property)({})],f.prototype,"minImageHeight",void 0),C([Object(G.property)({})],f.prototype,"responsiveColCount",void 0),f}($.QuestionCheckboxBase);G.Serializer.addClass("imageitemvalue",[{name:"imageLink:file",serializationProperty:"locImageLink"}],function(v){return new y(v)},"itemvalue"),G.Serializer.addClass("responsiveImageSize",[],void 0,"number"),G.Serializer.addClass("imagepicker",[{name:"showOtherItem",visible:!1},{name:"otherText",visible:!1},{name:"showNoneItem",visible:!1},{name:"showRefuseItem",visible:!1},{name:"showDontKnowItem",visible:!1},{name:"noneText",visible:!1},{name:"optionsCaption",visible:!1},{name:"otherErrorText",visible:!1},{name:"storeOthersAsComment",visible:!1},{name:"contentMode",default:"image",choices:["image","video"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight:number",minValue:0},{name:"imageWidth:number",minValue:0},{name:"minImageWidth:responsiveImageSize",default:200,minValue:0,visibleIf:function(){return L.settings.supportCreatorV2}},{name:"minImageHeight:responsiveImageSize",default:133,minValue:0,visibleIf:function(){return L.settings.supportCreatorV2}},{name:"maxImageWidth:responsiveImageSize",default:400,minValue:0,visibleIf:function(){return L.settings.supportCreatorV2}},{name:"maxImageHeight:responsiveImageSize",default:266,minValue:0,visibleIf:function(){return L.settings.supportCreatorV2}}],function(){return new h("")},"checkboxbase"),G.Serializer.addProperty("imagepicker",{name:"showLabel:boolean",default:!1}),G.Serializer.addProperty("imagepicker",{name:"colCount:number",default:0,choices:[0,1,2,3,4,5]}),G.Serializer.addProperty("imagepicker",{name:"multiSelect:boolean",default:!1}),G.Serializer.addProperty("imagepicker",{name:"choices:imageitemvalue[]"}),se.QuestionFactory.Instance.registerQuestion("imagepicker",function(v){return new h(v)})},"./src/question_matrix.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"MatrixRowModel",function(){return f}),x.d(j,"MatrixCells",function(){return d}),x.d(j,"QuestionMatrixModel",function(){return u});var a,G=x("./src/helpers.ts"),se=x("./src/itemvalue.ts"),$=x("./src/martixBase.ts"),w=x("./src/jsonobject.ts"),F=x("./src/base.ts"),R=x("./src/surveyStrings.ts"),L=x("./src/error.ts"),m=x("./src/questionfactory.ts"),T=x("./src/localizablestring.ts"),C=x("./src/question_dropdown.ts"),y=x("./src/settings.ts"),h=x("./src/utils/cssClassBuilder.ts"),v=(a=function(o,s){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(l[b]=c[b])})(o,s)},function(o,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=o}a(o,s),o.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}),f=function(a){function o(s,l,c,b){var M=a.call(this)||this;return M.item=s,M.fullName=l,M.data=c,M.setValueDirectly(b),M.cellClick=function(D){M.value=D.value},M.registerPropertyChangedHandlers(["value"],function(){M.data&&M.data.onMatrixRowChanged(M)}),M}return v(o,a),Object.defineProperty(o.prototype,"name",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(s){this.isReadOnly||this.setValueDirectly(this.data.getCorrectedRowValue(s))},enumerable:!1,configurable:!0}),o.prototype.setValueDirectly=function(s){this.setPropertyValue("value",s)},Object.defineProperty(o.prototype,"isReadOnly",{get:function(){return!this.item.enabled||this.data.isInputReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rowTextClasses",{get:function(){return(new h.CssClassBuilder).append(this.data.cssClasses.rowTextCell).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rowClasses",{get:function(){var s=this.data.cssClasses;return(new h.CssClassBuilder).append(s.row).append(s.rowError,this.data.hasErrorInRow(this)).append(s.rowDisabled,this.isReadOnly).toString()},enumerable:!1,configurable:!0}),o}(F.Base),d=function(){function a(o){this.cellsOwner=o,this.values={}}return Object.defineProperty(a.prototype,"isEmpty",{get:function(){return 0==Object.keys(this.values).length},enumerable:!1,configurable:!0}),a.prototype.valuesChanged=function(){this.onValuesChanged&&this.onValuesChanged()},a.prototype.setCellText=function(o,s,l){if(o=this.getCellRowColumnValue(o,this.rows),s=this.getCellRowColumnValue(s,this.columns),o&&s){if(l)this.values[o]||(this.values[o]={}),this.values[o][s]||(this.values[o][s]=this.createString()),this.values[o][s].text=l;else if(this.values[o]&&this.values[o][s]){var c=this.values[o][s];c.text="",c.isEmpty&&(delete this.values[o][s],0==Object.keys(this.values[o]).length&&delete this.values[o])}this.valuesChanged()}},a.prototype.setDefaultCellText=function(o,s){this.setCellText(y.settings.matrix.defaultRowName,o,s)},a.prototype.getCellLocText=function(o,s){return o=this.getCellRowColumnValue(o,this.rows),s=this.getCellRowColumnValue(s,this.columns),o&&s&&this.values[o]&&this.values[o][s]?this.values[o][s]:null},a.prototype.getDefaultCellLocText=function(o,s){return this.getCellLocText(y.settings.matrix.defaultRowName,o)},a.prototype.getCellDisplayLocText=function(o,s){var l=this.getCellLocText(o,s);return l&&!l.isEmpty||(l=this.getCellLocText(y.settings.matrix.defaultRowName,s))&&!l.isEmpty?l:("number"==typeof s&&(s=s>=0&&s<this.columns.length?this.columns[s]:null),s&&s.locText?s.locText:null)},a.prototype.getCellText=function(o,s){var l=this.getCellLocText(o,s);return l?l.calculatedText:null},a.prototype.getDefaultCellText=function(o){var s=this.getCellLocText(y.settings.matrix.defaultRowName,o);return s?s.calculatedText:null},a.prototype.getCellDisplayText=function(o,s){var l=this.getCellDisplayLocText(o,s);return l?l.calculatedText:null},Object.defineProperty(a.prototype,"rows",{get:function(){return this.cellsOwner?this.cellsOwner.getRows():[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"columns",{get:function(){return this.cellsOwner?this.cellsOwner.getColumns():[]},enumerable:!1,configurable:!0}),a.prototype.getCellRowColumnValue=function(o,s){if(null==o)return null;if("number"==typeof o){if(o<0||o>=s.length)return null;o=s[o].value}return o.value?o.value:o},a.prototype.getJson=function(){if(this.isEmpty)return null;var o={};for(var s in this.values){var l={},c=this.values[s];for(var b in c)l[b]=c[b].getJson();o[s]=l}return o},a.prototype.setJson=function(o){if(this.values={},o)for(var s in o)if("pos"!=s){var l=o[s];for(var c in this.values[s]={},l)if("pos"!=c){var b=this.createString();b.setJson(l[c]),this.values[s][c]=b}}this.valuesChanged()},a.prototype.locStrsChanged=function(){if(!this.isEmpty)for(var o in this.values){var s=this.values[o];for(var l in s)s[l].strChanged()}},a.prototype.createString=function(){return new T.LocalizableString(this.cellsOwner,!0)},a}(),u=function(a){function o(s){var l=a.call(this,s)||this;return l.isRowChanging=!1,l.emptyLocalizableString=new T.LocalizableString(l),l.cellsValue=new d(l),l.cellsValue.onValuesChanged=function(){l.updateHasCellText(),l.propertyValueChanged("cells",l.cells,l.cells)},l.registerPropertyChangedHandlers(["columns"],function(){l.onColumnsChanged()}),l.registerPropertyChangedHandlers(["rows"],function(){l.filterItems()||l.onRowsChanged()}),l.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){l.updateVisibilityBasedOnRows()}),l}return v(o,a),o.prototype.getType=function(){return"matrix"},Object.defineProperty(o.prototype,"cellComponent",{get:function(){return this.getPropertyValue("cellComponent")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"itemComponent",{set:function(s){this.setPropertyValue("cellComponent",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isAllRowRequired",{get:function(){return this.getPropertyValue("isAllRowRequired")},set:function(s){this.setPropertyValue("isAllRowRequired",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"eachRowUnique",{get:function(){return this.getPropertyValue("eachRowUnique")},set:function(s){this.setPropertyValue("eachRowUnique",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasRows",{get:function(){return this.rows.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rowsOrder",{get:function(){return this.getPropertyValue("rowsOrder")},set:function(s){(s=s.toLowerCase())!=this.rowsOrder&&(this.setPropertyValue("rowsOrder",s),this.onRowsChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty")},set:function(s){this.setPropertyValue("hideIfRowsEmpty",s)},enumerable:!1,configurable:!0}),o.prototype.getRows=function(){return this.rows},o.prototype.getColumns=function(){return this.visibleColumns},o.prototype.addColumn=function(s,l){var c=new se.ItemValue(s,l);return this.columns.push(c),c},o.prototype.getItemClass=function(s,l){var c=s.value==l.value,b=this.isReadOnly,M=!c&&!b,D=this.hasCellText,g=this.cssClasses;return(new h.CssClassBuilder).append(g.cell,D).append(D?g.cellText:g.label).append(g.itemOnError,!D&&this.hasCssError()).append(D?g.cellTextSelected:g.itemChecked,c).append(D?g.cellTextDisabled:g.itemDisabled,b).append(g.itemHover,M&&!D).toString()},Object.defineProperty(o.prototype,"itemSvgIcon",{get:function(){return this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),o.prototype.locStrsChanged=function(){a.prototype.locStrsChanged.call(this),this.cells.locStrsChanged()},o.prototype.getQuizQuestionCount=function(){for(var s=0,l=0;l<this.rows.length;l++)this.isValueEmpty(this.correctAnswer[this.rows[l].value])||s++;return s},o.prototype.getCorrectAnswerCount=function(){for(var s=0,l=this.value,c=0;c<this.rows.length;c++){var b=this.rows[c].value;!this.isValueEmpty(l[b])&&this.isTwoValueEquals(this.correctAnswer[b],l[b])&&s++}return s},o.prototype.runItemsCondition=function(s,l){return se.ItemValue.runEnabledConditionsForItems(this.rows,void 0,s,l),a.prototype.runItemsCondition.call(this,s,l)},o.prototype.getVisibleRows=function(){var s=new Array,l=this.value;l||(l={});for(var c=this.filteredRows?this.filteredRows:this.rows,b=0;b<c.length;b++){var M=c[b];this.isValueEmpty(M.value)||s.push(this.createMatrixRow(M,this.id+"_"+M.value.toString().replace(/\s/g,"_"),l[M.value]))}return this.generatedVisibleRows=s,s},o.prototype.sortVisibleRows=function(s){return this.survey&&this.survey.isDesignMode?s:"random"===this.rowsOrder.toLowerCase()?G.Helpers.randomizeArray(s):s},o.prototype.endLoadingFromJson=function(){a.prototype.endLoadingFromJson.call(this),this.rows=this.sortVisibleRows(this.rows)},o.prototype.isNewValueCorrect=function(s){return G.Helpers.isValueObject(s,!0)},o.prototype.processRowsOnSet=function(s){return this.sortVisibleRows(s)},Object.defineProperty(o.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"cells",{get:function(){return this.cellsValue},set:function(s){this.cells.setJson(s&&s.getJson?s.getJson():null)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasCellText",{get:function(){return this.getPropertyValue("hasCellText",!1)},enumerable:!1,configurable:!0}),o.prototype.updateHasCellText=function(){this.setPropertyValue("hasCellText",!this.cells.isEmpty)},o.prototype.setCellText=function(s,l,c){this.cells.setCellText(s,l,c)},o.prototype.getCellText=function(s,l){return this.cells.getCellText(s,l)},o.prototype.setDefaultCellText=function(s,l){this.cells.setDefaultCellText(s,l)},o.prototype.getDefaultCellText=function(s){return this.cells.getDefaultCellText(s)},o.prototype.getCellDisplayText=function(s,l){return this.cells.getCellDisplayText(s,l)},o.prototype.getCellDisplayLocText=function(s,l){return this.cells.getCellDisplayLocText(s,l)||this.emptyLocalizableString},o.prototype.supportGoNextPageAutomatic=function(){return!0===this.isMouseDown&&this.hasValuesInAllRows()},o.prototype.onCheckForErrors=function(s,l){a.prototype.onCheckForErrors.call(this,s,l),this.errorsInRow=void 0,(!l||this.hasCssError())&&(this.hasErrorAllRowsRequired()&&s.push(new L.RequiredInAllRowsError(null,this)),this.hasErrorEachRowUnique()&&s.push(new L.EachRowUniqueError(null,this)))},o.prototype.hasErrorAllRowsRequired=function(){return this.isAllRowRequired&&!this.hasValuesInAllRows()},o.prototype.hasErrorEachRowUnique=function(){return this.eachRowUnique&&this.hasNonUniqueValueInRow()},o.prototype.hasValuesInAllRows=function(){var s=this.generatedVisibleRows;if(s||(s=this.visibleRows),!s)return!0;for(var l=!0,c=0;c<s.length;c++){var b=s[c],M=!this.isValueEmpty(b.value);M||this.addErrorIntoRow(b),l=l&&M}return l},o.prototype.hasNonUniqueValueInRow=function(){var s=this.generatedVisibleRows;if(s||(s=this.visibleRows),!s)return!1;for(var l={},c=!0,b=0;b<s.length;b++){var M=s[b].value,D=this.isValueEmpty(M),g=D||!0!==l[M];g||this.addErrorIntoRow(s[b]),c=c&&g,D||(l[M]=!0)}return!c},o.prototype.addErrorIntoRow=function(s){this.errorsInRow||(this.errorsInRow={}),this.errorsInRow[s.name]=!0},o.prototype.getIsAnswered=function(){return a.prototype.getIsAnswered.call(this)&&this.hasValuesInAllRows()},o.prototype.createMatrixRow=function(s,l,c){var b=new f(s,l,this,c);return this.onMatrixRowCreated(b),b},o.prototype.onMatrixRowCreated=function(s){},o.prototype.setQuestionValue=function(s,l){if(void 0===l&&(l=!0),a.prototype.setQuestionValue.call(this,s,this.isRowChanging||l),this.generatedVisibleRows&&0!=this.generatedVisibleRows.length){this.isRowChanging=!0;var c=this.value;if(c||(c={}),0==this.rows.length)this.generatedVisibleRows[0].setValueDirectly(c);else for(var b=0;b<this.generatedVisibleRows.length;b++){var D=c[this.generatedVisibleRows[b].name];this.isValueEmpty(D)&&(D=null),this.generatedVisibleRows[b].setValueDirectly(D)}this.updateIsAnswered(),this.isRowChanging=!1}},o.prototype.getDisplayValueCore=function(s,l){var c={};for(var b in l){var M=s?se.ItemValue.getTextOrHtmlByValue(this.rows,b):b;M||(M=b);var D=se.ItemValue.getTextOrHtmlByValue(this.columns,l[b]);D||(D=l[b]),c[M]=D}return c},o.prototype.getPlainData=function(s){var l=this;void 0===s&&(s={includeEmpty:!0});var c=a.prototype.getPlainData.call(this,s);if(c){var b=this.createValueCopy();c.isNode=!0,c.data=Object.keys(b||{}).map(function(M){var D=l.rows.filter(function(A){return A.value===M})[0],g={name:M,title:D?D.text:"row",value:b[M],displayValue:se.ItemValue.getTextOrHtmlByValue(l.visibleColumns,b[M]),getString:function(A){return"object"==typeof A?JSON.stringify(A):A},isNode:!1},P=se.ItemValue.getItemByValue(l.visibleColumns,b[M]);return P&&(s.calculations||[]).forEach(function(A){g[A.propertyName]=P[A.propertyName]}),g})}return c},o.prototype.addConditionObjectsByContext=function(s,l){for(var c=0;c<this.rows.length;c++){var b=this.rows[c];b.value&&s.push({name:this.getValueName()+"."+b.value,text:this.processedTitle+"."+b.calculatedText,question:this})}},o.prototype.getConditionJson=function(s,l){if(void 0===s&&(s=null),void 0===l&&(l=null),!l)return a.prototype.getConditionJson.call(this);var c=new C.QuestionDropdownModel(l);c.choices=this.columns;var b=(new w.JsonObject).toJsonObject(c);return b.type=c.getType(),b},o.prototype.clearValueIfInvisibleCore=function(s){a.prototype.clearValueIfInvisibleCore.call(this,s),this.hasRows&&this.clearInvisibleValuesInRows()},o.prototype.getFirstInputElementId=function(){var s=this.generatedVisibleRows;return s||(s=this.visibleRows),s.length>0&&this.visibleColumns.length>0?this.inputId+"_"+s[0].name+"_0":a.prototype.getFirstInputElementId.call(this)},o.prototype.onMatrixRowChanged=function(s){if(!this.isRowChanging){if(this.isRowChanging=!0,this.hasRows){var l=this.value;l||(l={}),l[s.name]=s.value,this.setNewValue(l)}else this.setNewValue(s.value);this.isRowChanging=!1}},o.prototype.getCorrectedRowValue=function(s){for(var l=0;l<this.columns.length;l++)if(s===this.columns[l].value)return s;for(l=0;l<this.columns.length;l++)if(this.isTwoValueEquals(s,this.columns[l].value))return this.columns[l].value;return s},o.prototype.hasErrorInRow=function(s){return!!this.errorsInRow&&!!this.errorsInRow[s.name]},o.prototype.getSearchableItemValueKeys=function(s){s.push("columns"),s.push("rows")},Object.defineProperty(o.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),o.prototype.getColumnHeaderWrapperComponentName=function(s){return this.SurveyModel.getElementWrapperComponentName({column:s},"column-header")},o.prototype.getColumnHeaderWrapperComponentData=function(s){return this.SurveyModel.getElementWrapperComponentData({column:s},"column-header")},o.prototype.getRowHeaderWrapperComponentName=function(s){return this.SurveyModel.getElementWrapperComponentName({row:s},"row-header")},o.prototype.getRowHeaderWrapperComponentData=function(s){return this.SurveyModel.getElementWrapperComponentData({row:s},"row-header")},o}($.QuestionMatrixBaseModel);w.Serializer.addClass("matrix",["rowTitleWidth",{name:"columns:itemvalue[]",uniqueProperty:"value",baseValue:function(){return R.surveyLocalization.getString("matrix_column")}},{name:"rows:itemvalue[]",uniqueProperty:"value",baseValue:function(){return R.surveyLocalization.getString("matrix_row")}},{name:"cells:cells",serializationProperty:"cells"},{name:"rowsOrder",default:"initial",choices:["initial","random"]},"isAllRowRequired:boolean",{name:"eachRowUnique:boolean",category:"validation"},"hideIfRowsEmpty:boolean",{name:"cellComponent",visible:!1,default:"survey-matrix-cell"}],function(){return new u("")},"matrixbase"),m.QuestionFactory.Instance.registerQuestion("matrix",function(a){var o=new u(a);return o.rows=m.QuestionFactory.DefaultRows,o.columns=m.QuestionFactory.DefaultColums,o})},"./src/question_matrixdropdown.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"MatrixDropdownRowModel",function(){return L}),x.d(j,"QuestionMatrixDropdownModel",function(){return m});var T,G=x("./src/question_matrixdropdownbase.ts"),se=x("./src/jsonobject.ts"),$=x("./src/itemvalue.ts"),w=x("./src/questionfactory.ts"),F=x("./src/helpers.ts"),R=(T=function(C,y){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(h[f]=v[f])})(C,y)},function(C,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function h(){this.constructor=C}T(C,y),C.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)}),L=function(T){function C(y,h,v,f){var d=T.call(this,v,f)||this;return d.name=y,d.item=h,d.buildCells(f),d}return R(C,T),Object.defineProperty(C.prototype,"rowName",{get:function(){return this.name},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),C}(G.MatrixDropdownRowModelBase),m=function(T){function C(y){var h=T.call(this,y)||this;return h.createLocalizableString("totalText",h,!0),h.registerPropertyChangedHandlers(["rows"],function(){h.clearGeneratedRows(),h.resetRenderedTable(),h.filterItems()||h.onRowsChanged(),h.clearIncorrectValues()}),h.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){h.updateVisibilityBasedOnRows()}),h}return R(C,T),C.prototype.getType=function(){return"matrixdropdown"},Object.defineProperty(C.prototype,"totalText",{get:function(){return this.getLocalizableStringText("totalText","")},set:function(y){this.setLocalizableStringText("totalText",y)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"locTotalText",{get:function(){return this.getLocalizableString("totalText")},enumerable:!1,configurable:!0}),C.prototype.getFooterText=function(){return this.locTotalText},C.prototype.getRowTitleWidth=function(){return this.rowTitleWidth},Object.defineProperty(C.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty")},set:function(y){this.setPropertyValue("hideIfRowsEmpty",y)},enumerable:!1,configurable:!0}),C.prototype.getDisplayValueCore=function(y,h){if(!h)return h;var v=this.visibleRows,f={};if(!v)return f;for(var d=0;d<v.length;d++){var u=v[d].rowName,a=h[u];if(a){if(y){var o=$.ItemValue.getTextOrHtmlByValue(this.rows,u);o&&(u=o)}f[u]=this.getRowDisplayValue(y,v[d],a)}}return f},C.prototype.getConditionObjectRowName=function(y){return"."+this.rows[y].value},C.prototype.getConditionObjectRowText=function(y){return"."+this.rows[y].calculatedText},C.prototype.getConditionObjectsRowIndeces=function(){for(var y=[],h=0;h<this.rows.length;h++)y.push(h);return y},C.prototype.isNewValueCorrect=function(y){return F.Helpers.isValueObject(y,!0)},C.prototype.clearIncorrectValues=function(){var y=this.value;if(y){var h=null,v=!1,f=this.filteredRows?this.filteredRows:this.rows;for(var d in y)$.ItemValue.getItemByValue(f,d)?(null==h&&(h={}),h[d]=y[d]):v=!0;v&&(this.value=h),T.prototype.clearIncorrectValues.call(this)}},C.prototype.clearValueIfInvisibleCore=function(y){T.prototype.clearValueIfInvisibleCore.call(this,y),this.clearInvisibleValuesInRows()},C.prototype.generateRows=function(){var y=new Array,h=this.filteredRows?this.filteredRows:this.rows;if(!h||0===h.length)return y;var v=this.value;v||(v={});for(var f=0;f<h.length;f++)this.isValueEmpty(h[f].value)||y.push(this.createMatrixRow(h[f],v[h[f].value]));return y},C.prototype.createMatrixRow=function(y,h){return new L(y.value,y,this,h)},C.prototype.getSearchableItemValueKeys=function(y){y.push("rows")},C.prototype.updateProgressInfoByValues=function(y){var h=this.value;h||(h={});for(var v=0;v<this.rows.length;v++)this.updateProgressInfoByRow(y,h[this.rows[v].value]||{})},C}(G.QuestionMatrixDropdownModelBase);se.Serializer.addClass("matrixdropdown",[{name:"rows:itemvalue[]",uniqueProperty:"value"},"rowsVisibleIf:condition","rowTitleWidth",{name:"totalText",serializationProperty:"locTotalText"},"hideIfRowsEmpty:boolean"],function(){return new m("")},"matrixdropdownbase"),w.QuestionFactory.Instance.registerQuestion("matrixdropdown",function(T){var C=new m(T);return C.choices=[1,2,3,4,5],C.rows=w.QuestionFactory.DefaultRows,G.QuestionMatrixDropdownModelBase.addDefaultColumns(C),C})},"./src/question_matrixdropdownbase.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"MatrixDropdownCell",function(){return a}),x.d(j,"MatrixDropdownTotalCell",function(){return o}),x.d(j,"MatrixDropdownRowModelBase",function(){return l}),x.d(j,"MatrixDropdownTotalRowModel",function(){return c}),x.d(j,"QuestionMatrixDropdownModelBase",function(){return b});var M,G=x("./src/jsonobject.ts"),se=x("./src/martixBase.ts"),$=x("./src/helpers.ts"),w=x("./src/base.ts"),F=x("./src/survey-element.ts"),R=x("./src/textPreProcessor.ts"),L=x("./src/itemvalue.ts"),m=x("./src/questionfactory.ts"),T=x("./src/functionsfactory.ts"),C=x("./src/settings.ts"),y=x("./src/error.ts"),h=x("./src/utils/cssClassBuilder.ts"),v=x("./src/question_matrixdropdowncolumn.ts"),f=x("./src/question_matrixdropdownrendered.ts"),d=x("./src/utils/utils.ts"),u=(M=function(D,g){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,A){P.__proto__=A}||function(P,A){for(var k in A)Object.prototype.hasOwnProperty.call(A,k)&&(P[k]=A[k])})(D,g)},function(D,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function P(){this.constructor=D}M(D,g),D.prototype=null===g?Object.create(g):(P.prototype=g.prototype,new P)}),a=function(){function M(D,g,P){this.column=D,this.row=g,this.data=P,this.questionValue=this.createQuestion(D,g,P),this.questionValue.updateCustomWidget(),this.updateCellQuestionTitleDueToAccessebility(g)}return M.prototype.updateCellQuestionTitleDueToAccessebility=function(D){var g=this;this.questionValue.locTitle.onGetTextCallback=function(P){if(!D||!D.getSurvey())return g.questionValue.title;var A=D.getAccessbilityText();return A?g.column.colOwner.getCellAriaLabel(A,g.questionValue.title):g.questionValue.title}},M.prototype.locStrsChanged=function(){this.question.locStrsChanged()},M.prototype.createQuestion=function(D,g,P){var A=P.createQuestion(this.row,this.column);return A.validateValueCallback=function(){return P.validateCell(g,D.name,g.value)},G.CustomPropertiesCollection.getProperties(D.getType()).forEach(function(k){var Z=k.name;void 0!==D[Z]&&(A[Z]=D[Z])}),A},Object.defineProperty(M.prototype,"question",{get:function(){return this.questionValue},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"value",{get:function(){return this.question.value},set:function(D){this.question.value=D},enumerable:!1,configurable:!0}),M.prototype.getQuestionWrapperClassName=function(D){return D},M.prototype.runCondition=function(D,g){this.question.runCondition(D,g)},M}(),o=function(M){function D(g,P,A){var k=M.call(this,g,P,A)||this;return k.column=g,k.row=P,k.data=A,k.updateCellQuestion(),k}return u(D,M),D.prototype.createQuestion=function(g,P,A){var k=G.Serializer.createClass("expression");return k.setSurveyImpl(P),k},D.prototype.locStrsChanged=function(){this.updateCellQuestion(),M.prototype.locStrsChanged.call(this)},D.prototype.updateCellQuestion=function(){this.question.locCalculation(),this.column.updateCellQuestion(this.question,null,function(g){delete g.defaultValue}),this.question.expression=this.getTotalExpression(),this.question.format=this.column.totalFormat,this.question.currency=this.column.totalCurrency,this.question.displayStyle=this.column.totalDisplayStyle,this.question.maximumFractionDigits=this.column.totalMaximumFractionDigits,this.question.minimumFractionDigits=this.column.totalMinimumFractionDigits,this.question.unlocCalculation(),this.question.runIfReadOnly=!0},D.prototype.getQuestionWrapperClassName=function(g){var P=M.prototype.getQuestionWrapperClassName.call(this,g);if(!P)return P;this.question.expression&&"''"!=this.question.expression&&(P+=" "+g+"--expression");var A=this.column.totalAlignment;return"auto"===A&&"dropdown"===this.column.cellType&&(A="left"),P+" "+g+"--"+A},D.prototype.getTotalExpression=function(){if(this.column.totalExpression)return this.column.totalExpression;if("none"==this.column.totalType)return"''";var g=this.column.totalType+"InArray";return T.FunctionFactory.Instance.hasFunction(g)?g+"({self}, '"+this.column.name+"')":""},D}(a),s=function(M){function D(g,P,A){var k=M.call(this,P)||this;return k.row=g,k.variableName=P,k.parentTextProcessor=A,k}return u(D,M),D.prototype.getParentTextProcessor=function(){return this.parentTextProcessor},Object.defineProperty(D.prototype,"survey",{get:function(){return this.row.getSurvey()},enumerable:!1,configurable:!0}),D.prototype.getValues=function(){return this.row.value},D.prototype.getQuestionByName=function(g){return this.row.getQuestionByName(g)},D.prototype.onCustomProcessText=function(g){return g.name==l.IndexVariableName?(g.isExists=!0,g.value=this.row.rowIndex,!0):g.name==l.RowValueVariableName&&(g.isExists=!0,g.value=this.row.rowName,!0)},D}(R.QuestionTextProcessor),l=function(){function M(D,g){var P=this;this.isSettingValue=!1,this.detailPanelValue=null,this.cells=[],this.isCreatingDetailPanel=!1,this.data=D,this.subscribeToChanges(g),this.textPreProcessor=new s(this,M.RowVariableName,D?D.getParentTextProcessor():null),this.showHideDetailPanelClick=function(){if(P.getSurvey().isDesignMode)return!0;P.showHideDetailPanel()},this.idValue=M.getId()}return M.getId=function(){return"srow_"+M.idCounter++},Object.defineProperty(M.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"rowName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"dataName",{get:function(){return this.rowName},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"text",{get:function(){return this.rowName},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"value",{get:function(){for(var D={},g=this.questions,P=0;P<g.length;P++){var A=g[P];A.isEmpty()||(D[A.getValueName()]=A.value),A.comment&&this.getSurvey()&&this.getSurvey().storeOthersAsComment&&(D[A.getValueName()+w.Base.commentSuffix]=A.comment)}return D},set:function(D){this.isSettingValue=!0,this.subscribeToChanges(D);for(var g=this.questions,P=0;P<g.length;P++){var A=g[P],k=this.getCellValue(D,A.getValueName()),Z=A.comment,re=D?D[A.getValueName()+w.Base.commentSuffix]:"";null==re&&(re=""),A.updateValueFromSurvey(k),(!!re||this.isTwoValueEquals(Z,A.comment))&&A.updateCommentFromSurvey(re),A.onSurveyValueChanged(k)}this.isSettingValue=!1},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locText",{get:function(){return null},enumerable:!1,configurable:!0}),M.prototype.getAccessbilityText=function(){return this.locText&&this.locText.renderedHtml},Object.defineProperty(M.prototype,"hasPanel",{get:function(){return!!this.data&&this.data.hasDetailPanel(this)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"detailPanelId",{get:function(){return this.detailPanel?this.detailPanel.id:""},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isDetailPanelShowing",{get:function(){return!!this.data&&this.data.getIsDetailPanelShowing(this)},enumerable:!1,configurable:!0}),M.prototype.setIsDetailPanelShowing=function(D){!D&&this.detailPanel&&this.detailPanel.onHidingContent(),this.data&&this.data.setIsDetailPanelShowing(this,D),this.onDetailPanelShowingChanged&&this.onDetailPanelShowingChanged()},M.prototype.showHideDetailPanel=function(){this.isDetailPanelShowing?this.hideDetailPanel():this.showDetailPanel()},M.prototype.showDetailPanel=function(){this.ensureDetailPanel(),this.detailPanelValue&&this.setIsDetailPanelShowing(!0)},M.prototype.hideDetailPanel=function(D){void 0===D&&(D=!1),this.setIsDetailPanelShowing(!1),D&&(this.detailPanelValue=null)},M.prototype.ensureDetailPanel=function(){if(!this.isCreatingDetailPanel&&!this.detailPanelValue&&this.hasPanel&&this.data){this.isCreatingDetailPanel=!0,this.detailPanelValue=this.data.createRowDetailPanel(this);var D=this.detailPanelValue.questions,g=this.data.getRowValue(this.data.getRowIndex(this));if(!$.Helpers.isValueEmpty(g))for(var P=0;P<D.length;P++){var A=D[P].getValueName(),k=this.editingObj?G.Serializer.getObjPropertyValue(this.editingObj,A):g[A];$.Helpers.isValueEmpty(k)||(D[P].value=k)}this.detailPanelValue.setSurveyImpl(this),this.isCreatingDetailPanel=!1}},M.prototype.getAllValues=function(){return this.value},M.prototype.getFilteredValues=function(){var D=this.data?this.data.getDataFilteredValues():{},g=this.validationValues;if(g)for(var P in g)D[P]=g[P];return D.row=this.getAllValues(),D},M.prototype.getFilteredProperties=function(){return{survey:this.getSurvey(),row:this}},M.prototype.runCondition=function(D,g){this.data&&(D[M.OwnerVariableName]=this.data.value);var P=this.rowIndex;D[M.IndexVariableName]=P,D[M.RowValueVariableName]=this.rowName;var A=$.Helpers.createCopy(g);A[M.RowVariableName]=this;for(var k=P>0?this.data.getRowValue(this.rowIndex-1):this.value,Z=0;Z<this.cells.length;Z++)Z>0&&Object(d.mergeValues)(this.value,k),D[M.RowVariableName]=k,this.cells[Z].runCondition(D,A);this.detailPanel&&this.detailPanel.runCondition(D,A)},M.prototype.clearValue=function(){for(var D=this.questions,g=0;g<D.length;g++)D[g].clearValue()},M.prototype.onAnyValueChanged=function(D,g){for(var P=this.questions,A=0;A<P.length;A++)P[A].onAnyValueChanged(D,g)},M.prototype.getDataValueCore=function(D,g){var P=this.getSurvey();return P?P.getDataValueCore(D,g):D[g]},M.prototype.getValue=function(D){var g=this.getQuestionByName(D);return g?g.value:null},M.prototype.setValue=function(D,g){this.setValueCore(D,g,!1)},M.prototype.getVariable=function(D){},M.prototype.setVariable=function(D,g){},M.prototype.getComment=function(D){var g=this.getQuestionByName(D);return g?g.comment:""},M.prototype.setComment=function(D,g,P){this.setValueCore(D,g,!0)},M.prototype.findQuestionByName=function(D){if(D){var g=M.RowVariableName+".";if(0===D.indexOf(g))return this.getQuestionByName(D.substring(g.length));var P=this.getSurvey();return P?P.getQuestionByName(D):null}},M.prototype.setValueCore=function(D,g,P){if(!this.isSettingValue){this.updateQuestionsValue(D,g,P);var A=this.value,k=P?D+w.Base.commentSuffix:D,Z=g,re=this.getQuestionByName(D),H=this.data.onRowChanging(this,k,A);!!re&&!this.isTwoValueEquals(H,Z)&&(this.isSettingValue=!0,P?re.comment=H:re.value=H,this.isSettingValue=!1,A=this.value),this.data.isValidateOnValueChanging&&this.hasQuestonError(re)||(this.data.onRowChanged(this,k,A,null==g&&!re||P&&!g&&!!re),k&&this.runTriggers(c.RowVariableName+"."+k,A),this.onAnyValueChanged(M.RowVariableName,""))}},M.prototype.updateQuestionsValue=function(D,g,P){if(this.detailPanel){var A=this.getQuestionByColumnName(D),k=this.detailPanel.getQuestionByName(D);if(A&&k){var re=this.isTwoValueEquals(g,P?A.comment:A.value)?k:A;this.isSettingValue=!0,P?re.comment=g:re.value=g,this.isSettingValue=!1}}},M.prototype.runTriggers=function(D,g){!D||this.questions.forEach(function(P){return P.runTriggers(D,g)})},M.prototype.hasQuestonError=function(D){if(!D)return!1;if(D.hasErrors(!0,{isOnValueChanged:!this.data.isValidateOnValueChanging}))return!0;if(D.isEmpty())return!1;var g=this.getCellByColumnName(D.name);return!!(g&&g.column&&g.column.isUnique)&&this.data.checkIfValueInRowDuplicated(this,D)},Object.defineProperty(M.prototype,"isEmpty",{get:function(){var D=this.value;if($.Helpers.isValueEmpty(D))return!0;for(var g in D)if(null!=D[g])return!1;return!0},enumerable:!1,configurable:!0}),M.prototype.getQuestionByColumn=function(D){var g=this.getCellByColumn(D);return g?g.question:null},M.prototype.getCellByColumn=function(D){for(var g=0;g<this.cells.length;g++)if(this.cells[g].column==D)return this.cells[g];return null},M.prototype.getCellByColumnName=function(D){for(var g=0;g<this.cells.length;g++)if(this.cells[g].column.name==D)return this.cells[g];return null},M.prototype.getQuestionByColumnName=function(D){var g=this.getCellByColumnName(D);return g?g.question:null},Object.defineProperty(M.prototype,"questions",{get:function(){for(var D=[],g=0;g<this.cells.length;g++)D.push(this.cells[g].question);var P=this.detailPanel?this.detailPanel.questions:[];for(g=0;g<P.length;g++)D.push(P[g]);return D},enumerable:!1,configurable:!0}),M.prototype.getQuestionByName=function(D){return this.getQuestionByColumnName(D)||(this.detailPanel?this.detailPanel.getQuestionByName(D):null)},M.prototype.getQuestionsByName=function(D){var g=[],P=this.getQuestionByColumnName(D);return P&&g.push(P),this.detailPanel&&(P=this.detailPanel.getQuestionByName(D))&&g.push(P),g},M.prototype.getSharedQuestionByName=function(D){return this.data?this.data.getSharedQuestionByName(D,this):null},M.prototype.clearIncorrectValues=function(D){for(var g in D){var P=this.getQuestionByName(g);if(P){var A=P.value;P.clearIncorrectValues(),this.isTwoValueEquals(A,P.value)||this.setValue(g,P.value)}else!this.getSharedQuestionByName(g)&&g.indexOf(C.settings.matrix.totalsSuffix)<0&&this.setValue(g,null)}},M.prototype.getLocale=function(){return this.data?this.data.getLocale():""},M.prototype.getMarkdownHtml=function(D,g){return this.data?this.data.getMarkdownHtml(D,g):void 0},M.prototype.getRenderer=function(D){return this.data?this.data.getRenderer(D):null},M.prototype.getRendererContext=function(D){return this.data?this.data.getRendererContext(D):D},M.prototype.getProcessedText=function(D){return this.data?this.data.getProcessedText(D):D},M.prototype.locStrsChanged=function(){for(var D=0;D<this.cells.length;D++)this.cells[D].locStrsChanged();this.detailPanel&&this.detailPanel.locStrsChanged()},M.prototype.updateCellQuestionOnColumnChanged=function(D,g,P){var A=this.getCellByColumn(D);!A||this.updateCellOnColumnChanged(A,g,P)},M.prototype.updateCellQuestionOnColumnItemValueChanged=function(D,g,P,A,k,Z){var re=this.getCellByColumn(D);!re||this.updateCellOnColumnItemValueChanged(re,g,P,A,k,Z)},M.prototype.onQuestionReadOnlyChanged=function(D){for(var g=this.questions,P=0;P<g.length;P++){var A=g[P];A.setPropertyValue("isReadOnly",A.isReadOnly)}this.detailPanel&&(this.detailPanel.readOnly=D)},M.prototype.hasErrors=function(D,g,P){var A=!1,k=this.cells;if(!k)return A;this.validationValues=g.validationValues;for(var Z=0;Z<k.length;Z++)if(k[Z]){var re=k[Z].question;!re||!re.visible||(re.onCompletedAsyncValidators=function(E){P()},(!g||!0!==g.isOnValueChanged||!re.isEmpty())&&(A=re.hasErrors(D,g)||A))}if(this.hasPanel){this.ensureDetailPanel();var H=this.detailPanel.hasErrors(D,!1,g);!g.hideErroredPanel&&H&&D&&(g.isSingleDetailPanel&&(g.hideErroredPanel=!0),this.showDetailPanel()),A=H||A}return this.validationValues=void 0,A},M.prototype.updateCellOnColumnChanged=function(D,g,P){D.question[g]=P},M.prototype.updateCellOnColumnItemValueChanged=function(D,g,P,A,k,Z){var re=D.question[g];if(Array.isArray(re)){var E=L.ItemValue.getItemByValue(re,"value"===A?Z:P.value);!E||(E[A]=k)}},M.prototype.buildCells=function(D){this.isSettingValue=!0;for(var g=this.data.columns,P=0;P<g.length;P++){var A=g[P],k=this.createCell(A);this.cells.push(k);var Z=this.getCellValue(D,A.name);if(!$.Helpers.isValueEmpty(Z)){k.question.value=Z;var re=A.name+w.Base.commentSuffix;D&&!$.Helpers.isValueEmpty(D[re])&&(k.question.comment=D[re])}}this.isSettingValue=!1},M.prototype.isTwoValueEquals=function(D,g){return $.Helpers.isTwoValueEquals(D,g,!1,!0,!1)},M.prototype.getCellValue=function(D,g){return this.editingObj?G.Serializer.getObjPropertyValue(this.editingObj,g):D?D[g]:void 0},M.prototype.createCell=function(D){return new a(D,this,this.data)},M.prototype.getSurveyData=function(){return this},M.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},M.prototype.getTextProcessor=function(){return this.textPreProcessor},Object.defineProperty(M.prototype,"rowIndex",{get:function(){return this.data?this.data.getRowIndex(this)+1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"editingObj",{get:function(){return this.editingObjValue},enumerable:!1,configurable:!0}),M.prototype.dispose=function(){this.editingObj&&(this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=null)},M.prototype.subscribeToChanges=function(D){var g=this;!D||!D.getType||!D.onPropertyChanged||D!==this.editingObj&&(this.editingObjValue=D,this.onEditingObjPropertyChanged=function(P,A){g.updateOnSetValue(A.name,A.newValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))},M.prototype.updateOnSetValue=function(D,g){this.isSettingValue=!0;for(var P=this.getQuestionsByName(D),A=0;A<P.length;A++)P[A].value=g;this.isSettingValue=!1},M.RowVariableName="row",M.OwnerVariableName="self",M.IndexVariableName="rowIndex",M.RowValueVariableName="rowValue",M.idCounter=1,M}(),c=function(M){function D(g){var P=M.call(this,g,null)||this;return P.buildCells(null),P}return u(D,M),D.prototype.createCell=function(g){return new o(g,this,this.data)},D.prototype.setValue=function(g,P){this.data&&!this.isSettingValue&&this.data.onTotalValueChanged()},D.prototype.runCondition=function(g,P){var k,A=0;do{k=$.Helpers.getUnbindValue(this.value),M.prototype.runCondition.call(this,g,P),A++}while(!$.Helpers.isTwoValueEquals(k,this.value)&&A<3)},D.prototype.updateCellOnColumnChanged=function(g,P,A){g.updateCellQuestion()},D}(l),b=function(M){function D(g){var P=M.call(this,g)||this;return P.isRowChanging=!1,P.lockResetRenderedTable=!1,P.isDoingonAnyValueChanged=!1,P.createItemValues("choices"),P.createLocalizableString("placeholder",P,!1,!0),P.createLocalizableString("keyDuplicationError",P,!1,!0),P.detailPanelValue=P.createNewDetailPanel(),P.detailPanel.selectedElementInDesign=P,P.detailPanel.renderWidth="100%",P.detailPanel.isInteractiveDesignElement=!1,P.detailPanel.showTitle=!1,P.registerPropertyChangedHandlers(["columns","cellType"],function(){P.updateColumnsAndRows()}),P.registerPropertyChangedHandlers(["placeholder","columnColCount","rowTitleWidth","choices"],function(){P.clearRowsAndResetRenderedTable()}),P.registerPropertyChangedHandlers(["columnLayout","addRowLocation","hideColumnsIfEmpty","showHeader","minRowCount","isReadOnly","rowCount","hasFooter","detailPanelMode"],function(){P.resetRenderedTable()}),P.registerPropertyChangedHandlers(["isMobile"],function(){P.resetRenderedTable()}),P}return u(D,M),Object.defineProperty(D,"defaultCellType",{get:function(){return C.settings.matrix.defaultCellType},set:function(g){C.settings.matrix.defaultCellType=g},enumerable:!1,configurable:!0}),D.addDefaultColumns=function(g){for(var P=m.QuestionFactory.DefaultColums,A=0;A<P.length;A++)g.addColumn(P[A])},D.prototype.createColumnValues=function(){var g=this;return this.createNewArray("columns",function(P){P.colOwner=g,g.onAddColumn&&g.onAddColumn(P),g.survey&&g.survey.matrixColumnAdded(g,P)},function(P){P.colOwner=null,g.onRemoveColumn&&g.onRemoveColumn(P)})},D.prototype.getType=function(){return"matrixdropdownbase"},D.prototype.dispose=function(){M.prototype.dispose.call(this),this.clearGeneratedRows()},Object.defineProperty(D.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"isRowsDynamic",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"isUpdateLocked",{get:function(){return this.isLoadingFromJson||this.isUpdating},enumerable:!1,configurable:!0}),D.prototype.beginUpdate=function(){this.isUpdating=!0},D.prototype.endUpdate=function(){this.isUpdating=!1,this.updateColumnsAndRows()},D.prototype.updateColumnsAndRows=function(){this.updateColumnsIndexes(this.columns),this.updateColumnsCellType(),this.generatedTotalRow=null,this.clearRowsAndResetRenderedTable()},D.prototype.itemValuePropertyChanged=function(g,P,A,k){M.prototype.itemValuePropertyChanged.call(this,g,P,A,k),"choices"===g.ownerPropertyName&&this.clearRowsAndResetRenderedTable()},Object.defineProperty(D.prototype,"columnLayout",{get:function(){return this.getPropertyValue("columnLayout")},set:function(g){this.setPropertyValue("columnLayout",g)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"columnsLocation",{get:function(){return this.columnLayout},set:function(g){this.columnLayout=g},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"detailErrorLocation",{get:function(){return this.getPropertyValue("detailErrorLocation")},set:function(g){this.setPropertyValue("detailErrorLocation",g.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"cellErrorLocation",{get:function(){return this.getPropertyValue("cellErrorLocation")},set:function(g){this.setPropertyValue("cellErrorLocation",g.toLowerCase())},enumerable:!1,configurable:!0}),D.prototype.getChildErrorLocation=function(g){var P=g.parent?this.detailErrorLocation:this.cellErrorLocation;return"default"!==P?P:M.prototype.getChildErrorLocation.call(this,g)},Object.defineProperty(D.prototype,"isColumnLayoutHorizontal",{get:function(){return!!this.isMobile||"vertical"!=this.columnLayout},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"isUniqueCaseSensitive",{get:function(){return void 0!==this.isUniqueCaseSensitiveValue?this.isUniqueCaseSensitiveValue:C.settings.comparator.caseSensitive},set:function(g){this.isUniqueCaseSensitiveValue=g},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"detailPanelMode",{get:function(){return this.getPropertyValue("detailPanelMode")},set:function(g){this.setPropertyValue("detailPanelMode",g)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),D.prototype.getPanel=function(){return this.detailPanel},Object.defineProperty(D.prototype,"detailElements",{get:function(){return this.detailPanel.elements},enumerable:!1,configurable:!0}),D.prototype.createNewDetailPanel=function(){return G.Serializer.createClass("panel")},Object.defineProperty(D.prototype,"hasRowText",{get:function(){return!0},enumerable:!1,configurable:!0}),D.prototype.getFooterText=function(){return null},Object.defineProperty(D.prototype,"canAddRow",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"canRemoveRows",{get:function(){return!1},enumerable:!1,configurable:!0}),D.prototype.canRemoveRow=function(g){return!0},D.prototype.onPointerDown=function(g,P){},D.prototype.onRowsChanged=function(){this.resetRenderedTable(),M.prototype.onRowsChanged.call(this)},D.prototype.onStartRowAddingRemoving=function(){this.lockResetRenderedTable=!0,this.setValueChangedDirectly(!0)},D.prototype.onEndRowAdding=function(){if(this.lockResetRenderedTable=!1,this.renderedTable)if(this.renderedTable.isRequireReset())this.resetRenderedTable();else{var g=this.visibleRows.length-1;this.renderedTable.onAddedRow(this.visibleRows[g],g)}},D.prototype.onEndRowRemoving=function(g){this.lockResetRenderedTable=!1,this.renderedTable.isRequireReset()?this.resetRenderedTable():g&&this.renderedTable.onRemovedRow(g)},Object.defineProperty(D.prototype,"renderedTableValue",{get:function(){return this.getPropertyValue("renderedTable",null)},set:function(g){this.setPropertyValue("renderedTable",g)},enumerable:!1,configurable:!0}),D.prototype.clearRowsAndResetRenderedTable=function(){this.clearGeneratedRows(),this.resetRenderedTable(),this.fireCallback(this.columnsChangedCallback)},D.prototype.resetRenderedTable=function(){this.lockResetRenderedTable||this.isUpdateLocked||(this.renderedTableValue=null,this.fireCallback(this.onRenderedTableResetCallback))},D.prototype.clearGeneratedRows=function(){if(this.generatedVisibleRows){for(var g=0;g<this.generatedVisibleRows.length;g++)this.generatedVisibleRows[g].dispose();M.prototype.clearGeneratedRows.call(this)}},Object.defineProperty(D.prototype,"isRendredTableCreated",{get:function(){return!!this.renderedTableValue},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"renderedTable",{get:function(){return this.renderedTableValue||(this.renderedTableValue=this.createRenderedTable(),this.onRenderedTableCreatedCallback&&this.onRenderedTableCreatedCallback(this.renderedTableValue)),this.renderedTableValue},enumerable:!1,configurable:!0}),D.prototype.createRenderedTable=function(){return new f.QuestionMatrixDropdownRenderedTable(this)},D.prototype.onMatrixRowCreated=function(g){if(this.survey)for(var P={rowValue:g.value,row:g,column:null,columnName:null,cell:null,cellQuestion:null,value:null},A=0;A<this.visibleColumns.length;A++){P.column=this.visibleColumns[A],P.columnName=P.column.name;var k=g.cells[A];P.cell=k,P.cellQuestion=k.question,P.value=k.value,this.onCellCreatedCallback&&this.onCellCreatedCallback(P),this.survey.matrixCellCreated(this,P)}},Object.defineProperty(D.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType",C.settings.matrix.defaultCellType)},set:function(g){g=g.toLowerCase(),this.setPropertyValue("cellType",g)},enumerable:!1,configurable:!0}),D.prototype.updateColumnsCellType=function(){for(var g=0;g<this.columns.length;g++)this.columns[g].defaultCellTypeChanged()},D.prototype.updateColumnsIndexes=function(g){for(var P=0;P<g.length;P++)g[P].setIndex(P)},Object.defineProperty(D.prototype,"columnColCount",{get:function(){return this.getPropertyValue("columnColCount")},set:function(g){g<0||g>4||this.setPropertyValue("columnColCount",g)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"horizontalScroll",{get:function(){return this.getPropertyValue("horizontalScroll")},set:function(g){this.setPropertyValue("horizontalScroll",g)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(g){this.setPropertyValue("allowAdaptiveActions",g),this.detailPanel&&(this.detailPanel.allowAdaptiveActions=g)},enumerable:!1,configurable:!0}),D.prototype.getRequiredText=function(){return this.survey?this.survey.requiredText:""},D.prototype.hasChoices=function(){return this.choices.length>0},D.prototype.onColumnPropertyChanged=function(g,P,A){if(this.updateHasFooter(),this.generatedVisibleRows){for(var k=0;k<this.generatedVisibleRows.length;k++)this.generatedVisibleRows[k].updateCellQuestionOnColumnChanged(g,P,A);this.generatedTotalRow&&this.generatedTotalRow.updateCellQuestionOnColumnChanged(g,P,A),this.onColumnsChanged(),"isRequired"==P&&this.resetRenderedTable()}},D.prototype.onColumnItemValuePropertyChanged=function(g,P,A,k,Z,re){if(this.generatedVisibleRows)for(var H=0;H<this.generatedVisibleRows.length;H++)this.generatedVisibleRows[H].updateCellQuestionOnColumnItemValueChanged(g,P,A,k,Z,re)},D.prototype.onShowInMultipleColumnsChanged=function(g){this.resetTableAndRows()},D.prototype.onColumnVisibilityChanged=function(g){this.resetTableAndRows()},D.prototype.onColumnCellTypeChanged=function(g){this.resetTableAndRows()},D.prototype.resetTableAndRows=function(){this.clearGeneratedRows(),this.resetRenderedTable()},D.prototype.getRowTitleWidth=function(){return""},Object.defineProperty(D.prototype,"hasFooter",{get:function(){return this.getPropertyValue("hasFooter",!1)},enumerable:!1,configurable:!0}),D.prototype.getAddRowLocation=function(){return"default"},D.prototype.getShowColumnsIfEmpty=function(){return!1},D.prototype.updateShowTableAndAddRow=function(){this.renderedTable&&this.renderedTable.updateShowTableAndAddRow()},D.prototype.updateHasFooter=function(){this.setPropertyValue("hasFooter",this.hasTotal)},Object.defineProperty(D.prototype,"hasTotal",{get:function(){for(var g=0;g<this.columns.length;g++)if(this.columns[g].hasTotal)return!0;return!1},enumerable:!1,configurable:!0}),D.prototype.getCellType=function(){return this.cellType},D.prototype.getCustomCellType=function(g,P,A){if(!this.survey)return A;var k={rowValue:P.value,row:P,column:g,columnName:g.name,cellType:A};return this.survey.matrixCellCreating(this,k),k.cellType},D.prototype.getConditionJson=function(g,P){if(void 0===g&&(g=null),void 0===P&&(P=null),!P)return M.prototype.getConditionJson.call(this);for(var A="",k=P.length-1;k>=0&&"."!=P[k];k--)A=P[k]+A;var Z=this.getColumnByName(A);if(!Z)return null;var re=Z.createCellQuestion(null);return re?re.getConditionJson(g):null},D.prototype.clearIncorrectValues=function(){var g=this.visibleRows;if(g)for(var P=0;P<g.length;P++)g[P].clearIncorrectValues(this.getRowValue(P))},D.prototype.clearErrors=function(){M.prototype.clearErrors.call(this),this.runFuncForCellQuestions(function(g){g.clearErrors()})},D.prototype.localeChanged=function(){M.prototype.localeChanged.call(this),this.runFuncForCellQuestions(function(g){g.localeChanged()})},D.prototype.runFuncForCellQuestions=function(g){if(this.generatedVisibleRows)for(var P=0;P<this.generatedVisibleRows.length;P++)for(var A=this.generatedVisibleRows[P],k=0;k<A.cells.length;k++)g(A.cells[k].question)},D.prototype.runCondition=function(g,P){M.prototype.runCondition.call(this,g,P);var k,A=0;do{k=$.Helpers.getUnbindValue(this.totalValue),this.runCellsCondition(g,P),this.runTotalsCondition(g,P),A++}while(!$.Helpers.isTwoValueEquals(k,this.totalValue)&&A<3)},D.prototype.runTriggers=function(g,P){M.prototype.runTriggers.call(this,g,P),this.runFuncForCellQuestions(function(A){A.runTriggers(g,P)})},D.prototype.shouldRunColumnExpression=function(){return!1},D.prototype.runCellsCondition=function(g,P){if(this.generatedVisibleRows){for(var A=this.getRowConditionValues(g),k=this.generatedVisibleRows,Z=0;Z<k.length;Z++)k[Z].runCondition(A,P);this.checkColumnsVisibility(),this.checkColumnsRenderedRequired()}},D.prototype.checkColumnsVisibility=function(){if(!this.isDesignMode){for(var g=!1,P=0;P<this.visibleColumns.length;P++){var A=this.visibleColumns[P];!A.visibleIf&&!A.isFilteredMultipleColumns||(g=this.isColumnVisibilityChanged(A)||g)}g&&this.resetRenderedTable()}},D.prototype.checkColumnsRenderedRequired=function(){for(var g=this.generatedVisibleRows,P=0;P<this.visibleColumns.length;P++){var A=this.visibleColumns[P];if(A.requiredIf){for(var k=g.length>0,Z=0;Z<g.length;Z++)if(!g[Z].cells[P].question.isRequired){k=!1;break}A.updateIsRenderedRequired(k)}}},D.prototype.isColumnVisibilityChanged=function(g){for(var P=g.isColumnVisible,A=g.isFilteredMultipleColumns,k=A?g.getVisibleChoicesInCell:[],Z=new Array,re=!1,H=this.generatedVisibleRows,E=0;E<H.length;E++){var B=H[E].cells[g.index],U=null==B?void 0:B.question;if(U&&U.isVisible){if(re=!0,!A)break;this.updateNewVisibleChoices(U,Z)}}return g.hasVisibleCell=re,!(!A||(g.setVisibleChoicesInCell(Z),$.Helpers.isArraysEqual(k,Z,!0,!1,!1)))||P!==g.isColumnVisible},D.prototype.updateNewVisibleChoices=function(g,P){var A=g.visibleChoices;if(Array.isArray(A))for(var k=0;k<A.length;k++){var Z=A[k];P.indexOf(Z.value)<0&&P.push(Z.value)}},D.prototype.runTotalsCondition=function(g,P){!this.generatedTotalRow||this.generatedTotalRow.runCondition(this.getRowConditionValues(g),P)},D.prototype.getRowConditionValues=function(g){var P=g;P||(P={});var A={};return this.isValueEmpty(this.totalValue)||(A=JSON.parse(JSON.stringify(this.totalValue))),P.row={},P.totalRow=A,P},D.prototype.IsMultiplyColumn=function(g){return g.isShowInMultipleColumns&&!this.isMobile},D.prototype.locStrsChanged=function(){M.prototype.locStrsChanged.call(this);for(var g=this.columns,P=0;P<g.length;P++)g[P].locStrsChanged();var A=this.generatedVisibleRows;if(A){for(P=0;P<A.length;P++)A[P].locStrsChanged();this.generatedTotalRow&&this.generatedTotalRow.locStrsChanged()}},D.prototype.getColumnByName=function(g){for(var P=0;P<this.columns.length;P++)if(this.columns[P].name==g)return this.columns[P];return null},D.prototype.getColumnName=function(g){return this.getColumnByName(g)},D.prototype.getColumnWidth=function(g){var P;return g.minWidth?g.minWidth:this.columnMinWidth?this.columnMinWidth:(null===(P=C.settings.matrix.columnWidthsByType[g.cellType])||void 0===P?void 0:P.minWidth)||""},Object.defineProperty(D.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(g){this.setPropertyValue("choices",g)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(g){this.setLocalizableStringText("placeholder",g)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(g){this.placeholder=g},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(g){this.setLocalizableStringText("keyDuplicationError",g)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"storeOthersAsComment",{get:function(){return!!this.survey&&this.survey.storeOthersAsComment},enumerable:!1,configurable:!0}),D.prototype.addColumn=function(g,P){void 0===P&&(P=null);var A=new v.MatrixDropdownColumn(g,P);return this.columns.push(A),A},D.prototype.getVisibleRows=function(){var g=this;return this.isUpdateLocked?null:(this.generatedVisibleRows||(this.generatedVisibleRows=this.generateRows(),this.generatedVisibleRows.forEach(function(P){return g.onMatrixRowCreated(P)}),this.data&&this.runCellsCondition(this.data.getFilteredValues(),this.data.getFilteredProperties()),this.updateValueOnRowsGeneration(this.generatedVisibleRows),this.updateIsAnswered()),this.generatedVisibleRows)},D.prototype.updateValueOnRowsGeneration=function(g){for(var P=this.createNewValue(!0),A=this.createNewValue(),k=0;k<g.length;k++){var Z=g[k];if(!Z.editingObj){var re=this.getRowValue(k),H=Z.value;this.isTwoValueEquals(re,H)||(A=this.getNewValueOnRowChanged(Z,"",H,!1,A).value)}}this.isTwoValueEquals(P,A)||(this.isRowChanging=!0,this.setNewValue(A),this.isRowChanging=!1)},Object.defineProperty(D.prototype,"totalValue",{get:function(){return this.hasTotal&&this.visibleTotalRow?this.visibleTotalRow.value:{}},enumerable:!1,configurable:!0}),D.prototype.getVisibleTotalRow=function(){if(this.isUpdateLocked)return null;if(this.hasTotal){if(!this.generatedTotalRow&&(this.generatedTotalRow=this.generateTotalRow(),this.data)){var g={survey:this.survey};this.runTotalsCondition(this.data.getAllValues(),g)}}else this.generatedTotalRow=null;return this.generatedTotalRow},Object.defineProperty(D.prototype,"visibleTotalRow",{get:function(){return this.getVisibleTotalRow()},enumerable:!1,configurable:!0}),D.prototype.onSurveyLoad=function(){M.prototype.onSurveyLoad.call(this),this.updateColumnsIndexes(this.columns),this.clearGeneratedRows(),this.generatedTotalRow=null,this.updateHasFooter()},D.prototype.getRowValue=function(g){if(g<0)return null;var P=this.visibleRows;if(g>=P.length)return null;var A=this.createNewValue();return this.getRowValueCore(P[g],A)},D.prototype.checkIfValueInRowDuplicated=function(g,P){if(!this.generatedVisibleRows)return!1;for(var A=!1,k=0;k<this.generatedVisibleRows.length;k++){var Z=this.generatedVisibleRows[k];if(g!==Z&&$.Helpers.isTwoValueEquals(Z.getValue(P.name),P.value,!0,this.isUniqueCaseSensitive)){A=!0;break}}return A?this.addDuplicationError(P):P.clearErrors(),A},D.prototype.setRowValue=function(g,P){if(g<0)return null;var A=this.visibleRows;if(g>=A.length)return null;A[g].value=P,this.onRowChanged(A[g],"",P,!1)},D.prototype.generateRows=function(){return null},D.prototype.generateTotalRow=function(){return new c(this)},D.prototype.createNewValue=function(g){void 0===g&&(g=!1);var P=this.value?this.createValueCopy():{};return g&&this.isMatrixValueEmpty(P)?null:P},D.prototype.getRowValueCore=function(g,P,A){void 0===A&&(A=!1);var k=P&&P[g.rowName]?P[g.rowName]:null;return!k&&A&&(k={},P&&(P[g.rowName]=k)),k},D.prototype.getRowObj=function(g){var P=this.getRowValueCore(g,this.value);return P&&P.getType?P:null},D.prototype.getRowDisplayValue=function(g,P,A){if(!A||P.editingObj)return A;for(var k=Object.keys(A),Z=0;Z<k.length;Z++){var re=k[Z],H=P.getQuestionByName(re);if(H||(H=this.getSharedQuestionByName(re,P)),H){var E=H.getDisplayValue(g,A[re]);g&&H.title&&H.title!==re?(A[H.title]=E,delete A[re]):A[re]=E}}return A},D.prototype.getPlainData=function(g){var P=this;void 0===g&&(g={includeEmpty:!0});var A=M.prototype.getPlainData.call(this,g);if(A){A.isNode=!0;var k=Array.isArray(A.data)?[].concat(A.data):[];A.data=this.visibleRows.map(function(Z){var re={name:Z.dataName,title:Z.text,value:Z.value,displayValue:P.getRowDisplayValue(!1,Z,Z.value),getString:function(H){return"object"==typeof H?JSON.stringify(H):H},isNode:!0,data:Z.cells.map(function(H){return H.question.getPlainData(g)}).filter(function(H){return!!H})};return(g.calculations||[]).forEach(function(H){re[H.propertyName]=Z[H.propertyName]}),re}),A.data=A.data.concat(k)}return A},D.prototype.addConditionObjectsByContext=function(g,P){var A=!!P&&(!0===P||this.columns.indexOf(P)>-1),k=this.getConditionObjectsRowIndeces();A&&k.push(-1);for(var Z=0;Z<k.length;Z++){var re=k[Z],H=re>-1?this.getConditionObjectRowName(re):"row";if(H)for(var E=re>-1?this.getConditionObjectRowText(re):"row",B=re>-1||!0===P,U=B&&-1===re?".":"",ae=(B?this.getValueName():"")+U+H+".",Pe=(B?this.processedTitle:"")+U+E+".",je=0;je<this.columns.length;je++){var ft=this.columns[je];if(-1!==re||P!==ft){var gt={name:ae+ft.name,text:Pe+ft.fullTitle,question:this};-1===re&&!0===P&&(gt.context=this),g.push(gt)}}}},D.prototype.onHidingContent=function(){M.prototype.onHidingContent.call(this);var g=[];this.collectNestedQuestions(g,!0),g.forEach(function(P){return P.onHidingContent()})},D.prototype.getIsReadyNestedQuestions=function(){if(!this.generatedVisibleRows)return[];var g=new Array;return this.collectNestedQuestonsInRows(this.generatedVisibleRows,g,!1),this.generatedTotalRow&&this.collectNestedQuestonsInRows([this.generatedTotalRow],g,!1),g},D.prototype.collectNestedQuestionsCore=function(g,P){this.collectNestedQuestonsInRows(this.visibleRows,g,P)},D.prototype.collectNestedQuestonsInRows=function(g,P,A){!Array.isArray(g)||g.forEach(function(k){k.questions.forEach(function(Z){return Z.collectNestedQuestions(P,A)})})},D.prototype.getConditionObjectRowName=function(g){return""},D.prototype.getConditionObjectRowText=function(g){return this.getConditionObjectRowName(g)},D.prototype.getConditionObjectsRowIndeces=function(){return[]},D.prototype.getProgressInfo=function(){if(this.generatedVisibleRows)return F.SurveyElement.getProgressInfoByElements(this.getCellQuestions(),this.isRequired);var g=w.Base.createProgressInfo();return this.updateProgressInfoByValues(g),0===g.requiredQuestionCount&&this.isRequired&&(g.requiredQuestionCount=1,g.requiredAnsweredQuestionCount=this.isEmpty()?0:1),g},D.prototype.updateProgressInfoByValues=function(g){},D.prototype.updateProgressInfoByRow=function(g,P){for(var A=0;A<this.columns.length;A++){var k=this.columns[A];if(k.templateQuestion.hasInput){g.questionCount+=1,g.requiredQuestionCount+=k.isRequired;var Z=!$.Helpers.isValueEmpty(P[k.name]);g.answeredQuestionCount+=Z?1:0,g.requiredAnsweredQuestionCount+=Z&&k.isRequired?1:0}}},D.prototype.getCellQuestions=function(){var g=[];return this.runFuncForCellQuestions(function(P){g.push(P)}),g},D.prototype.onBeforeValueChanged=function(g){},D.prototype.onSetQuestionValue=function(){if(!this.isRowChanging&&(this.onBeforeValueChanged(this.value),this.generatedVisibleRows&&0!=this.generatedVisibleRows.length)){this.isRowChanging=!0;for(var g=this.createNewValue(),P=0;P<this.generatedVisibleRows.length;P++)this.generatedVisibleRows[P].value=this.getRowValueCore(this.generatedVisibleRows[P],g);this.isRowChanging=!1}},D.prototype.setQuestionValue=function(g){M.prototype.setQuestionValue.call(this,g,!1),this.onSetQuestionValue(),this.updateIsAnswered()},D.prototype.supportGoNextPageAutomatic=function(){var g=this.generatedVisibleRows;if(g||(g=this.visibleRows),!g)return!0;for(var P=0;P<g.length;P++){var A=this.generatedVisibleRows[P].cells;if(A)for(var k=0;k<A.length;k++){var Z=A[k].question;if(Z&&(!Z.supportGoNextPageAutomatic()||!Z.value))return!1}}return!0},D.prototype.getContainsErrors=function(){return M.prototype.getContainsErrors.call(this)||this.checkForAnswersOrErrors(function(g){return g.containsErrors},!1)},D.prototype.getIsAnswered=function(){return M.prototype.getIsAnswered.call(this)&&this.checkForAnswersOrErrors(function(g){return g.isAnswered},!0)},D.prototype.checkForAnswersOrErrors=function(g,P){void 0===P&&(P=!1);var A=this.generatedVisibleRows;if(!A)return!1;for(var k=0;k<A.length;k++){var Z=A[k].cells;if(Z)for(var re=0;re<Z.length;re++)if(Z[re]){var H=Z[re].question;if(H&&H.isVisible)if(g(H)){if(!P)return!0}else if(P)return!1}}return!!P},D.prototype.hasErrors=function(g,P){void 0===g&&(g=!0),void 0===P&&(P=null);var A=this.hasErrorInRows(g,P),k=this.isValueDuplicated();return M.prototype.hasErrors.call(this,g,P)||A||k},D.prototype.getIsRunningValidators=function(){if(M.prototype.getIsRunningValidators.call(this))return!0;if(!this.generatedVisibleRows)return!1;for(var g=0;g<this.generatedVisibleRows.length;g++){var P=this.generatedVisibleRows[g].cells;if(P)for(var A=0;A<P.length;A++)if(P[A]){var k=P[A].question;if(k&&k.isRunningValidators)return!0}}return!1},D.prototype.getAllErrors=function(){var g=M.prototype.getAllErrors.call(this),P=this.generatedVisibleRows;if(null===P)return g;for(var A=0;A<P.length;A++)for(var k=P[A],Z=0;Z<k.cells.length;Z++){var re=k.cells[Z].question.getAllErrors();re&&re.length>0&&(g=g.concat(re))}return g},D.prototype.hasErrorInRows=function(g,P){var A=this,k=this.generatedVisibleRows;this.generatedVisibleRows||(k=this.visibleRows);var Z=!1;if(P||(P={}),!k)return P;P.validationValues=this.getDataFilteredValues(),P.isSingleDetailPanel="underRowSingle"===this.detailPanelMode;for(var re=0;re<k.length;re++)Z=k[re].hasErrors(g,P,function(){A.raiseOnCompletedAsyncValidators()})||Z;return Z},D.prototype.isValueDuplicated=function(){if(!this.generatedVisibleRows)return!1;for(var g=this.getUniqueColumns(),P=!1,A=0;A<g.length;A++)P=this.isValueInColumnDuplicated(g[A])||P;return P},D.prototype.isValueInColumnDuplicated=function(g){for(var P=[],A=!1,k=0;k<this.generatedVisibleRows.length;k++)A=this.isValueDuplicatedInRow(this.generatedVisibleRows[k],g,P)||A;return A},D.prototype.getUniqueColumns=function(){for(var g=new Array,P=0;P<this.columns.length;P++)this.columns[P].isUnique&&g.push(this.columns[P]);return g},D.prototype.isValueDuplicatedInRow=function(g,P,A){var k=g.getQuestionByColumn(P);if(!k||k.isEmpty())return!1;for(var Z=k.value,re=0;re<A.length;re++)if($.Helpers.isTwoValueEquals(Z,A[re],!0,this.isUniqueCaseSensitive))return this.addDuplicationError(k),!0;return A.push(Z),!1},D.prototype.addDuplicationError=function(g){g.errors.find(function(A){return"keyduplicationerror"===A.getErrorType()})||g.addError(new y.KeyDuplicationError(this.keyDuplicationError,this))},D.prototype.getFirstQuestionToFocus=function(g){return this.getFirstCellQuestion(g)},D.prototype.getFirstInputElementId=function(){var g=this.getFirstCellQuestion(!1);return g?g.inputId:M.prototype.getFirstInputElementId.call(this)},D.prototype.getFirstErrorInputElementId=function(){var g=this.getFirstCellQuestion(!0);return g?g.inputId:M.prototype.getFirstErrorInputElementId.call(this)},D.prototype.getFirstCellQuestion=function(g){if(!this.generatedVisibleRows)return null;for(var P=0;P<this.generatedVisibleRows.length;P++)for(var A=this.generatedVisibleRows[P].cells,k=0;k<A.length;k++)if(!g||A[k].question.currentErrorCount>0)return A[k].question;return null},D.prototype.onReadOnlyChanged=function(){if(M.prototype.onReadOnlyChanged.call(this),this.generateRows)for(var g=0;g<this.visibleRows.length;g++)this.visibleRows[g].onQuestionReadOnlyChanged(this.isReadOnly)},D.prototype.createQuestion=function(g,P){return this.createQuestionCore(g,P)},D.prototype.createQuestionCore=function(g,P){var A=P.createCellQuestion(g);return A.setSurveyImpl(g),A.setParentQuestion(this),A.inMatrixMode=!0,A},D.prototype.deleteRowValue=function(g,P){return g&&(delete g[P.rowName],this.isObject(g)&&0==Object.keys(g).length?null:g)},D.prototype.onAnyValueChanged=function(g,P){if(!this.isUpdateLocked&&!this.isDoingonAnyValueChanged&&this.generatedVisibleRows){this.isDoingonAnyValueChanged=!0;for(var A=this.visibleRows,k=0;k<A.length;k++)A[k].onAnyValueChanged(g,P);var Z=this.visibleTotalRow;Z&&Z.onAnyValueChanged(g,P),this.isDoingonAnyValueChanged=!1}},D.prototype.isObject=function(g){return null!==g&&"object"==typeof g},D.prototype.getOnCellValueChangedOptions=function(g,P,A){return{row:g,columnName:P,rowValue:A,value:A?A[P]:null,getCellQuestion:function(Z){return g.getQuestionByName(Z)},cellQuestion:g.getQuestionByName(P),column:this.getColumnByName(P)}},D.prototype.onCellValueChanged=function(g,P,A){if(this.survey){var k=this.getOnCellValueChangedOptions(g,P,A);this.onCellValueChangedCallback&&this.onCellValueChangedCallback(k),this.survey.matrixCellValueChanged(this,k)}},D.prototype.validateCell=function(g,P,A){if(this.survey){var k=this.getOnCellValueChangedOptions(g,P,A);return this.survey.matrixCellValidate(this,k)}},Object.defineProperty(D.prototype,"isValidateOnValueChanging",{get:function(){return!!this.survey&&this.survey.isValidateOnValueChanging},enumerable:!1,configurable:!0}),D.prototype.onRowChanging=function(g,P,A){if(!this.survey&&!this.cellValueChangingCallback)return A?A[P]:null;var k=this.getOnCellValueChangedOptions(g,P,A),Z=this.getRowValueCore(g,this.createNewValue(),!0);return k.oldValue=Z?Z[P]:null,this.cellValueChangingCallback&&(k.value=this.cellValueChangingCallback(g,P,k.value,k.oldValue)),this.survey&&this.survey.matrixCellValueChanging(this,k),k.value},D.prototype.onRowChanged=function(g,P,A,k){var Z=P?this.getRowObj(g):null;if(Z){var re=null;!!A&&!k&&(re=A[P]),this.isRowChanging=!0,G.Serializer.setObjPropertyValue(Z,P,re),this.isRowChanging=!1,this.onCellValueChanged(g,P,Z)}else{var H=this.createNewValue(!0),E=this.getNewValueOnRowChanged(g,P,A,k,this.createNewValue());if(this.isTwoValueEquals(H,E.value))return;this.isRowChanging=!0,this.setNewValue(E.value),this.isRowChanging=!1,P&&this.onCellValueChanged(g,P,E.rowValue)}},D.prototype.getNewValueOnRowChanged=function(g,P,A,k,Z){var re=this.getRowValueCore(g,Z,!0);k&&delete re[P];for(var H=0;H<g.cells.length;H++)delete re[E=g.cells[H].question.getValueName()];if(A)for(var E in A=JSON.parse(JSON.stringify(A)))this.isValueEmpty(A[E])||(re[E]=A[E]);return this.isObject(re)&&0===Object.keys(re).length&&(Z=this.deleteRowValue(Z,g)),{value:Z,rowValue:re}},D.prototype.getRowIndex=function(g){return this.generatedVisibleRows?this.visibleRows.indexOf(g):-1},D.prototype.getElementsInDesign=function(g){var P;return void 0===g&&(g=!1),P="none"==this.detailPanelMode?M.prototype.getElementsInDesign.call(this,g):g?[this.detailPanel]:this.detailElements,this.columns.concat(P)},D.prototype.hasDetailPanel=function(g){return"none"!=this.detailPanelMode&&(!!this.isDesignMode||(this.onHasDetailPanelCallback?this.onHasDetailPanelCallback(g):this.detailElements.length>0))},D.prototype.getIsDetailPanelShowing=function(g){if("none"==this.detailPanelMode)return!1;if(this.isDesignMode){var P=0==this.visibleRows.indexOf(g);return P&&(g.detailPanel||g.showDetailPanel()),P}return this.getPropertyValue("isRowShowing"+g.id,!1)},D.prototype.setIsDetailPanelShowing=function(g,P){if(P!=this.getIsDetailPanelShowing(g)&&(this.setPropertyValue("isRowShowing"+g.id,P),this.updateDetailPanelButtonCss(g),this.renderedTable&&this.renderedTable.onDetailPanelChangeVisibility(g,P),P&&"underRowSingle"===this.detailPanelMode))for(var A=this.visibleRows,k=0;k<A.length;k++)A[k].id!==g.id&&A[k].isDetailPanelShowing&&A[k].hideDetailPanel()},D.prototype.getDetailPanelButtonCss=function(g){var P=(new h.CssClassBuilder).append(this.getPropertyValue("detailButtonCss"+g.id));return P.append(this.cssClasses.detailButton,""===P.toString()).toString()},D.prototype.getDetailPanelIconCss=function(g){var P=(new h.CssClassBuilder).append(this.getPropertyValue("detailIconCss"+g.id));return P.append(this.cssClasses.detailIcon,""===P.toString()).toString()},D.prototype.getDetailPanelIconId=function(g){return this.getIsDetailPanelShowing(g)?this.cssClasses.detailIconExpandedId:this.cssClasses.detailIconId},D.prototype.updateDetailPanelButtonCss=function(g){var P=this.cssClasses,A=this.getIsDetailPanelShowing(g),k=(new h.CssClassBuilder).append(P.detailIcon).append(P.detailIconExpanded,A);this.setPropertyValue("detailIconCss"+g.id,k.toString());var Z=(new h.CssClassBuilder).append(P.detailButton).append(P.detailButtonExpanded,A);this.setPropertyValue("detailButtonCss"+g.id,Z.toString())},D.prototype.createRowDetailPanel=function(g){var P=this;if(this.isDesignMode)return this.detailPanel;var A=this.createNewDetailPanel();A.readOnly=this.isReadOnly,A.setSurveyImpl(g);var k=this.detailPanel.toJSON();return(new G.JsonObject).toObject(k,A),A.renderWidth="100%",A.updateCustomWidgets(),this.onCreateDetailPanelCallback&&this.onCreateDetailPanelCallback(g,A),A.questions.forEach(function(Z){return Z.setParentQuestion(P)}),A.onSurveyLoad(),A},D.prototype.getSharedQuestionByName=function(g,P){if(!this.survey||!this.valueName)return null;var A=this.getRowIndex(P);return A<0?null:this.survey.getQuestionByValueNameFromArray(this.valueName,g,A)},D.prototype.onTotalValueChanged=function(){this.data&&this.visibleTotalRow&&!this.isUpdateLocked&&!this.isSett&&this.data.setValue(this.getValueName()+C.settings.matrix.totalsSuffix,this.totalValue,!1)},D.prototype.getDataFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},D.prototype.getParentTextProcessor=function(){if(!this.parentQuestion||!this.parent)return null;var g=this.parent.data;return g&&g.getTextProcessor?g.getTextProcessor():null},D.prototype.getQuestionFromArray=function(g,P){return P>=this.visibleRows.length?null:this.visibleRows[P].getQuestionByName(g)},D.prototype.isMatrixValueEmpty=function(g){if(g){if(Array.isArray(g)){for(var P=0;P<g.length;P++)if(this.isObject(g[P])&&Object.keys(g[P]).length>0)return!1;return!0}return 0==Object.keys(g).length}},Object.defineProperty(D.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),D.prototype.getCellTemplateData=function(g){return this.SurveyModel.getMatrixCellTemplateData(g)},D.prototype.getCellWrapperComponentName=function(g){return this.SurveyModel.getElementWrapperComponentName(g,g.row instanceof c?"row-footer":"cell")},D.prototype.getCellWrapperComponentData=function(g){return this.SurveyModel.getElementWrapperComponentData(g,g.row instanceof c?"row-footer":"cell")},D.prototype.getColumnHeaderWrapperComponentName=function(g){return this.SurveyModel.getElementWrapperComponentName(g,"column-header")},D.prototype.getColumnHeaderWrapperComponentData=function(g){return this.SurveyModel.getElementWrapperComponentData(g,"column-header")},D.prototype.getRowHeaderWrapperComponentName=function(g){return this.SurveyModel.getElementWrapperComponentName(g,"row-header")},D.prototype.getRowHeaderWrapperComponentData=function(g){return this.SurveyModel.getElementWrapperComponentData(g,"row-header")},Object.defineProperty(D.prototype,"showHorizontalScroll",{get:function(){return!this.isDefaultV2Theme&&this.horizontalScroll},enumerable:!1,configurable:!0}),D.prototype.getRootCss=function(){return(new h.CssClassBuilder).append(M.prototype.getRootCss.call(this)).append(this.cssClasses.rootScroll,this.horizontalScroll).toString()},D}(se.QuestionMatrixBaseModel);G.Serializer.addClass("matrixdropdownbase",[{name:"columns:matrixdropdowncolumns",className:"matrixdropdowncolumn",isArray:!0},{name:"columnLayout",alternativeName:"columnsLocation",default:"horizontal",choices:["horizontal","vertical"]},{name:"detailElements",visible:!1,isLightSerializable:!1},{name:"detailPanelMode",choices:["none","underRow","underRowSingle"],default:"none"},{name:"cellErrorLocation",default:"default",choices:["default","top","bottom"]},{name:"detailErrorLocation",default:"default",choices:["default","top","bottom"],visibleIf:function(M){return!!M&&"none"!=M.detailPanelMode}},{name:"horizontalScroll:boolean",visible:!1},{name:"choices:itemvalue[]",uniqueProperty:"value"},{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"cellType",default:"dropdown",choices:function(){return v.MatrixDropdownColumn.getColumnTypes()}},{name:"columnColCount",default:0,choices:[0,1,2,3,4]},"columnMinWidth",{name:"allowAdaptiveActions:boolean",default:!1,visible:!1}],function(){return new b("")},"matrixbase")},"./src/question_matrixdropdowncolumn.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"matrixDropdownColumnTypes",function(){return m}),x.d(j,"MatrixDropdownColumn",function(){return T});var C,G=x("./src/jsonobject.ts"),se=x("./src/base.ts"),$=x("./src/question_expression.ts"),w=x("./src/settings.ts"),F=(C=function(y,h){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(v[d]=f[d])})(y,h)},function(y,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function v(){this.constructor=y}C(y,h),y.prototype=null===h?Object.create(h):(v.prototype=h.prototype,new v)});function R(C,y,h,v){C.storeOthersAsComment=!!h&&h.storeOthersAsComment,(!C.choices||0==C.choices.length)&&C.choicesByUrl.isEmpty&&(C.choices=h.choices),C.choicesByUrl.isEmpty||C.choicesByUrl.run(v.getTextProcessor())}var m={dropdown:{onCellQuestionUpdate:function(C,y,h,v){!function L(C,y,h,v){R(C,0,h,v),C.locPlaceholder&&C.locPlaceholder.isEmpty&&!h.locPlaceholder.isEmpty&&(C.optionsCaption=h.optionsCaption)}(C,0,h,v)}},checkbox:{onCellQuestionUpdate:function(C,y,h,v){R(C,0,h,v),C.colCount=y.colCount>-1?y.colCount:h.columnColCount}},radiogroup:{onCellQuestionUpdate:function(C,y,h,v){R(C,0,h,v),C.colCount=y.colCount>-1?y.colCount:h.columnColCount}},tagbox:{onCellQuestionUpdate:function(C,y,h,v){R(C,0,h,v)}},text:{},comment:{},boolean:{onCellQuestionUpdate:function(C,y,h,v){C.renderAs=y.renderAs}},expression:{},rating:{}},T=function(C){function y(h,v){void 0===v&&(v=null);var f=C.call(this)||this;return f.colOwnerValue=null,f.indexValue=-1,f._hasVisibleCell=!0,f.previousChoicesId=void 0,f.createLocalizableString("totalFormat",f),f.createLocalizableString("cellHint",f),f.registerPropertyChangedHandlers(["showInMultipleColumns"],function(){f.doShowInMultipleColumnsChanged()}),f.registerPropertyChangedHandlers(["visible"],function(){f.doColumnVisibilityChanged()}),f.updateTemplateQuestion(),f.name=h,v?f.title=v:f.templateQuestion.locTitle.strChanged(),f}return F(y,C),y.getColumnTypes=function(){var h=[];for(var v in m)h.push(v);return h},y.prototype.getOriginalObj=function(){return this.templateQuestion},y.prototype.getClassNameProperty=function(){return"cellType"},y.prototype.getSurvey=function(h){return void 0===h&&(h=!1),this.colOwner?this.colOwner.survey:null},y.prototype.endLoadingFromJson=function(){var h=this;C.prototype.endLoadingFromJson.call(this),this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns,this.templateQuestion.endLoadingFromJson(),this.templateQuestion.onGetSurvey=function(){return h.getSurvey()}},y.prototype.getDynamicPropertyName=function(){return"cellType"},y.prototype.getDynamicType=function(){return"default"===this.cellType?"question":this.calcCellQuestionType(null)},Object.defineProperty(y.prototype,"colOwner",{get:function(){return this.colOwnerValue},set:function(h){this.colOwnerValue=h,h&&(this.updateTemplateQuestion(),this.setParentQuestionToTemplate(this.templateQuestion))},enumerable:!1,configurable:!0}),y.prototype.locStrsChanged=function(){C.prototype.locStrsChanged.call(this),this.locTitle.strChanged()},y.prototype.addUsedLocales=function(h){C.prototype.addUsedLocales.call(this,h),this.templateQuestion.addUsedLocales(h)},Object.defineProperty(y.prototype,"index",{get:function(){return this.indexValue},enumerable:!1,configurable:!0}),y.prototype.setIndex=function(h){this.indexValue=h},y.prototype.getType=function(){return"matrixdropdowncolumn"},Object.defineProperty(y.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType")},set:function(h){h=h.toLocaleLowerCase(),this.updateTemplateQuestion(h),this.setPropertyValue("cellType",h),this.colOwner&&this.colOwner.onColumnCellTypeChanged(this)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"templateQuestion",{get:function(){return this.templateQuestionValue},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"value",{get:function(){return this.templateQuestion.name},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isColumnVisible",{get:function(){return!!this.isDesignMode||this.visible&&this.hasVisibleCell},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"visible",{get:function(){return this.getPropertyValue("visible")},set:function(h){this.setPropertyValue("visible",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"hasVisibleCell",{get:function(){return this._hasVisibleCell},set:function(h){this._hasVisibleCell=h},enumerable:!1,configurable:!0}),y.prototype.getVisibleMultipleChoices=function(){var h=this.templateQuestion.visibleChoices;if(!Array.isArray(h))return[];if(!Array.isArray(this._visiblechoices))return h;for(var v=new Array,f=0;f<h.length;f++){var d=h[f];this._visiblechoices.indexOf(d.value)>-1&&v.push(d)}return v},Object.defineProperty(y.prototype,"getVisibleChoicesInCell",{get:function(){if(Array.isArray(this._visiblechoices))return this._visiblechoices;var h=this.templateQuestion.visibleChoices;return Array.isArray(h)?h:[]},enumerable:!1,configurable:!0}),y.prototype.setVisibleChoicesInCell=function(h){this._visiblechoices=h},Object.defineProperty(y.prototype,"isFilteredMultipleColumns",{get:function(){if(!this.showInMultipleColumns)return!1;var h=this.templateQuestion.choices;if(!Array.isArray(h))return!1;for(var v=0;v<h.length;v++)if(h[v].visibleIf)return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"name",{get:function(){return this.templateQuestion.name},set:function(h){this.templateQuestion.name=h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"title",{get:function(){return this.templateQuestion.title},set:function(h){this.templateQuestion.title=h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locTitle",{get:function(){return this.templateQuestion.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"fullTitle",{get:function(){return this.locTitle.textOrHtml},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isRequired",{get:function(){return this.templateQuestion.isRequired},set:function(h){this.templateQuestion.isRequired=h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isRenderedRequired",{get:function(){return this.getPropertyValue("isRenderedRequired",this.isRequired)},set:function(h){this.setPropertyValue("isRenderedRequired",h)},enumerable:!1,configurable:!0}),y.prototype.updateIsRenderedRequired=function(h){this.isRenderedRequired=h||this.isRequired},Object.defineProperty(y.prototype,"requiredText",{get:function(){return this.isRenderedRequired&&this.getSurvey()?this.getSurvey().requiredText:this.templateQuestion.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"requiredErrorText",{get:function(){return this.templateQuestion.requiredErrorText},set:function(h){this.templateQuestion.requiredErrorText=h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locRequiredErrorText",{get:function(){return this.templateQuestion.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"readOnly",{get:function(){return this.templateQuestion.readOnly},set:function(h){this.templateQuestion.readOnly=h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"hasOther",{get:function(){return this.templateQuestion.hasOther},set:function(h){this.templateQuestion.hasOther=h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"visibleIf",{get:function(){return this.templateQuestion.visibleIf},set:function(h){this.templateQuestion.visibleIf=h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"enableIf",{get:function(){return this.templateQuestion.enableIf},set:function(h){this.templateQuestion.enableIf=h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"requiredIf",{get:function(){return this.templateQuestion.requiredIf},set:function(h){this.templateQuestion.requiredIf=h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"resetValueIf",{get:function(){return this.templateQuestion.resetValueIf},set:function(h){this.templateQuestion.resetValueIf=h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"defaultValueExpression",{get:function(){return this.templateQuestion.defaultValueExpression},set:function(h){this.templateQuestion.defaultValueExpression=h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"setValueIf",{get:function(){return this.templateQuestion.setValueIf},set:function(h){this.templateQuestion.setValueIf=h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"setValueExpession",{get:function(){return this.templateQuestion.setValueExpession},set:function(h){this.templateQuestion.setValueExpession=h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isUnique",{get:function(){return this.getPropertyValue("isUnique")},set:function(h){this.setPropertyValue("isUnique",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"showInMultipleColumns",{get:function(){return this.getPropertyValue("showInMultipleColumns")},set:function(h){this.setPropertyValue("showInMultipleColumns",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isSupportMultipleColumns",{get:function(){return["checkbox","radiogroup"].indexOf(this.cellType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isShowInMultipleColumns",{get:function(){return this.showInMultipleColumns&&this.isSupportMultipleColumns},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"validators",{get:function(){return this.templateQuestion.validators},set:function(h){this.templateQuestion.validators=h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"totalType",{get:function(){return this.getPropertyValue("totalType")},set:function(h){this.setPropertyValue("totalType",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"totalExpression",{get:function(){return this.getPropertyValue("totalExpression")},set:function(h){this.setPropertyValue("totalExpression",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"hasTotal",{get:function(){return"none"!=this.totalType||!!this.totalExpression},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"totalFormat",{get:function(){return this.getLocalizableStringText("totalFormat","")},set:function(h){this.setLocalizableStringText("totalFormat",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locTotalFormat",{get:function(){return this.getLocalizableString("totalFormat")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"cellHint",{get:function(){return this.getLocalizableStringText("cellHint","")},set:function(h){this.setLocalizableStringText("cellHint",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locCellHint",{get:function(){return this.getLocalizableString("cellHint")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"renderAs",{get:function(){return this.getPropertyValue("renderAs")},set:function(h){this.setPropertyValue("renderAs",h),this.templateQuestion&&(this.templateQuestion.renderAs=h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"totalMaximumFractionDigits",{get:function(){return this.getPropertyValue("totalMaximumFractionDigits")},set:function(h){h<-1||h>20||this.setPropertyValue("totalMaximumFractionDigits",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"totalMinimumFractionDigits",{get:function(){return this.getPropertyValue("totalMinimumFractionDigits")},set:function(h){h<-1||h>20||this.setPropertyValue("totalMinimumFractionDigits",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"totalDisplayStyle",{get:function(){return this.getPropertyValue("totalDisplayStyle")},set:function(h){this.setPropertyValue("totalDisplayStyle",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"totalAlignment",{get:function(){return this.getPropertyValue("totalAlignment")},set:function(h){this.setPropertyValue("totalAlignment",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"totalCurrency",{get:function(){return this.getPropertyValue("totalCurrency")},set:function(h){Object($.getCurrecyCodes)().indexOf(h)<0||this.setPropertyValue("totalCurrency",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth","")},set:function(h){this.setPropertyValue("minWidth",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"width",{get:function(){return this.templateQuestion.width},set:function(h){this.templateQuestion.width=h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(h){h<-1||h>4||this.setPropertyValue("colCount",h)},enumerable:!1,configurable:!0}),y.prototype.getLocale=function(){return this.colOwner?this.colOwner.getLocale():""},y.prototype.getMarkdownHtml=function(h,v){return this.colOwner?this.colOwner.getMarkdownHtml(h,v):void 0},y.prototype.getRenderer=function(h){return this.colOwner?this.colOwner.getRenderer(h):null},y.prototype.getRendererContext=function(h){return this.colOwner?this.colOwner.getRendererContext(h):h},y.prototype.getProcessedText=function(h){return this.colOwner?this.colOwner.getProcessedText(h):h},y.prototype.createCellQuestion=function(h){var v=this.calcCellQuestionType(h),f=this.createNewQuestion(v);return this.callOnCellQuestionUpdate(f,h),f},y.prototype.startLoadingFromJson=function(h){C.prototype.startLoadingFromJson.call(this,h),h&&!h.cellType&&h.choices&&(h.cellType=this.colOwner.getCellType())},y.prototype.updateCellQuestion=function(h,v,f){void 0===f&&(f=null),this.setQuestionProperties(h,f)},y.prototype.callOnCellQuestionUpdate=function(h,v){var f=h.getType(),d=m[f];d&&d.onCellQuestionUpdate&&d.onCellQuestionUpdate(h,this,this.colOwner,v)},y.prototype.defaultCellTypeChanged=function(){this.updateTemplateQuestion()},y.prototype.calcCellQuestionType=function(h){var v=this.getDefaultCellQuestionType();return!!h&&!!this.colOwner&&(v=this.colOwner.getCustomCellType(this,h,v)),v},y.prototype.getDefaultCellQuestionType=function(h){return h||(h=this.cellType),"default"!==h?h:this.colOwner?this.colOwner.getCellType():w.settings.matrix.defaultCellType},y.prototype.updateTemplateQuestion=function(h){var v=this,f=this.getDefaultCellQuestionType(h),d=this.templateQuestion?this.templateQuestion.getType():"";f!==d&&(this.templateQuestion&&this.removeProperties(d),this.templateQuestionValue=this.createNewQuestion(f),this.templateQuestion.locOwner=this,this.addProperties(f),this.templateQuestion.onPropertyChanged.add(function(u,a){v.propertyValueChanged(a.name,a.oldValue,a.newValue)}),this.templateQuestion.onItemValuePropertyChanged.add(function(u,a){v.doItemValuePropertyChanged(a.propertyName,a.obj,a.name,a.newValue,a.oldValue)}),this.templateQuestion.isContentElement=!0,this.isLoadingFromJson||(this.templateQuestion.onGetSurvey=function(){return v.getSurvey()}),this.templateQuestion.locTitle.strChanged())},y.prototype.createNewQuestion=function(h){var v=G.Serializer.createClass(h);return v||(v=G.Serializer.createClass("text")),v.loadingOwner=this,v.isEditableTemplateElement=!0,v.autoOtherMode=this.isShowInMultipleColumns,this.setQuestionProperties(v),this.setParentQuestionToTemplate(v),v},y.prototype.setParentQuestionToTemplate=function(h){this.colOwner&&this.colOwner.isQuestion&&h.setParentQuestion(this.colOwner)},y.prototype.setQuestionProperties=function(h,v){var f=this;if(void 0===v&&(v=null),this.templateQuestion){var d=(new G.JsonObject).toJsonObject(this.templateQuestion,!0);v&&v(d),d.type=h.getType(),"default"===this.cellType&&!!this.colOwner&&this.colOwner.hasChoices()&&delete d.choices,delete d.itemComponent,this.jsonObj&&Object.keys(this.jsonObj).forEach(function(u){d[u]=f.jsonObj[u]}),(new G.JsonObject).toObject(d,h),h.isContentElement=this.templateQuestion.isContentElement,this.previousChoicesId=void 0,h.loadedChoicesFromServerCallback=function(){if(f.isShowInMultipleColumns&&(!f.previousChoicesId||f.previousChoicesId===h.id)){f.previousChoicesId=h.id;var u=h.visibleChoices;f.templateQuestion.choices=u,f.propertyValueChanged("choices",u,u)}}}},y.prototype.propertyValueChanged=function(h,v,f){C.prototype.propertyValueChanged.call(this,h,v,f),"isRequired"===h&&this.updateIsRenderedRequired(f),this.colOwner&&!this.isLoadingFromJson&&(this.isShowInMultipleColumns&&["visibleChoices","choices"].indexOf(h)>-1&&this.colOwner.onShowInMultipleColumnsChanged(this),G.Serializer.hasOriginalProperty(this,h)&&this.colOwner.onColumnPropertyChanged(this,h,f))},y.prototype.doItemValuePropertyChanged=function(h,v,f,d,u){!G.Serializer.hasOriginalProperty(v,f)||null!=this.colOwner&&!this.isLoadingFromJson&&this.colOwner.onColumnItemValuePropertyChanged(this,h,v,f,d,u)},y.prototype.doShowInMultipleColumnsChanged=function(){null!=this.colOwner&&this.colOwner.onShowInMultipleColumnsChanged(this),this.templateQuestion&&(this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns)},y.prototype.doColumnVisibilityChanged=function(){null!=this.colOwner&&!this.isDesignMode&&this.colOwner.onColumnVisibilityChanged(this)},y.prototype.getProperties=function(h){return G.Serializer.getDynamicPropertiesByObj(this,h)},y.prototype.removeProperties=function(h){for(var v=this.getProperties(h),f=0;f<v.length;f++){var d=v[f];delete this[d.name],d.serializationProperty&&delete this[d.serializationProperty]}},y.prototype.addProperties=function(h){var v=this.getProperties(h);G.Serializer.addDynamicPropertiesIntoObj(this,this.templateQuestion,v)},y}(se.Base);G.Serializer.addClass("matrixdropdowncolumn",[{name:"!name",isUnique:!0},{name:"title",serializationProperty:"locTitle",dependsOn:"name",onPropertyEditorUpdate:function(C,y){C&&y&&(y.placeholder=C.name)}},{name:"cellHint",serializationProperty:"locCellHint",visible:!1},{name:"cellType",default:"default",choices:function(){var C=T.getColumnTypes();return C.splice(0,0,"default"),C}},{name:"colCount",default:-1,choices:[-1,0,1,2,3,4]},"isRequired:boolean","isUnique:boolean",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},"readOnly:boolean",{name:"minWidth",onPropertyEditorUpdate:function(C,y){C&&y&&(y.value=C.minWidth)}},"width",{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},"visibleIf:condition","enableIf:condition","requiredIf:condition","resetValueIf:condition","setValueIf:condition","setValueExpression:expression",{name:"showInMultipleColumns:boolean",dependsOn:"cellType",visibleIf:function(C){return C.isSupportMultipleColumns}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"totalType",default:"none",choices:["none","sum","count","min","max","avg"]},"totalExpression:expression",{name:"totalFormat",serializationProperty:"locTotalFormat"},{name:"totalDisplayStyle",default:"none",choices:["none","decimal","currency","percent"]},{name:"totalAlignment",default:"auto",choices:["auto","left","center","right"]},{name:"totalCurrency",choices:function(){return Object($.getCurrecyCodes)()},default:"USD"},{name:"totalMaximumFractionDigits:number",default:-1},{name:"totalMinimumFractionDigits:number",default:-1},{name:"renderAs",default:"default",visible:!1}],function(){return new T("")})},"./src/question_matrixdropdownrendered.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionMatrixDropdownRenderedCell",function(){return h}),x.d(j,"QuestionMatrixDropdownRenderedRow",function(){return v}),x.d(j,"QuestionMatrixDropdownRenderedErrorRow",function(){return f}),x.d(j,"QuestionMatrixDropdownRenderedTable",function(){return d});var u,G=x("./src/jsonobject.ts"),se=x("./src/base.ts"),$=x("./src/itemvalue.ts"),w=x("./src/actions/action.ts"),F=x("./src/actions/adaptive-container.ts"),R=x("./src/utils/cssClassBuilder.ts"),L=x("./src/actions/container.ts"),m=x("./src/settings.ts"),T=(u=function(a,o){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])})(a,o)},function(a,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function s(){this.constructor=a}u(a,o),a.prototype=null===o?Object.create(o):(s.prototype=o.prototype,new s)}),C=function(u,a,o,s){var b,l=arguments.length,c=l<3?a:null===s?s=Object.getOwnPropertyDescriptor(a,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,a,o,s);else for(var M=u.length-1;M>=0;M--)(b=u[M])&&(c=(l<3?b(c):l>3?b(a,o,c):b(a,o))||c);return l>3&&c&&Object.defineProperty(a,o,c),c},h=function(){function u(){this.minWidth="",this.width="",this.colSpans=1,this.isActionsCell=!1,this.isErrorsCell=!1,this.isDragHandlerCell=!1,this.isDetailRowCell=!1,this.classNameValue="",this.idValue=u.counter++}return Object.defineProperty(u.prototype,"requiredText",{get:function(){return this.column&&this.column.isRenderedRequired?this.column.requiredText:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasQuestion",{get:function(){return!!this.question&&!this.isErrorsCell},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasTitle",{get:function(){return!!this.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasPanel",{get:function(){return!!this.panel},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"item",{get:function(){return this.itemValue},set:function(a){this.itemValue=a,a&&(a.hideCaption=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isChoice",{get:function(){return!!this.item},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isItemChoice",{get:function(){return this.isChoice&&!this.isOtherChoice},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"choiceValue",{get:function(){return this.isChoice?this.item.value:null},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isCheckbox",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("checkbox")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isRadio",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("radiogroup")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isFirstChoice",{get:function(){return 0===this.choiceIndex},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"className",{get:function(){var a=(new R.CssClassBuilder).append(this.classNameValue);return this.hasQuestion&&a.append(this.question.cssClasses.hasError,this.question.errors.length>0).append(this.question.cssClasses.answered,this.question.isAnswered),a.toString()},set:function(a){this.classNameValue=a},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"cellQuestionWrapperClassName",{get:function(){return this.cell.getQuestionWrapperClassName(this.matrix.cssClasses.cellQuestionWrapper)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"headers",{get:function(){if(this.cell&&this.cell.column){if(this.matrix.IsMultiplyColumn(this.cell.column))return this.item?this.item.locText.renderedHtml:"";var a=this.cell.column.cellHint;return a?""===a.trim()?"":this.cell.column.locCellHint.renderedHtml:this.hasQuestion&&this.question.isVisible&&this.question.title?this.question.title:this.cell.column.title}return this.hasQuestion&&this.question.isVisible?this.question.locTitle.renderedHtml:this.hasTitle&&this.locTitle.renderedHtml||""},enumerable:!1,configurable:!0}),u.prototype.getTitle=function(){return this.matrix&&this.matrix.showHeader?this.headers:""},u.prototype.calculateFinalClassName=function(a){var o=this.cell.question.cssClasses,s=(new R.CssClassBuilder).append(o.itemValue,!!o).append(o.asCell,!!o);return s.append(a.cell,s.isEmpty()&&!!a).append(a.choiceCell,this.isChoice).toString()},u.prototype.focusIn=function(){this.question&&this.question.focusIn()},u.counter=1,u}(),v=function(u){function a(o,s){void 0===s&&(s=!1);var l=u.call(this)||this;return l.cssClasses=o,l.isDetailRow=s,l.hasEndActions=!1,l.isErrorsRow=!1,l.cells=[],l.idValue=a.counter++,l}return T(a,u),Object.defineProperty(a.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"attributes",{get:function(){return this.row?{"data-sv-drop-target-matrix-row":this.row.id}:{}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"className",{get:function(){var o,s;return(new R.CssClassBuilder).append(this.cssClasses.row).append(this.cssClasses.detailRow,this.isDetailRow).append(this.cssClasses.rowHasPanel,null===(o=this.row)||void 0===o?void 0:o.hasPanel).append(this.cssClasses.expandedRow,(null===(s=this.row)||void 0===s?void 0:s.isDetailPanelShowing)&&!this.isDetailRow).append(this.cssClasses.rowHasEndActions,this.hasEndActions).append(this.cssClasses.ghostRow,this.isGhostRow).append(this.cssClasses.rowAdditional,this.isAdditionalClasses).toString()},enumerable:!1,configurable:!0}),a.counter=1,C([Object(G.property)({defaultValue:!1})],a.prototype,"isGhostRow",void 0),C([Object(G.property)({defaultValue:!1})],a.prototype,"isAdditionalClasses",void 0),C([Object(G.property)({defaultValue:!0})],a.prototype,"visible",void 0),a}(se.Base),f=function(u){function a(o){var s=u.call(this,o)||this;return s.isErrorsRow=!0,s}return T(a,u),Object.defineProperty(a.prototype,"attributes",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"className",{get:function(){return(new R.CssClassBuilder).append(this.cssClasses.row).append(this.cssClasses.errorRow).toString()},enumerable:!1,configurable:!0}),a.prototype.onAfterCreated=function(){var o=this,s=function(){o.visible=o.cells.some(function(l){return l.question&&l.question.hasVisibleErrors})};this.cells.forEach(function(l){l.question&&l.question.registerFunctionOnPropertyValueChanged("hasVisibleErrors",s)}),s()},a}(v),d=function(u){function a(o){var s=u.call(this)||this;return s.matrix=o,s.renderedRowsChangedCallback=function(){},s.hasActionCellInRowsValues={},s.build(),s}return T(a,u),Object.defineProperty(a.prototype,"showTable",{get:function(){return this.getPropertyValue("showTable",!0)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"showAddRow",{get:function(){return this.getPropertyValue("showAddRow",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"showAddRowOnTop",{get:function(){return this.getPropertyValue("showAddRowOnTop",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"showAddRowOnBottom",{get:function(){return this.getPropertyValue("showAddRowOnBottom",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"showFooter",{get:function(){return this.matrix.hasFooter&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasFooter",{get:function(){return!!this.footerRow},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasRemoveRows",{get:function(){return this.hasRemoveRowsValue},enumerable:!1,configurable:!0}),a.prototype.isRequireReset=function(){return this.hasRemoveRows!=this.matrix.canRemoveRows||!this.matrix.isColumnLayoutHorizontal},Object.defineProperty(a.prototype,"headerRow",{get:function(){return this.headerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"footerRow",{get:function(){return this.footerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isRowsDragAndDrop",{get:function(){return this.matrix.isRowsDragAndDrop&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"showCellErrorsTop",{get:function(){return"top"===this.matrix.getErrorLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"showCellErrorsBottom",{get:function(){return"bottom"===this.matrix.getErrorLocation()},enumerable:!1,configurable:!0}),a.prototype.build=function(){this.hasRemoveRowsValue=this.matrix.canRemoveRows,this.cssClasses=this.matrix.cssClasses,this.buildRowsActions(),this.buildHeader(),this.buildRows(),this.buildFooter(),this.updateShowTableAndAddRow()},a.prototype.updateShowTableAndAddRow=function(){var o=this.rows.length>0||this.matrix.isDesignMode||!this.matrix.getShowColumnsIfEmpty();this.setPropertyValue("showTable",o);var s=this.matrix.canAddRow&&o,l=s,c=s;l&&(l="default"===this.matrix.getAddRowLocation()?!this.matrix.isColumnLayoutHorizontal:"bottom"!==this.matrix.getAddRowLocation()),c&&"topBottom"!==this.matrix.getAddRowLocation()&&(c=!l),this.setPropertyValue("showAddRow",this.matrix.canAddRow),this.setPropertyValue("showAddRowOnTop",l),this.setPropertyValue("showAddRowOnBottom",c)},a.prototype.onAddedRow=function(o,s){if(!(this.getRenderedDataRowCount()>=this.matrix.visibleRows.length)){var l=this.getRenderedRowIndexByIndex(s);this.rowsActions.splice(s,0,this.buildRowActions(o)),this.addHorizontalRow(this.rows,o,1==this.matrix.visibleRows.length&&!this.matrix.showHeader,l),this.updateShowTableAndAddRow()}},a.prototype.getRenderedRowIndexByIndex=function(o){for(var s=0,l=0,c=0;c<this.rows.length;c++){if(l===o){(this.rows[c].isErrorsRow||this.rows[c].isDetailRow)&&s++;break}s++,!this.rows[c].isErrorsRow&&!this.rows[c].isDetailRow&&l++}return l<o?this.rows.length:s},a.prototype.getRenderedDataRowCount=function(){for(var o=0,s=0;s<this.rows.length;s++)!this.rows[s].isErrorsRow&&!this.rows[s].isDetailRow&&o++;return o},a.prototype.onRemovedRow=function(o){var s=this.getRenderedRowIndex(o);if(!(s<0)){this.rowsActions.splice(s,1);var l=1;s<this.rows.length-1&&this.showCellErrorsBottom&&this.rows[s+1].isErrorsRow&&l++,s<this.rows.length-1&&(this.rows[s+1].isDetailRow||this.showCellErrorsBottom&&s+1<this.rows.length-1&&this.rows[s+2].isDetailRow)&&l++,s>0&&this.showCellErrorsTop&&this.rows[s-1].isErrorsRow&&(s--,l++),this.rows.splice(s,l),this.updateShowTableAndAddRow()}},a.prototype.onDetailPanelChangeVisibility=function(o,s){var l=this.getRenderedRowIndex(o);if(!(l<0)){var c=l;this.showCellErrorsBottom&&c++;var b=c<this.rows.length-1&&this.rows[c+1].isDetailRow?c+1:-1;if(!(s&&b>-1||!s&&b<0))if(s){var M=this.createDetailPanelRow(o,this.rows[l]);this.rows.splice(c+1,0,M)}else this.rows.splice(b,1)}},a.prototype.getRenderedRowIndex=function(o){for(var s=0;s<this.rows.length;s++)if(this.rows[s].row==o)return s;return-1},a.prototype.buildRowsActions=function(){this.rowsActions=[];for(var o=this.matrix.visibleRows,s=0;s<o.length;s++)this.rowsActions.push(this.buildRowActions(o[s]))},a.prototype.createRenderedRow=function(o,s){return void 0===s&&(s=!1),new v(o,s)},a.prototype.createErrorRenderedRow=function(o){return new f(o)},a.prototype.buildHeader=function(){var s=this.matrix.isColumnLayoutHorizontal&&this.matrix.showHeader||this.matrix.hasRowText&&!this.matrix.isColumnLayoutHorizontal;if(this.setPropertyValue("showHeader",s),s){if(this.headerRowValue=this.createRenderedRow(this.cssClasses),this.isRowsDragAndDrop&&this.headerRow.cells.push(this.createHeaderCell(null,"action")),this.hasActionCellInRows("start")&&this.headerRow.cells.push(this.createHeaderCell(null,"action")),this.matrix.hasRowText&&this.matrix.showHeader&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.isColumnLayoutHorizontal)for(var l=0;l<this.matrix.visibleColumns.length;l++){var c=this.matrix.visibleColumns[l];!c.isColumnVisible||(this.matrix.IsMultiplyColumn(c)?this.createMutlipleColumnsHeader(c):this.headerRow.cells.push(this.createHeaderCell(c)))}else{var b=this.matrix.visibleRows;for(l=0;l<b.length;l++){var M=this.createTextCell(b[l].locText);this.setHeaderCellCssClasses(M),M.row=b[l],this.headerRow.cells.push(M)}this.matrix.hasFooter&&(M=this.createTextCell(this.matrix.getFooterText()),this.setHeaderCellCssClasses(M),this.headerRow.cells.push(M))}this.hasActionCellInRows("end")&&this.headerRow.cells.push(this.createHeaderCell(null,"action"))}},a.prototype.buildFooter=function(){if(this.showFooter){if(this.footerRowValue=this.createRenderedRow(this.cssClasses),this.isRowsDragAndDrop&&this.footerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.footerRow.cells.push(this.createHeaderCell(null,"action")),this.matrix.hasRowText){var o=this.createTextCell(this.matrix.getFooterText());o.className=(new R.CssClassBuilder).append(o.className).append(this.cssClasses.footerTotalCell).toString(),this.footerRow.cells.push(o)}for(var s=this.matrix.visibleTotalRow.cells,l=0;l<s.length;l++){var c=s[l];if(c.column.isColumnVisible)if(this.matrix.IsMultiplyColumn(c.column))this.createMutlipleColumnsFooter(this.footerRow,c);else{var b=this.createEditCell(c);c.column&&this.setHeaderCellWidth(c.column,b),b.className=(new R.CssClassBuilder).append(b.className).append(this.cssClasses.footerCell).toString(),this.footerRow.cells.push(b)}}this.hasActionCellInRows("end")&&this.footerRow.cells.push(this.createHeaderCell(null,"action"))}},a.prototype.buildRows=function(){var o=this.matrix.isColumnLayoutHorizontal?this.buildHorizontalRows():this.buildVerticalRows();this.rows=o},a.prototype.hasActionCellInRows=function(o){return void 0===this.hasActionCellInRowsValues[o]&&(this.hasActionCellInRowsValues[o]=this.hasActionsCellInLocaltion(o)),this.hasActionCellInRowsValues[o]},a.prototype.hasActionsCellInLocaltion=function(o){var s=this;return!("end"!=o||!this.hasRemoveRows)||this.matrix.visibleRows.some(function(l,c){return!s.isValueEmpty(s.getRowActions(c,o))})},a.prototype.canRemoveRow=function(o){return this.matrix.canRemoveRow(o)},a.prototype.buildHorizontalRows=function(){for(var o=this.matrix.visibleRows,s=[],l=0;l<o.length;l++)this.addHorizontalRow(s,o[l],0==l&&!this.matrix.showHeader);return s},a.prototype.addHorizontalRow=function(o,s,l,c){void 0===c&&(c=-1);var b=this.createHorizontalRow(s,l),M=this.createErrorRow(b);if(b.row=s,c<0&&(c=o.length),this.matrix.isMobile){for(var D=[],g=0;g<b.cells.length;g++)this.showCellErrorsTop&&!M.cells[g].isEmpty&&D.push(M.cells[g]),D.push(b.cells[g]),this.showCellErrorsBottom&&!M.cells[g].isEmpty&&D.push(M.cells[g]);b.cells=D,o.splice(c,0,b)}else o.splice.apply(o,function(u,a){for(var o=0,s=a.length,l=u.length;o<s;o++,l++)u[l]=a[o];return u}([c,0],this.showCellErrorsTop?[M,b]:[b,M])),c++;s.isDetailPanelShowing&&o.splice(c+1,0,this.createDetailPanelRow(s,b))},a.prototype.getRowDragCell=function(o){var s=new h;return s.isDragHandlerCell=!0,s.className=this.getActionsCellClassName(s),s.row=this.matrix.visibleRows[o],s},a.prototype.getActionsCellClassName=function(o){var s=this;void 0===o&&(o=null);var l=(new R.CssClassBuilder).append(this.cssClasses.actionsCell).append(this.cssClasses.actionsCellDrag,null==o?void 0:o.isDragHandlerCell).append(this.cssClasses.detailRowCell,null==o?void 0:o.isDetailRowCell).append(this.cssClasses.verticalCell,!this.matrix.isColumnLayoutHorizontal);return o.isActionsCell&&this.cssClasses.actionsCellPrefix&&o.item.value.actions.forEach(function(b){l.append(s.cssClasses.actionsCellPrefix+"--"+b.id)}),l.toString()},a.prototype.getRowActionsCell=function(o,s,l){void 0===l&&(l=!1);var c=this.getRowActions(o,s);if(!this.isValueEmpty(c)){var b=new h,M=this.matrix.allowAdaptiveActions?new F.AdaptiveActionContainer:new L.ActionContainer;!!this.matrix.survey&&this.matrix.survey.getCss().actionBar&&(M.cssClasses=this.matrix.survey.getCss().actionBar),M.setItems(c);var D=new $.ItemValue(M);return b.item=D,b.isActionsCell=!0,b.isDragHandlerCell=!1,b.isDetailRowCell=l,b.className=this.getActionsCellClassName(b),b.row=this.matrix.visibleRows[o],b}return null},a.prototype.getRowActions=function(o,s){var l=this.rowsActions[o];return Array.isArray(l)?l.filter(function(c){return c.location||(c.location="start"),c.location===s}):[]},a.prototype.buildRowActions=function(o){var s=[];return this.setDefaultRowActions(o,s),this.matrix.survey&&(s=this.matrix.survey.getUpdatedMatrixRowActions(this.matrix,o,s)),s},Object.defineProperty(a.prototype,"showRemoveButtonAsIcon",{get:function(){return m.settings.matrix.renderRemoveAsIcon&&this.matrix.survey&&"sd-root-modern"===this.matrix.survey.css.root},enumerable:!1,configurable:!0}),a.prototype.setDefaultRowActions=function(o,s){var l=this,c=this.matrix;this.hasRemoveRows&&this.canRemoveRow(o)&&s.push(new w.Action(this.showRemoveButtonAsIcon?{id:"remove-row",iconName:"icon-delete",iconSize:"auto",component:"sv-action-bar-item",innerCss:(new R.CssClassBuilder).append(this.matrix.cssClasses.button).append(this.matrix.cssClasses.buttonRemove).toString(),location:"end",showTitle:!1,title:c.removeRowText,enabled:!c.isInputReadOnly,data:{row:o,question:c},action:function(){c.removeRowUI(o)}}:{id:"remove-row",location:"end",enabled:!this.matrix.isInputReadOnly,component:"sv-matrix-remove-button",data:{row:o,question:this.matrix}})),o.hasPanel&&(this.matrix.isMobile?s.unshift(new w.Action({id:"show-detail-mobile",title:"Show Details",showTitle:!0,location:"end",action:function(b){b.title=l.matrix.getLocalizationString(o.isDetailPanelShowing?"showDetails":"hideDetails"),o.showHideDetailPanelClick()}})):s.push(new w.Action({id:"show-detail",title:this.matrix.getLocalizationString("editText"),showTitle:!1,location:"start",component:"sv-matrix-detail-button",data:{row:o,question:this.matrix}})))},a.prototype.createErrorRow=function(o){for(var s=this.createErrorRenderedRow(this.cssClasses),l=0;l<o.cells.length;l++){var c=o.cells[l];c.hasQuestion?this.matrix.IsMultiplyColumn(c.cell.column)?s.cells.push(c.isFirstChoice?this.createErrorCell(c.cell):this.createEmptyCell(!0)):s.cells.push(this.createErrorCell(c.cell)):s.cells.push(this.createEmptyCell(!0))}return s.onAfterCreated(),s},a.prototype.createHorizontalRow=function(o,s){var l=this.createRenderedRow(this.cssClasses);if(this.isRowsDragAndDrop){var c=this.matrix.visibleRows.indexOf(o);l.cells.push(this.getRowDragCell(c))}this.addRowActionsCell(o,l,"start"),this.matrix.hasRowText&&((b=this.createTextCell(o.locText)).row=o,l.cells.push(b),this.setHeaderCellWidth(null,b),b.className=(new R.CssClassBuilder).append(b.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.columnTitleCell,!this.matrix.isColumnLayoutHorizontal).append(this.cssClasses.detailRowText,o.hasPanel).toString());for(var M=0;M<o.cells.length;M++){var D=o.cells[M];if(D.column.isColumnVisible)if(this.matrix.IsMultiplyColumn(D.column))this.createMutlipleEditCells(l,D);else{D.column.isShowInMultipleColumns&&D.question.visibleChoices.map(function(P){return P.hideCaption=!1});var b=this.createEditCell(D);l.cells.push(b),s&&this.setHeaderCellWidth(D.column,b)}}return this.addRowActionsCell(o,l,"end"),l},a.prototype.addRowActionsCell=function(o,s,l){var c=this.matrix.visibleRows.indexOf(o);if(this.hasActionCellInRows(l)){var b=this.getRowActionsCell(c,l,s.isDetailRow);if(b)s.cells.push(b),s.hasEndActions=!0;else{var M=new h;M.isEmpty=!0,M.isDetailRowCell=s.isDetailRow,s.cells.push(M)}}},a.prototype.createDetailPanelRow=function(o,s){var l=this.matrix.isDesignMode,c=this.createRenderedRow(this.cssClasses,!0);c.row=o;var b=new h;this.matrix.hasRowText&&(b.colSpans=2),b.isEmpty=!0,l||c.cells.push(b);var M=null;this.hasActionCellInRows("end")&&((M=new h).isEmpty=!0);var D=new h;return D.panel=o.detailPanel,D.colSpans=s.cells.length-(l?0:b.colSpans)-(M?M.colSpans:0),D.className=this.cssClasses.detailPanelCell,c.cells.push(D),M&&(this.matrix.isMobile?this.addRowActionsCell(o,c,"end"):c.cells.push(M)),"function"==typeof this.matrix.onCreateDetailPanelRenderedRowCallback&&this.matrix.onCreateDetailPanelRenderedRowCallback(c),c},a.prototype.buildVerticalRows=function(){for(var o=this.matrix.columns,s=[],l=0;l<o.length;l++){var c=o[l];if(c.isColumnVisible)if(this.matrix.IsMultiplyColumn(c))this.createMutlipleVerticalRows(s,c,l);else{var b=this.createVerticalRow(c,l),M=this.createErrorRow(b);this.showCellErrorsTop?(s.push(M),s.push(b)):(s.push(b),s.push(M))}}return this.hasActionCellInRows("end")&&s.push(this.createEndVerticalActionRow()),s},a.prototype.createMutlipleVerticalRows=function(o,s,l){var c=this.getMultipleColumnChoices(s);if(c)for(var b=0;b<c.length;b++){var M=this.createVerticalRow(s,l,c[b],b),D=this.createErrorRow(M);this.showCellErrorsTop?(o.push(D),o.push(M)):(o.push(M),o.push(D))}},a.prototype.createVerticalRow=function(o,s,l,c){void 0===l&&(l=null),void 0===c&&(c=-1);var b=this.createRenderedRow(this.cssClasses);if(this.matrix.showHeader){var D=this.createTextCell(l?l.locText:o.locTitle);D.column=o,D.className=(new R.CssClassBuilder).append(D.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.columnTitleCell).toString(),b.cells.push(D)}for(var g=this.matrix.visibleRows,P=0;P<g.length;P++){var A=l,k=c>=0?c:P,Z=g[P].cells[s],re=l?Z.question.visibleChoices:void 0;re&&k<re.length&&(A=re[k]);var H=this.createEditCell(Z,A);H.item=A,H.choiceIndex=k,b.cells.push(H)}return this.matrix.hasTotal&&b.cells.push(this.createEditCell(this.matrix.visibleTotalRow.cells[s])),b},a.prototype.createEndVerticalActionRow=function(){var o=this.createRenderedRow(this.cssClasses);this.matrix.showHeader&&o.cells.push(this.createEmptyCell());for(var s=this.matrix.visibleRows,l=0;l<s.length;l++)o.cells.push(this.getRowActionsCell(l,"end"));return this.matrix.hasTotal&&o.cells.push(this.createEmptyCell()),o},a.prototype.createMutlipleEditCells=function(o,s,l){void 0===l&&(l=!1);var c=l?this.getMultipleColumnChoices(s.column):s.question.visibleChoices;if(c)for(var b=0;b<c.length;b++){var M=this.createEditCell(s,l?void 0:c[b]);l||(this.setItemCellCssClasses(M),M.choiceIndex=b),o.cells.push(M)}},a.prototype.setItemCellCssClasses=function(o){o.className=(new R.CssClassBuilder).append(this.cssClasses.itemCell).append(this.cssClasses.radioCell,o.isRadio).append(this.cssClasses.checkboxCell,o.isCheckbox).toString()},a.prototype.createEditCell=function(o,s){void 0===s&&(s=void 0);var l=new h;return l.cell=o,l.row=o.row,l.question=o.question,l.matrix=this.matrix,l.item=s,l.isOtherChoice=!!s&&!!o.question&&o.question.otherItem===s,l.className=l.calculateFinalClassName(this.cssClasses),l},a.prototype.createErrorCell=function(o,s){void 0===s&&(s=void 0);var l=new h;return l.question=o.question,l.row=o.row,l.matrix=this.matrix,l.isErrorsCell=!0,l.className=(new R.CssClassBuilder).append(this.cssClasses.cell).append(this.cssClasses.errorsCell).append(this.cssClasses.errorsCellTop,this.showCellErrorsTop).append(this.cssClasses.errorsCellBottom,this.showCellErrorsBottom).toString(),l},a.prototype.createMutlipleColumnsFooter=function(o,s){this.createMutlipleEditCells(o,s,!0)},a.prototype.createMutlipleColumnsHeader=function(o){var s=this.getMultipleColumnChoices(o);if(s)for(var l=0;l<s.length;l++){var c=this.createTextCell(s[l].locText);this.setHeaderCell(o,c),this.setHeaderCellCssClasses(c),this.headerRow.cells.push(c)}},a.prototype.getMultipleColumnChoices=function(o){var s=o.templateQuestion.choices;return s&&Array.isArray(s)&&0==s.length?this.matrix.choices:(s=o.getVisibleMultipleChoices())&&Array.isArray(s)?s:null},a.prototype.setHeaderCellCssClasses=function(o,s){o.className=(new R.CssClassBuilder).append(this.cssClasses.headerCell).append(this.cssClasses.columnTitleCell,this.matrix.isColumnLayoutHorizontal).append(this.cssClasses.emptyCell,!!o.isEmpty).append(this.cssClasses.cell+"--"+s,!!s).toString()},a.prototype.createHeaderCell=function(o,s){void 0===s&&(s=null);var l=o?this.createTextCell(o.locTitle):this.createEmptyCell();return l.column=o,this.setHeaderCell(o,l),s||(s=o&&"default"!==o.cellType?o.cellType:this.matrix.cellType),this.setHeaderCellCssClasses(l,s),l},a.prototype.setHeaderCell=function(o,s){this.setHeaderCellWidth(o,s)},a.prototype.setHeaderCellWidth=function(o,s){s.minWidth=null!=o?this.matrix.getColumnWidth(o):this.matrix.getRowTitleWidth(),s.width=null!=o?o.width:this.matrix.getRowTitleWidth()},a.prototype.createTextCell=function(o){var s=new h;return s.locTitle=o,o&&o.strChanged(),this.cssClasses.cell&&(s.className=this.cssClasses.cell),s},a.prototype.createEmptyCell=function(o){void 0===o&&(o=!1);var s=this.createTextCell(null);return s.isEmpty=!0,s.className=(new R.CssClassBuilder).append(this.cssClasses.cell).append(this.cssClasses.emptyCell).append(this.cssClasses.errorsCell,o).toString(),s},C([Object(G.propertyArray)({onPush:function(o,s,l){l.renderedRowsChangedCallback()}})],a.prototype,"rows",void 0),a}(se.Base)},"./src/question_matrixdynamic.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"MatrixDynamicRowModel",function(){return h}),x.d(j,"QuestionMatrixDynamicModel",function(){return v});var d,G=x("./src/jsonobject.ts"),se=x("./src/questionfactory.ts"),$=x("./src/question_matrixdropdownbase.ts"),w=x("./src/error.ts"),F=x("./src/settings.ts"),R=x("./src/utils/utils.ts"),L=x("./src/dragdrop/matrix-rows.ts"),m=x("./src/utils/cssClassBuilder.ts"),T=x("./src/question_matrixdropdownrendered.ts"),C=x("./src/utils/dragOrClickHelper.ts"),y=(d=function(u,a){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])})(u,a)},function(u,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function o(){this.constructor=u}d(u,a),u.prototype=null===a?Object.create(a):(o.prototype=a.prototype,new o)}),h=function(d){function u(a,o,s){var l=d.call(this,o,s)||this;return l.index=a,l.buildCells(s),l}return y(u,d),Object.defineProperty(u.prototype,"rowName",{get:function(){return this.id},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dataName",{get:function(){return"row"+(this.index+1)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"text",{get:function(){return"row "+(this.index+1)},enumerable:!1,configurable:!0}),u.prototype.getAccessbilityText=function(){return(this.index+1).toString()},Object.defineProperty(u.prototype,"shortcutText",{get:function(){var o=this.data.visibleRows.indexOf(this)+1,s=this.cells.length>1?this.cells[1].questionValue:void 0,l=this.cells.length>0?this.cells[0].questionValue:void 0;return s&&s.value||l&&l.value||""+o},enumerable:!1,configurable:!0}),u}($.MatrixDropdownRowModelBase),v=function(d){function u(a){var o=d.call(this,a)||this;return o.rowCounter=0,o.initialRowCount=2,o.setRowCountValueFromData=!1,o.startDragMatrixRow=function(l,c){o.dragDropMatrixRows.startDrag(l,o.draggedRow,o,l.target)},o.createLocalizableString("confirmDeleteText",o,!1,"confirmDelete"),o.createLocalizableString("addRowText",o).onGetTextCallback=function(l){return l||o.defaultAddRowText},o.createLocalizableString("removeRowText",o,!1,"removeRow"),o.createLocalizableString("emptyRowsText",o,!1,!0),o.registerPropertyChangedHandlers(["hideColumnsIfEmpty","allowAddRows"],function(){o.updateShowTableAndAddRow()}),o.registerPropertyChangedHandlers(["allowRowsDragAndDrop","isReadOnly"],function(){o.clearRowsAndResetRenderedTable()}),o.dragOrClickHelper=new C.DragOrClickHelper(o.startDragMatrixRow),o}return y(u,d),u.prototype.setSurveyImpl=function(a,o){d.prototype.setSurveyImpl.call(this,a,o),this.dragDropMatrixRows=new L.DragDropMatrixRows(this.survey,null,!0)},u.prototype.isBanStartDrag=function(a){var o=a.target;return"true"===o.getAttribute("contenteditable")||"INPUT"===o.nodeName||!this.isDragHandleAreaValid(o)},u.prototype.isDragHandleAreaValid=function(a){return"icon"!==this.survey.matrixDragHandleArea||a.classList.contains(this.cssClasses.dragElementDecorator)},u.prototype.onPointerDown=function(a,o){!o||!this.isRowsDragAndDrop||this.isBanStartDrag(a)||o.isDetailPanelShowing||(this.draggedRow=o,this.dragOrClickHelper.onPointerDown(a))},u.prototype.getType=function(){return"matrixdynamic"},Object.defineProperty(u.prototype,"isRowsDynamic",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete")},set:function(a){this.setPropertyValue("confirmDelete",a)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isValueArray",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(a){this.setPropertyValue("keyName",a)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"defaultRowValue",{get:function(){return this.getPropertyValue("defaultRowValue")},set:function(a){this.setPropertyValue("defaultRowValue",a)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"defaultValueFromLastRow",{get:function(){return this.getPropertyValue("defaultValueFromLastRow")},set:function(a){this.setPropertyValue("defaultValueFromLastRow",a)},enumerable:!1,configurable:!0}),u.prototype.isDefaultValueEmpty=function(){return d.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultRowValue)},u.prototype.valueFromData=function(a){if(this.minRowCount<1)return d.prototype.valueFromData.call(this,a);Array.isArray(a)||(a=[]);for(var o=a.length;o<this.minRowCount;o++)a.push({});return a},u.prototype.isNewValueCorrect=function(a){return Array.isArray(a)},u.prototype.setDefaultValue=function(){if(!this.isValueEmpty(this.defaultRowValue)&&this.isValueEmpty(this.defaultValue)){if(this.isEmpty()&&0!=this.rowCount){for(var a=[],o=0;o<this.rowCount;o++)a.push(this.defaultRowValue);this.value=a}}else d.prototype.setDefaultValue.call(this)},u.prototype.moveRowByIndex=function(a,o){var s=this.createNewValue();if(Array.isArray(s)||!(Math.max(a,o)>=s.length)){var l=s[a];s.splice(a,1),s.splice(o,0,l),this.value=s}},u.prototype.clearOnDrop=function(){this.isEditingSurveyElement||this.resetRenderedTable()},u.prototype.initDataUI=function(){},Object.defineProperty(u.prototype,"rowCount",{get:function(){return this.rowCountValue},set:function(a){if(!(a<0||a>F.settings.matrix.maxRowCount)){this.setRowCountValueFromData=!1;var o=this.rowCountValue;if(this.rowCountValue=a,this.value&&this.value.length>a){var s=this.value;s.splice(a),this.value=s}if(this.isUpdateLocked)return void(this.initialRowCount=a);if(this.generatedVisibleRows||0==o){this.generatedVisibleRows||(this.generatedVisibleRows=[]),this.generatedVisibleRows.splice(a);for(var l=o;l<a;l++){var c=this.createMatrixRow(this.getValueForNewRow());this.generatedVisibleRows.push(c),this.onMatrixRowCreated(c)}this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())}this.onRowsChanged()}},enumerable:!1,configurable:!0}),u.prototype.updateProgressInfoByValues=function(a){var o=this.value;Array.isArray(o)||(o=[]);for(var s=0;s<this.rowCount;s++)this.updateProgressInfoByRow(a,s<o.length?o[s]:{})},u.prototype.getValueForNewRow=function(){var a=null;return this.onGetValueForNewRowCallBack&&(a=this.onGetValueForNewRowCallBack(this)),a},Object.defineProperty(u.prototype,"allowRowsDragAndDrop",{get:function(){return this.getPropertyValue("allowRowsDragAndDrop")},set:function(a){this.setPropertyValue("allowRowsDragAndDrop",a)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isRowsDragAndDrop",{get:function(){return this.allowRowsDragAndDrop&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"iconDragElement",{get:function(){return this.cssClasses.iconDragElement},enumerable:!1,configurable:!0}),u.prototype.createRenderedTable=function(){return new f(this)},Object.defineProperty(u.prototype,"rowCountValue",{get:function(){return this.getPropertyValue("rowCount")},set:function(a){this.setPropertyValue("rowCount",a)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"minRowCount",{get:function(){return this.getPropertyValue("minRowCount")},set:function(a){a<0&&(a=0),this.setPropertyValue("minRowCount",a),a>this.maxRowCount&&(this.maxRowCount=a),this.rowCount<a&&(this.rowCount=a)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"maxRowCount",{get:function(){return this.getPropertyValue("maxRowCount")},set:function(a){a<=0||(a>F.settings.matrix.maxRowCount&&(a=F.settings.matrix.maxRowCount),a!=this.maxRowCount&&(this.setPropertyValue("maxRowCount",a),a<this.minRowCount&&(this.minRowCount=a),this.rowCount>a&&(this.rowCount=a)))},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"allowAddRows",{get:function(){return this.getPropertyValue("allowAddRows")},set:function(a){this.setPropertyValue("allowAddRows",a)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"allowRemoveRows",{get:function(){return this.getPropertyValue("allowRemoveRows")},set:function(a){this.setPropertyValue("allowRemoveRows",a),this.isUpdateLocked||this.resetRenderedTable()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"canAddRow",{get:function(){return this.allowAddRows&&!this.isReadOnly&&this.rowCount<this.maxRowCount},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"canRemoveRows",{get:function(){var a=this.allowRemoveRows&&!this.isReadOnly&&this.rowCount>this.minRowCount;return this.canRemoveRowsCallback?this.canRemoveRowsCallback(a):a},enumerable:!1,configurable:!0}),u.prototype.canRemoveRow=function(a){return!this.survey||this.survey.matrixAllowRemoveRow(this,a.index,a)},u.prototype.addRowUI=function(){this.addRow(!0)},u.prototype.getQuestionToFocusOnAddingRow=function(){for(var a=this.visibleRows[this.visibleRows.length-1],o=0;o<a.cells.length;o++){var s=a.cells[o].question;if(s&&s.isVisible&&!s.isReadOnly)return s}return null},u.prototype.addRow=function(a){var o=this.rowCount,s=this.canAddRow,l={question:this,canAddRow:s,allow:s};if(this.survey&&this.survey.matrixBeforeRowAdded(l),(s!==l.allow?l.allow:s!==l.canAddRow?l.canAddRow:s)&&(this.onStartRowAddingRemoving(),this.addRowCore(),this.onEndRowAdding(),this.detailPanelShowOnAdding&&this.visibleRows.length>0&&this.visibleRows[this.visibleRows.length-1].showDetailPanel(),a&&o!==this.rowCount)){var b=this.getQuestionToFocusOnAddingRow();b&&b.focus()}},Object.defineProperty(u.prototype,"detailPanelShowOnAdding",{get:function(){return this.getPropertyValue("detailPanelShowOnAdding")},set:function(a){this.setPropertyValue("detailPanelShowOnAdding",a)},enumerable:!1,configurable:!0}),u.prototype.hasRowsAsItems=function(){return!1},u.prototype.unbindValue=function(){this.clearGeneratedRows(),this.clearPropertyValue("value"),this.rowCountValue=0,d.prototype.unbindValue.call(this)},u.prototype.isValueSurveyElement=function(a){return this.isEditingSurveyElement||d.prototype.isValueSurveyElement.call(this,a)},u.prototype.addRowCore=function(){var a=this.rowCount;this.rowCount=this.rowCount+1;var o=this.getDefaultRowValue(!0),s=null;if(this.isValueEmpty(o)||(s=this.createNewValue()).length==this.rowCount&&(s[s.length-1]=o,this.value=s),this.data&&(this.runCellsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.isValueEmpty(o))){var l=this.visibleRows[this.rowCount-1];this.isValueEmpty(l.value)||(s||(s=this.createNewValue()),!this.isValueSurveyElement(s)&&!this.isTwoValueEquals(s[s.length-1],l.value)&&(s[s.length-1]=l.value,this.value=s))}this.survey&&a+1==this.rowCount&&(this.survey.matrixRowAdded(this,this.visibleRows[this.visibleRows.length-1]),this.onRowsChanged())},u.prototype.getDefaultRowValue=function(a){for(var o=null,s=0;s<this.columns.length;s++){var l=this.columns[s].templateQuestion;l&&!this.isValueEmpty(l.getDefaultValue())&&((o=o||{})[this.columns[s].name]=l.getDefaultValue())}if(!this.isValueEmpty(this.defaultRowValue))for(var c in this.defaultRowValue)(o=o||{})[c]=this.defaultRowValue[c];if(a&&this.defaultValueFromLastRow){var b=this.value;if(b&&Array.isArray(b)&&b.length>=this.rowCount-1){var M=b[this.rowCount-2];for(var c in M)(o=o||{})[c]=M[c]}}return o},u.prototype.removeRowUI=function(a){if(a&&a.rowName){var o=this.visibleRows.indexOf(a);if(o<0)return;a=o}this.removeRow(a)},u.prototype.isRequireConfirmOnRowDelete=function(a){if(!this.confirmDelete||a<0||a>=this.rowCount)return!1;var o=this.createNewValue();return!(this.isValueEmpty(o)||!Array.isArray(o)||a>=o.length||this.isValueEmpty(o[a]))},u.prototype.removeRow=function(a,o){var s=this;if(this.canRemoveRows&&!(a<0||a>=this.rowCount)){var l=this.visibleRows&&a<this.visibleRows.length?this.visibleRows[a]:null;if(void 0===o&&(o=this.isRequireConfirmOnRowDelete(a)),o)return void Object(R.confirmActionAsync)(this.confirmDeleteText,function(){s.removeRowAsync(a,l)},void 0,this.getLocale(),this.survey.rootElement);this.removeRowAsync(a,l)}},u.prototype.removeRowAsync=function(a,o){o&&this.survey&&!this.survey.matrixRowRemoving(this,a,o)||(this.onStartRowAddingRemoving(),this.removeRowCore(a),this.onEndRowRemoving(o))},u.prototype.removeRowCore=function(a){var o=this.generatedVisibleRows?this.generatedVisibleRows[a]:null;if(this.generatedVisibleRows&&a<this.generatedVisibleRows.length&&this.generatedVisibleRows.splice(a,1),this.rowCountValue--,this.value){var s=[];(s=Array.isArray(this.value)&&a<this.value.length?this.createValueCopy():this.createNewValue()).splice(a,1),s=this.deleteRowValue(s,null),this.isRowChanging=!0,this.value=s,this.isRowChanging=!1}this.onRowsChanged(),this.survey&&this.survey.matrixRowRemoved(this,a,o)},Object.defineProperty(u.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(a){this.setLocalizableStringText("confirmDeleteText",a)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"addRowText",{get:function(){return this.getLocalizableStringText("addRowText",this.defaultAddRowText)},set:function(a){this.setLocalizableStringText("addRowText",a)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"locAddRowText",{get:function(){return this.getLocalizableString("addRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"defaultAddRowText",{get:function(){return this.getLocalizationString(this.isColumnLayoutHorizontal?"addRow":"addColumn")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"addRowLocation",{get:function(){return this.getPropertyValue("addRowLocation")},set:function(a){this.setPropertyValue("addRowLocation",a)},enumerable:!1,configurable:!0}),u.prototype.getAddRowLocation=function(){return this.addRowLocation},Object.defineProperty(u.prototype,"hideColumnsIfEmpty",{get:function(){return this.getPropertyValue("hideColumnsIfEmpty")},set:function(a){this.setPropertyValue("hideColumnsIfEmpty",a)},enumerable:!1,configurable:!0}),u.prototype.getShowColumnsIfEmpty=function(){return this.hideColumnsIfEmpty},Object.defineProperty(u.prototype,"removeRowText",{get:function(){return this.getLocalizableStringText("removeRowText")},set:function(a){this.setLocalizableStringText("removeRowText",a)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"locRemoveRowText",{get:function(){return this.getLocalizableString("removeRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"emptyRowsText",{get:function(){return this.getLocalizableStringText("emptyRowsText")},set:function(a){this.setLocalizableStringText("emptyRowsText",a)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"locEmptyRowsText",{get:function(){return this.getLocalizableString("emptyRowsText")},enumerable:!1,configurable:!0}),u.prototype.getDisplayValueCore=function(a,o){if(!o||!Array.isArray(o))return o;for(var s=this.getUnbindValue(o),l=this.visibleRows,c=0;c<l.length&&c<s.length;c++){var b=s[c];!b||(s[c]=this.getRowDisplayValue(a,l[c],b))}return s},u.prototype.getConditionObjectRowName=function(a){return"["+a.toString()+"]"},u.prototype.getConditionObjectsRowIndeces=function(){for(var a=[],o=Math.max(this.rowCount,1),s=0;s<Math.min(F.settings.matrix.maxRowCountInCondition,o);s++)a.push(s);return a},u.prototype.supportGoNextPageAutomatic=function(){return!1},Object.defineProperty(u.prototype,"hasRowText",{get:function(){return!1},enumerable:!1,configurable:!0}),u.prototype.onCheckForErrors=function(a,o){d.prototype.onCheckForErrors.call(this,a,o),!o&&this.hasErrorInMinRows()&&a.push(new w.MinRowCountError(this.minRowCount,this))},u.prototype.hasErrorInMinRows=function(){if(this.minRowCount<=0||!this.isRequired||!this.generatedVisibleRows)return!1;for(var a=0,o=0;o<this.generatedVisibleRows.length;o++)this.generatedVisibleRows[o].isEmpty||a++;return a<this.minRowCount},u.prototype.getUniqueColumns=function(){var a=d.prototype.getUniqueColumns.call(this);if(this.keyName){var o=this.getColumnByName(this.keyName);o&&a.indexOf(o)<0&&a.push(o)}return a},u.prototype.generateRows=function(){var a=new Array;if(0===this.rowCount)return a;for(var o=this.createNewValue(),s=0;s<this.rowCount;s++)a.push(this.createMatrixRow(this.getRowValueByIndex(o,s)));return this.isValueEmpty(this.getDefaultRowValue(!1))||(this.value=o),a},u.prototype.createMatrixRow=function(a){return new h(this.rowCounter++,this,a)},u.prototype.getInsertedDeletedIndex=function(a,o){for(var s=Math.min(a.length,o.length),l=0;l<s;l++)if(o[l]!==a[l].editingObj)return l;return s},u.prototype.isEditingObjectValueChanged=function(){var a=this.value;if(!this.generatedVisibleRows||!this.isValueSurveyElement(a))return!1;var o=this.lastDeletedRow;this.lastDeletedRow=void 0;var s=this.generatedVisibleRows;if(!Array.isArray(a)||Math.abs(s.length-a.length)>1||s.length===a.length)return!1;var l=this.getInsertedDeletedIndex(s,a);if(s.length>a.length){this.lastDeletedRow=s[l];var c=s[l];s.splice(l,1),this.isRendredTableCreated&&this.renderedTable.onRemovedRow(c)}else{var b;b=o&&o.editingObj===a[l]?o:this.createMatrixRow(a[l]),s.splice(l,0,b),o||this.onMatrixRowCreated(b),this.isRendredTableCreated&&this.renderedTable.onAddedRow(b,l)}return this.setPropertyValueDirectly("rowCount",a.length),!0},u.prototype.onBeforeValueChanged=function(a){if(a&&Array.isArray(a)){var o=a.length;if(o!=this.rowCount&&(this.setRowCountValueFromData||!(o<this.initialRowCount))&&!this.isEditingObjectValueChanged()&&(this.setRowCountValueFromData=!0,this.rowCountValue=o,this.generatedVisibleRows)){if(o==this.generatedVisibleRows.length+1){this.onStartRowAddingRemoving();var s=this.getRowValueByIndex(a,o-1),l=this.createMatrixRow(s);this.generatedVisibleRows.push(l),this.onMatrixRowCreated(l),this.onEndRowAdding()}else this.clearGeneratedRows(),this.generatedVisibleRows=this.visibleRows,this.onRowsChanged();this.setRowCountValueFromData=!1}}},u.prototype.createNewValue=function(){var a=this.createValueCopy();(!a||!Array.isArray(a))&&(a=[]),a.length>this.rowCount&&a.splice(this.rowCount);var o=this.getDefaultRowValue(!1);o=o||{};for(var s=a.length;s<this.rowCount;s++)a.push(this.getUnbindValue(o));return a},u.prototype.deleteRowValue=function(a,o){for(var s=!0,l=0;l<a.length;l++)if(this.isObject(a[l])&&Object.keys(a[l]).length>0){s=!1;break}return s?null:a},u.prototype.getRowValueByIndex=function(a,o){return Array.isArray(a)&&o>=0&&o<a.length?a[o]:null},u.prototype.getRowValueCore=function(a,o,s){if(void 0===s&&(s=!1),!this.generatedVisibleRows)return{};var l=this.getRowValueByIndex(o,this.generatedVisibleRows.indexOf(a));return!l&&s&&(l={}),l},u.prototype.getAddRowButtonCss=function(a){return void 0===a&&(a=!1),(new m.CssClassBuilder).append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.emptyRowsButton,a).toString()},u.prototype.getRemoveRowButtonCss=function(){return(new m.CssClassBuilder).append(this.cssClasses.button).append(this.cssClasses.buttonRemove).toString()},u.prototype.getRootCss=function(){var a;return(new m.CssClassBuilder).append(d.prototype.getRootCss.call(this)).append(this.cssClasses.empty,!(null===(a=this.renderedTable)||void 0===a?void 0:a.showTable)).toString()},u}($.QuestionMatrixDropdownModelBase),f=function(d){function u(){return null!==d&&d.apply(this,arguments)||this}return y(u,d),u.prototype.setDefaultRowActions=function(a,o){d.prototype.setDefaultRowActions.call(this,a,o)},u}(T.QuestionMatrixDropdownRenderedTable);G.Serializer.addClass("matrixdynamic",[{name:"rowsVisibleIf:condition",visible:!1},{name:"allowAddRows:boolean",default:!0},{name:"allowRemoveRows:boolean",default:!0},{name:"rowCount:number",default:2,minValue:0,isBindable:!0},{name:"minRowCount:number",default:0,minValue:0},{name:"maxRowCount:number",default:F.settings.matrix.maxRowCount},{name:"keyName"},"defaultRowValue:rowvalue","defaultValueFromLastRow:boolean",{name:"confirmDelete:boolean"},{name:"confirmDeleteText",dependsOn:"confirmDelete",visibleIf:function(d){return!d||d.confirmDelete},serializationProperty:"locConfirmDeleteText"},{name:"addRowLocation",default:"default",choices:["default","top","bottom","topBottom"]},{name:"addRowText",serializationProperty:"locAddRowText"},{name:"removeRowText",serializationProperty:"locRemoveRowText"},"hideColumnsIfEmpty:boolean",{name:"emptyRowsText:text",serializationProperty:"locEmptyRowsText",dependsOn:"hideColumnsIfEmpty",visibleIf:function(d){return!d||d.hideColumnsIfEmpty}},{name:"detailPanelShowOnAdding:boolean",dependsOn:"detailPanelMode",visibleIf:function(d){return"none"!==d.detailPanelMode}},"allowRowsDragAndDrop:switch"],function(){return new v("")},"matrixdropdownbase"),se.QuestionFactory.Instance.registerQuestion("matrixdynamic",function(d){var u=new v(d);return u.choices=[1,2,3,4,5],$.QuestionMatrixDropdownModelBase.addDefaultColumns(u),u})},"./src/question_multipletext.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"MultipleTextEditorModel",function(){return h}),x.d(j,"MultipleTextItemModel",function(){return v}),x.d(j,"QuestionMultipleTextModel",function(){return f}),x.d(j,"MutlipleTextRow",function(){return d}),x.d(j,"MutlipleTextErrorRow",function(){return u}),x.d(j,"MultipleTextCell",function(){return a}),x.d(j,"MultipleTextErrorCell",function(){return o});var s,G=x("./src/base.ts"),se=x("./src/survey-element.ts"),$=x("./src/question.ts"),w=x("./src/question_text.ts"),F=x("./src/jsonobject.ts"),R=x("./src/questionfactory.ts"),L=x("./src/helpers.ts"),m=x("./src/utils/cssClassBuilder.ts"),T=x("./src/settings.ts"),C=(s=function(l,c){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,M){b.__proto__=M}||function(b,M){for(var D in M)Object.prototype.hasOwnProperty.call(M,D)&&(b[D]=M[D])})(l,c)},function(l,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function b(){this.constructor=l}s(l,c),l.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}),y=function(s,l,c,b){var g,M=arguments.length,D=M<3?l:null===b?b=Object.getOwnPropertyDescriptor(l,c):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(s,l,c,b);else for(var P=s.length-1;P>=0;P--)(g=s[P])&&(D=(M<3?g(D):M>3?g(l,c,D):g(l,c))||D);return M>3&&D&&Object.defineProperty(l,c,D),D},h=function(s){function l(){return null!==s&&s.apply(this,arguments)||this}return C(l,s),Object.defineProperty(l.prototype,"a11y_input_ariaLabel",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"a11y_input_ariaLabelledBy",{get:function(){return null},enumerable:!1,configurable:!0}),l}(w.QuestionTextModel),v=function(s){function l(c,b){void 0===c&&(c=null),void 0===b&&(b=null);var M=s.call(this)||this;return M.focusIn=function(){M.editor.focusIn()},M.editorValue=M.createEditor(c),M.editor.questionTitleTemplateCallback=function(){return""},M.editor.titleLocation="left",b&&(M.title=b),M}return C(l,s),l.prototype.getType=function(){return"multipletextitem"},Object.defineProperty(l.prototype,"id",{get:function(){return this.editor.id},enumerable:!1,configurable:!0}),l.prototype.getOriginalObj=function(){return this.editor},Object.defineProperty(l.prototype,"name",{get:function(){return this.editor.name},set:function(c){this.editor.name=c},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"question",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"editor",{get:function(){return this.editorValue},enumerable:!1,configurable:!0}),l.prototype.createEditor=function(c){return new h(c)},l.prototype.addUsedLocales=function(c){s.prototype.addUsedLocales.call(this,c),this.editor.addUsedLocales(c)},l.prototype.localeChanged=function(){s.prototype.localeChanged.call(this),this.editor.localeChanged()},l.prototype.locStrsChanged=function(){s.prototype.locStrsChanged.call(this),this.editor.locStrsChanged()},l.prototype.setData=function(c){this.data=c,c&&(this.editor.defaultValue=c.getItemDefaultValue(this.name),this.editor.setSurveyImpl(this),this.editor.parent=c,this.editor.setParentQuestion(c))},Object.defineProperty(l.prototype,"isRequired",{get:function(){return this.editor.isRequired},set:function(c){this.editor.isRequired=c},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"inputType",{get:function(){return this.editor.inputType},set:function(c){this.editor.inputType=c},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"title",{get:function(){return this.editor.title},set:function(c){this.editor.title=c},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locTitle",{get:function(){return this.editor.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"fullTitle",{get:function(){return this.editor.fullTitle},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"maxLength",{get:function(){return this.editor.maxLength},set:function(c){this.editor.maxLength=c},enumerable:!1,configurable:!0}),l.prototype.getMaxLength=function(){var c=this.getSurvey();return L.Helpers.getMaxLength(this.maxLength,c?c.maxTextLength:-1)},Object.defineProperty(l.prototype,"placeholder",{get:function(){return this.editor.placeholder},set:function(c){this.editor.placeholder=c},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locPlaceholder",{get:function(){return this.editor.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(c){this.placeholder=c},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"requiredErrorText",{get:function(){return this.editor.requiredErrorText},set:function(c){this.editor.requiredErrorText=c},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locRequiredErrorText",{get:function(){return this.editor.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"size",{get:function(){return this.editor.size},set:function(c){this.editor.size=c},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"defaultValueExpression",{get:function(){return this.editor.defaultValueExpression},set:function(c){this.editor.defaultValueExpression=c},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"minValueExpression",{get:function(){return this.editor.minValueExpression},set:function(c){this.editor.minValueExpression=c},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"maxValueExpression",{get:function(){return this.editor.maxValueExpression},set:function(c){this.editor.maxValueExpression=c},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"validators",{get:function(){return this.editor.validators},set:function(c){this.editor.validators=c},enumerable:!1,configurable:!0}),l.prototype.getValidators=function(){return this.validators},Object.defineProperty(l.prototype,"value",{get:function(){return this.data?this.data.getMultipleTextValue(this.name):null},set:function(c){null!=this.data&&this.data.setMultipleTextValue(this.name,c)},enumerable:!1,configurable:!0}),l.prototype.isEmpty=function(){return this.editor.isEmpty()},l.prototype.onValueChanged=function(c){this.valueChangedCallback&&this.valueChangedCallback(c)},l.prototype.getSurveyData=function(){return this},l.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},l.prototype.getTextProcessor=function(){return this.data?this.data.getTextProcessor():null},l.prototype.getValue=function(c){return this.data?this.data.getMultipleTextValue(c):null},l.prototype.setValue=function(c,b){this.data&&this.data.setMultipleTextValue(c,b)},l.prototype.getVariable=function(c){},l.prototype.setVariable=function(c,b){},l.prototype.getComment=function(c){return null},l.prototype.setComment=function(c,b){},l.prototype.getAllValues=function(){return this.data?this.data.getAllValues():this.value},l.prototype.getFilteredValues=function(){return this.getAllValues()},l.prototype.getFilteredProperties=function(){return{survey:this.getSurvey()}},l.prototype.findQuestionByName=function(c){var b=this.getSurvey();return b?b.getQuestionByName(c):null},l.prototype.getValidatorTitle=function(){return this.title},Object.defineProperty(l.prototype,"validatedValue",{get:function(){return this.value},set:function(c){this.value=c},enumerable:!1,configurable:!0}),l.prototype.getDataFilteredValues=function(){return this.getFilteredValues()},l.prototype.getDataFilteredProperties=function(){return this.getFilteredProperties()},l}(G.Base),f=function(s){function l(c){var b=s.call(this,c)||this;return b.isMultipleItemValueChanging=!1,b.createNewArray("items",function(M){M.setData(b),b.survey&&b.survey.multipleTextItemAdded(b,M)}),b.registerPropertyChangedHandlers(["items","colCount","itemErrorLocation"],function(){b.calcVisibleRows()}),b.registerPropertyChangedHandlers(["itemSize"],function(){b.updateItemsSize()}),b}return C(l,s),l.addDefaultItems=function(c){for(var b=R.QuestionFactory.DefaultMutlipleTextItems,M=0;M<b.length;M++)c.addItem(b[M])},l.prototype.getType=function(){return"multipletext"},l.prototype.setSurveyImpl=function(c,b){s.prototype.setSurveyImpl.call(this,c,b);for(var M=0;M<this.items.length;M++)this.items[M].setData(this)},Object.defineProperty(l.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(c){var b;null===(b=this.items)||void 0===b||b.map(function(M,D){return M.editor.id=c+"_"+D}),this.setPropertyValue("id",c)},enumerable:!1,configurable:!0}),l.prototype.onSurveyLoad=function(){this.editorsOnSurveyLoad(),s.prototype.onSurveyLoad.call(this)},l.prototype.setQuestionValue=function(c,b){void 0===b&&(b=!0),s.prototype.setQuestionValue.call(this,c,b),this.performForEveryEditor(function(M){M.editor.updateValueFromSurvey(M.value)}),this.updateIsAnswered()},l.prototype.onSurveyValueChanged=function(c){s.prototype.onSurveyValueChanged.call(this,c),this.performForEveryEditor(function(b){b.editor.onSurveyValueChanged(b.value)})},l.prototype.updateItemsSize=function(){this.performForEveryEditor(function(c){c.editor.updateInputSize()})},l.prototype.editorsOnSurveyLoad=function(){this.performForEveryEditor(function(c){c.editor.onSurveyLoad()})},l.prototype.performForEveryEditor=function(c){for(var b=0;b<this.items.length;b++){var M=this.items[b];M.editor&&c(M)}},Object.defineProperty(l.prototype,"items",{get:function(){return this.getPropertyValue("items")},set:function(c){this.setPropertyValue("items",c)},enumerable:!1,configurable:!0}),l.prototype.addItem=function(c,b){void 0===b&&(b=null);var M=this.createTextItem(c,b);return this.items.push(M),M},l.prototype.getItemByName=function(c){for(var b=0;b<this.items.length;b++)if(this.items[b].name==c)return this.items[b];return null},l.prototype.addConditionObjectsByContext=function(c,b){for(var M=0;M<this.items.length;M++){var D=this.items[M];c.push({name:this.getValueName()+"."+D.name,text:this.processedTitle+"."+D.fullTitle,question:this})}},l.prototype.collectNestedQuestionsCore=function(c,b){this.items.forEach(function(M){return M.editor.collectNestedQuestions(c,b)})},l.prototype.getConditionJson=function(c,b){if(void 0===c&&(c=null),void 0===b&&(b=null),!b)return s.prototype.getConditionJson.call(this);var M=this.getItemByName(b);if(!M)return null;var D=(new F.JsonObject).toJsonObject(M);return D.type="text",D},l.prototype.locStrsChanged=function(){s.prototype.locStrsChanged.call(this);for(var c=0;c<this.items.length;c++)this.items[c].locStrsChanged()},l.prototype.localeChanged=function(){s.prototype.localeChanged.call(this);for(var c=0;c<this.items.length;c++)this.items[c].localeChanged()},Object.defineProperty(l.prototype,"itemErrorLocation",{get:function(){return this.getPropertyValue("itemErrorLocation")},set:function(c){this.setPropertyValue("itemErrorLocation",c)},enumerable:!1,configurable:!0}),l.prototype.getQuestionErrorLocation=function(){return"default"!==this.itemErrorLocation?this.itemErrorLocation:this.getErrorLocation()},Object.defineProperty(l.prototype,"showItemErrorOnTop",{get:function(){return"top"==this.getQuestionErrorLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"showItemErrorOnBottom",{get:function(){return"bottom"==this.getQuestionErrorLocation()},enumerable:!1,configurable:!0}),l.prototype.getChildErrorLocation=function(c){return this.getQuestionErrorLocation()},l.prototype.isNewValueCorrect=function(c){return L.Helpers.isValueObject(c,!0)},l.prototype.supportGoNextPageAutomatic=function(){for(var c=0;c<this.items.length;c++)if(this.items[c].isEmpty())return!1;return!0},Object.defineProperty(l.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(c){c<1||c>5||this.setPropertyValue("colCount",c)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"itemSize",{get:function(){return this.getPropertyValue("itemSize")},set:function(c){this.setPropertyValue("itemSize",c)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"itemTitleWidth",{get:function(){return this.getPropertyValue("itemTitleWidth")||""},set:function(c){this.setPropertyValue("itemTitleWidth",c)},enumerable:!1,configurable:!0}),l.prototype.onRowCreated=function(c){return c},l.prototype.calcVisibleRows=function(){for(var D,g,c=this.colCount,b=this.items,M=0,P=[],A=0;A<b.length;A++)0==M&&(D=this.onRowCreated(new d),g=this.onRowCreated(new u),this.showItemErrorOnTop?(P.push(g),P.push(D)):(P.push(D),P.push(g))),D.cells.push(new a(b[A],this)),g.cells.push(new o(b[A],this)),(++M>=c||A==b.length-1)&&(M=0,g.onAfterCreated());this.rows=P},l.prototype.getRows=function(){return L.Helpers.isValueEmpty(this.rows)&&this.calcVisibleRows(),this.rows},l.prototype.onValueChanged=function(){s.prototype.onValueChanged.call(this),this.onItemValueChanged()},l.prototype.createTextItem=function(c,b){return new v(c,b)},l.prototype.onItemValueChanged=function(){if(!this.isMultipleItemValueChanging)for(var c=0;c<this.items.length;c++){var b=null;this.value&&this.items[c].name in this.value&&(b=this.value[this.items[c].name]),this.items[c].onValueChanged(b)}},l.prototype.runCondition=function(c,b){s.prototype.runCondition.call(this,c,b),this.items.forEach(function(M){return M.editor.runCondition(c,b)})},l.prototype.getIsRunningValidators=function(){if(s.prototype.getIsRunningValidators.call(this))return!0;for(var c=0;c<this.items.length;c++)if(this.items[c].editor.isRunningValidators)return!0;return!1},l.prototype.hasErrors=function(c,b){var M=this;void 0===c&&(c=!0),void 0===b&&(b=null);for(var D=!1,g=0;g<this.items.length;g++)this.items[g].editor.onCompletedAsyncValidators=function(P){M.raiseOnCompletedAsyncValidators()},(!b||!0!==b.isOnValueChanged||!this.items[g].editor.isEmpty())&&(D=this.items[g].editor.hasErrors(c,b)||D);return s.prototype.hasErrors.call(this,c)||D},l.prototype.getAllErrors=function(){for(var c=s.prototype.getAllErrors.call(this),b=0;b<this.items.length;b++){var M=this.items[b].editor.getAllErrors();M&&M.length>0&&(c=c.concat(M))}return c},l.prototype.clearErrors=function(){s.prototype.clearErrors.call(this);for(var c=0;c<this.items.length;c++)this.items[c].editor.clearErrors()},l.prototype.getContainsErrors=function(){var c=s.prototype.getContainsErrors.call(this);if(c)return c;for(var b=this.items,M=0;M<b.length;M++)if(b[M].editor.containsErrors)return!0;return!1},l.prototype.getIsAnswered=function(){if(!s.prototype.getIsAnswered.call(this))return!1;for(var c=0;c<this.items.length;c++){var b=this.items[c].editor;if(b.isVisible&&!b.isAnswered)return!1}return!0},l.prototype.getProgressInfo=function(){for(var c=[],b=0;b<this.items.length;b++)c.push(this.items[b].editor);return se.SurveyElement.getProgressInfoByElements(c,this.isRequired)},l.prototype.getDisplayValueCore=function(c,b){if(!b)return b;for(var M={},D=0;D<this.items.length;D++){var g=this.items[D],P=b[g.name];if(!L.Helpers.isValueEmpty(P)){var A=g.name;c&&!!g.title&&(A=g.title),M[A]=g.editor.getDisplayValue(c,P)}}return M},l.prototype.allowMobileInDesignMode=function(){return!0},l.prototype.getMultipleTextValue=function(c){return this.value?this.value[c]:null},l.prototype.setMultipleTextValue=function(c,b){this.isMultipleItemValueChanging=!0,this.isValueEmpty(b)&&(b=void 0);var M=this.value;M||(M={}),M[c]=b,this.setNewValue(M),this.isMultipleItemValueChanging=!1},l.prototype.getItemDefaultValue=function(c){return this.defaultValue?this.defaultValue[c]:null},l.prototype.getTextProcessor=function(){return this.textProcessor},l.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},l.prototype.getIsRequiredText=function(){return this.survey?this.survey.requiredText:""},l.prototype.addElement=function(c,b){},l.prototype.removeElement=function(c){return!1},l.prototype.getQuestionTitleLocation=function(){return"left"},l.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},l.prototype.getChildrenLayoutType=function(){return"row"},l.prototype.elementWidthChanged=function(c){},Object.defineProperty(l.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),l.prototype.indexOf=function(c){return-1},l.prototype.ensureRowsVisibility=function(){},l.prototype.validateContainerOnly=function(){},l.prototype.getItemLabelCss=function(c){return(new m.CssClassBuilder).append(this.cssClasses.itemLabel).append(this.cssClasses.itemLabelAnswered,c.editor.isAnswered).append(this.cssClasses.itemLabelAllowFocus,!this.isDesignMode).append(this.cssClasses.itemLabelOnError,c.editor.errors.length>0).append(this.cssClasses.itemWithCharacterCounter,!!c.getMaxLength()).toString()},l.prototype.getItemCss=function(){return(new m.CssClassBuilder).append(this.cssClasses.item).toString()},l.prototype.getItemTitleCss=function(){return(new m.CssClassBuilder).append(this.cssClasses.itemTitle).toString()},y([Object(F.propertyArray)()],l.prototype,"rows",void 0),l}($.Question),d=function(s){function l(){var c=null!==s&&s.apply(this,arguments)||this;return c.isVisible=!0,c.cells=[],c}return C(l,s),y([Object(F.property)()],l.prototype,"isVisible",void 0),y([Object(F.propertyArray)()],l.prototype,"cells",void 0),l}(G.Base),u=function(s){function l(){return null!==s&&s.apply(this,arguments)||this}return C(l,s),l.prototype.onAfterCreated=function(){var c=this,b=function(){c.isVisible=c.cells.some(function(M){var D,g;return(null===(D=M.item)||void 0===D?void 0:D.editor)&&(null===(g=M.item)||void 0===g?void 0:g.editor.hasVisibleErrors)})};this.cells.forEach(function(M){var D,g;(null===(D=M.item)||void 0===D?void 0:D.editor)&&(null===(g=M.item)||void 0===g||g.editor.registerFunctionOnPropertyValueChanged("hasVisibleErrors",b))}),b()},l}(d),a=function(){function s(l,c){this.item=l,this.question=c,this.isErrorsCell=!1}return s.prototype.getClassName=function(){return(new m.CssClassBuilder).append(this.question.cssClasses.cell).toString()},Object.defineProperty(s.prototype,"className",{get:function(){return this.getClassName()},enumerable:!1,configurable:!0}),s}(),o=function(s){function l(){var c=null!==s&&s.apply(this,arguments)||this;return c.isErrorsCell=!0,c}return C(l,s),l.prototype.getClassName=function(){return(new m.CssClassBuilder).append(s.prototype.getClassName.call(this)).append(this.question.cssClasses.cellError).append(this.question.cssClasses.cellErrorTop,this.question.showItemErrorOnTop).append(this.question.cssClasses.cellErrorBottom,this.question.showItemErrorOnBottom).toString()},l}(a);F.Serializer.addClass("multipletextitem",[{name:"!name",isUnique:!0},"isRequired:boolean",{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"inputType",default:"text",choices:T.settings.questions.inputTypes},{name:"title",serializationProperty:"locTitle"},{name:"maxLength:number",default:-1},{name:"size:number",minValue:0},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"defaultValueExpression:expression",visible:!1},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(s){return Object(w.isMinMaxType)(s)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(s){return Object(w.isMinMaxType)(s)}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"}],function(){return new v("")}),F.Serializer.addClass("multipletext",[{name:"!items:textitems",className:"multipletextitem",isArray:!0},{name:"itemSize:number",minValue:0},{name:"colCount:number",default:1,choices:[1,2,3,4,5]},{name:"itemErrorLocation",default:"default",choices:["default","top","bottom"],visible:!1},{name:"itemTitleWidth",category:"layout"}],function(){return new f("")},"question"),R.QuestionFactory.Instance.registerQuestion("multipletext",function(s){var l=new f(s);return f.addDefaultItems(l),l})},"./src/question_paneldynamic.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionPanelDynamicItem",function(){return s}),x.d(j,"QuestionPanelDynamicTemplateSurveyImpl",function(){return l}),x.d(j,"QuestionPanelDynamicModel",function(){return c});var b,G=x("./src/helpers.ts"),se=x("./src/survey-element.ts"),$=x("./src/localizablestring.ts"),w=x("./src/textPreProcessor.ts"),F=x("./src/question.ts"),R=x("./src/jsonobject.ts"),L=x("./src/questionfactory.ts"),m=x("./src/error.ts"),T=x("./src/settings.ts"),C=x("./src/utils/utils.ts"),y=x("./src/utils/cssClassBuilder.ts"),h=x("./src/actions/action.ts"),v=x("./src/base.ts"),f=x("./src/actions/adaptive-container.ts"),d=(b=function(M,D){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,P){g.__proto__=P}||function(g,P){for(var A in P)Object.prototype.hasOwnProperty.call(P,A)&&(g[A]=P[A])})(M,D)},function(M,D){if("function"!=typeof D&&null!==D)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function g(){this.constructor=M}b(M,D),M.prototype=null===D?Object.create(D):(g.prototype=D.prototype,new g)}),o=function(b){function M(D,g,P){var A=b.call(this,P)||this;return A.data=D,A.panelItem=g,A.variableName=P,A.sharedQuestions={},A}return d(M,b),Object.defineProperty(M.prototype,"survey",{get:function(){return this.panelItem.getSurvey()},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panel",{get:function(){return this.panelItem.panel},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panelIndex",{get:function(){return this.data?this.data.getItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"visiblePanelIndex",{get:function(){return this.data?this.data.getVisibleItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),M.prototype.getValues=function(){return this.panelItem.getAllValues()},M.prototype.getQuestionByName=function(D){var g=b.prototype.getQuestionByName.call(this,D);if(g)return g;var P=this.panelIndex;return g=P>-1?this.data.getSharedQuestionFromArray(D,P):void 0,this.sharedQuestions[g?g.name:D]=D,g},M.prototype.getQuestionDisplayText=function(D){var g=this.sharedQuestions[D.name];if(!g)return b.prototype.getQuestionDisplayText.call(this,D);var P=this.panelItem.getValue(g);return D.getDisplayValue(!0,P)},M.prototype.onCustomProcessText=function(D){var g;if(D.name==s.IndexVariableName&&(g=this.panelIndex)>-1)return D.isExists=!0,D.value=g+1,!0;if(D.name==s.VisibleIndexVariableName&&(g=this.visiblePanelIndex)>-1)return D.isExists=!0,D.value=g+1,!0;if(0==D.name.toLowerCase().indexOf(s.ParentItemVariableName+".")){var P=this.data;if(P&&P.parentQuestion&&P.parent&&P.parent.data){var A=new M(P.parentQuestion,P.parent.data,s.ItemVariableName),k=s.ItemVariableName+D.name.substring(s.ParentItemVariableName.length),Z=A.processValue(k,D.returnDisplayValue);D.isExists=Z.isExists,D.value=Z.value}return!0}return!1},M}(w.QuestionTextProcessor),s=function(){function b(M,D){this.data=M,this.panelValue=D,this.textPreProcessor=new o(M,this,b.ItemVariableName),this.setSurveyImpl()}return Object.defineProperty(b.prototype,"panel",{get:function(){return this.panelValue},enumerable:!1,configurable:!0}),b.prototype.setSurveyImpl=function(){this.panel.setSurveyImpl(this)},b.prototype.getValue=function(M){return this.getAllValues()[M]},b.prototype.setValue=function(M,D){var g=this.data.getPanelItemData(this);if(!G.Helpers.isTwoValueEquals(D,g?g[M]:void 0,!1,!0,!1)){this.data.setPanelItemData(this,M,G.Helpers.getUnbindValue(D));for(var A=this.panel.questions,k=b.ItemVariableName+"."+M,Z=0;Z<A.length;Z++){var re=A[Z];re.getValueName()!==M&&re.checkBindings(M,D),re.runTriggers(k,D)}}},b.prototype.getVariable=function(M){},b.prototype.setVariable=function(M,D){},b.prototype.getComment=function(M){return this.getValue(M+T.settings.commentSuffix)||""},b.prototype.setComment=function(M,D,g){this.setValue(M+T.settings.commentSuffix,D)},b.prototype.findQuestionByName=function(M){if(M){var D=b.ItemVariableName+".";if(0===M.indexOf(D))return this.panel.getQuestionByName(M.substring(D.length));var g=this.getSurvey();return g?g.getQuestionByName(M):null}},b.prototype.getAllValues=function(){return this.data.getPanelItemData(this)},b.prototype.getFilteredValues=function(){var M={},D=this.data&&this.data.getRootData()?this.data.getRootData().getFilteredValues():{};for(var g in D)M[g]=D[g];if(M[b.ItemVariableName]=this.getAllValues(),this.data){var P=b.IndexVariableName,A=b.VisibleIndexVariableName;delete M[P],delete M[A],M[P.toLowerCase()]=this.data.getItemIndex(this),M[A.toLowerCase()]=this.data.getVisibleItemIndex(this);var k=this.data;k&&k.parentQuestion&&k.parent&&(M[b.ParentItemVariableName]=k.parent.getValue())}return M},b.prototype.getFilteredProperties=function(){return this.data&&this.data.getRootData()?this.data.getRootData().getFilteredProperties():{survey:this.getSurvey()}},b.prototype.getSurveyData=function(){return this},b.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},b.prototype.getTextProcessor=function(){return this.textPreProcessor},b.ItemVariableName="panel",b.ParentItemVariableName="parentpanel",b.IndexVariableName="panelIndex",b.VisibleIndexVariableName="visiblePanelIndex",b}(),l=function(){function b(M){this.data=M}return b.prototype.getSurveyData=function(){return null},b.prototype.getSurvey=function(){return this.data.getSurvey()},b.prototype.getTextProcessor=function(){return null},b}(),c=function(b){function M(D){var g=b.call(this,D)||this;return g.isAddingNewPanels=!1,g.isSetPanelItemData={},g.createNewArray("panels",function(P){g.onPanelAdded(P)},function(P){g.onPanelRemoved(P)}),g.createNewArray("visiblePanels"),g.templateValue=g.createAndSetupNewPanelObject(),g.template.renderWidth="100%",g.template.selectedElementInDesign=g,g.template.addElementCallback=function(P){g.addOnPropertyChangedCallback(P),g.rebuildPanels()},g.template.removeElementCallback=function(){g.rebuildPanels()},g.createLocalizableString("confirmDeleteText",g,!1,"confirmDelete"),g.createLocalizableString("keyDuplicationError",g,!1,!0),g.createLocalizableString("panelAddText",g,!1,"addPanel"),g.createLocalizableString("panelRemoveText",g,!1,"removePanel"),g.createLocalizableString("panelPrevText",g,!1,"pagePrevText"),g.createLocalizableString("panelNextText",g,!1,"pageNextText"),g.createLocalizableString("noEntriesText",g,!1,"noEntriesText"),g.createLocalizableString("templateTabTitle",g,!0,"panelDynamicTabTextFormat"),g.registerPropertyChangedHandlers(["panelsState"],function(){g.setPanelsState()}),g.registerPropertyChangedHandlers(["isMobile","newPanelPosition","showRangeInProgress","renderMode"],function(){g.updateFooterActions()}),g.registerPropertyChangedHandlers(["allowAddPanel"],function(){g.updateNoEntriesTextDefaultLoc()}),g}return d(M,b),Object.defineProperty(M.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),M.prototype.getFirstQuestionToFocus=function(D){for(var g=0;g<this.visiblePanelsCore.length;g++){var P=this.visiblePanelsCore[g].getFirstQuestionToFocus(D);if(P)return P}return null},M.prototype.setSurveyImpl=function(D,g){b.prototype.setSurveyImpl.call(this,D,g),this.setTemplatePanelSurveyImpl(),this.setPanelsSurveyImpl()},M.prototype.assignOnPropertyChangedToTemplate=function(){for(var D=this.template.elements,g=0;g<D.length;g++)this.addOnPropertyChangedCallback(D[g])},M.prototype.addOnPropertyChangedCallback=function(D){var g=this;D.isQuestion&&D.setParentQuestion(this),D.onPropertyChanged.add(function(P,A){g.onTemplateElementPropertyChanged(P,A)}),D.isPanel&&(D.addElementCallback=function(P){g.addOnPropertyChangedCallback(P)})},M.prototype.onTemplateElementPropertyChanged=function(D,g){if(!this.isLoadingFromJson&&!this.useTemplatePanel&&0!=this.panelsCore.length&&R.Serializer.findProperty(D.getType(),g.name))for(var A=this.panelsCore,k=0;k<A.length;k++){var Z=A[k].getQuestionByName(D.name);Z&&Z[g.name]!==g.newValue&&(Z[g.name]=g.newValue)}},Object.defineProperty(M.prototype,"useTemplatePanel",{get:function(){return this.isDesignMode&&!this.isContentElement},enumerable:!1,configurable:!0}),M.prototype.getType=function(){return"paneldynamic"},M.prototype.clearOnDeletingContainer=function(){this.panelsCore.forEach(function(D){D.clearOnDeletingContainer()})},Object.defineProperty(M.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),M.prototype.removeElement=function(D){return this.template.removeElement(D)},Object.defineProperty(M.prototype,"template",{get:function(){return this.templateValue},enumerable:!1,configurable:!0}),M.prototype.getPanel=function(){return this.template},Object.defineProperty(M.prototype,"templateElements",{get:function(){return this.template.elements},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"templateTitle",{get:function(){return this.template.title},set:function(D){this.template.title=D},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locTemplateTitle",{get:function(){return this.template.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"templateTabTitle",{get:function(){return this.locTemplateTabTitle.text},set:function(D){this.locTemplateTabTitle.text=D},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locTemplateTabTitle",{get:function(){return this.getLocalizableString("templateTabTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"templateDescription",{get:function(){return this.template.description},set:function(D){this.template.description=D},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locTemplateDescription",{get:function(){return this.template.locDescription},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"templateVisibleIf",{get:function(){return this.getPropertyValue("templateVisibleIf")},set:function(D){this.setPropertyValue("templateVisibleIf",D),this.template.visibleIf=D},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"items",{get:function(){for(var D=[],g=0;g<this.panelsCore.length;g++)D.push(this.panelsCore[g].data);return D},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panels",{get:function(){return this.buildPanelsFirstTime(this.canBuildPanels),this.panelsCore},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"visiblePanels",{get:function(){return this.buildPanelsFirstTime(this.canBuildPanels),this.visiblePanelsCore},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panelsCore",{get:function(){return this.getPropertyValue("panels")},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"visiblePanelsCore",{get:function(){return this.getPropertyValue("visiblePanels")},enumerable:!1,configurable:!0}),M.prototype.onPanelAdded=function(D){if(this.onPanelRemovedCore(D),D.visible){for(var g=0,P=this.panelsCore,A=0;A<P.length&&P[A]!==D;A++)P[A].visible&&g++;this.visiblePanelsCore.splice(g,0,D),this.addTabFromToolbar(D,g),this.currentPanel||(this.currentPanel=D)}},M.prototype.onPanelRemoved=function(D){var g=this.onPanelRemovedCore(D);if(this.currentPanel===D){var P=this.visiblePanelsCore;g>=P.length&&(g=P.length-1),this.currentPanel=g>=0?P[g]:null}},M.prototype.onPanelRemovedCore=function(D){var g=this.visiblePanelsCore,P=g.indexOf(D);return P>-1&&(g.splice(P,1),this.removeTabFromToolbar(D)),P},Object.defineProperty(M.prototype,"currentIndex",{get:function(){return this.isRenderModeList?-1:this.useTemplatePanel?0:this.visiblePanelsCore.indexOf(this.currentPanel)},set:function(D){D<0||this.visiblePanelCount<1||(D>=this.visiblePanelCount&&(D=this.visiblePanelCount-1),this.currentPanel=this.visiblePanelsCore[D])},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"currentPanel",{get:function(){if(this.isDesignMode)return this.template;if(this.isRenderModeList||this.useTemplatePanel)return null;var D=this.getPropertyValue("currentPanel",null);return!D&&this.visiblePanelCount>0&&(this.currentPanel=D=this.visiblePanelsCore[0]),D},set:function(D){if(!this.isRenderModeList&&!this.useTemplatePanel){var g=this.getPropertyValue("currentPanel"),P=D?this.visiblePanelsCore.indexOf(D):-1;!(D&&P<0||D===g)&&(g&&g.onHidingContent(),this.setPropertyValue("currentPanel",D),this.updateFooterActions(),this.updateTabToolbarItemsPressedState(),this.fireCallback(this.currentIndexChangedCallback),P>-1&&this.survey)&&this.survey.dynamicPanelCurrentIndexChanged(this,{panel:D,visiblePanelIndex:P})}},enumerable:!1,configurable:!0}),M.prototype.onHidingContent=function(){b.prototype.onHidingContent.call(this),this.currentPanel?this.currentPanel.onHidingContent():this.visiblePanelsCore.forEach(function(D){return D.onHidingContent()})},Object.defineProperty(M.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete")},set:function(D){this.setPropertyValue("confirmDelete",D)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(D){this.setPropertyValue("keyName",D)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(D){this.setLocalizableStringText("confirmDeleteText",D)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(D){this.setLocalizableStringText("keyDuplicationError",D)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panelPrevText",{get:function(){return this.getLocalizableStringText("panelPrevText")},set:function(D){this.setLocalizableStringText("panelPrevText",D)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locPanelPrevText",{get:function(){return this.getLocalizableString("panelPrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panelNextText",{get:function(){return this.getLocalizableStringText("panelNextText")},set:function(D){this.setLocalizableStringText("panelNextText",D)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locPanelNextText",{get:function(){return this.getLocalizableString("panelNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panelAddText",{get:function(){return this.getLocalizableStringText("panelAddText")},set:function(D){this.setLocalizableStringText("panelAddText",D)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locPanelAddText",{get:function(){return this.getLocalizableString("panelAddText")},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panelRemoveText",{get:function(){return this.getLocalizableStringText("panelRemoveText")},set:function(D){this.setLocalizableStringText("panelRemoveText",D)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locPanelRemoveText",{get:function(){return this.getLocalizableString("panelRemoveText")},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isProgressTopShowing",{get:function(){return"progressTop"===this.renderMode||"progressTopBottom"===this.renderMode},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isProgressBottomShowing",{get:function(){return"progressBottom"===this.renderMode||"progressTopBottom"===this.renderMode},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isPrevButtonVisible",{get:function(){return this.currentIndex>0},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isPrevButtonShowing",{get:function(){return this.isPrevButtonVisible},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isNextButtonVisible",{get:function(){return this.currentIndex>=0&&this.currentIndex<this.visiblePanelCount-1},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isNextButtonShowing",{get:function(){return this.isNextButtonVisible},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isRangeShowing",{get:function(){return this.showRangeInProgress&&this.currentIndex>=0&&this.visiblePanelCount>1},enumerable:!1,configurable:!0}),M.prototype.getElementsInDesign=function(D){return void 0===D&&(D=!1),D?[this.template]:this.templateElements},M.prototype.prepareValueForPanelCreating=function(){this.addingNewPanelsValue=this.value,this.isAddingNewPanels=!0,this.isNewPanelsValueChanged=!1},M.prototype.setValueAfterPanelsCreating=function(){this.isAddingNewPanels=!1,this.isNewPanelsValueChanged&&(this.isValueChangingInternally=!0,this.value=this.addingNewPanelsValue,this.isValueChangingInternally=!1)},M.prototype.getValueCore=function(){return this.isAddingNewPanels?this.addingNewPanelsValue:b.prototype.getValueCore.call(this)},M.prototype.setValueCore=function(D){this.isAddingNewPanels?(this.isNewPanelsValueChanged=!0,this.addingNewPanelsValue=D):b.prototype.setValueCore.call(this,D)},M.prototype.setIsMobile=function(D){b.prototype.setIsMobile.call(this,D),(this.panelsCore||[]).forEach(function(g){return g.getQuestions(!0).forEach(function(P){P.setIsMobile(D)})})},M.prototype.themeChanged=function(D){b.prototype.themeChanged.call(this,D),(this.panelsCore||[]).forEach(function(g){return g.getQuestions(!0).forEach(function(P){P.themeChanged(D)})})},Object.defineProperty(M.prototype,"panelCount",{get:function(){return!this.canBuildPanels||this.wasNotRenderedInSurvey?this.getPropertyValue("panelCount"):this.panelsCore.length},set:function(D){if(!(D<0)){if(!this.canBuildPanels||this.wasNotRenderedInSurvey)return void this.setPropertyValue("panelCount",D);if(D!=this.panelsCore.length&&!this.useTemplatePanel){this.updateBindings("panelCount",D),this.prepareValueForPanelCreating();for(var g=this.panelCount;g<D;g++){var P=this.createNewPanel();this.panelsCore.push(P),"list"==this.renderMode&&"default"!=this.panelsState&&("expand"===this.panelsState?P.expand():P.title&&P.collapse())}D<this.panelCount&&this.panelsCore.splice(D,this.panelCount-D),this.setValueAfterPanelsCreating(),this.setValueBasedOnPanelCount(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback)}}},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"visiblePanelCount",{get:function(){return this.visiblePanels.length},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panelsState",{get:function(){return this.getPropertyValue("panelsState")},set:function(D){this.setPropertyValue("panelsState",D)},enumerable:!1,configurable:!0}),M.prototype.setTemplatePanelSurveyImpl=function(){this.template.setSurveyImpl(this.useTemplatePanel?this.surveyImpl:new l(this))},M.prototype.setPanelsSurveyImpl=function(){for(var D=0;D<this.panelsCore.length;D++){var g=this.panelsCore[D];g!=this.template&&g.setSurveyImpl(g.data)}},M.prototype.setPanelsState=function(){if(!this.useTemplatePanel&&"list"==this.renderMode&&this.templateTitle)for(var D=0;D<this.panelsCore.length;D++){var g=this.panelsState;"firstExpanded"===g&&(g=0===D?"expanded":"collapsed"),this.panelsCore[D].state=g}},M.prototype.setValueBasedOnPanelCount=function(){var D=this.value;if((!D||!Array.isArray(D))&&(D=[]),D.length!=this.panelCount){for(var g=D.length;g<this.panelCount;g++)D.push({});D.length>this.panelCount&&D.splice(this.panelCount,D.length-this.panelCount),this.isValueChangingInternally=!0,this.value=D,this.isValueChangingInternally=!1}},Object.defineProperty(M.prototype,"minPanelCount",{get:function(){return this.getPropertyValue("minPanelCount")},set:function(D){D<0&&(D=0),D!=this.minPanelCount&&(this.setPropertyValue("minPanelCount",D),D>this.maxPanelCount&&(this.maxPanelCount=D),this.panelCount<D&&(this.panelCount=D))},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"maxPanelCount",{get:function(){return this.getPropertyValue("maxPanelCount")},set:function(D){D<=0||(D>T.settings.panel.maxPanelCount&&(D=T.settings.panel.maxPanelCount),D!=this.maxPanelCount&&(this.setPropertyValue("maxPanelCount",D),D<this.minPanelCount&&(this.minPanelCount=D),this.panelCount>D&&(this.panelCount=D)))},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"allowAddPanel",{get:function(){return this.getPropertyValue("allowAddPanel")},set:function(D){this.setPropertyValue("allowAddPanel",D)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"newPanelPosition",{get:function(){return this.getPropertyValue("newPanelPosition")},set:function(D){this.setPropertyValue("newPanelPosition",D)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"allowRemovePanel",{get:function(){return this.getPropertyValue("allowRemovePanel")},set:function(D){this.setPropertyValue("allowRemovePanel",D)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"templateTitleLocation",{get:function(){return this.getPropertyValue("templateTitleLocation")},set:function(D){this.setPropertyValue("templateTitleLocation",D.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"templateErrorLocation",{get:function(){return this.getPropertyValue("templateErrorLocation")},set:function(D){this.setPropertyValue("templateErrorLocation",D.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(D){this.setPropertyValue("showQuestionNumbers",D),!this.isLoadingFromJson&&this.survey&&this.survey.questionVisibilityChanged(this,this.visible)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panelRemoveButtonLocation",{get:function(){return this.getPropertyValue("panelRemoveButtonLocation")},set:function(D){this.setPropertyValue("panelRemoveButtonLocation",D)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"showRangeInProgress",{get:function(){return this.getPropertyValue("showRangeInProgress")},set:function(D){this.setPropertyValue("showRangeInProgress",D),this.fireCallback(this.currentIndexChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"renderMode",{get:function(){return this.getPropertyValue("renderMode")},set:function(D){this.setPropertyValue("renderMode",D),this.fireCallback(this.renderModeChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"tabAlign",{get:function(){return this.getPropertyValue("tabAlign")},set:function(D){this.setPropertyValue("tabAlign",D),this.isRenderModeTab&&(this.additionalTitleToolbar.containerCss=this.getAdditionalTitleToolbarCss())},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isRenderModeList",{get:function(){return"list"===this.renderMode},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isRenderModeTab",{get:function(){return"tab"===this.renderMode},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"hasTitleOnLeftTop",{get:function(){if(this.isRenderModeTab&&this.visiblePanelCount>0)return!0;if(!this.hasTitle)return!1;var D=this.getTitleLocation();return"left"===D||"top"===D},enumerable:!1,configurable:!0}),M.prototype.setVisibleIndex=function(D){if(!this.isVisible)return 0;for(var g="onSurvey"==this.showQuestionNumbers?D:0,P=0;P<this.visiblePanelsCore.length;P++){var A=this.setPanelVisibleIndex(this.visiblePanelsCore[P],g,"off"!=this.showQuestionNumbers);"onSurvey"==this.showQuestionNumbers&&(g+=A)}return b.prototype.setVisibleIndex.call(this,"onSurvey"!=this.showQuestionNumbers?D:-1),"onSurvey"!=this.showQuestionNumbers?1:g-D},M.prototype.setPanelVisibleIndex=function(D,g,P){return P?D.setVisibleIndex(g):(D.setVisibleIndex(-1),0)},Object.defineProperty(M.prototype,"canAddPanel",{get:function(){return!(this.isDesignMode||this.isDefaultV2Theme&&!this.legacyNavigation&&!this.isRenderModeList&&this.currentIndex<this.visiblePanelCount-1&&"next"!==this.newPanelPosition)&&this.allowAddPanel&&!this.isReadOnly&&this.panelCount<this.maxPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"canRemovePanel",{get:function(){return!this.isDesignMode&&this.allowRemovePanel&&!this.isReadOnly&&this.panelCount>this.minPanelCount},enumerable:!1,configurable:!0}),M.prototype.rebuildPanels=function(){var D;if(!this.isLoadingFromJson){this.prepareValueForPanelCreating();var g=[];if(this.useTemplatePanel)new s(this,this.template),g.push(this.template);else for(var A=0;A<this.panelCount;A++)this.createNewPanel(),g.push(this.createNewPanel());(D=this.panelsCore).splice.apply(D,function(b,M){for(var D=0,g=M.length,P=b.length;D<g;D++,P++)b[P]=M[D];return b}([0,this.panelsCore.length],g)),this.setValueAfterPanelsCreating(),this.setPanelsState(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.updateTabToolbar()}},Object.defineProperty(M.prototype,"defaultPanelValue",{get:function(){return this.getPropertyValue("defaultPanelValue")},set:function(D){this.setPropertyValue("defaultPanelValue",D)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"defaultValueFromLastPanel",{get:function(){return this.getPropertyValue("defaultValueFromLastPanel")},set:function(D){this.setPropertyValue("defaultValueFromLastPanel",D)},enumerable:!1,configurable:!0}),M.prototype.isDefaultValueEmpty=function(){return b.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultPanelValue)},M.prototype.setDefaultValue=function(){if(!this.isValueEmpty(this.defaultPanelValue)&&this.isValueEmpty(this.defaultValue)){if(this.isEmpty()&&0!=this.panelCount){for(var D=[],g=0;g<this.panelCount;g++)D.push(this.defaultPanelValue);this.value=D}}else b.prototype.setDefaultValue.call(this)},Object.defineProperty(M.prototype,"isValueArray",{get:function(){return!0},enumerable:!1,configurable:!0}),M.prototype.isEmpty=function(){var D=this.value;if(!D||!Array.isArray(D))return!0;for(var g=0;g<D.length;g++)if(!this.isRowEmpty(D[g]))return!1;return!0},M.prototype.getProgressInfo=function(){return se.SurveyElement.getProgressInfoByElements(this.visiblePanelsCore,this.isRequired)},M.prototype.isRowEmpty=function(D){for(var g in D)if(D.hasOwnProperty(g))return!1;return!0},M.prototype.addPanelUI=function(){if(!this.canAddPanel||!this.canLeaveCurrentPanel())return null;var D=this.addPanel();return"list"===this.renderMode&&"default"!==this.panelsState&&D.expand(),D},M.prototype.addPanel=function(D){var g=this.currentIndex;return void 0===D&&(D=g<0?this.panelCount:g+1),(D<0||D>this.panelCount)&&(D=this.panelCount),this.updateValueOnAddingPanel(g<0?this.panelCount-1:g,D),this.isRenderModeList||(this.currentIndex=D),this.survey&&this.survey.dynamicPanelAdded(this),this.panelsCore[D]},M.prototype.updateValueOnAddingPanel=function(D,g){this.panelCount++;var P=this.value;if(Array.isArray(P)&&P.length===this.panelCount){var A=!1,k=this.panelCount-1;if(g<k){A=!0;var Z=P[k];P.splice(k,1),P.splice(g,0,Z)}this.isValueEmpty(this.defaultPanelValue)||(A=!0,this.copyValue(P[g],this.defaultPanelValue)),this.defaultValueFromLastPanel&&P.length>1&&(A=!0,this.copyValue(P[g],P[D>-1&&D<=k?D:k])),A&&(this.value=P)}},M.prototype.canLeaveCurrentPanel=function(){return!("list"!==this.renderMode&&this.currentPanel&&this.currentPanel.hasErrors(!0,!0))},M.prototype.copyValue=function(D,g){for(var P in g)D[P]=g[P]},M.prototype.removePanelUI=function(D){var g=this;!this.canRemovePanel||(this.isRequireConfirmOnDelete(D)?Object(C.confirmActionAsync)(this.confirmDeleteText,function(){g.removePanel(D)},void 0,this.getLocale(),this.survey.rootElement):this.removePanel(D))},M.prototype.isRequireConfirmOnDelete=function(D){if(!this.confirmDelete)return!1;var g=this.getVisualPanelIndex(D);if(g<0||g>=this.visiblePanelCount)return!1;var P=this.visiblePanelsCore[g].getValue();return!this.isValueEmpty(P)&&(this.isValueEmpty(this.defaultPanelValue)||!this.isTwoValueEquals(P,this.defaultPanelValue))},M.prototype.goToNextPanel=function(){return!(this.currentIndex<0||!this.canLeaveCurrentPanel()||(this.currentIndex++,0))},M.prototype.goToPrevPanel=function(){this.currentIndex<0||this.currentIndex--},M.prototype.removePanel=function(k){var g=this.getVisualPanelIndex(k);if(!(g<0||g>=this.visiblePanelCount)){var P=this.visiblePanelsCore[g],A=this.panelsCore.indexOf(P);A<0||this.survey&&!this.survey.dynamicPanelRemoving(this,A,P)||(this.panelsCore.splice(A,1),this.updateBindings("panelCount",this.panelCount),!(k=this.value)||!Array.isArray(k)||A>=k.length||(this.isValueChangingInternally=!0,k.splice(A,1),this.value=k,this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.survey&&this.survey.dynamicPanelRemoved(this,A,P),this.isValueChangingInternally=!1))}},M.prototype.getVisualPanelIndex=function(D){if(G.Helpers.isNumber(D))return D;for(var g=this.visiblePanelsCore,P=0;P<g.length;P++)if(g[P]===D||g[P].data===D)return P;return-1},M.prototype.getPanelIndexById=function(D){for(var g=0;g<this.panelsCore.length;g++)if(this.panelsCore[g].id===D)return g;return-1},M.prototype.locStrsChanged=function(){b.prototype.locStrsChanged.call(this);for(var D=this.panelsCore,g=0;g<D.length;g++)D[g].locStrsChanged();this.additionalTitleToolbar&&this.additionalTitleToolbar.locStrsChanged()},M.prototype.clearIncorrectValues=function(){for(var D=0;D<this.panelsCore.length;D++)this.clearIncorrectValuesInPanel(D)},M.prototype.clearErrors=function(){b.prototype.clearErrors.call(this);for(var D=0;D<this.panelsCore.length;D++)this.panelsCore[D].clearErrors()},M.prototype.getQuestionFromArray=function(D,g){return g<0||g>=this.panelsCore.length?null:this.panelsCore[g].getQuestionByName(D)},M.prototype.clearIncorrectValuesInPanel=function(D){var g=this.panelsCore[D];g.clearIncorrectValues();var P=this.value,A=P&&D<P.length?P[D]:null;if(A){var k=!1;for(var Z in A)this.getSharedQuestionFromArray(Z,D)||g.getQuestionByName(Z)||this.iscorrectValueWithPostPrefix(g,Z,T.settings.commentSuffix)||this.iscorrectValueWithPostPrefix(g,Z,T.settings.matrix.totalsSuffix)||(delete A[Z],k=!0);k&&(P[D]=A,this.value=P)}},M.prototype.iscorrectValueWithPostPrefix=function(D,g,P){return g.indexOf(P)===g.length-P.length&&!!D.getQuestionByName(g.substring(0,g.indexOf(P)))},M.prototype.getSharedQuestionFromArray=function(D,g){return this.survey&&this.valueName?this.survey.getQuestionByValueNameFromArray(this.valueName,D,g):null},M.prototype.addConditionObjectsByContext=function(D,g){for(var P=!!g&&(!0===g||this.template.questions.indexOf(g)>-1),A=new Array,k=this.template.questions,Z=0;Z<k.length;Z++)k[Z].addConditionObjectsByContext(A,g);for(var re=0;re<T.settings.panel.maxPanelCountInCondition;re++){var H="["+re+"].",E=this.getValueName()+H,B=this.processedTitle+H;for(Z=0;Z<A.length;Z++)D.push({name:E+A[Z].name,text:B+A[Z].text,question:A[Z].question})}if(P)for(E=!0===g?this.getValueName()+".":"",B=!0===g?this.processedTitle+".":"",Z=0;Z<A.length;Z++)if(A[Z].question!=g){var U={name:E+s.ItemVariableName+"."+A[Z].name,text:B+s.ItemVariableName+"."+A[Z].text,question:A[Z].question};!0===g&&(U.context=this),D.push(U)}},M.prototype.collectNestedQuestionsCore=function(D,g){var P=g?this.visiblePanelsCore:this.panelsCore;!Array.isArray(P)||P.forEach(function(A){A.questions.forEach(function(k){return k.collectNestedQuestions(D,g)})})},M.prototype.getConditionJson=function(D,g){if(void 0===D&&(D=null),void 0===g&&(g=null),!g)return b.prototype.getConditionJson.call(this,D,g);var P=g,A=g.indexOf(".");A>-1&&(P=g.substring(0,A),g=g.substring(A+1));var k=this.template.getQuestionByName(P);return k?k.getConditionJson(D,g):null},M.prototype.onReadOnlyChanged=function(){var D=this.isReadOnly;this.template.readOnly=D;for(var g=0;g<this.panelsCore.length;g++)this.panelsCore[g].readOnly=D;this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),b.prototype.onReadOnlyChanged.call(this)},M.prototype.updateNoEntriesTextDefaultLoc=function(){var D=this.getLocalizableString("noEntriesText");!D||(D.localizationName=this.isReadOnly||!this.allowAddPanel?"noEntriesReadonlyText":"noEntriesText",D.strChanged())},M.prototype.onSurveyLoad=function(){this.template.readOnly=this.isReadOnly,this.template.onSurveyLoad(),this.buildPanelsFirstTime(),b.prototype.onSurveyLoad.call(this)},M.prototype.buildPanelsFirstTime=function(D){if(void 0===D&&(D=!1),!this.hasPanelBuildFirstTime&&(D||!this.wasNotRenderedInSurvey)){if(this.hasPanelBuildFirstTime=!0,this.isBuildingPanelsFirstTime=!0,this.getPropertyValue("panelCount")>0&&(this.panelCount=this.getPropertyValue("panelCount")),this.useTemplatePanel&&this.rebuildPanels(),this.setPanelsSurveyImpl(),this.setPanelsState(),this.assignOnPropertyChangedToTemplate(),this.survey)for(var g=0;g<this.panelCount;g++)this.survey.dynamicPanelAdded(this);this.updateIsReady(),(this.isReadOnly||!this.allowAddPanel)&&this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),this.isBuildingPanelsFirstTime=!1}},Object.defineProperty(M.prototype,"wasNotRenderedInSurvey",{get:function(){return!this.hasPanelBuildFirstTime&&!this.wasRendered&&!!this.survey},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"canBuildPanels",{get:function(){return!this.isLoadingFromJson&&!this.useTemplatePanel},enumerable:!1,configurable:!0}),M.prototype.onFirstRendering=function(){b.prototype.onFirstRendering.call(this),this.buildPanelsFirstTime(),this.template.onFirstRendering();for(var D=0;D<this.panelsCore.length;D++)this.panelsCore[D].onFirstRendering()},M.prototype.localeChanged=function(){b.prototype.localeChanged.call(this);for(var D=0;D<this.panelsCore.length;D++)this.panelsCore[D].localeChanged()},M.prototype.runCondition=function(D,g){b.prototype.runCondition.call(this,D,g),this.runPanelsCondition(this.panelsCore,D,g)},M.prototype.runTriggers=function(D,g){b.prototype.runTriggers.call(this,D,g),this.visiblePanelsCore.forEach(function(P){P.questions.forEach(function(A){return A.runTriggers(D,g)})})},M.prototype.reRunCondition=function(){!this.data||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},M.prototype.runPanelsCondition=function(D,g,P){var A={};g&&g instanceof Object&&(A=JSON.parse(JSON.stringify(g))),!!this.parentQuestion&&!!this.parent&&(A[s.ParentItemVariableName]=this.parent.getValue()),this.isValueChangingInternally=!0;for(var k=0;k<D.length;k++){var Z=D[k],re=this.getPanelItemData(Z.data),H=G.Helpers.createCopy(A),E=s.ItemVariableName;H[E]=re,H[s.IndexVariableName.toLowerCase()]=k;var B=G.Helpers.createCopy(P);B[E]=Z,Z.runCondition(H,B)}this.isValueChangingInternally=!1},M.prototype.onAnyValueChanged=function(D,g){b.prototype.onAnyValueChanged.call(this,D,g);for(var P=0;P<this.panelsCore.length;P++)this.panelsCore[P].onAnyValueChanged(D,g),this.panelsCore[P].onAnyValueChanged(s.ItemVariableName,"")},M.prototype.hasKeysDuplicated=function(D,g){void 0===g&&(g=null);for(var A,P=[],k=0;k<this.panelsCore.length;k++)A=this.isValueDuplicated(this.panelsCore[k],P,g,D)||A;return A},M.prototype.updatePanelsContainsErrors=function(){for(var g=this.changingValueQuestion.parent;g;)g.updateContainsErrors(),g=g.parent;this.updateContainsErrors()},M.prototype.hasErrors=function(D,g){if(void 0===D&&(D=!0),void 0===g&&(g=null),this.isValueChangingInternally||this.isBuildingPanelsFirstTime)return!1;var P=!1;return this.changingValueQuestion?(P=this.changingValueQuestion.hasErrors(D,g),P=this.hasKeysDuplicated(D,g)||P,this.updatePanelsContainsErrors()):P=this.hasErrorInPanels(D,g),b.prototype.hasErrors.call(this,D,g)||P},M.prototype.getContainsErrors=function(){var D=b.prototype.getContainsErrors.call(this);if(D)return D;for(var g=this.panelsCore,P=0;P<g.length;P++)if(g[P].containsErrors)return!0;return!1},M.prototype.getIsAnswered=function(){if(!b.prototype.getIsAnswered.call(this))return!1;for(var D=this.visiblePanelsCore,g=0;g<D.length;g++){var P=[];D[g].addQuestionsToList(P,!0);for(var A=0;A<P.length;A++)if(!P[A].isAnswered)return!1}return!0},M.prototype.clearValueOnHidding=function(D){if(!D){if(this.survey&&"none"===this.survey.getQuestionClearIfInvisible("onHidden"))return;this.clearValueInPanelsIfInvisible("onHiddenContainer")}b.prototype.clearValueOnHidding.call(this,D)},M.prototype.clearValueIfInvisible=function(D){void 0===D&&(D="onHidden"),this.clearValueInPanelsIfInvisible("onHidden"===D?"onHiddenContainer":D),b.prototype.clearValueIfInvisible.call(this,D)},M.prototype.clearValueInPanelsIfInvisible=function(D){for(var g=0;g<this.panelsCore.length;g++){var P=this.panelsCore[g],A=P.questions;this.isSetPanelItemData={};for(var k=0;k<A.length;k++){var Z=A[k];Z.visible&&!P.isVisible||(Z.clearValueIfInvisible(D),this.isSetPanelItemData[Z.getValueName()]=this.maxCheckCount+1)}}this.isSetPanelItemData={}},M.prototype.getIsRunningValidators=function(){if(b.prototype.getIsRunningValidators.call(this))return!0;for(var D=0;D<this.panelsCore.length;D++)for(var g=this.panelsCore[D].questions,P=0;P<g.length;P++)if(g[P].isRunningValidators)return!0;return!1},M.prototype.getAllErrors=function(){for(var D=b.prototype.getAllErrors.call(this),g=this.visiblePanelsCore,P=0;P<g.length;P++)for(var A=g[P].questions,k=0;k<A.length;k++){var Z=A[k].getAllErrors();Z&&Z.length>0&&(D=D.concat(Z))}return D},M.prototype.getDisplayValueCore=function(D,g){var P=this.getUnbindValue(g);if(!P||!Array.isArray(P))return P;for(var A=0;A<this.panelsCore.length&&A<P.length;A++){var k=P[A];!k||(P[A]=this.getPanelDisplayValue(A,k,D))}return P},M.prototype.getPanelDisplayValue=function(D,g,P){if(!g)return g;for(var A=this.panelsCore[D],k=Object.keys(g),Z=0;Z<k.length;Z++){var re=k[Z],H=A.getQuestionByValueName(re);if(H||(H=this.getSharedQuestionFromArray(re,D)),H){var E=H.getDisplayValue(P,g[re]);g[re]=E,P&&H.title&&H.title!==re&&(g[H.title]=E,delete g[re])}}return g},M.prototype.hasErrorInPanels=function(D,g){for(var P=!1,A=this.visiblePanelsCore,k=[],Z=0;Z<A.length;Z++)this.setOnCompleteAsyncInPanel(A[Z]);for(Z=0;Z<A.length;Z++){var re=A[Z].hasErrors(D,!!g&&g.focuseOnFirstError,g);re=this.isValueDuplicated(A[Z],k,g,D)||re,!this.isRenderModeList&&re&&!P&&(this.currentIndex=Z),P=re||P}return P},M.prototype.setOnCompleteAsyncInPanel=function(D){for(var g=this,P=D.questions,A=0;A<P.length;A++)P[A].onCompletedAsyncValidators=function(k){g.raiseOnCompletedAsyncValidators()}},M.prototype.isValueDuplicated=function(D,g,P,A){if(!this.keyName)return!1;var k=D.getQuestionByValueName(this.keyName);if(!k||k.isEmpty())return!1;var Z=k.value;this.changingValueQuestion&&k!=this.changingValueQuestion&&k.hasErrors(A,P);for(var re=0;re<g.length;re++)if(Z==g[re])return A&&k.addError(new m.KeyDuplicationError(this.keyDuplicationError,this)),!!P&&!P.firstErrorQuestion&&(P.firstErrorQuestion=k),!0;return g.push(Z),!1},M.prototype.getPanelActions=function(D){var g=this,P=D.footerActions;return"right"!==this.panelRemoveButtonLocation&&P.push(new h.Action({id:"remove-panel-"+D.id,component:"sv-paneldynamic-remove-btn",visible:new v.ComputedUpdater(function(){return[g.canRemovePanel,"collapsed"!==D.state,"right"!==g.panelRemoveButtonLocation].every(function(A){return!0===A})}),data:{question:this,panel:D}})),this.survey&&(P=this.survey.getUpdatedPanelFooterActions(D,P,this)),P},M.prototype.createNewPanel=function(){var D=this,g=this.createAndSetupNewPanelObject(),P=this.template.toJSON();(new R.JsonObject).toObject(P,g),g.renderWidth="100%",g.updateCustomWidgets(),new s(this,g),!this.isDesignMode&&!this.isReadOnly&&!this.isValueEmpty(g.getValue())&&this.runPanelsCondition([g],this.getDataFilteredValues(),this.getDataFilteredProperties()),g.onFirstRendering();for(var A=g.questions,k=0;k<A.length;k++)A[k].setParentQuestion(this);return g.locStrsChanged(),g.onGetFooterActionsCallback=function(){return D.getPanelActions(g)},g.onGetFooterToolbarCssCallback=function(){return D.cssClasses.panelFooter},g.registerPropertyChangedHandlers(["visible"],function(){g.visible?D.onPanelAdded(g):D.onPanelRemoved(g),D.updateFooterActions()}),g},M.prototype.createAndSetupNewPanelObject=function(){var D=this,g=this.createNewPanelObject();return g.isInteractiveDesignElement=!1,g.setParentQuestion(this),g.onGetQuestionTitleLocation=function(){return D.getTemplateQuestionTitleLocation()},g},M.prototype.getTemplateQuestionTitleLocation=function(){return"default"!=this.templateTitleLocation?this.templateTitleLocation:this.getTitleLocationCore()},M.prototype.getChildErrorLocation=function(D){return"default"!==this.templateErrorLocation?this.templateErrorLocation:b.prototype.getChildErrorLocation.call(this,D)},M.prototype.createNewPanelObject=function(){return R.Serializer.createClass("panel")},M.prototype.setPanelCountBasedOnValue=function(){if(!this.isValueChangingInternally&&!this.useTemplatePanel){var D=this.value,g=D&&Array.isArray(D)?D.length:0;0==g&&this.getPropertyValue("panelCount")>0&&(g=this.getPropertyValue("panelCount")),this.settingPanelCountBasedOnValue=!0,this.panelCount=g,this.settingPanelCountBasedOnValue=!1}},M.prototype.setQuestionValue=function(D){if(!this.settingPanelCountBasedOnValue){b.prototype.setQuestionValue.call(this,D,!1),this.setPanelCountBasedOnValue();for(var g=0;g<this.panelsCore.length;g++)this.panelUpdateValueFromSurvey(this.panelsCore[g]);this.updateIsAnswered()}},M.prototype.onSurveyValueChanged=function(D){if(void 0!==D||!this.isAllPanelsEmpty()){b.prototype.onSurveyValueChanged.call(this,D);for(var g=0;g<this.panelsCore.length;g++)this.panelSurveyValueChanged(this.panelsCore[g]);void 0===D&&this.setValueBasedOnPanelCount(),this.updateIsReady()}},M.prototype.isAllPanelsEmpty=function(){for(var D=0;D<this.panelsCore.length;D++)if(!G.Helpers.isValueEmpty(this.panelsCore[D].getValue()))return!1;return!0},M.prototype.panelUpdateValueFromSurvey=function(D){for(var g=D.questions,P=this.getPanelItemData(D.data),A=0;A<g.length;A++){var k=g[A];k.updateValueFromSurvey(P[k.getValueName()]),k.updateCommentFromSurvey(P[k.getValueName()+T.settings.commentSuffix]),k.initDataUI()}},M.prototype.panelSurveyValueChanged=function(D){for(var g=D.questions,P=this.getPanelItemData(D.data),A=0;A<g.length;A++){var k=g[A];k.onSurveyValueChanged(P[k.getValueName()])}},M.prototype.onSetData=function(){b.prototype.onSetData.call(this),this.useTemplatePanel&&(this.setTemplatePanelSurveyImpl(),this.rebuildPanels())},M.prototype.isNewValueCorrect=function(D){return Array.isArray(D)},M.prototype.getItemIndex=function(D){var g=this.items.indexOf(D);return g>-1?g:this.items.length},M.prototype.getVisibleItemIndex=function(D){for(var g=this.visiblePanelsCore,P=0;P<g.length;P++)if(g[P].data===D)return P;return g.length},M.prototype.getPanelItemData=function(D){var g=this.items,P=g.indexOf(D),A=this.value;return P<0&&Array.isArray(A)&&A.length>g.length&&(P=g.length),P<0||!A||!Array.isArray(A)||A.length<=P?{}:A[P]},M.prototype.setPanelItemData=function(D,g,P){if(!(this.isSetPanelItemData[g]>this.maxCheckCount)){this.isSetPanelItemData[g]||(this.isSetPanelItemData[g]=0),this.isSetPanelItemData[g]++;var A=this.items,k=A.indexOf(D);k<0&&(k=A.length);var Z=this.getUnbindValue(this.value);if((!Z||!Array.isArray(Z))&&(Z=[]),Z.length<=k)for(var re=Z.length;re<=k;re++)Z.push({});Z[k]||(Z[k]={}),this.isValueEmpty(P)?delete Z[k][g]:Z[k][g]=P,k>=0&&k<this.panelsCore.length&&(this.changingValueQuestion=this.panelsCore[k].getQuestionByValueName(g)),this.value=Z,this.changingValueQuestion=null,this.survey&&this.survey.dynamicPanelItemValueChanged(this,{question:this,panel:D.panel,name:g,itemIndex:k,itemValue:Z[k],value:P}),this.isSetPanelItemData[g]--,this.isSetPanelItemData[g]-1&&delete this.isSetPanelItemData[g]}},M.prototype.getRootData=function(){return this.data},M.prototype.getPlainData=function(D){void 0===D&&(D={includeEmpty:!0});var g=b.prototype.getPlainData.call(this,D);if(g){g.isNode=!0;var P=Array.isArray(g.data)?[].concat(g.data):[];g.data=this.panels.map(function(A,k){var Z={name:A.name||k,title:A.title||"Panel",value:A.getValue(),displayValue:A.getValue(),getString:function(re){return"object"==typeof re?JSON.stringify(re):re},isNode:!0,data:A.questions.map(function(re){return re.getPlainData(D)}).filter(function(re){return!!re})};return(D.calculations||[]).forEach(function(re){Z[re.propertyName]=A[re.propertyName]}),Z}),g.data=g.data.concat(P)}return g},M.prototype.updateElementCss=function(D){b.prototype.updateElementCss.call(this,D);for(var g=0;g<this.panelsCore.length;g++)this.panelsCore[g].updateElementCss(D)},Object.defineProperty(M.prototype,"progressText",{get:function(){return this.getLocalizationFormatString("panelDynamicProgressText",this.currentIndex+1,this.visiblePanelCount)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"progress",{get:function(){return(this.currentIndex+1)/this.visiblePanelCount*100+"%"},enumerable:!1,configurable:!0}),M.prototype.getRootCss=function(){return(new y.CssClassBuilder).append(b.prototype.getRootCss.call(this)).append(this.cssClasses.empty,this.getShowNoEntriesPlaceholder()).toString()},Object.defineProperty(M.prototype,"cssHeader",{get:function(){var D=this.isRenderModeTab&&!!this.panelCount;return(new y.CssClassBuilder).append(this.cssClasses.header).append(this.cssClasses.headerTop,this.hasTitleOnTop||D).append(this.cssClasses.headerTab,D).toString()},enumerable:!1,configurable:!0}),M.prototype.getPanelWrapperCss=function(){return(new y.CssClassBuilder).append(this.cssClasses.panelWrapper).append(this.cssClasses.panelWrapperInRow,"right"===this.panelRemoveButtonLocation).toString()},M.prototype.getPanelRemoveButtonCss=function(){return(new y.CssClassBuilder).append(this.cssClasses.button).append(this.cssClasses.buttonRemove).append(this.cssClasses.buttonRemoveRight,"right"===this.panelRemoveButtonLocation).toString()},M.prototype.getAddButtonCss=function(){return(new y.CssClassBuilder).append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.buttonAdd+"--list-mode","list"===this.renderMode).toString()},M.prototype.getPrevButtonCss=function(){return(new y.CssClassBuilder).append(this.cssClasses.buttonPrev).append(this.cssClasses.buttonPrevDisabled,!this.isPrevButtonVisible).toString()},M.prototype.getNextButtonCss=function(){return(new y.CssClassBuilder).append(this.cssClasses.buttonNext).append(this.cssClasses.buttonNextDisabled,!this.isNextButtonVisible).toString()},Object.defineProperty(M.prototype,"noEntriesText",{get:function(){return this.getLocalizableStringText("noEntriesText")},set:function(D){this.setLocalizableStringText("noEntriesText",D)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locNoEntriesText",{get:function(){return this.getLocalizableString("noEntriesText")},enumerable:!1,configurable:!0}),M.prototype.getShowNoEntriesPlaceholder=function(){return!!this.cssClasses.noEntriesPlaceholder&&!this.isDesignMode&&0===this.visiblePanelCount},M.prototype.needResponsiveWidth=function(){var D=this.getPanel();return!(!D||!D.needResponsiveWidth())},M.prototype.getAdditionalTitleToolbar=function(){return this.isRenderModeTab?(this.additionalTitleToolbarValue||(this.additionalTitleToolbarValue=new f.AdaptiveActionContainer,this.additionalTitleToolbarValue.dotsItem.popupModel.showPointer=!1,this.additionalTitleToolbarValue.dotsItem.popupModel.verticalPosition="bottom",this.additionalTitleToolbarValue.dotsItem.popupModel.horizontalPosition="center",this.updateElementCss(!1)),this.additionalTitleToolbarValue):null},Object.defineProperty(M.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.initFooterToolbar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),M.prototype.updateFooterActions=function(){this.updateFooterActionsCallback&&this.updateFooterActionsCallback()},M.prototype.initFooterToolbar=function(){var D=this;this.footerToolbarValue=this.createActionContainer();var g=[],P=new h.Action({id:"sv-pd-prev-btn",title:this.panelPrevText,action:function(){D.goToPrevPanel()}}),A=new h.Action({id:"sv-pd-next-btn",title:this.panelNextText,action:function(){D.goToNextPanel()}}),k=new h.Action({id:"sv-pd-add-btn",component:"sv-paneldynamic-add-btn",data:{question:this}}),Z=new h.Action({id:"sv-prev-btn-icon",component:"sv-paneldynamic-prev-btn",data:{question:this}}),re=new h.Action({id:"sv-pd-progress-text",component:"sv-paneldynamic-progress-text",data:{question:this}}),H=new h.Action({id:"sv-pd-next-btn-icon",component:"sv-paneldynamic-next-btn",data:{question:this}});g.push(P,A,k,Z,re,H),this.updateFooterActionsCallback=function(){var E=D.legacyNavigation,B=D.isRenderModeList,U=D.isMobile,ae=!E&&!B;P.visible=ae&&D.currentIndex>0,A.visible=ae&&D.currentIndex<D.visiblePanelCount-1,A.needSpace=U&&A.visible&&P.visible,k.visible=D.canAddPanel,k.needSpace=D.isMobile&&!A.visible&&P.visible,re.visible=!D.isRenderModeList&&!U,re.needSpace=!E&&!D.isMobile;var Pe=E&&!B;Z.visible=Pe,H.visible=Pe,Z.needSpace=Pe},this.updateFooterActionsCallback(),this.footerToolbarValue.setItems(g)},M.prototype.createTabByPanel=function(D,g){var P=this;if(this.isRenderModeTab){var A=new $.LocalizableString(D,!0);A.onGetTextCallback=function(re){if(!P.survey)return re;var H={title:re,panel:D,visiblePanelIndex:g};return P.survey.dynamicPanelGetTabTitle(P,H),H.title},A.sharedData=this.locTemplateTabTitle;var k=this.getPanelIndexById(D.id)===this.currentIndex,Z=new h.Action({id:D.id,pressed:k,locTitle:A,disableHide:k,action:function(){P.currentIndex=P.getPanelIndexById(Z.id)}});return Z}},M.prototype.getAdditionalTitleToolbarCss=function(D){var g=null!=D?D:this.cssClasses;return(new y.CssClassBuilder).append(g.tabsRoot).append(g.tabsLeft,"left"===this.tabAlign).append(g.tabsRight,"right"===this.tabAlign).append(g.tabsCenter,"center"===this.tabAlign).toString()},M.prototype.updateTabToolbarItemsPressedState=function(){if(this.isRenderModeTab&&!(this.currentIndex<0||this.currentIndex>=this.visiblePanelCount)){var D=this.visiblePanelsCore[this.currentIndex];this.additionalTitleToolbar.renderedActions.forEach(function(g){var P=g.id===D.id;g.pressed=P,g.disableHide=P,"popup"===g.mode&&g.disableHide&&g.raiseUpdate()})}},M.prototype.updateTabToolbar=function(){var D=this;if(this.isRenderModeTab){for(var g=[],P=this.visiblePanelsCore,A=function(re){k.visiblePanelsCore.forEach(function(H){return g.push(D.createTabByPanel(P[re],re))})},k=this,Z=0;Z<P.length;Z++)A(Z);this.additionalTitleToolbar.setItems(g)}},M.prototype.addTabFromToolbar=function(D,g){if(this.isRenderModeTab){var P=this.createTabByPanel(D,g);this.additionalTitleToolbar.actions.splice(g,0,P),this.updateTabToolbarItemsPressedState()}},M.prototype.removeTabFromToolbar=function(D){if(this.isRenderModeTab){var g=this.additionalTitleToolbar.getActionById(D.id);!g||(this.additionalTitleToolbar.actions.splice(this.additionalTitleToolbar.actions.indexOf(g),1),this.updateTabToolbarItemsPressedState())}},Object.defineProperty(M.prototype,"showLegacyNavigation",{get:function(){return!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"showNavigation",{get:function(){return this.visiblePanelCount>0&&!this.showLegacyNavigation&&!!this.cssClasses.footer},enumerable:!1,configurable:!0}),M.prototype.showSeparator=function(D){return this.isRenderModeList&&D<this.visiblePanelCount-1},M.prototype.calcCssClasses=function(D){var g=b.prototype.calcCssClasses.call(this,D),P=this.additionalTitleToolbar;return P&&(P.containerCss=this.getAdditionalTitleToolbarCss(g),P.cssClasses=g.tabs,P.dotsItem.cssClasses=g.tabs,P.dotsItem.popupModel.contentComponentData.model.cssClasses=D.list),g},M.maxCheckCount=3,function(b,M,D,g){var k,P=arguments.length,A=P<3?M:null===g?g=Object.getOwnPropertyDescriptor(M,D):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=Reflect.decorate(b,M,D,g);else for(var Z=b.length-1;Z>=0;Z--)(k=b[Z])&&(A=(P<3?k(A):P>3?k(M,D,A):k(M,D))||A);P>3&&A&&Object.defineProperty(M,D,A)}([Object(R.property)({defaultValue:!1,onSet:function(D,g){g.updateFooterActions()}})],M.prototype,"legacyNavigation",void 0),M}(F.Question);R.Serializer.addClass("paneldynamic",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"templateElements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"templateTitle:text",serializationProperty:"locTemplateTitle"},{name:"templateTabTitle",serializationProperty:"locTemplateTabTitle",visibleIf:function(b){return"tab"===b.renderMode}},{name:"templateDescription:text",serializationProperty:"locTemplateDescription"},{name:"minWidth",defaultFunc:function(){return"auto"}},{name:"noEntriesText:text",serializationProperty:"locNoEntriesText"},{name:"allowAddPanel:boolean",default:!0},{name:"allowRemovePanel:boolean",default:!0},{name:"newPanelPosition",choices:["next","last"],default:"last",category:"layout"},{name:"panelCount:number",isBindable:!0,default:0,choices:[0,1,2,3,4,5,6,7,8,9,10]},{name:"minPanelCount:number",default:0,minValue:0},{name:"maxPanelCount:number",default:T.settings.panel.maxPanelCount},"defaultPanelValue:panelvalue","defaultValueFromLastPanel:boolean",{name:"panelsState",default:"default",choices:["default","collapsed","expanded","firstExpanded"]},{name:"keyName"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"confirmDelete:boolean"},{name:"confirmDeleteText",serializationProperty:"locConfirmDeleteText"},{name:"panelAddText",serializationProperty:"locPanelAddText"},{name:"panelRemoveText",serializationProperty:"locPanelRemoveText"},{name:"panelPrevText",serializationProperty:"locPanelPrevText"},{name:"panelNextText",serializationProperty:"locPanelNextText"},{name:"showQuestionNumbers",default:"off",choices:["off","onPanel","onSurvey"]},{name:"showRangeInProgress:boolean",default:!0},{name:"renderMode",default:"list",choices:["list","progressTop","progressBottom","progressTopBottom","tab"]},{name:"tabAlign",default:"center",choices:["center","left","right"],visibleIf:function(b){return"tab"===b.renderMode}},{name:"templateTitleLocation",default:"default",choices:["default","top","bottom","left"]},{name:"templateErrorLocation",default:"default",choices:["default","top","bottom"]},{name:"templateVisibleIf:expression",category:"logic"},{name:"panelRemoveButtonLocation",default:"bottom",choices:["bottom","right"]}],function(){return new c("")},"question"),L.QuestionFactory.Instance.registerQuestion("paneldynamic",function(b){return new c(b)})},"./src/question_radiogroup.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionRadiogroupModel",function(){return L});var m,G=x("./src/jsonobject.ts"),se=x("./src/questionfactory.ts"),$=x("./src/question_baseselect.ts"),w=x("./src/actions/action.ts"),F=x("./src/base.ts"),R=(m=function(T,C){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,h){y.__proto__=h}||function(y,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(y[v]=h[v])})(T,C)},function(T,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function y(){this.constructor=T}m(T,C),T.prototype=null===C?Object.create(C):(y.prototype=C.prototype,new y)}),L=function(m){function T(C){return m.call(this,C)||this}return R(T,m),T.prototype.getDefaultItemComponent=function(){return"survey-radiogroup-item"},T.prototype.getType=function(){return"radiogroup"},T.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(T.prototype,"selectedItem",{get:function(){return this.getSingleSelectedItem()},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"showClearButton",{get:function(){return this.getPropertyValue("showClearButton")},set:function(C){this.setPropertyValue("showClearButton",C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"canShowClearButton",{get:function(){return this.showClearButton&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),T.prototype.supportGoNextPageAutomatic=function(){return!0===this.isMouseDown&&!this.isOtherSelected},T.prototype.setNewComment=function(C){this.isMouseDown=!0,m.prototype.setNewComment.call(this,C),this.isMouseDown=!1},Object.defineProperty(T.prototype,"showClearButtonInContent",{get:function(){return!this.isDefaultV2Theme&&this.canShowClearButton},enumerable:!1,configurable:!0}),T.prototype.clickItemHandler=function(C){this.renderedValue=C.value},T.prototype.getDefaultTitleActions=function(){var C=this,y=[];if(this.isDefaultV2Theme&&!this.isDesignMode){var h=new w.Action({title:this.clearButtonCaption,id:"sv-clr-btn-"+this.id,action:function(){C.clearValue()},innerCss:this.cssClasses.clearButton,visible:new F.ComputedUpdater(function(){return C.canShowClearButton})});y.push(h)}return y},Object.defineProperty(T.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"a11y_input_ariaRole",{get:function(){return"radiogroup"},enumerable:!1,configurable:!0}),T}($.QuestionCheckboxBase);G.Serializer.addClass("radiogroup",[{name:"showClearButton:boolean",default:!1},{name:"separateSpecialChoices",visible:!0},{name:"itemComponent",visible:!1,default:"survey-radiogroup-item"}],function(){return new L("")},"checkboxbase"),se.QuestionFactory.Instance.registerQuestion("radiogroup",function(m){var T=new L(m);return T.choices=se.QuestionFactory.DefaultChoices,T})},"./src/question_ranking.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionRankingModel",function(){return v});var f,G=x("./src/dragdrop/ranking-choices.ts"),se=x("./src/dragdrop/ranking-select-to-rank.ts"),$=x("./src/itemvalue.ts"),w=x("./src/jsonobject.ts"),F=x("./src/questionfactory.ts"),R=x("./src/question_checkbox.ts"),L=x("./src/utils/cssClassBuilder.ts"),m=x("./src/utils/devices.ts"),T=x("./src/helpers.ts"),C=x("./src/settings.ts"),y=(f=function(d,u){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(a[s]=o[s])})(d,u)},function(d,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function a(){this.constructor=d}f(d,u),d.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)}),h=function(f,d,u,a){var l,o=arguments.length,s=o<3?d:null===a?a=Object.getOwnPropertyDescriptor(d,u):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(f,d,u,a);else for(var c=f.length-1;c>=0;c--)(l=f[c])&&(s=(o<3?l(s):o>3?l(d,u,s):l(d,u))||s);return o>3&&s&&Object.defineProperty(d,u,s),s},v=function(f){function d(u){var a=f.call(this,u)||this;return a.domNode=null,a.onVisibleChoicesChanged=function(){if(f.prototype.onVisibleChoicesChanged.call(a),a.carryForwardStartUnranked&&!a.isValueSetByUser&&!a.selectToRankEnabled&&(a.value=[]),1===a.visibleChoices.length&&!a.selectToRankEnabled)return a.value=[],a.value.push(a.visibleChoices[0].value),void a.updateRankingChoices();a.isEmpty()||a.selectToRankEnabled||(a.visibleChoices.length>a.value.length&&a.addToValueByVisibleChoices(),a.visibleChoices.length<a.value.length&&a.removeFromValueByVisibleChoices()),a.updateRankingChoices()},a.localeChanged=function(){f.prototype.localeChanged.call(a),a.updateRankingChoices()},a.handlePointerDown=function(o,s,l){var c=o.target;!a.isDragStartNodeValid(c)||a.allowStartDrag&&a.canStartDragDueMaxSelectedChoices(c)&&a.canStartDragDueItemEnabled(s)&&a.dragDropRankingChoices.startDrag(o,s,a,l)},a.handleKeydown=function(o,s){if(!a.isDesignMode){var l=o.key,c=a.rankingChoices.indexOf(s);if(a.selectToRankEnabled)return void a.handleKeydownSelectToRank(o,s);"ArrowUp"===l&&c&&(a.handleArrowKeys(c,s,!1),o.preventDefault()),"ArrowDown"===l&&c!==a.rankingChoices.length-1&&(a.handleArrowKeys(c,s,!0),o.preventDefault())}},a.handleArrowKeys=function(o,s,l){var c=l?1:-1,b=a.rankingChoices;b.splice(o,1),b.splice(o+c,0,s),a.setValue(),setTimeout(function(){a.focusItem(o+c)},1)},a.focusItem=function(o,s){a.selectToRankEnabled&&s?a.domNode.querySelectorAll("[data-ranking='"+s+"'] ."+a.cssClasses.item)[o].focus():a.domNode.querySelectorAll("."+a.cssClasses.item)[o].focus()},a.isValueSetByUser=!1,a.setValue=function(){var o=[];a.rankingChoices.forEach(function(s){o.push(s.value)}),a.value=o,a.isValueSetByUser=!0},a.createNewArray("rankingChoices"),a.registerFunctionOnPropertyValueChanged("selectToRankEnabled",function(){a.clearValue(),a.setDragDropRankingChoices(),a.updateRankingChoices()}),a}return y(d,f),d.prototype.getDefaultItemComponent=function(){return""},d.prototype.getType=function(){return"ranking"},d.prototype.getItemTabIndex=function(u){if(!this.isDesignMode&&!u.disabled)return 0},d.prototype.supportContainerQueries=function(){return this.selectToRankEnabled},Object.defineProperty(d.prototype,"rootClass",{get:function(){return(new L.CssClassBuilder).append(this.cssClasses.root).append(this.cssClasses.rootMobileMod,this.isMobileMode()).append(this.cssClasses.rootDisabled,this.isReadOnly).append(this.cssClasses.rootDesignMode,!!this.isDesignMode).append(this.cssClasses.itemOnError,this.hasCssError()).append(this.cssClasses.rootDragHandleAreaIcon,"icon"===C.settings.rankingDragHandleArea).append(this.cssClasses.rootSelectToRankMod,this.selectToRankEnabled).append(this.cssClasses.rootSelectToRankAlignHorizontal,this.selectToRankEnabled&&"horizontal"===this.renderedSelectToRankAreasLayout).append(this.cssClasses.rootSelectToRankAlignVertical,this.selectToRankEnabled&&"vertical"===this.renderedSelectToRankAreasLayout).toString()},enumerable:!1,configurable:!0}),d.prototype.getItemClassCore=function(u,a){var o=this.rankingChoices.indexOf(u),s=this.rankingChoices.indexOf(this.currentDropTarget);return(new L.CssClassBuilder).append(f.prototype.getItemClassCore.call(this,u,a)).append(this.cssClasses.itemGhostMod,this.currentDropTarget===u).append("sv-dragdrop-movedown",o===s+1&&"down"===this.dropTargetNodeMove).append("sv-dragdrop-moveup",o===s-1&&"up"===this.dropTargetNodeMove).toString()},d.prototype.getContainerClasses=function(u){var a=!1,o="to"===u,s="from"===u;return o?a=0===this.rankingChoices.length:s&&(a=0===this.unRankingChoices.length),(new L.CssClassBuilder).append(this.cssClasses.container).append(this.cssClasses.containerToMode,o).append(this.cssClasses.containerFromMode,s).append(this.cssClasses.containerEmptyMode,a).toString()},d.prototype.isItemCurrentDropTarget=function(u){return this.dragDropRankingChoices.dropTarget===u},Object.defineProperty(d.prototype,"ghostPositionCssClass",{get:function(){return"top"===this.ghostPosition?this.cssClasses.dragDropGhostPositionTop:"bottom"===this.ghostPosition?this.cssClasses.dragDropGhostPositionBottom:""},enumerable:!1,configurable:!0}),d.prototype.getItemIndexClasses=function(u){var a;return a=this.selectToRankEnabled?-1!==this.unRankingChoices.indexOf(u):this.isEmpty(),(new L.CssClassBuilder).append(this.cssClasses.itemIndex).append(this.cssClasses.itemIndexEmptyMode,a).toString()},d.prototype.getNumberByIndex=function(u){return this.isEmpty()?"":u+1+""},d.prototype.setSurveyImpl=function(u,a){f.prototype.setSurveyImpl.call(this,u,a),this.setDragDropRankingChoices(),this.updateRankingChoices()},d.prototype.isAnswerCorrect=function(){return T.Helpers.isArraysEqual(this.value,this.correctAnswer,!1)},Object.defineProperty(d.prototype,"requireStrictCompare",{get:function(){return!0},enumerable:!1,configurable:!0}),d.prototype.onSurveyValueChanged=function(u){f.prototype.onSurveyValueChanged.call(this,u),!this.isLoadingFromJson&&this.updateRankingChoices()},d.prototype.addToValueByVisibleChoices=function(){var u=this.value.slice();this.visibleChoices.forEach(function(a){-1===u.indexOf(a.value)&&u.push(a.value)}),this.value=u},d.prototype.removeFromValueByVisibleChoices=function(){for(var u=this.value.slice(),a=this.visibleChoices,o=this.value.length-1;o>=0;o--)$.ItemValue.getItemByValue(a,this.value[o])||u.splice(o,1);this.value=u},Object.defineProperty(d.prototype,"rankingChoices",{get:function(){return this.getPropertyValue("rankingChoices",[])},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"unRankingChoices",{get:function(){var u=[],a=this.rankingChoices;return this.visibleChoices.forEach(function(o){u.push(o)}),a.forEach(function(o){u.forEach(function(s,l){s.value===o.value&&u.splice(l,1)})}),u},enumerable:!1,configurable:!0}),d.prototype.updateRankingChoices=function(u){var a=this;if(void 0===u&&(u=!1),this.selectToRankEnabled)this.updateRankingChoicesSelectToRankMode(u);else{var o=[];u&&this.setPropertyValue("rankingChoices",[]),this.isEmpty()?this.setPropertyValue("rankingChoices",this.visibleChoices):(this.value.forEach(function(s){a.visibleChoices.forEach(function(l){l.value===s&&o.push(l)})}),this.setPropertyValue("rankingChoices",o))}},d.prototype.updateRankingChoicesSelectToRankMode=function(u){var a=this;if(this.isEmpty())this.setPropertyValue("rankingChoices",[]);else{var o=[];this.value.forEach(function(s){a.visibleChoices.forEach(function(l){l.value===s&&o.push(l)})}),this.setPropertyValue("rankingChoices",o)}},d.prototype.endLoadingFromJson=function(){f.prototype.endLoadingFromJson.call(this),this.setDragDropRankingChoices()},d.prototype.setDragDropRankingChoices=function(){this.dragDropRankingChoices=this.createDragDropRankingChoices()},d.prototype.createDragDropRankingChoices=function(){return this.selectToRankEnabled?new se.DragDropRankingSelectToRank(this.survey,null,this.longTap):new G.DragDropRankingChoices(this.survey,null,this.longTap)},d.prototype.isDragStartNodeValid=function(u){return"icon"!==C.settings.rankingDragHandleArea||u.classList.contains(this.cssClasses.itemIconHoverMod)},Object.defineProperty(d.prototype,"allowStartDrag",{get:function(){return!this.isReadOnly&&!this.isDesignMode},enumerable:!1,configurable:!0}),d.prototype.canStartDragDueMaxSelectedChoices=function(u){return!this.selectToRankEnabled||!u.closest("[data-ranking='from-container']")||this.checkMaxSelectedChoicesUnreached()},d.prototype.canStartDragDueItemEnabled=function(u){return u.enabled},d.prototype.checkMaxSelectedChoicesUnreached=function(){if(this.maxSelectedChoices<1)return!0;var u=this.value;return(Array.isArray(u)?u.length:0)<this.maxSelectedChoices},d.prototype.afterRenderQuestionElement=function(u){this.domNode=u,f.prototype.afterRenderQuestionElement.call(this,u)},d.prototype.beforeDestroyQuestionElement=function(u){f.prototype.beforeDestroyQuestionElement.call(this,u)},d.prototype.supportSelectAll=function(){return!1},d.prototype.supportOther=function(){return!1},d.prototype.supportNone=function(){return!1},d.prototype.supportRefuse=function(){return!1},d.prototype.supportDontKnow=function(){return!1},d.prototype.handleKeydownSelectToRank=function(u,a){if(!this.isDesignMode){var o=u.key;if(" "===o||"ArrowUp"===o||"ArrowDown"===o){var s=this.dragDropRankingChoices,l=this.rankingChoices,c=-1!==l.indexOf(a),M=(c?l:this.unRankingChoices).indexOf(a);if(!(M<0)){var D;if(" "===o&&!c)return s.selectToRank(this,M,D=0),void this.setValueAfterKeydown(D,"to-container");if(c){if(" "===o)return s.unselectFromRank(this,M),D=this.unRankingChoices.indexOf(a),void this.setValueAfterKeydown(D,"from-container");var g="ArrowUp"===o?-1:"ArrowDown"===o?1:0;0!==g&&!((D=M+g)<0||D>=l.length)&&(s.reorderRankedItem(this,M,D),this.setValueAfterKeydown(D,"to-container"))}}}}},d.prototype.setValueAfterKeydown=function(u,a){var o=this;this.setValue(),setTimeout(function(){o.focusItem(u,a)},1),event.preventDefault()},d.prototype.getIconHoverCss=function(){return(new L.CssClassBuilder).append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconHoverMod).toString()},d.prototype.getIconFocusCss=function(){return(new L.CssClassBuilder).append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconFocusMod).toString()},Object.defineProperty(d.prototype,"longTap",{get:function(){return this.getPropertyValue("longTap")},set:function(u){this.setPropertyValue("longTap",u)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"selectToRankEnabled",{get:function(){return this.getPropertyValue("selectToRankEnabled",!1)},set:function(u){this.setPropertyValue("selectToRankEnabled",u)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"selectToRankAreasLayout",{get:function(){return this.getPropertyValue("selectToRankAreasLayout")},set:function(u){this.setPropertyValue("selectToRankAreasLayout",u)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"renderedSelectToRankAreasLayout",{get:function(){return this.isMobileMode()?"vertical":this.selectToRankAreasLayout},enumerable:!1,configurable:!0}),d.prototype.isMobileMode=function(){return m.IsMobile},Object.defineProperty(d.prototype,"useFullItemSizeForShortcut",{get:function(){return this.getPropertyValue("useFullItemSizeForShortcut")},set:function(u){this.setPropertyValue("useFullItemSizeForShortcut",u)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"dragDropSvgIcon",{get:function(){return this.cssClasses.dragDropSvgIconId||"#icon-drag-n-drop"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"arrowsSvgIcon",{get:function(){return this.cssClasses.arrowsSvgIconId||"#icon-ranking-arrows"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"dashSvgIcon",{get:function(){return this.cssClasses.dashSvgIconId||"#icon-ranking-dash"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isNewA11yStructure",{get:function(){return!1},enumerable:!1,configurable:!0}),h([Object(w.property)({defaultValue:null})],d.prototype,"currentDropTarget",void 0),h([Object(w.property)({defaultValue:null})],d.prototype,"dropTargetNodeMove",void 0),h([Object(w.property)({defaultValue:!0})],d.prototype,"carryForwardStartUnranked",void 0),h([Object(w.property)({localizable:{defaultStr:"selectToRankEmptyRankedAreaText"}})],d.prototype,"selectToRankEmptyRankedAreaText",void 0),h([Object(w.property)({localizable:{defaultStr:"selectToRankEmptyUnrankedAreaText"}})],d.prototype,"selectToRankEmptyUnrankedAreaText",void 0),d}(R.QuestionCheckboxModel);w.Serializer.addClass("ranking",[{name:"showOtherItem",visible:!1,isSerializable:!1},{name:"otherText",visible:!1,isSerializable:!1},{name:"otherErrorText",visible:!1,isSerializable:!1},{name:"storeOthersAsComment",visible:!1,isSerializable:!1},{name:"showNoneItem",visible:!1,isSerializable:!1},{name:"showRefuseItem",visible:!1,isSerializable:!1},{name:"showDontKnowItem",visible:!1,isSerializable:!1},{name:"noneText",visible:!1,isSerializable:!1},{name:"showSelectAllItem",visible:!1,isSerializable:!1},{name:"selectAllText",visible:!1,isSerializable:!1},{name:"colCount:number",visible:!1,isSerializable:!1},{name:"separateSpecialChoices",visible:!1,isSerializable:!1},{name:"longTap",default:!0,visible:!1,isSerializable:!1},{name:"selectToRankEnabled:switch",default:!1,visible:!0,isSerializable:!0},{name:"selectToRankAreasLayout",default:"horizontal",choices:["horizontal","vertical"],dependsOn:"selectToRankEnabled",visibleIf:function(f){return!!f.selectToRankEnabled},visible:!0,isSerializable:!0},{name:"selectToRankEmptyRankedAreaText:text",serializationProperty:"locSelectToRankEmptyRankedAreaText",category:"general",dependsOn:"selectToRankEnabled",visibleIf:function(f){return!!f.selectToRankEnabled}},{name:"selectToRankEmptyUnrankedAreaText:text",serializationProperty:"locSelectToRankEmptyUnrankedAreaText",category:"general",dependsOn:"selectToRankEnabled",visibleIf:function(f){return!!f.selectToRankEnabled}},{name:"maxSelectedChoices:number",visible:!0,default:0,dependsOn:"selectToRankEnabled",visibleIf:function(f){return!!f.selectToRankEnabled},isSerializable:!0},{name:"minSelectedChoices:number",visible:!0,default:0,dependsOn:"selectToRankEnabled",visibleIf:function(f){return!!f.selectToRankEnabled},isSerializable:!0},{name:"itemComponent",visible:!1,default:""}],function(){return new v("")},"checkbox"),F.QuestionFactory.Instance.registerQuestion("ranking",function(f){var d=new v(f);return d.choices=F.QuestionFactory.DefaultChoices,d})},"./src/question_rating.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"RenderedRatingItem",function(){return v}),x.d(j,"QuestionRatingModel",function(){return d});var u,G=x("./src/itemvalue.ts"),se=x("./src/question.ts"),$=x("./src/jsonobject.ts"),w=x("./src/questionfactory.ts"),F=x("./src/settings.ts"),R=x("./src/surveyStrings.ts"),L=x("./src/utils/cssClassBuilder.ts"),m=x("./src/base.ts"),T=x("./src/utils/utils.ts"),C=x("./src/utils/devices.ts"),y=(u=function(a,o){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])})(a,o)},function(a,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function s(){this.constructor=a}u(a,o),a.prototype=null===o?Object.create(o):(s.prototype=o.prototype,new s)}),h=function(u,a,o,s){var b,l=arguments.length,c=l<3?a:null===s?s=Object.getOwnPropertyDescriptor(a,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,a,o,s);else for(var M=u.length-1;M>=0;M--)(b=u[M])&&(c=(l<3?b(c):l>3?b(a,o,c):b(a,o))||c);return l>3&&c&&Object.defineProperty(a,o,c),c},v=function(u){function a(o,s){void 0===s&&(s=null);var l=u.call(this)||this;return l.itemValue=o,l.locString=s,l.locText.onStringChanged.add(l.onStringChangedCallback.bind(l)),l.onStringChangedCallback(),l}return y(a,u),a.prototype.onStringChangedCallback=function(){this.text=this.itemValue.text},Object.defineProperty(a.prototype,"value",{get:function(){return this.itemValue.getPropertyValue("value")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"locText",{get:function(){return this.locString||this.itemValue.locText},enumerable:!1,configurable:!0}),h([Object($.property)({defaultValue:""})],a.prototype,"highlight",void 0),h([Object($.property)({defaultValue:""})],a.prototype,"text",void 0),h([Object($.property)()],a.prototype,"style",void 0),a}(m.Base),f=function(u){function a(o,s){var l=u.call(this,o)||this;return l.description=s,l}return y(a,u),a}(G.ItemValue),d=function(u){function a(o){var s=u.call(this,o)||this;return s._syncPropertiesChanging=!1,s.createItemValues("rateValues"),s.createRenderedRateItems(),s.createLocalizableString("ratingOptionsCaption",s,!1,!0),s.registerFunctionOnPropertiesValueChanged(["rateMin","rateMax","minRateDescription","maxRateDescription","rateStep","displayRateDescriptionsAsExtremeItems"],function(){return s.createRenderedRateItems()}),s.registerFunctionOnPropertiesValueChanged(["rateType"],function(){s.setIconsToRateValues(),s.createRenderedRateItems(),s.updateRateCount()}),s.registerFunctionOnPropertiesValueChanged(["rateValues"],function(){s.autoGenerate=!1,s.setIconsToRateValues(),s.createRenderedRateItems()}),s.registerFunctionOnPropertiesValueChanged(["rateColorMode","scaleColorMode"],function(){s.updateColors(s.survey.themeVariables)}),s.registerFunctionOnPropertiesValueChanged(["autoGenerate"],function(){!s.autoGenerate&&0===s.rateValues.length&&s.setPropertyValue("rateValues",s.visibleRateValues),s.autoGenerate&&(s.rateValues.length=0,s.updateRateMax()),s.createRenderedRateItems()}),s.createLocalizableString("minRateDescription",s,!0),s.createLocalizableString("maxRateDescription",s,!0),s.initPropertyDependencies(),s}return y(a,u),a.prototype.setIconsToRateValues=function(){var o=this;"smileys"==this.rateType&&this.rateValues.map(function(s){return s.icon=o.getItemSmiley(s)})},a.prototype.endLoadingFromJson=function(){u.prototype.endLoadingFromJson.call(this),this.hasMinRateDescription=!!this.minRateDescription,this.hasMaxRateDescription=!!this.maxRateDescription,void 0!==this.jsonObj.rateMin&&void 0!==this.jsonObj.rateCount&&void 0===this.jsonObj.rateMax&&this.updateRateMax(),void 0!==this.jsonObj.rateMax&&void 0!==this.jsonObj.rateCount&&void 0===this.jsonObj.rateMin&&this.updateRateMin(),void 0===this.jsonObj.autoGenerate&&void 0!==this.jsonObj.rateValues&&(this.autoGenerate=!this.jsonObj.rateValues.length),this.updateRateCount(),this.setIconsToRateValues(),this.createRenderedRateItems()},a.prototype.registerSychProperties=function(o,s){var l=this;this.registerFunctionOnPropertiesValueChanged(o,function(){l._syncPropertiesChanging||(l._syncPropertiesChanging=!0,s(),l._syncPropertiesChanging=!1)})},a.prototype.useRateValues=function(){return!!this.rateValues.length&&!this.autoGenerate},a.prototype.updateRateMax=function(){this.rateMax=this.rateMin+this.rateStep*(this.rateCount-1)},a.prototype.updateRateMin=function(){this.rateMin=this.rateMax-this.rateStep*(this.rateCount-1)},a.prototype.updateRateCount=function(){var o=0;(o=this.useRateValues()?this.rateValues.length:Math.trunc((this.rateMax-this.rateMin)/(this.rateStep||1))+1)>10&&"smileys"==this.rateDisplayMode&&(o=10),this.rateCount=o,this.rateValues.length>o&&this.rateValues.splice(o,this.rateValues.length-o)},a.prototype.initPropertyDependencies=function(){var o=this;this.registerSychProperties(["rateCount"],function(){if(o.useRateValues())if(o.rateCount<o.rateValues.length){if(o.rateCount>=10&&"smileys"==o.rateDisplayMode)return;o.rateValues.splice(o.rateCount,o.rateValues.length-o.rateCount)}else for(var s=o.rateValues.length;s<o.rateCount;s++)o.rateValues.push(new G.ItemValue(R.surveyLocalization.getString("choices_Item")+(s+1)));else o.rateMax=o.rateMin+o.rateStep*(o.rateCount-1)}),this.registerSychProperties(["rateMin","rateMax","rateStep","rateValues"],function(){o.updateRateCount()})},Object.defineProperty(a.prototype,"showSelectedItemLocText",{get:function(){return!this.readOnly&&!this.inputHasValue&&!!this.selectedItemLocText},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"selectedItemLocText",{get:function(){var s,o=this;return!this.readOnly&&(null===(s=this.visibleRateValues.filter(function(l){return l.value==o.value})[0])||void 0===s?void 0:s.locText)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rateValues",{get:function(){return this.getPropertyValue("rateValues")},set:function(o){this.setPropertyValue("rateValues",o),this.createRenderedRateItems()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rateMin",{get:function(){return this.getPropertyValue("rateMin")},set:function(o){this.setPropertyValue("rateMin",o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rateMax",{get:function(){return this.getPropertyValue("rateMax")},set:function(o){this.setPropertyValue("rateMax",o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rateStep",{get:function(){return this.getPropertyValue("rateStep")},set:function(o){this.setPropertyValue("rateStep",o)},enumerable:!1,configurable:!0}),a.prototype.updateColors=function(o){function s(l,c){var b=!!o&&o[l];if(!b){var M=getComputedStyle(document.documentElement);b=M.getPropertyValue&&M.getPropertyValue(c)}if(!b)return null;var D=document.createElement("canvas").getContext("2d");D.fillStyle=b;var g=D.fillStyle;if(g.startsWith("rgba"))return g.substring(5,g.length-1).split(",").map(function(A){return+A.trim()});var P=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(g);return P?[parseInt(P[1],16),parseInt(P[2],16),parseInt(P[3],16),1]:null}"monochrome"!==this.colorMode&&"undefined"!=typeof document&&document&&!a.colorsCalculated&&(a.badColor=s("--sjs-special-red","--sd-rating-bad-color"),a.normalColor=s("--sjs-special-yellow","--sd-rating-normal-color"),a.goodColor=s("--sjs-special-green","--sd-rating-good-color"),a.badColorLight=s("--sjs-special-red-light","--sd-rating-bad-color-light"),a.normalColorLight=s("--sjs-special-yellow-light","--sd-rating-normal-color-light"),a.goodColorLight=s("--sjs-special-green-light","--sd-rating-good-color-light"),this.colorsCalculated=!0)},a.prototype.getDisplayValueCore=function(o,s){return this.useRateValues?G.ItemValue.getTextOrHtmlByValue(this.visibleRateValues,s)||s:u.prototype.getDisplayValueCore.call(this,o,s)},Object.defineProperty(a.prototype,"visibleRateValues",{get:function(){return this.renderedRateItems.map(function(o){return o.itemValue})},enumerable:!1,configurable:!0}),a.prototype.itemValuePropertyChanged=function(o,s,l,c){!this.useRateValues()&&void 0!==c&&(this.autoGenerate=!1),u.prototype.itemValuePropertyChanged.call(this,o,s,l,c)},a.prototype.createRenderedRateItems=function(){var o=this,s=[];s=this.useRateValues()?this.rateValues:this.createRateValues(),"smileys"==this.rateType&&s.length>10&&(s=s.slice(0,10)),this.renderedRateItems=s.map(function(l,c){var b=null;return o.displayRateDescriptionsAsExtremeItems&&(0==c&&(b=new v(l,o.minRateDescription&&o.locMinRateDescription||l.locText)),c==s.length-1&&(b=new v(l,o.maxRateDescription&&o.locMaxRateDescription||l.locText))),b||(b=new v(l)),b})},a.prototype.createRateValues=function(){for(var o=[],s=this.rateMin,l=this.rateStep;s<=this.rateMax&&o.length<F.settings.ratingMaximumRateValueCount;){var c=void 0;s===this.rateMin&&(c=this.minRateDescription&&this.locMinRateDescription),(s===this.rateMax||o.length===F.settings.ratingMaximumRateValueCount)&&(c=this.maxRateDescription&&this.locMaxRateDescription);var b=new f(s,c);b.locOwner=this,b.ownerPropertyName="rateValues",o.push(b),s=this.correctValue(s+l,l)}return o},a.prototype.correctValue=function(o,s){if(!o||Math.round(o)==o)return o;for(var l=0;Math.round(s)!=s;)s*=10,l++;return parseFloat(o.toFixed(l))},a.prototype.getType=function(){return"rating"},a.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},a.prototype.getInputId=function(o){return this.inputId+"_"+o},a.prototype.supportGoNextPageAutomatic=function(){return!0===this.isMouseDown},a.prototype.supportOther=function(){return!1},a.prototype.getPlainDataCalculatedValue=function(o){var s=u.prototype.getPlainDataCalculatedValue.call(this,o);if(void 0!==s||!this.useRateValues||this.isEmpty())return s;var l=G.ItemValue.getItemByValue(this.visibleRateValues,this.value);return l?l[o]:void 0},Object.defineProperty(a.prototype,"minRateDescription",{get:function(){return this.getLocalizableStringText("minRateDescription")},set:function(o){this.setLocalizableStringText("minRateDescription",o),this.hasMinRateDescription=!!this.minRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"locMinRateDescription",{get:function(){return this.getLocalizableString("minRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxRateDescription",{get:function(){return this.getLocalizableStringText("maxRateDescription")},set:function(o){this.setLocalizableStringText("maxRateDescription",o),this.hasMaxRateDescription=!!this.maxRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"locMaxRateDescription",{get:function(){return this.getLocalizableString("maxRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasMinLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMinRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasMaxLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMaxRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rateDisplayMode",{get:function(){return this.rateType},set:function(o){this.rateType=o},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isStar",{get:function(){return"stars"==this.rateType},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isSmiley",{get:function(){return"smileys"==this.rateType},enumerable:!1,configurable:!0}),a.prototype.getDefaultItemComponent=function(){return"dropdown"==this.renderAs?"sv-rating-dropdown-item":this.isStar?"sv-rating-item-star":this.isSmiley?"sv-rating-item-smiley":"sv-rating-item"},Object.defineProperty(a.prototype,"itemComponent",{get:function(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())},set:function(o){this.setPropertyValue("itemComponent",o)},enumerable:!1,configurable:!0}),a.prototype.valueToData=function(o){if(this.useRateValues()){var s=G.ItemValue.getItemByValue(this.rateValues,o);return s?s.value:o}return isNaN(o)?o:parseFloat(o)},a.prototype.setValueFromClick=function(o){this.value===parseFloat(o)?this.clearValue():this.value=o;for(var s=0;s<this.renderedRateItems.length;s++)this.renderedRateItems[s].highlight="none"},a.prototype.onItemMouseIn=function(o){if(!C.IsTouch&&!this.isReadOnly&&o.itemValue.isEnabled&&!this.isDesignMode){var s=!0,l=null!=this.value;if("stars"!==this.rateType)return void(o.highlight="highlighted");for(var c=0;c<this.renderedRateItems.length;c++)this.renderedRateItems[c].highlight=(s&&!l?"highlighted":!s&&l&&"unhighlighted")||"none",this.renderedRateItems[c]==o&&(s=!1),this.renderedRateItems[c].itemValue.value==this.value&&(l=!1)}},a.prototype.onItemMouseOut=function(o){C.IsTouch||this.renderedRateItems.forEach(function(s){return s.highlight="none"})},Object.defineProperty(a.prototype,"itemSmallMode",{get:function(){return this.inMatrixMode&&"small"==F.settings.matrix.rateSize},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ratingRootCss",{get:function(){var o=("buttons"==this.displayMode||this.survey&&this.survey.isDesignMode)&&this.cssClasses.rootWrappable?this.cssClasses.rootWrappable:"",s="";return(this.hasMaxLabel||this.hasMinLabel)&&("top"==this.rateDescriptionLocation&&(s=this.cssClasses.rootLabelsTop),"bottom"==this.rateDescriptionLocation&&(s=this.cssClasses.rootLabelsBottom),"topBottom"==this.rateDescriptionLocation&&(s=this.cssClasses.rootLabelsDiagonal)),(new L.CssClassBuilder).append(this.cssClasses.root).append(o).append(s).append(this.cssClasses.itemSmall,this.itemSmallMode&&"labels"!=this.rateType).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"itemStarIcon",{get:function(){return this.itemSmallMode?"icon-rating-star-small":"icon-rating-star"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"itemStarIconAlt",{get:function(){return this.itemStarIcon+"-2"},enumerable:!1,configurable:!0}),a.prototype.getItemSmiley=function(o){var c=this.useRateValues()?this.rateValues.length:this.rateMax-this.rateMin+1,b=["very-good","not-good","normal","good","average","excellent","poor","perfect","very-poor","terrible"].slice(0,c),M=["terrible","very-poor","poor","not-good","average","normal","good","very-good","excellent","perfect"].filter(function(D){return-1!=b.indexOf(D)});return this.useRateValues()?M[this.rateValues.indexOf(o)]:M[o.value-this.rateMin]},a.prototype.getItemSmileyIconName=function(o){return"icon-"+this.getItemSmiley(o)},a.prototype.getItemClassByText=function(o,s){return this.getItemClass(o)},a.prototype.getRenderedItemColor=function(o,s){var l=s?a.badColorLight:a.badColor,c=s?a.goodColorLight:a.goodColor,b=(this.rateCount-1)/2,M=s?a.normalColorLight:a.normalColor;if(o<b?c=M:(l=M,o-=b),!l||!c)return null;for(var D=[0,0,0,0],g=0;g<4;g++)D[g]=l[g]+(c[g]-l[g])*o/b,g<3&&(D[g]=Math.trunc(D[g]));return"rgba("+D[0]+", "+D[1]+", "+D[2]+", "+D[3]+")"},a.prototype.getItemStyle=function(o,s){if(void 0===s&&(s="none"),"monochrome"===this.scaleColorMode&&"default"==this.rateColorMode)return{borderColor:null,fill:null,backgroundColor:null};var l=this.visibleRateValues.indexOf(o),c=this.getRenderedItemColor(l,!1);if(this.value!=this.renderedRateItems[l].value){var b=this.getRenderedItemColor(l,!0);return"highlighted"==s&&"colored"===this.scaleColorMode?{borderColor:c,fill:c,backgroundColor:b}:"colored"===this.scaleColorMode&&0==this.errors.length?{borderColor:c,fill:c,backgroundColor:null}:{borderColor:null,fill:null,backgroundColor:null}}return{borderColor:c,fill:null,backgroundColor:c}},a.prototype.getItemClass=function(o,s){var l=this;void 0===s&&(s="none");var c=this.value==o.value;this.isStar&&(c=this.useRateValues()?this.rateValues.indexOf(this.rateValues.filter(function(ft){return ft.value==l.value})[0])>=this.rateValues.indexOf(o):this.value>=o.value);var M=!(this.isReadOnly||!o.isEnabled||this.value==o.value||this.survey&&this.survey.isDesignMode),D=this.renderedRateItems.filter(function(ft){return ft.itemValue==o})[0],g=this.isStar&&"highlighted"==(null==D?void 0:D.highlight),P=this.isStar&&"unhighlighted"==(null==D?void 0:D.highlight),A=this.cssClasses.item,k=this.cssClasses.selected,Z=this.cssClasses.itemDisabled,re=this.cssClasses.itemHover,H=this.cssClasses.itemOnError,E=null,B=null,U=null,ae=null,Pe=null;this.isStar&&(A=this.cssClasses.itemStar,k=this.cssClasses.itemStarSelected,Z=this.cssClasses.itemStarDisabled,re=this.cssClasses.itemStarHover,H=this.cssClasses.itemStarOnError,E=this.cssClasses.itemStarHighlighted,B=this.cssClasses.itemStarUnhighlighted,Pe=this.cssClasses.itemStarSmall),this.isSmiley&&(A=this.cssClasses.itemSmiley,k=this.cssClasses.itemSmileySelected,Z=this.cssClasses.itemSmileyDisabled,re=this.cssClasses.itemSmileyHover,H=this.cssClasses.itemSmileyOnError,E=this.cssClasses.itemSmileyHighlighted,U=this.cssClasses.itemSmileyScaleColored,ae=this.cssClasses.itemSmileyRateColored,Pe=this.cssClasses.itemSmileySmall);var je=!this.isStar&&!this.isSmiley&&(!this.displayRateDescriptionsAsExtremeItems||this.useRateValues()&&o!=this.rateValues[0]&&o!=this.rateValues[this.rateValues.length-1]||!this.useRateValues()&&o.value!=this.rateMin&&o.value!=this.rateMax)&&o.locText.calculatedText.length<=2&&Number.isInteger(Number(o.locText.calculatedText));return(new L.CssClassBuilder).append(A).append(k,c).append(Z,this.isReadOnly).append(re,M).append(E,g).append(U,"colored"==this.scaleColorMode).append(ae,"scale"==this.rateColorMode&&c).append(B,P).append(H,this.hasCssError()).append(Pe,this.itemSmallMode).append(this.cssClasses.itemFixedSize,je).toString()},a.prototype.getControlClass=function(){return this.isEmpty(),(new L.CssClassBuilder).append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isReadOnly).toString()},Object.defineProperty(a.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("ratingOptionsCaption")},set:function(o){this.setLocalizableStringText("ratingOptionsCaption",o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("ratingOptionsCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"allowClear",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"searchEnabled",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"renderedValue",{get:function(){return this.value},set:function(o){this.value=o},enumerable:!1,configurable:!0}),a.prototype.isItemSelected=function(o){return o.value==this.value},Object.defineProperty(a.prototype,"visibleChoices",{get:function(){return this.visibleRateValues},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"readOnlyText",{get:function(){return this.readOnly?this.displayValue||this.placeholder:this.isEmpty()?this.placeholder:""},enumerable:!1,configurable:!0}),a.prototype.needResponsiveWidth=function(){this.getPropertyValue("rateValues");var s=this.getPropertyValue("rateStep"),l=this.getPropertyValue("rateMax"),c=this.getPropertyValue("rateMin");return"dropdown"!=this.displayMode&&!!(this.hasMinRateDescription||this.hasMaxRateDescription||s&&(l-c)/s>9)},a.prototype.supportResponsiveness=function(){return!0},a.prototype.getCompactRenderAs=function(){return"buttons"==this.displayMode?"default":"dropdown"},a.prototype.getDesktopRenderAs=function(){return"dropdown"==this.displayMode?"dropdown":"default"},Object.defineProperty(a.prototype,"ariaExpanded",{get:function(){var o,s=null===(o=this.dropdownListModel)||void 0===o?void 0:o.popupModel;return s?s.isVisible?"true":"false":null},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dropdownListModel",{get:function(){return this.dropdownListModelValue},set:function(o){this.dropdownListModelValue=o,this.updateElementCss()},enumerable:!1,configurable:!0}),a.prototype.updateCssClasses=function(o,s){if(u.prototype.updateCssClasses.call(this,o,s),this.dropdownListModel){var l={};Object(T.mergeValues)(s.list,l),Object(T.mergeValues)(o.list,l),o.list=l}},a.prototype.calcCssClasses=function(o){var s=u.prototype.calcCssClasses.call(this,o);return this.dropdownListModel&&this.dropdownListModel.updateCssClasses(s.popup,s.list),s},a.prototype.themeChanged=function(o){this.colorsCalculated=!1,this.updateColors(o.cssVariables),this.createRenderedRateItems()},a.prototype.setSurveyImpl=function(o,s){u.prototype.setSurveyImpl.call(this,o,s),this.survey&&this.updateColors(this.survey.themeVariables)},a.prototype.dispose=function(){u.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},a.colorsCalculated=!1,h([Object($.property)({defaultValue:!1})],a.prototype,"inputHasValue",void 0),h([Object($.property)()],a.prototype,"autoGenerate",void 0),h([Object($.property)()],a.prototype,"rateCount",void 0),h([Object($.propertyArray)()],a.prototype,"renderedRateItems",void 0),h([Object($.property)({defaultValue:!1})],a.prototype,"hasMinRateDescription",void 0),h([Object($.property)({defaultValue:!1})],a.prototype,"hasMaxRateDescription",void 0),h([Object($.property)()],a.prototype,"displayRateDescriptionsAsExtremeItems",void 0),h([Object($.property)({onSet:function(o,s){s.isDesignMode||(s.renderAs="dropdown"===o?"dropdown":"default")}})],a.prototype,"displayMode",void 0),h([Object($.property)()],a.prototype,"rateDescriptionLocation",void 0),h([Object($.property)()],a.prototype,"rateType",void 0),h([Object($.property)()],a.prototype,"scaleColorMode",void 0),h([Object($.property)()],a.prototype,"rateColorMode",void 0),a}(se.Question);$.Serializer.addClass("rating",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"rateType",alternativeName:"rateDisplayMode",default:"labels",category:"rateValues",choices:["labels","stars","smileys"],visibleIndex:0},{name:"scaleColorMode",category:"rateValues",default:"monochrome",choices:["monochrome","colored"],visibleIf:function(u){return"smileys"==u.rateDisplayMode},visibleIndex:1},{name:"rateColorMode",category:"rateValues",default:"scale",choices:["default","scale"],visibleIf:function(u){return"smileys"==u.rateDisplayMode&&"monochrome"==u.scaleColorMode},visibleIndex:2},{name:"autoGenerate",category:"rateValues",default:!0,choices:[!0,!1],visibleIndex:4},{name:"rateCount:number",default:5,category:"rateValues",visibleIndex:3,onSettingValue:function(u,a){return a<2?2:a>F.settings.ratingMaximumRateValueCount&&a>u.rateValues.length?F.settings.ratingMaximumRateValueCount:a>10&&"smileys"==u.rateDisplayMode?10:a}},{name:"rateValues:itemvalue[]",baseValue:function(){return R.surveyLocalization.getString("choices_Item")},category:"rateValues",visibleIf:function(u){return!u.autoGenerate},visibleIndex:5},{name:"rateMin:number",default:1,onSettingValue:function(u,a){return a>u.rateMax-u.rateStep?u.rateMax-u.rateStep:a},visibleIf:function(u){return!!u.autoGenerate},visibleIndex:6},{name:"rateMax:number",default:5,onSettingValue:function(u,a){return a<u.rateMin+u.rateStep?u.rateMin+u.rateStep:a},visibleIf:function(u){return!!u.autoGenerate},visibleIndex:7},{name:"rateStep:number",default:1,minValue:.1,onSettingValue:function(u,a){return a<=0&&(a=1),a>u.rateMax-u.rateMin&&(a=u.rateMax-u.rateMin),a},visibleIf:function(u){return!!u.autoGenerate},visibleIndex:8},{name:"minRateDescription",alternativeName:"mininumRateDescription",serializationProperty:"locMinRateDescription",visibleIndex:17},{name:"maxRateDescription",alternativeName:"maximumRateDescription",serializationProperty:"locMaxRateDescription",visibleIndex:18},{name:"displayRateDescriptionsAsExtremeItems:boolean",default:!1,visibleIndex:19,visibleIf:function(u){return"labels"==u.rateType}},{name:"rateDescriptionLocation",default:"leftRight",category:"layout",choices:["leftRight","top","bottom","topBottom"]},{name:"displayMode",default:"auto",choices:["auto","buttons","dropdown"],visibleIndex:20},{name:"itemComponent",visible:!1,defaultFunc:function(u){return u?(u.getOriginalObj&&(u=u.getOriginalObj()),u.getDefaultItemComponent()):"sv-rating-item"}}],function(){return new d("")},"question"),w.QuestionFactory.Instance.registerQuestion("rating",function(u){return new d(u)})},"./src/question_signaturepad.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionSignaturePadModel",function(){return y});var v,G=x("./src/jsonobject.ts"),se=x("./src/questionfactory.ts"),$=x("./node_modules/signature_pad/dist/signature_pad.js"),w=x("./src/utils/cssClassBuilder.ts"),F=x("./src/console-warnings.ts"),R=x("./src/question_file.ts"),L=(v=function(f,d){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,a){u.__proto__=a}||function(u,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(u[o]=a[o])})(f,d)},function(f,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function u(){this.constructor=f}v(f,d),f.prototype=null===d?Object.create(d):(u.prototype=d.prototype,new u)}),m=function(v,f,d,u){var s,a=arguments.length,o=a<3?f:null===u?u=Object.getOwnPropertyDescriptor(f,d):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(v,f,d,u);else for(var l=v.length-1;l>=0;l--)(s=v[l])&&(o=(a<3?s(o):a>3?s(f,d,o):s(f,d))||o);return a>3&&o&&Object.defineProperty(f,d,o),o},y=function(v){function f(d){var u=v.call(this,d)||this;return u.valueIsUpdatingInternally=!1,u.updateValueHandler=function(){u.scaleCanvas(!1,!0),u.refreshCanvas()},u.onBlur=function(a){if(!u.storeDataAsText&&!u.element.contains(a.relatedTarget)){if(!u.valueWasChangedFromLastUpload)return;u.uploadFiles([Object(R.dataUrl2File)(u.signaturePad.toDataURL(u.getFormat()),u.name+"."+h(u.dataFormat),u.getFormat())]),u.valueWasChangedFromLastUpload=!1}},u}return L(f,v),f.prototype.getPenColorFromTheme=function(){var d=this.survey;return!!d&&!!d.themeVariables&&d.themeVariables["--sjs-primary-backcolor"]},f.prototype.updateColors=function(d){var u=this.getPenColorFromTheme(),a=this.getPropertyByName("penColor");d.penColor=this.penColor||u||a.defaultValue||"#1ab394";var o=this.getPropertyByName("backgroundColor");d.backgroundColor=(this.backgroundImage?"transparent":this.backgroundColor)||(u?"transparent":void 0)||o.defaultValue||"#ffffff"},f.prototype.getCssRoot=function(d){return(new w.CssClassBuilder).append(v.prototype.getCssRoot.call(this,d)).append(d.small,"300"===this.signatureWidth.toString()).toString()},f.prototype.getFormat=function(){return"jpeg"===this.dataFormat?"image/jpeg":"svg"===this.dataFormat?"image/svg+xml":""},f.prototype.updateValue=function(){if(this.signaturePad){var d=this.signaturePad.toDataURL(this.getFormat());this.valueIsUpdatingInternally=!0,this.value=d,this.valueIsUpdatingInternally=!1}},f.prototype.getType=function(){return"signaturepad"},f.prototype.afterRenderQuestionElement=function(d){d&&(this.initSignaturePad(d),this.element=d),v.prototype.afterRenderQuestionElement.call(this,d)},f.prototype.beforeDestroyQuestionElement=function(d){d&&this.destroySignaturePad(d)},f.prototype.themeChanged=function(d){this.signaturePad&&this.updateColors(this.signaturePad)},f.prototype.resizeCanvas=function(){this.canvas.width=this.containerWidth,this.canvas.height=this.containerHeight},f.prototype.scaleCanvas=function(d,u){void 0===d&&(d=!0),void 0===u&&(u=!1);var a=this.canvas,o=a.offsetWidth/this.containerWidth;(this.scale!=o||u)&&(this.scale=o,a.style.width=this.renderedCanvasWidth,this.resizeCanvas(),this.signaturePad.minWidth=this.penMinWidth*o,this.signaturePad.maxWidth=this.penMaxWidth*o,a.getContext("2d").scale(1/o,1/o),d&&this.refreshCanvas())},f.prototype.fromDataUrl=function(d){this.signaturePad.fromDataURL(d,{width:this.canvas.width*this.scale,height:this.canvas.height*this.scale})},f.prototype.fromUrl=function(d){var u=this,a=document.createElement("img");a.crossOrigin="anonymous",a.src=d,a.onload=function(){u.canvas.getContext("2d").drawImage(a,0,0);var s=u.canvas.toDataURL(u.getFormat());u.fromDataUrl(s)}},f.prototype.refreshCanvas=function(){!this.canvas||(this.value?this.storeDataAsText?this.fromDataUrl(this.value):this.fromUrl(this.value):(this.canvas.getContext("2d").clearRect(0,0,this.canvas.width*this.scale,this.canvas.height*this.scale),this.signaturePad.clear(),this.valueWasChangedFromLastUpload=!1))},f.prototype.initSignaturePad=function(d){var u=this,a=d.getElementsByTagName("canvas")[0];this.canvas=a,this.resizeCanvas();var o=new $.default(a,{backgroundColor:"#ffffff"});this.signaturePad=o,this.isInputReadOnly&&o.off(),this.readOnlyChangedCallback=function(){u.isInputReadOnly?o.off():o.on()},this.updateColors(o),o.addEventListener("beginStroke",function(){u.scaleCanvas(),u.isDrawingValue=!0,a.focus()},{once:!1}),o.addEventListener("endStroke",function(){u.isDrawingValue=!1,u.storeDataAsText?u.updateValue():u.valueWasChangedFromLastUpload=!0},{once:!1}),this.updateValueHandler(),this.readOnlyChangedCallback();var s=function(l,c){("signatureWidth"===c.name||"signatureHeight"===c.name||"value"===c.name)&&(u.valueIsUpdatingInternally||u.updateValueHandler())};this.onPropertyChanged.add(s),this.signaturePad.propertyChangedHandler=s},f.prototype.destroySignaturePad=function(d){this.signaturePad&&(this.onPropertyChanged.remove(this.signaturePad.propertyChangedHandler),this.signaturePad.off()),this.readOnlyChangedCallback=null,this.signaturePad=null},Object.defineProperty(f.prototype,"dataFormat",{get:function(){return this.getPropertyValue("dataFormat")},set:function(d){this.setPropertyValue("dataFormat",h(d))},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"signatureWidth",{get:function(){return this.getPropertyValue("signatureWidth")},set:function(d){this.setPropertyValue("signatureWidth",d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"signatureHeight",{get:function(){return this.getPropertyValue("signatureHeight")},set:function(d){this.setPropertyValue("signatureHeight",d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"containerHeight",{get:function(){return this.signatureHeight||200},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"containerWidth",{get:function(){return this.signatureWidth||300},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedCanvasWidth",{get:function(){return this.signatureAutoScaleEnabled?"100%":this.containerWidth+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(d){this.setPropertyValue("height",d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"allowClear",{get:function(){return this.getPropertyValue("allowClear")},set:function(d){this.setPropertyValue("allowClear",d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"canShowClearButton",{get:function(){var d=!this.nothingIsDrawn();return!this.isInputReadOnly&&this.allowClear&&d&&!this.isUploading},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"penColor",{get:function(){return this.getPropertyValue("penColor")},set:function(d){this.setPropertyValue("penColor",d),this.signaturePad&&this.updateColors(this.signaturePad)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"backgroundColor",{get:function(){return this.getPropertyValue("backgroundColor")},set:function(d){this.setPropertyValue("backgroundColor",d),this.signaturePad&&this.updateColors(this.signaturePad)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"backgroundImage",{get:function(){return this.getPropertyValue("backgroundImage")},set:function(d){this.setPropertyValue("backgroundImage",d),this.signaturePad&&this.updateColors(this.signaturePad)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),f.prototype.nothingIsDrawn=function(){var d=this.isDrawingValue,u=this.isEmpty();return!d&&u&&!this.isUploading&&!this.valueWasChangedFromLastUpload},f.prototype.needShowPlaceholder=function(){return this.showPlaceholder&&this.nothingIsDrawn()},f.prototype.uploadResultItemToValue=function(d){return d.content},f.prototype.setValueFromResult=function(d){this.valueIsUpdatingInternally=!0,this.value=(null==d?void 0:d.length)?d.map(function(u){return u.content})[0]:void 0,this.valueIsUpdatingInternally=!1},f.prototype.clearValue=function(){this.valueWasChangedFromLastUpload=!1,v.prototype.clearValue.call(this),this.refreshCanvas()},f.prototype.endLoadingFromJson=function(){v.prototype.endLoadingFromJson.call(this),300===this.signatureWidth&&!!this.width&&"number"==typeof this.width&&this.width&&(F.ConsoleWarnings.warn("Use signatureWidth property to set width for the signature pad"),this.signatureWidth=this.width,this.width=void 0),200===this.signatureHeight&&this.height&&(F.ConsoleWarnings.warn("Use signatureHeight property to set width for the signature pad"),this.signatureHeight=this.height,this.height=void 0)},m([Object(G.property)({defaultValue:!1})],f.prototype,"isDrawingValue",void 0),m([Object(G.property)({defaultValue:!1})],f.prototype,"isReadyForUpload",void 0),m([Object(G.property)({defaultValue:!1})],f.prototype,"valueWasChangedFromLastUpload",void 0),m([Object(G.property)()],f.prototype,"signatureAutoScaleEnabled",void 0),m([Object(G.property)()],f.prototype,"penMinWidth",void 0),m([Object(G.property)()],f.prototype,"penMaxWidth",void 0),m([Object(G.property)({})],f.prototype,"showPlaceholder",void 0),m([Object(G.property)({localizable:{defaultStr:"signaturePlaceHolder"}})],f.prototype,"placeholder",void 0),f}(R.QuestionFileModelBase);function h(v){return v||(v="png"),"jpeg"!==(v=v.replace("image/","").replace("+xml",""))&&"svg"!==v&&(v="png"),v}G.Serializer.addClass("signaturepad",[{name:"signatureWidth:number",category:"general",default:300},{name:"signatureHeight:number",category:"general",default:200},{name:"signatureAutoScaleEnabled:boolean",category:"general",default:!1},{name:"penMinWidth:number",category:"general",default:.5},{name:"penMaxWidth:number",category:"general",default:2.5},{name:"height:number",category:"general",visible:!1},{name:"allowClear:boolean",category:"general",default:!0},{name:"showPlaceholder:boolean",category:"general",default:!0},{name:"placeholder:text",serializationProperty:"locPlaceholder",category:"general",dependsOn:"showPlaceholder",visibleIf:function(v){return v.showPlaceholder}},{name:"backgroundImage:file",category:"general"},{name:"penColor:color",category:"general"},{name:"backgroundColor:color",category:"general"},{name:"dataFormat",category:"general",default:"png",choices:[{value:"png",text:"PNG"},{value:"image/jpeg",text:"JPEG"},{value:"image/svg+xml",text:"SVG"}],onSettingValue:function(v,f){return h(f)}},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1}],function(){return new y("")},"question"),se.QuestionFactory.Instance.registerQuestion("signaturepad",function(v){return new y(v)})},"./src/question_tagbox.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionTagboxModel",function(){return T});var C,G=x("./src/jsonobject.ts"),se=x("./src/questionfactory.ts"),$=x("./src/utils/cssClassBuilder.ts"),w=x("./src/question_checkbox.ts"),F=x("./src/dropdownMultiSelectListModel.ts"),R=x("./src/settings.ts"),L=(C=function(y,h){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(v[d]=f[d])})(y,h)},function(y,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function v(){this.constructor=y}C(y,h),y.prototype=null===h?Object.create(h):(v.prototype=h.prototype,new v)}),m=function(C,y,h,v){var u,f=arguments.length,d=f<3?y:null===v?v=Object.getOwnPropertyDescriptor(y,h):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(C,y,h,v);else for(var a=C.length-1;a>=0;a--)(u=C[a])&&(d=(f<3?u(d):f>3?u(y,h,d):u(y,h))||d);return f>3&&d&&Object.defineProperty(y,h,d),d},T=function(C){function y(h){var v=C.call(this,h)||this;return v.itemDisplayNameMap={},v.onOpened=v.addEvent(),v.createLocalizableString("placeholder",v,!1,!0),v.createLocalizableString("clearCaption",v,!1,!0),v.createLocalizableString("readOnlyText",v,!0),v.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],function(){v.updateReadOnlyText()}),v.updateReadOnlyText(),v}return L(y,C),y.prototype.locStrsChanged=function(){var h;C.prototype.locStrsChanged.call(this),this.updateReadOnlyText(),null===(h=this.dropdownListModel)||void 0===h||h.locStrsChanged()},y.prototype.updateReadOnlyText=function(){this.readOnlyText=this.displayValue||this.placeholder},y.prototype.getDefaultItemComponent=function(){return""},y.prototype.onSurveyLoad=function(){C.prototype.onSurveyLoad.call(this),this.dropdownListModel||(this.dropdownListModel=new F.DropdownMultiSelectListModel(this))},Object.defineProperty(y.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(h){this.setLocalizableStringText("placeholder",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(h){this.setLocalizableStringText("clearCaption",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"readOnlyText",{get:function(){return this.getLocalizableStringText("readOnlyText")},set:function(h){this.setLocalizableStringText("readOnlyText",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locReadOnlyText",{get:function(){return this.getLocalizableString("readOnlyText")},enumerable:!1,configurable:!0}),y.prototype.getType=function(){return"tagbox"},Object.defineProperty(y.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"popupModel",{get:function(){var h;return null===(h=this.dropdownListModel)||void 0===h?void 0:h.popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"ariaExpanded",{get:function(){var h=this.popupModel;return h&&h.isVisible?"true":"false"},enumerable:!1,configurable:!0}),y.prototype.getControlClass=function(){return(new $.CssClassBuilder).append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isReadOnly).toString()},y.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},y.prototype.hasUnknownValue=function(h,v,f,d){return!this.choicesLazyLoadEnabled&&C.prototype.hasUnknownValue.call(this,h,v,f,d)},y.prototype.needConvertRenderedOtherToDataValue=function(){var h,v=null===(h=this.otherValue)||void 0===h?void 0:h.trim();return!!v&&C.prototype.hasUnknownValue.call(this,v,!0,!1)},y.prototype.onVisibleChoicesChanged=function(){C.prototype.onVisibleChoicesChanged.call(this),this.popupModel&&this.dropdownListModel.updateItems()},y.prototype.getItemIfChoicesNotContainThisValue=function(h,v){var f;return this.choicesLazyLoadEnabled&&!(null===(f=this.dropdownListModel)||void 0===f?void 0:f.isAllDataLoaded)?this.createItemValue(h,v):C.prototype.getItemIfChoicesNotContainThisValue.call(this,h,v)},y.prototype.validateItemValues=function(h){var v=this;this.updateItemDisplayNameMap();var f=this.renderedValue;if(h.length&&h.length===f.length)return h;var d=this.selectedItemValues;if(!h.length&&d&&d.length)return this.defaultSelectedItemValues=[].concat(d),d;var u=h.map(function(a){return a.value});return f.filter(function(a){return-1===u.indexOf(a)}).forEach(function(a){var o=v.getItemIfChoicesNotContainThisValue(a,v.itemDisplayNameMap[a]);o&&h.push(o)}),h.sort(function(a,o){return f.indexOf(a.value)-f.indexOf(o.value)}),h},y.prototype.updateItemDisplayNameMap=function(){var h=this,v=function(f){h.itemDisplayNameMap[f.value]=f.text};(this.defaultSelectedItemValues||[]).forEach(v),(this.selectedItemValues||[]).forEach(v),this.visibleChoices.forEach(v)},y.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},y.prototype.getInputId=function(){return this.inputId+"_0"},y.prototype.dispose=function(){C.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},y.prototype.clearValue=function(){var h;C.prototype.clearValue.call(this),null===(h=this.dropdownListModel)||void 0===h||h.clear()},Object.defineProperty(y.prototype,"showClearButton",{get:function(){return this.allowClear&&!this.isEmpty()&&(!this.isDesignMode||R.settings.supportCreatorV2)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isNewA11yStructure",{get:function(){return!1},enumerable:!1,configurable:!0}),m([Object(G.property)()],y.prototype,"allowClear",void 0),m([Object(G.property)({onSet:function(h,v){v.dropdownListModel&&v.dropdownListModel.setSearchEnabled(h)}})],y.prototype,"searchEnabled",void 0),m([Object(G.property)({onSet:function(h,v){v.dropdownListModel&&v.dropdownListModel.setHideSelectedItems(h)}})],y.prototype,"hideSelectedItems",void 0),m([Object(G.property)()],y.prototype,"choicesLazyLoadEnabled",void 0),m([Object(G.property)()],y.prototype,"choicesLazyLoadPageSize",void 0),m([Object(G.property)({getDefaultValue:function(){return R.settings.tagboxCloseOnSelect}})],y.prototype,"closeOnSelect",void 0),y}(w.QuestionCheckboxModel);G.Serializer.addClass("tagbox",[{name:"placeholder",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",default:!0},{name:"searchEnabled:boolean",default:!0},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"hideSelectedItems:boolean",default:!1},{name:"closeOnSelect:boolean"},{name:"itemComponent",visible:!1,default:""}],function(){return new T("")},"checkbox"),se.QuestionFactory.Instance.registerQuestion("tagbox",function(C){var y=new T(C);return y.choices=se.QuestionFactory.DefaultChoices,y})},"./src/question_text.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionTextModel",function(){return C}),x.d(j,"isMinMaxType",function(){return h});var a,G=x("./src/questionfactory.ts"),se=x("./src/jsonobject.ts"),$=x("./src/localizablestring.ts"),w=x("./src/helpers.ts"),F=x("./src/validator.ts"),R=x("./src/error.ts"),L=x("./src/settings.ts"),m=x("./src/question_textbase.ts"),T=(a=function(o,s){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(l[b]=c[b])})(o,s)},function(o,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=o}a(o,s),o.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}),C=function(a){function o(s){var l=a.call(this,s)||this;return l._isWaitingForEnter=!1,l.onCompositionUpdate=function(c){l.isInputTextUpdate&&setTimeout(function(){l.updateValueOnEvent(c)},1),l.updateRemainingCharacterCounter(c.target.value)},l.onKeyUp=function(c){l.isInputTextUpdate?(!l._isWaitingForEnter||13===c.keyCode)&&(l.updateValueOnEvent(c),l._isWaitingForEnter=!1):13===c.keyCode&&l.updateValueOnEvent(c),l.updateRemainingCharacterCounter(c.target.value)},l.onKeyDown=function(c){l.onKeyDownPreprocess&&l.onKeyDownPreprocess(c),l.isInputTextUpdate&&(l._isWaitingForEnter=229===c.keyCode),l.onTextKeyDownHandler(c)},l.onChange=function(c){c.target===L.settings.environment.root.activeElement?l.isInputTextUpdate&&l.updateValueOnEvent(c):l.updateValueOnEvent(c),l.updateRemainingCharacterCounter(c.target.value)},l.onBlur=function(c){l.updateValueOnEvent(c),l.updateRemainingCharacterCounter(c.target.value)},l.onFocus=function(c){l.updateRemainingCharacterCounter(c.target.value)},l.createLocalizableString("minErrorText",l,!0,"minError"),l.createLocalizableString("maxErrorText",l,!0,"maxError"),l.locDataListValue=new $.LocalizableStrings(l),l.locDataListValue.onValueChanged=function(c,b){l.propertyValueChanged("dataList",c,b)},l.registerPropertyChangedHandlers(["min","max","inputType","minValueExpression","maxValueExpression"],function(){l.setRenderedMinMax()}),l.registerPropertyChangedHandlers(["inputType","size"],function(){l.updateInputSize(),l.calcRenderedPlaceholder()}),l}return T(o,a),o.prototype.isTextValue=function(){return["text","number","password"].indexOf(this.inputType)>-1},o.prototype.getType=function(){return"text"},o.prototype.onSurveyLoad=function(){a.prototype.onSurveyLoad.call(this),this.setRenderedMinMax(),this.updateInputSize()},Object.defineProperty(o.prototype,"inputType",{get:function(){return this.getPropertyValue("inputType")},set:function(s){("datetime_local"===(s=s.toLowerCase())||"datetime"===s)&&(s="datetime-local"),this.setPropertyValue("inputType",s.toLowerCase()),this.isLoadingFromJson||(this.min=void 0,this.max=void 0,this.step=void 0)},enumerable:!1,configurable:!0}),o.prototype.getMaxLength=function(){return this.isTextInput?a.prototype.getMaxLength.call(this):null},o.prototype.runCondition=function(s,l){a.prototype.runCondition.call(this,s,l),(this.minValueExpression||this.maxValueExpression)&&this.setRenderedMinMax(s,l)},o.prototype.isLayoutTypeSupported=function(s){return!0},Object.defineProperty(o.prototype,"size",{get:function(){return this.getPropertyValue("size")},set:function(s){this.setPropertyValue("size",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isTextInput",{get:function(){return["text","search","tel","url","email","password"].indexOf(this.inputType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"inputSize",{get:function(){return this.getPropertyValue("inputSize",0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderedInputSize",{get:function(){return this.getPropertyValue("inputSize")||null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"inputWidth",{get:function(){return this.getPropertyValue("inputWidth")},enumerable:!1,configurable:!0}),o.prototype.updateInputSize=function(){var s=this.isTextInput&&this.size>0?this.size:0;this.isTextInput&&s<1&&this.parent&&!!this.parent.itemSize&&(s=this.parent.itemSize),this.setPropertyValue("inputSize",s),this.setPropertyValue("inputWidth",s>0?"auto":"")},Object.defineProperty(o.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete",null)},set:function(s){this.setPropertyValue("autocomplete",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"min",{get:function(){return this.getPropertyValue("min")},set:function(s){this.isValueExpression(s)?this.minValueExpression=s.substring(1):this.setPropertyValue("min",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"max",{get:function(){return this.getPropertyValue("max")},set:function(s){this.isValueExpression(s)?this.maxValueExpression=s.substring(1):this.setPropertyValue("max",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"minValueExpression",{get:function(){return this.getPropertyValue("minValueExpression","")},set:function(s){this.setPropertyValue("minValueExpression",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxValueExpression",{get:function(){return this.getPropertyValue("maxValueExpression","")},set:function(s){this.setPropertyValue("maxValueExpression",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderedMin",{get:function(){return this.getPropertyValue("renderedMin")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderedMax",{get:function(){return this.getPropertyValue("renderedMax")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"minErrorText",{get:function(){return this.getLocalizableStringText("minErrorText")},set:function(s){this.setLocalizableStringText("minErrorText",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"locMinErrorText",{get:function(){return this.getLocalizableString("minErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxErrorText",{get:function(){return this.getLocalizableStringText("maxErrorText")},set:function(s){this.setLocalizableStringText("maxErrorText",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"locMaxErrorText",{get:function(){return this.getLocalizableString("maxErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isMinMaxType",{get:function(){return h(this)},enumerable:!1,configurable:!0}),o.prototype.onCheckForErrors=function(s,l){var c=this;if(a.prototype.onCheckForErrors.call(this,s,l),!l){if(this.isValueLessMin){var b=new R.CustomError(this.getMinMaxErrorText(this.minErrorText,this.getCalculatedMinMax(this.renderedMin)),this);b.onUpdateErrorTextCallback=function(A){A.text=c.getMinMaxErrorText(c.minErrorText,c.getCalculatedMinMax(c.renderedMin))},s.push(b)}if(this.isValueGreaterMax){var M=new R.CustomError(this.getMinMaxErrorText(this.maxErrorText,this.getCalculatedMinMax(this.renderedMax)),this);M.onUpdateErrorTextCallback=function(A){A.text=c.getMinMaxErrorText(c.maxErrorText,c.getCalculatedMinMax(c.renderedMax))},s.push(M)}var D=this.getValidatorTitle(),g=new F.EmailValidator;if("email"===this.inputType&&!this.validators.some(function(A){return"emailvalidator"===A.getType()})){var P=g.validate(this.value,D);P&&P.error&&s.push(P.error)}}},o.prototype.canSetValueToSurvey=function(){if(!this.isMinMaxType)return!0;var s=!this.isValueLessMin&&!this.isValueGreaterMax;return"number"===this.inputType&&!!this.survey&&(this.survey.isValidateOnValueChanging||this.survey.isValidateOnValueChanged)&&this.hasErrors(),s},o.prototype.convertFuncValuetoQuestionValue=function(s){return w.Helpers.convertValToQuestionVal(s,this.inputType)},o.prototype.getMinMaxErrorText=function(s,l){if(w.Helpers.isValueEmpty(l))return s;var c=l.toString();return"date"===this.inputType&&!!l.toDateString&&(c=l.toDateString()),s.replace("{0}",c)},Object.defineProperty(o.prototype,"isValueLessMin",{get:function(){return!this.isValueEmpty(this.renderedMin)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)<this.getCalculatedMinMax(this.renderedMin)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isValueGreaterMax",{get:function(){return!this.isValueEmpty(this.renderedMax)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)>this.getCalculatedMinMax(this.renderedMax)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isDateInputType",{get:function(){return"date"===this.inputType||"datetime-local"===this.inputType},enumerable:!1,configurable:!0}),o.prototype.getCalculatedMinMax=function(s){return this.isValueEmpty(s)?s:this.isDateInputType?new Date(s):s},o.prototype.setRenderedMinMax=function(s,l){var c=this;void 0===s&&(s=null),void 0===l&&(l=null),this.minValueRunner=this.getDefaultRunner(this.minValueRunner,this.minValueExpression),this.setValueAndRunExpression(this.minValueRunner,this.min,function(b){!b&&c.isDateInputType&&!!L.settings.minDate&&(b=L.settings.minDate),c.setPropertyValue("renderedMin",b)},s,l),this.maxValueRunner=this.getDefaultRunner(this.maxValueRunner,this.maxValueExpression),this.setValueAndRunExpression(this.maxValueRunner,this.max,function(b){!b&&c.isDateInputType&&(b=L.settings.maxDate?L.settings.maxDate:"2999-12-31"),c.setPropertyValue("renderedMax",b)},s,l)},Object.defineProperty(o.prototype,"step",{get:function(){return this.getPropertyValue("step")},set:function(s){this.setPropertyValue("step",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderedStep",{get:function(){return this.isValueEmpty(this.step)?"number"!==this.inputType?void 0:"any":this.step},enumerable:!1,configurable:!0}),o.prototype.supportGoNextPageAutomatic=function(){return!this.isSurveyInputTextUpdate&&["date","datetime-local"].indexOf(this.inputType)<0},o.prototype.supportGoNextPageError=function(){return["date","datetime-local"].indexOf(this.inputType)<0},Object.defineProperty(o.prototype,"dataList",{get:function(){return this.locDataList.value},set:function(s){this.locDataList.value=s},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"locDataList",{get:function(){return this.locDataListValue},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"dataListId",{get:function(){return this.locDataList.hasValue()?this.id+"_datalist":void 0},enumerable:!1,configurable:!0}),o.prototype.canRunValidators=function(s){return this.errors.length>0||!s||this.supportGoNextPageError()},o.prototype.setNewValue=function(s){s=this.correctValueType(s),a.prototype.setNewValue.call(this,s)},o.prototype.correctValueType=function(s){return s&&("number"==this.inputType||"range"==this.inputType?w.Helpers.isNumber(s)?w.Helpers.getNumber(s):"":s)},o.prototype.hasPlaceholder=function(){return!this.isReadOnly&&"range"!==this.inputType},o.prototype.getControlCssClassBuilder=function(){var s=this.getMaxLength();return a.prototype.getControlCssClassBuilder.call(this).append(this.cssClasses.constrolWithCharacterCounter,!!s).append(this.cssClasses.characterCounterBig,s>99)},o.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&"div"===L.settings.readOnly.textRenderMode},Object.defineProperty(o.prototype,"inputStyle",{get:function(){var s={};return s.width=this.inputWidth,s},enumerable:!1,configurable:!0}),o.prototype.updateValueOnEvent=function(s){var l=s.target.value;this.isTwoValueEquals(this.value,l)||(this.value=l)},o}(m.QuestionTextBase),y=["number","range","date","datetime-local","month","time","week"];function h(a){var o=a?a.inputType:"";return!!o&&y.indexOf(o)>-1}function v(a,o){var s=a.split(o);return 2===s.length&&w.Helpers.isNumber(s[0])&&w.Helpers.isNumber(s[1])?60*parseFloat(s[0])+parseFloat(s[1]):-1}function d(a,o,s,l){var c=l?s:o;if(!h(a)||w.Helpers.isValueEmpty(o)||w.Helpers.isValueEmpty(s))return c;if(0===a.inputType.indexOf("date")||"month"===a.inputType){var b="month"===a.inputType,M=new Date(b?o+"-1":o),D=new Date(b?s+"-1":s);if(!M||!D)return c;if(M>D)return l?o:s}if("week"===a.inputType||"time"===a.inputType)return function f(a,o,s){var l=v(a,s),c=v(o,s);return!(l<0||c<0)&&l>c}(o,s,"week"===a.inputType?"-W":":")?l?o:s:c;if("number"===a.inputType){if(!w.Helpers.isNumber(o)||!w.Helpers.isNumber(s))return c;if(w.Helpers.getNumber(o)>w.Helpers.getNumber(s))return l?o:s}return"string"==typeof o||"string"==typeof s?c:o>s?l?o:s:c}function u(a,o){a&&a.inputType&&(o.inputType="range"!==a.inputType?a.inputType:"number",o.textUpdateMode="onBlur")}se.Serializer.addClass("text",[{name:"inputType",default:"text",choices:L.settings.questions.inputTypes},{name:"size:number",minValue:0,dependsOn:"inputType",visibleIf:function(a){return!!a&&a.isTextInput}},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"],dependsOn:"inputType",visibleIf:function(a){return!!a&&a.isTextInput}},{name:"autocomplete",alternativeName:"autoComplete",choices:L.settings.questions.dataList},{name:"min",dependsOn:"inputType",visibleIf:function(a){return h(a)},onPropertyEditorUpdate:function(a,o){u(a,o)},onSettingValue:function(a,o){return d(a,o,a.max,!1)}},{name:"max",dependsOn:"inputType",nextToProperty:"*min",visibleIf:function(a){return h(a)},onSettingValue:function(a,o){return d(a,a.min,o,!0)},onPropertyEditorUpdate:function(a,o){u(a,o)}},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(a){return h(a)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(a){return h(a)}},{name:"minErrorText",serializationProperty:"locMinErrorText",dependsOn:"inputType",visibleIf:function(a){return h(a)}},{name:"maxErrorText",serializationProperty:"locMaxErrorText",dependsOn:"inputType",visibleIf:function(a){return h(a)}},{name:"step:number",dependsOn:"inputType",visibleIf:function(a){return!!a&&("number"===a.inputType||"range"===a.inputType)}},{name:"maxLength:number",default:-1,dependsOn:"inputType",visibleIf:function(a){return!!a&&a.isTextInput}},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder",dependsOn:"inputType",visibleIf:function(a){return!!a&&a.isTextInput}},{name:"dataList:string[]",serializationProperty:"locDataList",dependsOn:"inputType",visibleIf:function(a){return!!a&&"text"===a.inputType}}],function(){return new C("")},"textbase"),G.QuestionFactory.Instance.registerQuestion("text",function(a){return new C(a)})},"./src/question_textbase.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"CharacterCounter",function(){return m}),x.d(j,"QuestionTextBase",function(){return T});var C,G=x("./src/question.ts"),se=x("./src/jsonobject.ts"),$=x("./src/helpers.ts"),w=x("./src/utils/cssClassBuilder.ts"),F=x("./src/base.ts"),R=(C=function(y,h){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(v[d]=f[d])})(y,h)},function(y,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function v(){this.constructor=y}C(y,h),y.prototype=null===h?Object.create(h):(v.prototype=h.prototype,new v)}),L=function(C,y,h,v){var u,f=arguments.length,d=f<3?y:null===v?v=Object.getOwnPropertyDescriptor(y,h):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(C,y,h,v);else for(var a=C.length-1;a>=0;a--)(u=C[a])&&(d=(f<3?u(d):f>3?u(y,h,d):u(y,h))||d);return f>3&&d&&Object.defineProperty(y,h,d),d},m=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return R(y,C),y.prototype.updateRemainingCharacterCounter=function(h,v){this.remainingCharacterCounter=$.Helpers.getRemainingCharacterCounterText(h,v)},L([Object(se.property)()],y.prototype,"remainingCharacterCounter",void 0),y}(F.Base),T=function(C){function y(h){var v=C.call(this,h)||this;return v.characterCounter=new m,v}return R(y,C),y.prototype.isTextValue=function(){return!0},Object.defineProperty(y.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(h){this.setPropertyValue("maxLength",h),this.updateRemainingCharacterCounter(this.value)},enumerable:!1,configurable:!0}),y.prototype.getMaxLength=function(){return $.Helpers.getMaxLength(this.maxLength,this.survey?this.survey.maxTextLength:-1)},y.prototype.updateRemainingCharacterCounter=function(h){this.characterCounter.updateRemainingCharacterCounter(h,this.getMaxLength())},Object.defineProperty(y.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(h){this.placeholder=h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),y.prototype.getType=function(){return"textbase"},y.prototype.isEmpty=function(){return C.prototype.isEmpty.call(this)||""===this.value},Object.defineProperty(y.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(h){this.setPropertyValue("textUpdateMode",h)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isSurveyInputTextUpdate",{get:function(){return"default"==this.textUpdateMode?!!this.survey&&this.survey.isUpdateValueTextOnTyping:"onTyping"==this.textUpdateMode},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"renderedPlaceholder",{get:function(){return this.getPropertyValue("renderedPlaceholder")},enumerable:!1,configurable:!0}),y.prototype.setRenderedPlaceholder=function(h){this.setPropertyValue("renderedPlaceholder",h)},y.prototype.onReadOnlyChanged=function(){C.prototype.onReadOnlyChanged.call(this),this.calcRenderedPlaceholder()},y.prototype.onSurveyLoad=function(){this.calcRenderedPlaceholder(),C.prototype.onSurveyLoad.call(this)},y.prototype.localeChanged=function(){C.prototype.localeChanged.call(this),this.calcRenderedPlaceholder()},y.prototype.setSurveyImpl=function(h,v){C.prototype.setSurveyImpl.call(this,h,v),this.calcRenderedPlaceholder()},y.prototype.calcRenderedPlaceholder=function(){var h=this.placeHolder;!!h&&!this.hasPlaceholder()&&(h=void 0),this.setRenderedPlaceholder(h)},y.prototype.hasPlaceholder=function(){return!this.isReadOnly},y.prototype.setNewValue=function(h){C.prototype.setNewValue.call(this,h),this.updateRemainingCharacterCounter(h)},y.prototype.setQuestionValue=function(h,v){void 0===v&&(v=!0),C.prototype.setQuestionValue.call(this,h,v),this.updateRemainingCharacterCounter(h)},y.prototype.convertToCorrectValue=function(h){return Array.isArray(h)?h.join(this.getValueSeparator()):h},y.prototype.getValueSeparator=function(){return", "},y.prototype.getControlCssClassBuilder=function(){return(new w.CssClassBuilder).append(this.cssClasses.root).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isReadOnly)},y.prototype.getControlClass=function(){return this.getControlCssClassBuilder().toString()},Object.defineProperty(y.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),L([Object(se.property)({localizable:!0,onSet:function(h,v){return v.calcRenderedPlaceholder()}})],y.prototype,"placeholder",void 0),y}(G.Question);se.Serializer.addClass("textbase",[],function(){return new T("")},"question")},"./src/questionfactory.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionFactory",function(){return w}),x.d(j,"ElementFactory",function(){return F});var G=x("./src/surveyStrings.ts"),se=x("./src/jsonobject.ts"),$=x("./src/question_custom.ts"),w=function(){function R(){}return Object.defineProperty(R,"DefaultChoices",{get:function(){return[G.surveyLocalization.getString("choices_Item")+"1",G.surveyLocalization.getString("choices_Item")+"2",G.surveyLocalization.getString("choices_Item")+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(R,"DefaultColums",{get:function(){var L=G.surveyLocalization.getString("matrix_column")+" ";return[L+"1",L+"2",L+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(R,"DefaultRows",{get:function(){var L=G.surveyLocalization.getString("matrix_row")+" ";return[L+"1",L+"2"]},enumerable:!1,configurable:!0}),Object.defineProperty(R,"DefaultMutlipleTextItems",{get:function(){var L=G.surveyLocalization.getString("multipletext_itemname");return[L+"1",L+"2"]},enumerable:!1,configurable:!0}),R.prototype.registerQuestion=function(L,m){F.Instance.registerElement(L,m)},R.prototype.registerCustomQuestion=function(L){F.Instance.registerCustomQuestion(L)},R.prototype.unregisterElement=function(L,m){void 0===m&&(m=!1),F.Instance.unregisterElement(L,m)},R.prototype.clear=function(){F.Instance.clear()},R.prototype.getAllTypes=function(){return F.Instance.getAllTypes()},R.prototype.createQuestion=function(L,m){return F.Instance.createElement(L,m)},R.Instance=new R,R}(),F=function(){function R(){var L=this;this.creatorHash={},this.registerCustomQuestion=function(m){L.registerElement(m,function(C){var y=se.Serializer.createClass(m);return y&&(y.name=C),y})}}return R.prototype.registerElement=function(L,m){this.creatorHash[L]=m},R.prototype.clear=function(){this.creatorHash={}},R.prototype.unregisterElement=function(L,m){void 0===m&&(m=!1),delete this.creatorHash[L],m&&se.Serializer.removeClass(L)},R.prototype.getAllTypes=function(){var L=new Array;for(var m in this.creatorHash)L.push(m);return L.sort()},R.prototype.createElement=function(L,m){var T=this.creatorHash[L];if(T)return T(m);var C=$.ComponentCollection.Instance.getCustomQuestionByName(L);return C?$.ComponentCollection.Instance.createQuestion(m,C):null},R.Instance=new R,R}()},"./src/questionnonvalue.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"QuestionNonValue",function(){return w});var F,G=x("./src/question.ts"),se=x("./src/jsonobject.ts"),$=(F=function(R,L){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,T){m.__proto__=T}||function(m,T){for(var C in T)Object.prototype.hasOwnProperty.call(T,C)&&(m[C]=T[C])})(R,L)},function(R,L){if("function"!=typeof L&&null!==L)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function m(){this.constructor=R}F(R,L),R.prototype=null===L?Object.create(L):(m.prototype=L.prototype,new m)}),w=function(F){function R(L){return F.call(this,L)||this}return $(R,F),R.prototype.getType=function(){return"nonvalue"},Object.defineProperty(R.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"hasTitle",{get:function(){return!1},enumerable:!1,configurable:!0}),R.prototype.getTitleLocation=function(){return""},Object.defineProperty(R.prototype,"hasComment",{get:function(){return!1},enumerable:!1,configurable:!0}),R.prototype.hasErrors=function(L,m){return void 0===L&&(L=!0),void 0===m&&(m=null),!1},R.prototype.getAllErrors=function(){return[]},R.prototype.supportGoNextPageAutomatic=function(){return!1},R.prototype.addConditionObjectsByContext=function(L,m){},R.prototype.getConditionJson=function(L,m){return void 0===L&&(L=null),void 0===m&&(m=null),null},Object.defineProperty(R.prototype,"ariaRole",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"ariaRequired",{get:function(){return null},enumerable:!1,configurable:!0}),R}(G.Question);se.Serializer.addClass("nonvalue",[{name:"title",visible:!1},{name:"description",visible:!1},{name:"valueName",visible:!1},{name:"enableIf",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"clearIfInvisible",visible:!1},{name:"isRequired",visible:!1,isSerializable:!1},{name:"requiredErrorText",visible:!1},{name:"readOnly",visible:!1},{name:"requiredIf",visible:!1},{name:"validators",visible:!1},{name:"titleLocation",visible:!1},{name:"showCommentArea",visible:!1},{name:"useDisplayValuesInDynamicTexts",alternativeName:"useDisplayValuesInTitle",visible:!1}],function(){return new w("")},"question")},"./src/rendererFactory.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"RendererFactory",function(){return G});var G=function(){function se(){this.renderersHash={}}return se.prototype.unregisterRenderer=function($,w){delete this.renderersHash[$][w]},se.prototype.registerRenderer=function($,w,F){this.renderersHash[$]||(this.renderersHash[$]={}),this.renderersHash[$][w]=F},se.prototype.getRenderer=function($,w){return this.renderersHash[$]&&this.renderersHash[$][w]||"default"},se.prototype.getRendererByQuestion=function($){return this.getRenderer($.getType(),$.renderAs)},se.prototype.clear=function(){this.renderersHash={}},se.Instance=new se,se}()},"./src/settings.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"settings",function(){return F});var G=x("./src/utils/utils.ts"),se="undefined"!=typeof globalThis?globalThis.document:(void 0).document,F={designMode:{showEmptyDescriptions:!0,showEmptyTitles:!0},get allowShowEmptyDescriptionInDesignMode(){return this.designMode.showEmptyDescriptions},set allowShowEmptyDescriptionInDesignMode(R){this.designMode.showEmptyDescriptions=R},get allowShowEmptyTitleInDesignMode(){return this.designMode.showEmptyTitles},set allowShowEmptyTitleInDesignMode(R){this.designMode.showEmptyTitles=R},localization:{useLocalTimeZone:!0,storeDuplicatedTranslations:!1,defaultLocaleName:"default"},get useLocalTimeZone(){return this.localization.useLocalTimeZone},set useLocalTimeZone(R){this.localization.useLocalTimeZone=R},get storeDuplicatedTranslations(){return this.localization.storeDuplicatedTranslations},set storeDuplicatedTranslations(R){this.localization.storeDuplicatedTranslations=R},get defaultLocaleName(){return this.localization.defaultLocaleName},set defaultLocaleName(R){this.localization.defaultLocaleName=R},web:{onBeforeRequestChoices:function(R,L){},encodeUrlParams:!0,cacheLoadedChoices:!0,disableQuestionWhileLoadingChoices:!1,surveyServiceUrl:"https://api.surveyjs.io/public/v1/Survey"},get webserviceEncodeParameters(){return this.web.encodeUrlParams},set webserviceEncodeParameters(R){this.web.encodeUrlParams=R},get useCachingForChoicesRestful(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestful(R){this.web.cacheLoadedChoices=R},get useCachingForChoicesRestfull(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestfull(R){this.web.cacheLoadedChoices=R},get disableOnGettingChoicesFromWeb(){return this.web.disableQuestionWhileLoadingChoices},set disableOnGettingChoicesFromWeb(R){this.web.disableQuestionWhileLoadingChoices=R},get surveyServiceUrl(){return this.web.surveyServiceUrl},set surveyServiceUrl(R){this.web.surveyServiceUrl=R},triggers:{changeNavigationButtonsOnComplete:!0,executeCompleteOnValueChanged:!1,executeSkipOnValueChanged:!0},get executeCompleteTriggerOnValueChanged(){return this.triggers.executeCompleteOnValueChanged},set executeCompleteTriggerOnValueChanged(R){this.triggers.executeCompleteOnValueChanged=R},get changeNavigationButtonsOnCompleteTrigger(){return this.triggers.changeNavigationButtonsOnComplete},set changeNavigationButtonsOnCompleteTrigger(R){this.triggers.changeNavigationButtonsOnComplete=R},get executeSkipTriggerOnValueChanged(){return this.triggers.executeSkipOnValueChanged},set executeSkipTriggerOnValueChanged(R){this.triggers.executeSkipOnValueChanged=R},serialization:{itemValueSerializeAsObject:!1,itemValueSerializeDisplayText:!1,localizableStringSerializeAsObject:!1},get itemValueAlwaysSerializeAsObject(){return this.serialization.itemValueSerializeAsObject},set itemValueAlwaysSerializeAsObject(R){this.serialization.itemValueSerializeAsObject=R},get itemValueAlwaysSerializeText(){return this.serialization.itemValueSerializeDisplayText},set itemValueAlwaysSerializeText(R){this.serialization.itemValueSerializeDisplayText=R},get serializeLocalizableStringAsObject(){return this.serialization.localizableStringSerializeAsObject},set serializeLocalizableStringAsObject(R){this.serialization.localizableStringSerializeAsObject=R},lazyRender:{enabled:!1,firstBatchSize:3},get lazyRowsRendering(){return this.lazyRender.enabled},set lazyRowsRendering(R){this.lazyRender.enabled=R},get lazyRowsRenderingStartRow(){return this.lazyRender.firstBatchSize},set lazyRowsRenderingStartRow(R){this.lazyRender.firstBatchSize=R},matrix:{defaultCellType:"dropdown",defaultRowName:"default",totalsSuffix:"-total",maxRowCount:1e3,maxRowCountInCondition:1,renderRemoveAsIcon:!0,columnWidthsByType:{file:{minWidth:"240px"},comment:{minWidth:"200px"}},rateSize:"small"},get matrixDefaultRowName(){return this.matrix.defaultRowName},set matrixDefaultRowName(R){this.matrix.defaultRowName=R},get matrixDefaultCellType(){return this.matrix.defaultCellType},set matrixDefaultCellType(R){this.matrix.defaultCellType=R},get matrixTotalValuePostFix(){return this.matrix.totalsSuffix},set matrixTotalValuePostFix(R){this.matrix.totalsSuffix=R},get matrixMaximumRowCount(){return this.matrix.maxRowCount},set matrixMaximumRowCount(R){this.matrix.maxRowCount=R},get matrixMaxRowCountInCondition(){return this.matrix.maxRowCountInCondition},set matrixMaxRowCountInCondition(R){this.matrix.maxRowCountInCondition=R},get matrixRenderRemoveAsIcon(){return this.matrix.renderRemoveAsIcon},set matrixRenderRemoveAsIcon(R){this.matrix.renderRemoveAsIcon=R},panel:{maxPanelCount:100,maxPanelCountInCondition:1},get panelDynamicMaxPanelCountInCondition(){return this.panel.maxPanelCountInCondition},set panelDynamicMaxPanelCountInCondition(R){this.panel.maxPanelCountInCondition=R},get panelMaximumPanelCount(){return this.panel.maxPanelCount},set panelMaximumPanelCount(R){this.panel.maxPanelCount=R},readOnly:{enableValidation:!1,commentRenderMode:"textarea",textRenderMode:"input"},get readOnlyCommentRenderMode(){return this.readOnly.commentRenderMode},set readOnlyCommentRenderMode(R){this.readOnly.commentRenderMode=R},get readOnlyTextRenderMode(){return this.readOnly.textRenderMode},set readOnlyTextRenderMode(R){this.readOnly.textRenderMode=R},numbering:{includeQuestionsWithHiddenNumber:!1,includeQuestionsWithHiddenTitle:!1},get setQuestionVisibleIndexForHiddenTitle(){return this.numbering.includeQuestionsWithHiddenTitle},set setQuestionVisibleIndexForHiddenTitle(R){this.numbering.includeQuestionsWithHiddenTitle=R},get setQuestionVisibleIndexForHiddenNumber(){return this.numbering.includeQuestionsWithHiddenNumber},set setQuestionVisibleIndexForHiddenNumber(R){this.numbering.includeQuestionsWithHiddenNumber=R},enterKeyAction:"default",comparator:{trimStrings:!0,caseSensitive:!1,normalizeTextCallback:function(R,L){return R}},expressionDisableConversionChar:"#",get commentPrefix(){return F.commentSuffix},set commentPrefix(R){F.commentSuffix=R},commentSuffix:"-Comment",itemValueSeparator:"|",ratingMaximumRateValueCount:20,tagboxCloseOnSelect:!1,confirmActionFunc:function(R){return confirm(R)},confirmActionAsync:function(R,L,m,T,C){return Object(G.showConfirmDialog)(R,L,m,T,C)},minWidth:"300px",maxWidth:"100%",maxConditionRunCountOnValueChanged:10,notifications:{lifetime:2e3},autoAdvanceDelay:300,showItemsInOrder:"default",noneItemValue:"none",refuseItemValue:"refused",dontKnowItemValue:"dontknow",specialChoicesOrder:{selectAllItem:[-1],noneItem:[1],refuseItem:[2],dontKnowItem:[3],otherItem:[4]},supportedValidators:{question:["expression"],comment:["text","regex"],text:["numeric","text","regex","email"],checkbox:["answercount"],imagepicker:["answercount"]},minDate:"",maxDate:"",showModal:void 0,showDialog:void 0,supportCreatorV2:!1,showDefaultItemsInCreatorV2:!0,customIcons:{},rankingDragHandleArea:"entireItem",environment:se?{root:se,_rootElement:se.body,get rootElement(){var R;return null!==(R=this._rootElement)&&void 0!==R?R:se.body},set rootElement(R){this._rootElement=R},_popupMountContainer:se.body,get popupMountContainer(){var R;return null!==(R=this._popupMountContainer)&&void 0!==R?R:se.body},set popupMountContainer(R){this._popupMountContainer=R},svgMountContainer:se.head,stylesSheetsMountContainer:se.head}:void 0,showMaxLengthIndicator:!0,animationEnabled:!0,titleTags:{survey:"h3",page:"h4",panel:"h4",question:"h5"},questions:{inputTypes:["color","date","datetime-local","email","month","number","password","range","tel","text","time","url","week"],dataList:["","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","organization-title","username","new-password","current-password","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"]},legacyProgressBarView:!1}},"./src/stylesmanager.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"modernThemeColors",function(){return w}),x.d(j,"defaultThemeColors",function(){return F}),x.d(j,"orangeThemeColors",function(){return R}),x.d(j,"darkblueThemeColors",function(){return L}),x.d(j,"darkroseThemeColors",function(){return m}),x.d(j,"stoneThemeColors",function(){return T}),x.d(j,"winterThemeColors",function(){return C}),x.d(j,"winterstoneThemeColors",function(){return y}),x.d(j,"StylesManager",function(){return v});var G=x("./src/defaultCss/defaultV2Css.ts"),se=x("./src/settings.ts"),$=x("./src/utils/utils.ts"),w={"$main-color":"#1ab394","$add-button-color":"#1948b3","$remove-button-color":"#ff1800","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-slider-color":"#cfcfcf","$error-color":"#d52901","$text-color":"#404040","$light-text-color":"#fff","$checkmark-color":"#fff","$progress-buttons-color":"#8dd9ca","$inputs-background-color":"transparent","$main-hover-color":"#9f9f9f","$body-container-background-color":"#f4f4f4","$text-border-color":"#d4d4d4","$disabled-text-color":"rgba(64, 64, 64, 0.5)","$border-color":"rgb(64, 64, 64, 0.5)","$header-background-color":"#e7e7e7","$answer-background-color":"rgba(26, 179, 148, 0.2)","$error-background-color":"rgba(213, 41, 1, 0.2)","$radio-checked-color":"#404040","$clean-button-color":"#1948b3","$body-background-color":"#ffffff","$foreground-light":"#909090","$font-family":"Raleway"},F={"$header-background-color":"#e7e7e7","$body-container-background-color":"#f4f4f4","$main-color":"#1ab394","$main-hover-color":"#0aa384","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#6d7072","$text-input-color":"#6d7072","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#8dd9ca","$progress-buttons-line-color":"#d4d4d4"},R={"$header-background-color":"#4a4a4a","$body-container-background-color":"#f8f8f8","$main-color":"#f78119","$main-hover-color":"#e77109","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#f78119","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#f7b781","$progress-buttons-line-color":"#d4d4d4"},L={"$header-background-color":"#d9d8dd","$body-container-background-color":"#f6f7f2","$main-color":"#3c4f6d","$main-hover-color":"#2c3f5d","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#839ec9","$progress-buttons-line-color":"#d4d4d4"},m={"$header-background-color":"#ddd2ce","$body-container-background-color":"#f7efed","$main-color":"#68656e","$main-hover-color":"#58555e","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#c6bed4","$progress-buttons-line-color":"#d4d4d4"},T={"$header-background-color":"#cdccd2","$body-container-background-color":"#efedf4","$main-color":"#0f0f33","$main-hover-color":"#191955","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#0f0f33","$text-input-color":"#0f0f33","$header-color":"#0f0f33","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#747491","$progress-buttons-line-color":"#d4d4d4"},C={"$header-background-color":"#82b8da","$body-container-background-color":"#dae1e7","$main-color":"#3c3b40","$main-hover-color":"#1e1d20","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#d1c9f5","$progress-buttons-line-color":"#d4d4d4"},y={"$header-background-color":"#323232","$body-container-background-color":"#f8f8f8","$main-color":"#5ac8fa","$main-hover-color":"#06a1e7","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#acdcf2","$progress-buttons-line-color":"#d4d4d4"};var v=function(){function f(){f.autoApplyTheme()}return f.autoApplyTheme=function(){if("bootstrap"!==G.surveyCss.currentType&&"bootstrapmaterial"!==G.surveyCss.currentType){var d=f.getIncludedThemeCss();1===d.length&&f.applyTheme(d[0].name)}},f.getAvailableThemes=function(){return G.surveyCss.getAvailableThemes().filter(function(u){return-1!==["defaultV2","default","modern"].indexOf(u)}).map(function(u){return{name:u,theme:G.surveyCss[u]}})},f.getIncludedThemeCss=function(){if(void 0===se.settings.environment)return[];var d=se.settings.environment.rootElement,u=f.getAvailableThemes(),a=Object($.isShadowDOM)(d)?d.host:d;if(a){var o=getComputedStyle(a);if(o.length)return u.filter(function(s){return s.theme.variables&&o.getPropertyValue(s.theme.variables.themeMark)})}return[]},f.findSheet=function(d){if(void 0===se.settings.environment)return null;for(var u=se.settings.environment.root.styleSheets,a=0;a<u.length;a++)if(u[a].ownerNode&&u[a].ownerNode.id===d)return u[a];return null},f.createSheet=function(d){var u=se.settings.environment.stylesSheetsMountContainer,a=document.createElement("style");return a.id=d,a.appendChild(document.createTextNode("")),Object($.getElement)(u).appendChild(a),f.Logger&&f.Logger.log("style sheet "+d+" created"),a.sheet},f.applyTheme=function(d,u){if(void 0===d&&(d="default"),void 0!==se.settings.environment){var a=se.settings.environment.rootElement,o=Object($.isShadowDOM)(a)?a.host:a;if(G.surveyCss.currentType=d,f.Enabled){if("bootstrap"!==d&&"bootstrapmaterial"!==d)return function h(f,d){Object.keys(f||{}).forEach(function(u){var a=u.substring(1);d.style.setProperty("--"+a,f[u])})}(f.ThemeColors[d],o),void(f.Logger&&f.Logger.log("apply theme "+d+" completed"));var s=f.ThemeCss[d];if(!s)return void(G.surveyCss.currentType="defaultV2");f.insertStylesRulesIntoDocument();var l=u||f.ThemeSelector[d]||f.ThemeSelector.default,c=(d+l).trim(),b=f.findSheet(c);if(!b){b=f.createSheet(c);var M=f.ThemeColors[d]||f.ThemeColors.default;Object.keys(s).forEach(function(D){var g=s[D];Object.keys(M||{}).forEach(function(P){return g=g.replace(new RegExp("\\"+P,"g"),M[P])});try{0===D.indexOf("body")?b.insertRule(D+" { "+g+" }",0):b.insertRule(l+D+" { "+g+" }",0)}catch(P){}})}}f.Logger&&f.Logger.log("apply theme "+d+" completed")}},f.insertStylesRulesIntoDocument=function(){if(f.Enabled){var d=f.findSheet(f.SurveyJSStylesSheetId);d||(d=f.createSheet(f.SurveyJSStylesSheetId)),Object.keys(f.Styles).length&&Object.keys(f.Styles).forEach(function(u){try{d.insertRule(u+" { "+f.Styles[u]+" }",0)}catch(a){}}),Object.keys(f.Media).length&&Object.keys(f.Media).forEach(function(u){try{d.insertRule(f.Media[u].media+" { "+u+" { "+f.Media[u].style+" } }",0)}catch(a){}})}},f.SurveyJSStylesSheetId="surveyjs-styles",f.Styles={},f.Media={},f.ThemeColors={modern:w,default:F,orange:R,darkblue:L,darkrose:m,stone:T,winter:C,winterstone:y},f.ThemeCss={},f.ThemeSelector={default:".sv_main ",modern:".sv-root-modern "},f.Enabled=!0,f}()},"./src/survey-element.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"SurveyElementCore",function(){return C}),x.d(j,"DragTypeOverMeEnum",function(){return y}),x.d(j,"SurveyElement",function(){return h});var v,G=x("./src/jsonobject.ts"),se=x("./src/base.ts"),$=x("./src/actions/adaptive-container.ts"),w=x("./src/helpers.ts"),F=x("./src/settings.ts"),R=x("./src/actions/container.ts"),L=x("./src/utils/cssClassBuilder.ts"),m=(v=function(f,d){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,a){u.__proto__=a}||function(u,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(u[o]=a[o])})(f,d)},function(f,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function u(){this.constructor=f}v(f,d),f.prototype=null===d?Object.create(d):(u.prototype=d.prototype,new u)}),T=function(v,f,d,u){var s,a=arguments.length,o=a<3?f:null===u?u=Object.getOwnPropertyDescriptor(f,d):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(v,f,d,u);else for(var l=v.length-1;l>=0;l--)(s=v[l])&&(o=(a<3?s(o):a>3?s(f,d,o):s(f,d))||o);return a>3&&o&&Object.defineProperty(f,d,o),o},C=function(v){function f(){var d=v.call(this)||this;return d.createLocTitleProperty(),d}return m(f,v),f.prototype.createLocTitleProperty=function(){return this.createLocalizableString("title",this,!0)},Object.defineProperty(f.prototype,"title",{get:function(){return this.getLocalizableStringText("title",this.getDefaultTitleValue())},set:function(d){this.setLocalizableStringText("title",d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locTitle",{get:function(){return this.getLocalizableString("title")},enumerable:!1,configurable:!0}),f.prototype.getDefaultTitleValue=function(){},f.prototype.updateDescriptionVisibility=function(d){var u=!1;if(this.isDesignMode){var a=G.Serializer.findProperty(this.getType(),"description");u=!!(null==a?void 0:a.placeholder)}this.hasDescription=!!d||u&&this.isDesignMode},Object.defineProperty(f.prototype,"locDescription",{get:function(){return this.getLocalizableString("description")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titleTagName",{get:function(){var d=this.getDefaultTitleTagName(),u=this.getSurvey();return u?u.getElementTitleTagName(this,d):d},enumerable:!1,configurable:!0}),f.prototype.getDefaultTitleTagName=function(){return F.settings.titleTags[this.getType()]},Object.defineProperty(f.prototype,"hasTitle",{get:function(){return this.title.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasTitleActions",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasTitleEvents",{get:function(){return this.hasTitleActions},enumerable:!1,configurable:!0}),f.prototype.getTitleToolbar=function(){return null},f.prototype.getTitleOwner=function(){},Object.defineProperty(f.prototype,"isTitleOwner",{get:function(){return!!this.getTitleOwner()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isTitleRenderedAsString",{get:function(){return this.getIsTitleRenderedAsString()},enumerable:!1,configurable:!0}),f.prototype.toggleState=function(){},Object.defineProperty(f.prototype,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cssTitle",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ariaTitleId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titleTabIndex",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titleAriaExpanded",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titleAriaRole",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ariaLabel",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titleAriaLabel",{get:function(){return this.ariaLabel},enumerable:!1,configurable:!0}),f.prototype.getIsTitleRenderedAsString=function(){return!this.isTitleOwner},T([Object(G.property)()],f.prototype,"hasDescription",void 0),T([Object(G.property)({localizable:!0,onSet:function(d,u){u.updateDescriptionVisibility(d)}})],f.prototype,"description",void 0),f}(se.Base),y=(()=>(function(v){v[v.InsideEmptyPanel=1]="InsideEmptyPanel",v[v.MultilineRight=2]="MultilineRight",v[v.MultilineLeft=3]="MultilineLeft",v[v.Top=4]="Top",v[v.Right=5]="Right",v[v.Bottom=6]="Bottom",v[v.Left=7]="Left"}(y||(y={})),y))(),h=function(v){function f(d){var u=v.call(this)||this;return u.selectedElementInDesignValue=u,u.disableDesignActions=f.CreateDisabledDesignElements,u.parentQuestionValue=null,u.isContentElement=!1,u.isEditableTemplateElement=!1,u.isInteractiveDesignElement=!0,u.isSingleInRow=!0,u.name=d,u.createNewArray("errors"),u.createNewArray("titleActions"),u.registerPropertyChangedHandlers(["isReadOnly"],function(){u.onReadOnlyChanged()}),u.registerPropertyChangedHandlers(["errors"],function(){u.updateVisibleErrors()}),u.registerPropertyChangedHandlers(["isSingleInRow"],function(){u.updateElementCss(!1)}),u}return m(f,v),f.getProgressInfoByElements=function(d,u){for(var a=se.Base.createProgressInfo(),o=0;o<d.length;o++)if(d[o].isVisible){var s=d[o].getProgressInfo();a.questionCount+=s.questionCount,a.answeredQuestionCount+=s.answeredQuestionCount,a.requiredQuestionCount+=s.requiredQuestionCount,a.requiredAnsweredQuestionCount+=s.requiredAnsweredQuestionCount}return u&&a.questionCount>0&&(0==a.requiredQuestionCount&&(a.requiredQuestionCount=1),a.answeredQuestionCount>0&&(a.requiredAnsweredQuestionCount=1)),a},f.ScrollElementToTop=function(d,u){var a=F.settings.environment.root;if(!d||void 0===a)return!1;var o=a.getElementById(d);if(!o||!o.scrollIntoView)return!1;var s=u?-1:o.getBoundingClientRect().top,l=s<0;if(!l&&window){var c=window.innerHeight;l=c>0&&c<s}return l&&o.scrollIntoView(),l},f.GetFirstNonTextElement=function(d,u){if(void 0===u&&(u=!1),!d||!d.length||0==d.length)return null;if(u){var a=d[0];"#text"===a.nodeName&&(a.data=""),"#text"===(a=d[d.length-1]).nodeName&&(a.data="")}for(var o=0;o<d.length;o++)if("#text"!=d[o].nodeName&&"#comment"!=d[o].nodeName)return d[o];return null},f.FocusElement=function(d){if(!d||"undefined"==typeof document)return!1;var u=f.focusElementCore(d);return u||setTimeout(function(){f.focusElementCore(d)},10),u},f.focusElementCore=function(d){var u=F.settings.environment.root;if(!u)return!1;var a=u.getElementById(d);return!(!a||a.disabled||"none"===a.style.display||null===a.offsetParent||(a.focus(),0))},f.prototype.onPropertyValueChanged=function(d,u,a){v.prototype.onPropertyValueChanged.call(this,d,u,a),"state"===d&&(this.updateElementCss(!1),this.notifyStateChanged(u),this.stateChangedCallback&&this.stateChangedCallback())},f.prototype.getSkeletonComponentNameCore=function(){return this.survey?this.survey.getSkeletonComponentName(this):""},Object.defineProperty(f.prototype,"parentQuestion",{get:function(){return this.parentQuestionValue},enumerable:!1,configurable:!0}),f.prototype.setParentQuestion=function(d){this.parentQuestionValue=d,this.onParentQuestionChanged()},f.prototype.onParentQuestionChanged=function(){},Object.defineProperty(f.prototype,"skeletonComponentName",{get:function(){return this.getSkeletonComponentNameCore()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"state",{get:function(){return this.getPropertyValue("state")},set:function(d){this.setPropertyValue("state",d)},enumerable:!1,configurable:!0}),f.prototype.notifyStateChanged=function(d){this.survey&&this.survey.elementContentVisibilityChanged(this)},Object.defineProperty(f.prototype,"isCollapsed",{get:function(){return"collapsed"===this.state&&!this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isExpanded",{get:function(){return"expanded"===this.state},enumerable:!1,configurable:!0}),f.prototype.collapse=function(){this.isDesignMode||(this.state="collapsed")},f.prototype.expand=function(){this.state="expanded"},f.prototype.toggleState=function(){return this.isCollapsed?(this.expand(),!0):!this.isExpanded||(this.collapse(),!1)},Object.defineProperty(f.prototype,"hasStateButton",{get:function(){return this.isExpanded||this.isCollapsed},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"shortcutText",{get:function(){return this.title||this.name},enumerable:!1,configurable:!0}),f.prototype.getTitleToolbar=function(){return this.titleToolbarValue||(this.titleToolbarValue=this.createActionContainer(!0),this.titleToolbarValue.containerCss=(this.isPanel?this.cssClasses.panel.titleBar:this.cssClasses.titleBar)||"sv-action-title-bar",this.titleToolbarValue.setItems(this.getTitleActions())),this.titleToolbarValue},f.prototype.createActionContainer=function(d){var u=d?new $.AdaptiveActionContainer:new R.ActionContainer;return this.survey&&!!this.survey.getCss().actionBar&&(u.cssClasses=this.survey.getCss().actionBar),u},Object.defineProperty(f.prototype,"titleActions",{get:function(){return this.getPropertyValue("titleActions")},enumerable:!1,configurable:!0}),f.prototype.getTitleActions=function(){return this.isTitleActionRequested||(this.updateTitleActions(),this.isTitleActionRequested=!0),this.titleActions},f.prototype.getDefaultTitleActions=function(){return[]},f.prototype.updateTitleActions=function(){var d=this.getDefaultTitleActions();this.survey&&(d=this.survey.getUpdatedElementTitleActions(this,d)),this.setPropertyValue("titleActions",d)},Object.defineProperty(f.prototype,"hasTitleActions",{get:function(){return this.getTitleActions().length>0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasTitleEvents",{get:function(){return void 0!==this.state&&"default"!==this.state},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titleTabIndex",{get:function(){return this.isPage||"default"===this.state?void 0:0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titleAriaExpanded",{get:function(){if(!this.isPage&&"default"!==this.state)return"expanded"===this.state?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titleAriaRole",{get:function(){if(!this.isPage&&"default"!==this.state)return"button"},enumerable:!1,configurable:!0}),f.prototype.setSurveyImpl=function(d,u){this.surveyImplValue=d,this.surveyImplValue?(this.surveyDataValue=this.surveyImplValue.getSurveyData(),this.setSurveyCore(this.surveyImplValue.getSurvey()),this.textProcessorValue=this.surveyImplValue.getTextProcessor(),this.onSetData()):(this.setSurveyCore(null),this.surveyDataValue=null),this.survey&&(this.updateDescriptionVisibility(this.description),this.clearCssClasses())},f.prototype.canRunConditions=function(){return v.prototype.canRunConditions.call(this)&&!!this.data},f.prototype.getDataFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},f.prototype.getDataFilteredProperties=function(){var d=this.data?this.data.getFilteredProperties():{};return d.question=this,d},Object.defineProperty(f.prototype,"surveyImpl",{get:function(){return this.surveyImplValue},enumerable:!1,configurable:!0}),f.prototype.__setData=function(d){F.settings.supportCreatorV2&&(this.surveyDataValue=d)},Object.defineProperty(f.prototype,"data",{get:function(){return this.surveyDataValue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"survey",{get:function(){return this.getSurvey()},enumerable:!1,configurable:!0}),f.prototype.getSurvey=function(d){return void 0===d&&(d=!1),this.surveyValue||this.surveyImplValue&&this.setSurveyCore(this.surveyImplValue.getSurvey()),this.surveyValue},f.prototype.setSurveyCore=function(d){this.surveyValue=d,this.surveyChangedCallback&&this.surveyChangedCallback()},Object.defineProperty(f.prototype,"isInternal",{get:function(){return this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"areInvisibleElementsShowing",{get:function(){return!!this.survey&&this.survey.areInvisibleElementsShowing&&!this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isReadOnly",{get:function(){return this.readOnly},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"readOnly",{get:function(){return this.getPropertyValue("readOnly")},set:function(d){this.readOnly!=d&&(this.setPropertyValue("readOnly",d),this.isLoadingFromJson||this.setPropertyValue("isReadOnly",this.isReadOnly))},enumerable:!1,configurable:!0}),f.prototype.onReadOnlyChanged=function(){this.readOnlyChangedCallback&&this.readOnlyChangedCallback()},Object.defineProperty(f.prototype,"css",{get:function(){return this.survey?this.survey.getCss():{}},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cssClassesValue",{get:function(){return this.getPropertyValueWithoutDefault("cssClassesValue")},set:function(d){this.setPropertyValue("cssClassesValue",d)},enumerable:!1,configurable:!0}),f.prototype.ensureCssClassesValue=function(){this.cssClassesValue||(this.cssClassesValue=this.calcCssClasses(this.css),this.updateElementCssCore(this.cssClassesValue))},Object.defineProperty(f.prototype,"cssClasses",{get:function(){return this.survey?(this.ensureCssClassesValue(),this.cssClassesValue):this.calcCssClasses(this.css)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cssTitleNumber",{get:function(){var d=this.cssClasses;return d.number?d.number:d.panel?d.panel.number:void 0},enumerable:!1,configurable:!0}),f.prototype.calcCssClasses=function(d){},f.prototype.updateElementCssCore=function(d){},Object.defineProperty(f.prototype,"cssError",{get:function(){return""},enumerable:!1,configurable:!0}),f.prototype.updateElementCss=function(d){this.clearCssClasses()},f.prototype.clearCssClasses=function(){this.cssClassesValue=void 0},f.prototype.getIsLoadingFromJson=function(){return!!v.prototype.getIsLoadingFromJson.call(this)||!!this.surveyValue&&this.surveyValue.isLoadingFromJson},Object.defineProperty(f.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(d){var u=this.name;this.setPropertyValue("name",this.getValidName(d)),!this.isLoadingFromJson&&u&&this.onNameChanged(u)},enumerable:!1,configurable:!0}),f.prototype.getValidName=function(d){return d},f.prototype.onNameChanged=function(d){},f.prototype.updateBindingValue=function(d,u){this.data&&!this.isTwoValueEquals(u,this.data.getValue(d))&&this.data.setValue(d,u,!1)},Object.defineProperty(f.prototype,"errors",{get:function(){return this.getPropertyValue("errors")},set:function(d){this.setPropertyValue("errors",d)},enumerable:!1,configurable:!0}),f.prototype.updateVisibleErrors=function(){for(var d=0,u=0;u<this.errors.length;u++)this.errors[u].visible&&d++;this.hasVisibleErrors=d>0},Object.defineProperty(f.prototype,"containsErrors",{get:function(){return this.getPropertyValue("containsErrors",!1)},enumerable:!1,configurable:!0}),f.prototype.updateContainsErrors=function(){this.setPropertyValue("containsErrors",this.getContainsErrors())},f.prototype.getContainsErrors=function(){return this.errors.length>0},Object.defineProperty(f.prototype,"selectedElementInDesign",{get:function(){return this.selectedElementInDesignValue},set:function(d){this.selectedElementInDesignValue=d},enumerable:!1,configurable:!0}),f.prototype.updateCustomWidgets=function(){},f.prototype.onSurveyLoad=function(){},Object.defineProperty(f.prototype,"wasRendered",{get:function(){return!!this.wasRenderedValue},enumerable:!1,configurable:!0}),f.prototype.onFirstRendering=function(){this.wasRenderedValue=!0,this.ensureCssClassesValue()},f.prototype.endLoadingFromJson=function(){v.prototype.endLoadingFromJson.call(this),this.survey||this.onSurveyLoad(),this.updateDescriptionVisibility(this.description)},f.prototype.setVisibleIndex=function(d){return 0},Object.defineProperty(f.prototype,"isPage",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),f.prototype.delete=function(d){},f.prototype.getLocale=function(){return this.survey?this.survey.getLocale():this.locOwner?this.locOwner.getLocale():""},f.prototype.getMarkdownHtml=function(d,u){return this.survey?this.survey.getSurveyMarkdownHtml(this,d,u):this.locOwner?this.locOwner.getMarkdownHtml(d,u):void 0},f.prototype.getRenderer=function(d){return this.survey&&"function"==typeof this.survey.getRendererForString?this.survey.getRendererForString(this,d):this.locOwner&&"function"==typeof this.locOwner.getRenderer?this.locOwner.getRenderer(d):null},f.prototype.getRendererContext=function(d){return this.survey&&"function"==typeof this.survey.getRendererContextForString?this.survey.getRendererContextForString(this,d):this.locOwner&&"function"==typeof this.locOwner.getRendererContext?this.locOwner.getRendererContext(d):d},f.prototype.getProcessedText=function(d){return this.isLoadingFromJson?d:this.textProcessor?this.textProcessor.processText(d,this.getUseDisplayValuesInDynamicTexts()):this.locOwner?this.locOwner.getProcessedText(d):d},f.prototype.getUseDisplayValuesInDynamicTexts=function(){return!0},f.prototype.removeSelfFromList=function(d){if(d&&Array.isArray(d)){var u=d.indexOf(this);u>-1&&d.splice(u,1)}},Object.defineProperty(f.prototype,"textProcessor",{get:function(){return this.textProcessorValue},enumerable:!1,configurable:!0}),f.prototype.getProcessedHtml=function(d){return d&&this.textProcessor?this.textProcessor.processText(d,!0):d},f.prototype.onSetData=function(){},Object.defineProperty(f.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(d){this.setPropertyValue("parent",d)},enumerable:!1,configurable:!0}),f.prototype.getPage=function(d){for(;d&&d.parent;)d=d.parent;return d&&"page"==d.getType()?d:null},f.prototype.moveToBase=function(d,u,a){if(void 0===a&&(a=null),!u)return!1;d.removeElement(this);var o=-1;return w.Helpers.isNumber(a)&&(o=parseInt(a)),-1==o&&!!a&&!!a.getType&&(o=u.indexOf(a)),u.addElement(this,o),!0},f.prototype.setPage=function(d,u){var a=this.getPage(d);"string"==typeof u&&this.getSurvey().pages.forEach(function(s){u===s.name&&(u=s)}),a!==u&&(d&&d.removeElement(this),u&&u.addElement(this,-1))},f.prototype.getSearchableLocKeys=function(d){d.push("title"),d.push("description")},Object.defineProperty(f.prototype,"isDefaultV2Theme",{get:function(){return this.survey&&"sd-root-modern"==this.survey.getCss().root},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasParent",{get:function(){return this.parent&&!this.parent.isPage&&(!this.parent.originalPage||this.survey.isShowingPreview)||void 0===this.parent},enumerable:!1,configurable:!0}),f.prototype.shouldAddRunnerStyles=function(){return!this.isDesignMode&&this.isDefaultV2Theme},Object.defineProperty(f.prototype,"isCompact",{get:function(){return this.survey&&this.survey.isCompact},enumerable:!1,configurable:!0}),f.prototype.getHasFrameV2=function(){return this.shouldAddRunnerStyles()&&!this.hasParent},f.prototype.getIsNested=function(){return this.shouldAddRunnerStyles()&&this.hasParent},f.prototype.getCssRoot=function(d){return(new L.CssClassBuilder).append(d.withFrame,this.getHasFrameV2()&&!this.isCompact).append(d.compact,this.isCompact&&this.getHasFrameV2()).append(d.collapsed,!!this.isCollapsed).append(d.expanded,!!this.isExpanded).append(d.nested,this.getIsNested()).toString()},Object.defineProperty(f.prototype,"width",{get:function(){return this.getPropertyValue("width","")},set:function(d){this.setPropertyValue("width",d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(d){this.setPropertyValue("minWidth",d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"maxWidth",{get:function(){return this.getPropertyValue("maxWidth")},set:function(d){this.setPropertyValue("maxWidth",d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderWidth",{get:function(){return this.getPropertyValue("renderWidth","")},set:function(d){this.setPropertyValue("renderWidth",d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"indent",{get:function(){return this.getPropertyValue("indent")},set:function(d){this.setPropertyValue("indent",d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"rightIndent",{get:function(){return this.getPropertyValue("rightIndent",0)},set:function(d){this.setPropertyValue("rightIndent",d)},enumerable:!1,configurable:!0}),f.prototype.getRootStyle=function(){var d={};return this.paddingLeft&&(d["--sv-element-add-padding-left"]=this.paddingLeft),this.paddingRight&&(d["--sv-element-add-padding-right"]=this.paddingRight),d},Object.defineProperty(f.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft","")},set:function(d){this.setPropertyValue("paddingLeft",d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight","")},set:function(d){this.setPropertyValue("paddingRight",d)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"rootStyle",{get:function(){var d={},u=this.minWidth;return"auto"!=u&&(u="min(100%, "+this.minWidth+")"),this.allowRootStyle&&this.renderWidth&&(d.flexGrow=1,d.flexShrink=1,d.flexBasis=this.renderWidth,d.minWidth=u,d.maxWidth=this.maxWidth),d},enumerable:!1,configurable:!0}),f.prototype.isContainsSelection=function(d){var u=void 0;if(document.selection)u=document.selection.createRange().parentElement();else{var a=window.getSelection();if(a.rangeCount>0){var o=a.getRangeAt(0);o.startOffset!==o.endOffset&&(u=o.startContainer.parentNode)}}return u==d},Object.defineProperty(f.prototype,"clickTitleFunction",{get:function(){var d=this;if(this.needClickTitleFunction())return function(u){if(!u||!d.isContainsSelection(u.target))return d.processTitleClick()}},enumerable:!1,configurable:!0}),f.prototype.needClickTitleFunction=function(){return"default"!==this.state},f.prototype.processTitleClick=function(){"default"!==this.state&&this.toggleState()},Object.defineProperty(f.prototype,"additionalTitleToolbar",{get:function(){return this.getAdditionalTitleToolbar()},enumerable:!1,configurable:!0}),f.prototype.getAdditionalTitleToolbar=function(){return null},f.prototype.getCssTitle=function(d){var u="default"!==this.state;return(new L.CssClassBuilder).append(d.title).append(d.titleNumInline,(this.no||"").length>4||u).append(d.titleExpandable,u).append(d.titleExpanded,this.isExpanded).append(d.titleCollapsed,this.isCollapsed).append(d.titleDisabled,this.isReadOnly).append(d.titleOnError,this.containsErrors).toString()},f.prototype.localeChanged=function(){v.prototype.localeChanged.call(this),this.updateDescriptionVisibility(this.description),this.errors.length>0&&this.errors.forEach(function(d){d.updateText()})},f.prototype.dispose=function(){v.prototype.dispose.call(this),this.titleToolbarValue&&this.titleToolbarValue.dispose()},f.CreateDisabledDesignElements=!1,T([Object(G.property)({defaultValue:null})],f.prototype,"dragTypeOverMe",void 0),T([Object(G.property)({defaultValue:!1})],f.prototype,"isDragMe",void 0),T([Object(G.property)({defaultValue:!1})],f.prototype,"hasVisibleErrors",void 0),T([Object(G.property)({defaultValue:!0})],f.prototype,"isSingleInRow",void 0),T([Object(G.property)({defaultValue:!0})],f.prototype,"allowRootStyle",void 0),f}(C)},"./src/survey-error.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"SurveyError",function(){return $});var G=x("./src/localizablestring.ts"),se=x("./src/surveyStrings.ts"),$=function(){function w(F,R){void 0===F&&(F=null),void 0===R&&(R=null),this.text=F,this.errorOwner=R,this.visible=!0,this.onUpdateErrorTextCallback=void 0}return w.prototype.equals=function(F){return!(!F||!F.getErrorType||this.getErrorType()!==F.getErrorType())&&this.text===F.text&&this.visible===F.visible},Object.defineProperty(w.prototype,"locText",{get:function(){return this.locTextValue||(this.locTextValue=new G.LocalizableString(this.errorOwner,!0),this.locTextValue.storeDefaultText=!0,this.locTextValue.text=this.getText()),this.locTextValue},enumerable:!1,configurable:!0}),w.prototype.getText=function(){var F=this.text;return F||(F=this.getDefaultText()),this.errorOwner&&(F=this.errorOwner.getErrorCustomText(F,this)),F},w.prototype.getErrorType=function(){return"base"},w.prototype.getDefaultText=function(){return""},w.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},w.prototype.getLocalizationString=function(F){return se.surveyLocalization.getString(F,this.getLocale())},w.prototype.updateText=function(){this.onUpdateErrorTextCallback&&this.onUpdateErrorTextCallback(this),this.locText.text=this.getText()},w}()},"./src/survey-events-api.ts":function($e,j,x){"use strict";x.r(j)},"./src/survey.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"SurveyModel",function(){return k});var re,G=x("./src/helpers.ts"),se=x("./src/jsonobject.ts"),$=x("./src/base.ts"),w=x("./src/survey-element.ts"),F=x("./src/defaultCss/defaultV2Css.ts"),R=x("./src/textPreProcessor.ts"),L=x("./src/conditionProcessValue.ts"),m=x("./src/dxSurveyService.ts"),T=x("./src/surveyStrings.ts"),C=x("./src/error.ts"),y=x("./src/localizablestring.ts"),h=x("./src/stylesmanager.ts"),v=x("./src/surveyTimerModel.ts"),f=x("./src/conditions.ts"),d=x("./src/settings.ts"),u=x("./src/utils/utils.ts"),a=x("./src/actions/action.ts"),o=x("./src/actions/container.ts"),s=x("./src/utils/cssClassBuilder.ts"),l=x("./src/notifier.ts"),c=x("./src/header.ts"),b=x("./src/surveytimer.ts"),M=x("./src/surveyTaskManager.ts"),D=x("./src/progress-buttons.ts"),g=x("./src/surveyToc.ts"),P=(re=function(H,E){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,U){B.__proto__=U}||function(B,U){for(var ae in U)Object.prototype.hasOwnProperty.call(U,ae)&&(B[ae]=U[ae])})(H,E)},function(H,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function B(){this.constructor=H}re(H,E),H.prototype=null===E?Object.create(E):(B.prototype=E.prototype,new B)}),A=function(re,H,E,B){var Pe,U=arguments.length,ae=U<3?H:null===B?B=Object.getOwnPropertyDescriptor(H,E):B;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(re,H,E,B);else for(var je=re.length-1;je>=0;je--)(Pe=re[je])&&(ae=(U<3?Pe(ae):U>3?Pe(H,E,ae):Pe(H,E))||ae);return U>3&&ae&&Object.defineProperty(H,E,ae),ae},k=function(re){function H(E,B){void 0===E&&(E=null),void 0===B&&(B=null);var U=re.call(this)||this;U.valuesHash={},U.variablesHash={},U.onTriggerExecuted=U.addEvent(),U.onCompleting=U.addEvent(),U.onComplete=U.addEvent(),U.onShowingPreview=U.addEvent(),U.onNavigateToUrl=U.addEvent(),U.onStarted=U.addEvent(),U.onPartialSend=U.addEvent(),U.onCurrentPageChanging=U.addEvent(),U.onCurrentPageChanged=U.addEvent(),U.onValueChanging=U.addEvent(),U.onValueChanged=U.addEvent(),U.onVariableChanged=U.addEvent(),U.onQuestionVisibleChanged=U.addEvent(),U.onVisibleChanged=U.onQuestionVisibleChanged,U.onPageVisibleChanged=U.addEvent(),U.onPanelVisibleChanged=U.addEvent(),U.onQuestionCreated=U.addEvent(),U.onQuestionAdded=U.addEvent(),U.onQuestionRemoved=U.addEvent(),U.onPanelAdded=U.addEvent(),U.onPanelRemoved=U.addEvent(),U.onPageAdded=U.addEvent(),U.onValidateQuestion=U.addEvent(),U.onSettingQuestionErrors=U.addEvent(),U.onServerValidateQuestions=U.addEvent(),U.onValidatePanel=U.addEvent(),U.onErrorCustomText=U.addEvent(),U.onValidatedErrorsOnCurrentPage=U.addEvent(),U.onProcessHtml=U.addEvent(),U.onGetQuestionDisplayValue=U.addEvent(),U.onGetQuestionTitle=U.addEvent(),U.onGetTitleTagName=U.addEvent(),U.onGetQuestionNo=U.addEvent(),U.onProgressText=U.addEvent(),U.onTextMarkdown=U.addEvent(),U.onTextRenderAs=U.addEvent(),U.onSendResult=U.addEvent(),U.onGetResult=U.addEvent(),U.onOpenFileChooser=U.addEvent(),U.onUploadFiles=U.addEvent(),U.onDownloadFile=U.addEvent(),U.onClearFiles=U.addEvent(),U.onLoadChoicesFromServer=U.addEvent(),U.onLoadedSurveyFromService=U.addEvent(),U.onProcessTextValue=U.addEvent(),U.onUpdateQuestionCssClasses=U.addEvent(),U.onUpdatePanelCssClasses=U.addEvent(),U.onUpdatePageCssClasses=U.addEvent(),U.onUpdateChoiceItemCss=U.addEvent(),U.onAfterRenderSurvey=U.addEvent(),U.onAfterRenderHeader=U.addEvent(),U.onAfterRenderPage=U.addEvent(),U.onAfterRenderQuestion=U.addEvent(),U.onAfterRenderQuestionInput=U.addEvent(),U.onAfterRenderPanel=U.addEvent(),U.onFocusInQuestion=U.addEvent(),U.onFocusInPanel=U.addEvent(),U.onShowingChoiceItem=U.addEvent(),U.onChoicesLazyLoad=U.addEvent(),U.onChoicesSearch=U.addEvent(),U.onGetChoiceDisplayValue=U.addEvent(),U.onMatrixRowAdded=U.addEvent(),U.onMatrixRowAdding=U.addEvent(),U.onMatrixBeforeRowAdded=U.onMatrixRowAdding,U.onMatrixRowRemoving=U.addEvent(),U.onMatrixRowRemoved=U.addEvent(),U.onMatrixRenderRemoveButton=U.addEvent(),U.onMatrixAllowRemoveRow=U.onMatrixRenderRemoveButton,U.onMatrixCellCreating=U.addEvent(),U.onMatrixCellCreated=U.addEvent(),U.onAfterRenderMatrixCell=U.addEvent(),U.onMatrixAfterCellRender=U.onAfterRenderMatrixCell,U.onMatrixCellValueChanged=U.addEvent(),U.onMatrixCellValueChanging=U.addEvent(),U.onMatrixCellValidate=U.addEvent(),U.onMatrixColumnAdded=U.addEvent(),U.onMultipleTextItemAdded=U.addEvent(),U.onDynamicPanelAdded=U.addEvent(),U.onDynamicPanelRemoved=U.addEvent(),U.onDynamicPanelRemoving=U.addEvent(),U.onTimer=U.addEvent(),U.onTimerPanelInfoText=U.addEvent(),U.onDynamicPanelItemValueChanged=U.addEvent(),U.onGetDynamicPanelTabTitle=U.addEvent(),U.onDynamicPanelCurrentIndexChanged=U.addEvent(),U.onIsAnswerCorrect=U.addEvent(),U.onDragDropAllow=U.addEvent(),U.onScrollingElementToTop=U.addEvent(),U.onLocaleChangedEvent=U.addEvent(),U.onGetQuestionTitleActions=U.addEvent(),U.onGetPanelTitleActions=U.addEvent(),U.onGetPageTitleActions=U.addEvent(),U.onGetPanelFooterActions=U.addEvent(),U.onGetMatrixRowActions=U.addEvent(),U.onElementContentVisibilityChanged=U.addEvent(),U.onGetExpressionDisplayValue=U.addEvent(),U.onPopupVisibleChanged=U.addEvent(),U.jsonErrors=null,U.cssValue=null,U.hideRequiredErrors=!1,U.cssVariables={},U._isMobile=!1,U._isCompact=!1,U._isDesignMode=!1,U.validationEnabled=!0,U.validationAllowSwitchPages=!1,U.validationAllowComplete=!1,U.isNavigationButtonPressed=!1,U.mouseDownPage=null,U.isCalculatingProgressText=!1,U.isFirstPageRendering=!0,U.isCurrentPageRendering=!0,U.isTriggerIsRunning=!1,U.triggerValues=null,U.triggerKeys=null,U.conditionValues=null,U.isValueChangedOnRunningCondition=!1,U.conditionRunnerCounter=0,U.conditionUpdateVisibleIndexes=!1,U.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,U.isEndLoadingFromJson=null,U.questionHashes={names:{},namesInsensitive:{},valueNames:{},valueNamesInsensitive:{}},U.needRenderIcons=!0,U.skippedPages=[],U.skeletonComponentName="sv-skeleton",U.taskManager=new M.SurveyTaskManagerModel,"undefined"!=typeof document&&(H.stylesManager=new h.StylesManager);var ae=function(Pe){return"<h3>"+Pe+"</h3>"};return U.createHtmlLocString("completedHtml","completingSurvey",ae),U.createHtmlLocString("completedBeforeHtml","completingSurveyBefore",ae,"completed-before"),U.createHtmlLocString("loadingHtml","loadingSurvey",ae,"loading"),U.createLocalizableString("emptySurveyText",U,!0,"emptySurvey"),U.createLocalizableString("logo",U,!1),U.createLocalizableString("startSurveyText",U,!1,!0),U.createLocalizableString("pagePrevText",U,!1,!0),U.createLocalizableString("pageNextText",U,!1,!0),U.createLocalizableString("completeText",U,!1,!0),U.createLocalizableString("previewText",U,!1,!0),U.createLocalizableString("editText",U,!1,!0),U.createLocalizableString("questionTitleTemplate",U,!0),U.timerModelValue=new v.SurveyTimerModel(U),U.timerModelValue.onTimer=function(Pe){U.doTimer(Pe)},U.createNewArray("pages",function(Pe){U.doOnPageAdded(Pe)},function(Pe){U.doOnPageRemoved(Pe)}),U.createNewArray("triggers",function(Pe){Pe.setOwner(U)}),U.createNewArray("calculatedValues",function(Pe){Pe.setOwner(U)}),U.createNewArray("completedHtmlOnCondition",function(Pe){Pe.locOwner=U}),U.createNewArray("navigateToUrlOnCondition",function(Pe){Pe.locOwner=U}),U.registerPropertyChangedHandlers(["locale"],function(){U.onSurveyLocaleChanged()}),U.registerPropertyChangedHandlers(["firstPageIsStarted"],function(){U.onFirstPageIsStartedChanged()}),U.registerPropertyChangedHandlers(["mode"],function(){U.onModeChanged()}),U.registerPropertyChangedHandlers(["progressBarType"],function(){U.updateProgressText()}),U.registerPropertyChangedHandlers(["questionStartIndex","requiredText","questionTitlePattern"],function(){U.resetVisibleIndexes()}),U.registerPropertyChangedHandlers(["isLoading","isCompleted","isCompletedBefore","mode","isStartedState","currentPage"],function(){U.updateState()}),U.registerPropertyChangedHandlers(["state","currentPage","showPreviewBeforeComplete"],function(){U.onStateAndCurrentPageChanged()}),U.registerPropertyChangedHandlers(["logo","logoPosition"],function(){U.updateHasLogo()}),U.registerPropertyChangedHandlers(["backgroundImage"],function(){U.updateRenderBackgroundImage()}),U.registerPropertyChangedHandlers(["renderBackgroundImage","backgroundOpacity","backgroundImageFit","fitToContainer","backgroundImageAttachment"],function(){U.updateBackgroundImageStyle()}),U.registerPropertyChangedHandlers(["showPrevButton","showCompleteButton"],function(){U.updateButtonsVisibility()}),U.onGetQuestionNo.onCallbacksChanged=function(){U.resetVisibleIndexes()},U.onProgressText.onCallbacksChanged=function(){U.updateProgressText()},U.onTextMarkdown.onCallbacksChanged=function(){U.locStrsChanged()},U.onProcessHtml.onCallbacksChanged=function(){U.locStrsChanged()},U.onGetQuestionTitle.onCallbacksChanged=function(){U.locStrsChanged()},U.onUpdatePageCssClasses.onCallbacksChanged=function(){U.currentPage&&U.currentPage.updateElementCss()},U.onUpdatePanelCssClasses.onCallbacksChanged=function(){U.currentPage&&U.currentPage.updateElementCss()},U.onUpdateQuestionCssClasses.onCallbacksChanged=function(){U.currentPage&&U.currentPage.updateElementCss()},U.onShowingChoiceItem.onCallbacksChanged=function(){U.rebuildQuestionChoices()},U.navigationBarValue=U.createNavigationBar(),U.navigationBar.locOwner=U,U.onBeforeCreating(),E&&(("string"==typeof E||E instanceof String)&&(E=JSON.parse(E)),E&&E.clientId&&(U.clientId=E.clientId),U.fromJSON(E),U.surveyId&&U.loadSurveyFromService(U.surveyId,U.clientId)),U.onCreating(),B&&U.render(B),U.updateCss(),U.setCalculatedWidthModeUpdater(),U.notifier=new l.Notifier(U.css.saveData),U.notifier.addAction(U.createTryAgainAction(),"error"),U.onPopupVisibleChanged.add(function(Pe,je){U.onScrollCallback=je.visible?function(){je.popup.toggleVisibility()}:void 0}),U.progressBarValue=new D.ProgressButtons(U),U.layoutElements.push({id:"timerpanel",template:"survey-timerpanel",component:"sv-timerpanel",data:U.timerModel}),U.layoutElements.push({id:"progress-buttons",component:"sv-progress-buttons",data:U.progressBar,processResponsiveness:function(Pe){return U.progressBar.processResponsiveness&&U.progressBar.processResponsiveness(Pe)}}),U.layoutElements.push({id:"progress-questions",component:"sv-progress-questions",data:U}),U.layoutElements.push({id:"progress-pages",component:"sv-progress-pages",data:U}),U.layoutElements.push({id:"progress-correctquestions",component:"sv-progress-correctquestions",data:U}),U.layoutElements.push({id:"progress-requiredquestions",component:"sv-progress-requiredquestions",data:U}),U.addLayoutElement({id:"toc-navigation",component:"sv-navigation-toc",data:new g.TOCModel(U)}),U.layoutElements.push({id:"buttons-navigation",component:"sv-action-bar",data:U.navigationBar}),U}return P(H,re),Object.defineProperty(H,"cssType",{get:function(){return F.surveyCss.currentType},set:function(E){h.StylesManager.applyTheme(E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"platformName",{get:function(){return H.platform},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"commentSuffix",{get:function(){return d.settings.commentSuffix},set:function(E){d.settings.commentSuffix=E},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"commentPrefix",{get:function(){return this.commentSuffix},set:function(E){this.commentSuffix=E},enumerable:!1,configurable:!0}),H.prototype.processClosedPopup=function(E,B){throw new Error("Method not implemented.")},H.prototype.createTryAgainAction=function(){var E=this;return{id:"save-again",title:this.getLocalizationString("saveAgainButton"),action:function(){E.isCompleted?E.saveDataOnComplete():E.doComplete()}}},H.prototype.createHtmlLocString=function(E,B,U,ae){var Pe=this,je=this.createLocalizableString(E,this,!1,B);je.onGetLocalizationTextCallback=U,ae&&(je.onGetTextCallback=function(ft){return Pe.processHtml(ft,ae)})},H.prototype.getType=function(){return"survey"},H.prototype.onPropertyValueChanged=function(E,B,U){"questionsOnPageMode"===E&&this.onQuestionsOnPageModeChanged(B)},Object.defineProperty(H.prototype,"pages",{get:function(){return this.getPropertyValue("pages")},enumerable:!1,configurable:!0}),H.prototype.render=function(E){void 0===E&&(E=null),this.renderCallback&&this.renderCallback()},H.prototype.updateSurvey=function(E,B){var U=function(){if("model"==Pe||"children"==Pe)return"continue";if(0==Pe.indexOf("on")&&ae[Pe]&&ae[Pe].add){var je=E[Pe];ae[Pe].add(function(gt,Ze){je(gt,Ze)})}else ae[Pe]=E[Pe]},ae=this;for(var Pe in E)U();E&&E.data&&this.onValueChanged.add(function(je,ft){E.data[ft.name]=ft.value})},H.prototype.getCss=function(){return this.css},H.prototype.updateCompletedPageCss=function(){this.containerCss=this.css.container,this.completedCss=(new s.CssClassBuilder).append(this.css.body).append(this.css.completedPage).toString(),this.completedBeforeCss=(new s.CssClassBuilder).append(this.css.body).append(this.css.completedBeforePage).toString(),this.loadingBodyCss=(new s.CssClassBuilder).append(this.css.body).append(this.css.bodyLoading).toString()},H.prototype.updateCss=function(){this.rootCss=this.getRootCss(),this.updateNavigationCss(),this.updateCompletedPageCss(),this.updateWrapperFormCss()},Object.defineProperty(H.prototype,"css",{get:function(){return this.cssValue||(this.cssValue={},this.copyCssClasses(this.cssValue,F.surveyCss.getCss())),this.cssValue},set:function(E){this.setCss(E)},enumerable:!1,configurable:!0}),H.prototype.setCss=function(E,B){void 0===B&&(B=!0),B?this.mergeValues(E,this.css):this.cssValue=E,this.updateCss(),this.updateElementCss(!1)},Object.defineProperty(H.prototype,"cssTitle",{get:function(){return this.css.title},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"cssNavigationComplete",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.complete)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"cssNavigationPreview",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.preview)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"cssNavigationEdit",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.edit)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"cssNavigationPrev",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.prev)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"cssNavigationStart",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.start)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"cssNavigationNext",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.next)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"cssSurveyNavigationButton",{get:function(){return(new s.CssClassBuilder).append(this.css.navigationButton).append(this.css.bodyNavigationButton).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"bodyCss",{get:function(){return(new s.CssClassBuilder).append(this.css.body).append(this.css.bodyWithTimer,"none"!=this.showTimerPanel&&"running"===this.state).append(this.css.body+"--"+this.calculatedWidthMode).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"bodyContainerCss",{get:function(){return this.css.bodyContainer},enumerable:!1,configurable:!0}),H.prototype.insertAdvancedHeader=function(E){E.survey=this,this.layoutElements.push({id:"advanced-header",container:"header",component:"sv-header",index:-100,data:E,processResponsiveness:function(B){return E.processResponsiveness(B)}})},H.prototype.getNavigationCss=function(E,B){return(new s.CssClassBuilder).append(E).append(B).toString()},Object.defineProperty(H.prototype,"lazyRendering",{get:function(){return!0===this.lazyRenderingValue},set:function(E){if(this.lazyRendering!==E){this.lazyRenderingValue=E;var B=this.currentPage;B&&B.updateRows()}},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isLazyRendering",{get:function(){return this.lazyRendering||d.settings.lazyRender.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"lazyRenderingFirstBatchSize",{get:function(){return this.lazyRenderingFirstBatchSizeValue||d.settings.lazyRender.firstBatchSize},set:function(E){this.lazyRenderingFirstBatchSizeValue=E},enumerable:!1,configurable:!0}),H.prototype.updateLazyRenderingRowsOnRemovingElements=function(){if(this.isLazyRendering){var E=this.currentPage;E&&Object(u.scrollElementByChildId)(E.id)}},Object.defineProperty(H.prototype,"triggers",{get:function(){return this.getPropertyValue("triggers")},set:function(E){this.setPropertyValue("triggers",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"calculatedValues",{get:function(){return this.getPropertyValue("calculatedValues")},set:function(E){this.setPropertyValue("calculatedValues",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"surveyId",{get:function(){return this.getPropertyValue("surveyId","")},set:function(E){this.setPropertyValue("surveyId",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"surveyPostId",{get:function(){return this.getPropertyValue("surveyPostId","")},set:function(E){this.setPropertyValue("surveyPostId",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"clientId",{get:function(){return this.getPropertyValue("clientId","")},set:function(E){this.setPropertyValue("clientId",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"cookieName",{get:function(){return this.getPropertyValue("cookieName","")},set:function(E){this.setPropertyValue("cookieName",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"sendResultOnPageNext",{get:function(){return this.getPropertyValue("sendResultOnPageNext")},set:function(E){this.setPropertyValue("sendResultOnPageNext",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"surveyShowDataSaving",{get:function(){return this.getPropertyValue("surveyShowDataSaving")},set:function(E){this.setPropertyValue("surveyShowDataSaving",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"focusFirstQuestionAutomatic",{get:function(){return this.getPropertyValue("focusFirstQuestionAutomatic")},set:function(E){this.setPropertyValue("focusFirstQuestionAutomatic",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"focusOnFirstError",{get:function(){return this.getPropertyValue("focusOnFirstError")},set:function(E){this.setPropertyValue("focusOnFirstError",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"showNavigationButtons",{get:function(){return this.getPropertyValue("showNavigationButtons")},set:function(E){(!0===E||void 0===E)&&(E="bottom"),!1===E&&(E="none"),this.setPropertyValue("showNavigationButtons",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"showPrevButton",{get:function(){return this.getPropertyValue("showPrevButton")},set:function(E){this.setPropertyValue("showPrevButton",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"showCompleteButton",{get:function(){return this.getPropertyValue("showCompleteButton",!0)},set:function(E){this.setPropertyValue("showCompleteButton",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"showTOC",{get:function(){return this.getPropertyValue("showTOC")},set:function(E){this.setPropertyValue("showTOC",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"tocLocation",{get:function(){return this.getPropertyValue("tocLocation")},set:function(E){this.setPropertyValue("tocLocation",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"showTitle",{get:function(){return this.getPropertyValue("showTitle")},set:function(E){this.setPropertyValue("showTitle",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"showPageTitles",{get:function(){return this.getPropertyValue("showPageTitles")},set:function(E){this.setPropertyValue("showPageTitles",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"showCompletedPage",{get:function(){return this.getPropertyValue("showCompletedPage")},set:function(E){this.setPropertyValue("showCompletedPage",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"navigateToUrl",{get:function(){return this.getPropertyValue("navigateToUrl")},set:function(E){this.setPropertyValue("navigateToUrl",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"navigateToUrlOnCondition",{get:function(){return this.getPropertyValue("navigateToUrlOnCondition")},set:function(E){this.setPropertyValue("navigateToUrlOnCondition",E)},enumerable:!1,configurable:!0}),H.prototype.getNavigateToUrl=function(){var E=this.getExpressionItemOnRunCondition(this.navigateToUrlOnCondition),B=E?E.url:this.navigateToUrl;return B&&(B=this.processText(B,!1)),B},H.prototype.navigateTo=function(){var B={url:this.getNavigateToUrl(),allow:!0};this.onNavigateToUrl.fire(this,B),B.url&&B.allow&&Object(u.navigateToUrl)(B.url)},Object.defineProperty(H.prototype,"requiredText",{get:function(){return this.getPropertyValue("requiredText","*")},set:function(E){this.setPropertyValue("requiredText",E)},enumerable:!1,configurable:!0}),H.prototype.beforeSettingQuestionErrors=function(E,B){this.makeRequiredErrorsInvisible(B),this.onSettingQuestionErrors.fire(this,{question:E,errors:B})},H.prototype.beforeSettingPanelErrors=function(E,B){this.makeRequiredErrorsInvisible(B)},H.prototype.makeRequiredErrorsInvisible=function(E){if(this.hideRequiredErrors)for(var B=0;B<E.length;B++){var U=E[B].getErrorType();("required"==U||"requireoneanswer"==U)&&(E[B].visible=!1)}},Object.defineProperty(H.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(E){this.setPropertyValue("questionStartIndex",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(E){this.setPropertyValue("storeOthersAsComment",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"maxTextLength",{get:function(){return this.getPropertyValue("maxTextLength")},set:function(E){this.setPropertyValue("maxTextLength",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"maxOthersLength",{get:function(){return this.getPropertyValue("maxOthersLength")},set:function(E){this.setPropertyValue("maxOthersLength",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"goNextPageAutomatic",{get:function(){return this.getPropertyValue("goNextPageAutomatic")},set:function(E){this.setPropertyValue("goNextPageAutomatic",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"allowCompleteSurveyAutomatic",{get:function(){return this.getPropertyValue("allowCompleteSurveyAutomatic",!0)},set:function(E){this.setPropertyValue("allowCompleteSurveyAutomatic",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"checkErrorsMode",{get:function(){return this.getPropertyValue("checkErrorsMode")},set:function(E){this.setPropertyValue("checkErrorsMode",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"autoGrowComment",{get:function(){return this.getPropertyValue("autoGrowComment")},set:function(E){this.setPropertyValue("autoGrowComment",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"allowResizeComment",{get:function(){return this.getPropertyValue("allowResizeComment")},set:function(E){this.setPropertyValue("allowResizeComment",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(E){this.setPropertyValue("textUpdateMode",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"clearInvisibleValues",{get:function(){return this.getPropertyValue("clearInvisibleValues")},set:function(E){!0===E&&(E="onComplete"),!1===E&&(E="none"),this.setPropertyValue("clearInvisibleValues",E)},enumerable:!1,configurable:!0}),H.prototype.clearIncorrectValues=function(E){void 0===E&&(E=!1);for(var B=0;B<this.pages.length;B++)this.pages[B].clearIncorrectValues();if(E){var U=this.data,ae=!1;for(var Pe in U)if(!this.getQuestionByValueName(Pe)&&!this.iscorrectValueWithPostPrefix(Pe,d.settings.commentSuffix)&&!this.iscorrectValueWithPostPrefix(Pe,d.settings.matrix.totalsSuffix)){var je=this.getCalculatedValueByName(Pe);je&&je.includeIntoResult||(ae=!0,delete U[Pe])}ae&&(this.data=U)}},H.prototype.iscorrectValueWithPostPrefix=function(E,B){return E.indexOf(B)===E.length-B.length&&!!this.getQuestionByValueName(E.substring(0,E.indexOf(B)))},Object.defineProperty(H.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues")},set:function(E){this.setPropertyValue("keepIncorrectValues",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"locale",{get:function(){return this.getPropertyValueWithoutDefault("locale")||T.surveyLocalization.currentLocale},set:function(E){E===T.surveyLocalization.defaultLocale&&!T.surveyLocalization.currentLocale&&(E=""),this.setPropertyValue("locale",E)},enumerable:!1,configurable:!0}),H.prototype.onSurveyLocaleChanged=function(){this.notifyElementsOnAnyValueOrVariableChanged("locale"),this.localeChanged(),this.onLocaleChangedEvent.fire(this,this.locale)},H.prototype.getUsedLocales=function(){var E=new Array;this.addUsedLocales(E);var B=E.indexOf("default");if(B>-1){var U=T.surveyLocalization.defaultLocale,ae=E.indexOf(U);ae>-1&&E.splice(ae,1),B=E.indexOf("default"),E[B]=U}return E},H.prototype.localeChanged=function(){for(var E=0;E<this.pages.length;E++)this.pages[E].localeChanged()},H.prototype.getLocale=function(){return this.locale},H.prototype.locStrsChanged=function(){if(!this.isClearingUnsedValues&&(re.prototype.locStrsChanged.call(this),this.currentPage)){if(this.isDesignMode)this.pages.forEach(function(ae){return ae.locStrsChanged()});else{var E=this.activePage;E&&E.locStrsChanged();for(var B=this.visiblePages,U=0;U<B.length;U++)B[U].navigationLocStrChanged()}this.isShowStartingPage||this.updateProgressText(),this.navigationBar.locStrsChanged()}},H.prototype.getMarkdownHtml=function(E,B){return this.getSurveyMarkdownHtml(this,E,B)},H.prototype.getRenderer=function(E){return this.getRendererForString(this,E)},H.prototype.getRendererContext=function(E){return this.getRendererContextForString(this,E)},H.prototype.getRendererForString=function(E,B){var ae={element:E,name:B,renderAs:this.getBuiltInRendererForString(E,B)};return this.onTextRenderAs.fire(this,ae),ae.renderAs},H.prototype.getRendererContextForString=function(E,B){return B},H.prototype.getExpressionDisplayValue=function(E,B,U){var ae={question:E,value:B,displayValue:U};return this.onGetExpressionDisplayValue.fire(this,ae),ae.displayValue},H.prototype.getBuiltInRendererForString=function(E,B){if(this.isDesignMode)return y.LocalizableString.editableRenderer},H.prototype.getProcessedText=function(E){return this.processText(E,!0)},H.prototype.getLocString=function(E){return this.getLocalizationString(E)},H.prototype.getErrorCustomText=function(E,B){return this.getSurveyErrorCustomText(this,E,B)},H.prototype.getSurveyErrorCustomText=function(E,B,U){var ae={text:B,name:U.getErrorType(),obj:E,error:U};return this.onErrorCustomText.fire(this,ae),ae.text},H.prototype.getQuestionDisplayValue=function(E,B){var U={question:E,displayValue:B};return this.onGetQuestionDisplayValue.fire(this,U),U.displayValue},Object.defineProperty(H.prototype,"emptySurveyText",{get:function(){return this.getLocalizableStringText("emptySurveyText")},set:function(E){this.setLocalizableStringText("emptySurveyText",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"logo",{get:function(){return this.getLocalizableStringText("logo")},set:function(E){this.setLocalizableStringText("logo",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"locLogo",{get:function(){return this.getLocalizableString("logo")},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"logoWidth",{get:function(){return this.getPropertyValue("logoWidth")},set:function(E){this.setPropertyValue("logoWidth",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"renderedLogoWidth",{get:function(){return this.logoWidth?Object(u.getRenderedSize)(this.logoWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"renderedStyleLogoWidth",{get:function(){return this.logoWidth?Object(u.getRenderedStyleSize)(this.logoWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"logoHeight",{get:function(){return this.getPropertyValue("logoHeight")},set:function(E){this.setPropertyValue("logoHeight",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"renderedLogoHeight",{get:function(){return this.logoHeight?Object(u.getRenderedSize)(this.logoHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"renderedStyleLogoHeight",{get:function(){return this.logoHeight?Object(u.getRenderedStyleSize)(this.logoHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"logoPosition",{get:function(){return this.getPropertyValue("logoPosition")},set:function(E){this.setPropertyValue("logoPosition",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"hasLogo",{get:function(){return this.getPropertyValue("hasLogo",!1)},enumerable:!1,configurable:!0}),H.prototype.updateHasLogo=function(){this.setPropertyValue("hasLogo",!!this.logo&&"none"!==this.logoPosition)},Object.defineProperty(H.prototype,"isLogoBefore",{get:function(){return!this.isDesignMode&&this.renderedHasLogo&&("left"===this.logoPosition||"top"===this.logoPosition)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isLogoAfter",{get:function(){return this.isDesignMode?this.renderedHasLogo:this.renderedHasLogo&&("right"===this.logoPosition||"bottom"===this.logoPosition)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"logoClassNames",{get:function(){return(new s.CssClassBuilder).append(this.css.logo).append({left:"sv-logo--left",right:"sv-logo--right",top:"sv-logo--top",bottom:"sv-logo--bottom"}[this.logoPosition]).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"renderedHasTitle",{get:function(){return this.isDesignMode?this.isPropertyVisible("title"):!this.locTitle.isEmpty&&this.showTitle},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"renderedHasDescription",{get:function(){return this.isDesignMode?this.isPropertyVisible("description"):!!this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"hasTitle",{get:function(){return this.renderedHasTitle},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"renderedHasLogo",{get:function(){return this.isDesignMode?this.isPropertyVisible("logo"):this.hasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"renderedHasHeader",{get:function(){return this.renderedHasTitle||this.renderedHasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"logoFit",{get:function(){return this.getPropertyValue("logoFit")},set:function(E){this.setPropertyValue("logoFit",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"themeVariables",{get:function(){return Object.assign({},this.cssVariables)},enumerable:!1,configurable:!0}),H.prototype.setIsMobile=function(E){void 0===E&&(E=!0),this._isMobile!==E&&(this._isMobile=E,this.updateCss(),this.getAllQuestions().forEach(function(B){return B.setIsMobile(E)}))},Object.defineProperty(H.prototype,"isMobile",{get:function(){return this._isMobile&&!this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isCompact",{get:function(){return this._isCompact},set:function(E){E!==this._isCompact&&(this._isCompact=E,this.updateElementCss(),this.triggerResponsiveness(!0))},enumerable:!1,configurable:!0}),H.prototype.isLogoImageChoosen=function(){return this.locLogo.renderedHtml},Object.defineProperty(H.prototype,"titleMaxWidth",{get:function(){return Object(u.isMobile)()||this.isMobile||this.isValueEmpty(this.isLogoImageChoosen())||d.settings.supportCreatorV2||"left"!==this.logoPosition&&"right"!==this.logoPosition?"":"calc(100% - 5px - 2em - "+this.logoWidth+")"},enumerable:!1,configurable:!0}),H.prototype.updateRenderBackgroundImage=function(){var E=this.backgroundImage;this.renderBackgroundImage=Object(u.wrapUrlForBackgroundImage)(E)},Object.defineProperty(H.prototype,"backgroundOpacity",{get:function(){return this.getPropertyValue("backgroundOpacity")},set:function(E){this.setPropertyValue("backgroundOpacity",E)},enumerable:!1,configurable:!0}),H.prototype.updateBackgroundImageStyle=function(){this.backgroundImageStyle={opacity:this.backgroundOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.backgroundImageFit,backgroundAttachment:this.fitToContainer?void 0:this.backgroundImageAttachment}},H.prototype.updateWrapperFormCss=function(){this.wrapperFormCss=(new s.CssClassBuilder).append(this.css.rootWrapper).append(this.css.rootWrapperFixed,"fixed"===this.backgroundImageAttachment).toString()},Object.defineProperty(H.prototype,"completedHtml",{get:function(){return this.getLocalizableStringText("completedHtml")},set:function(E){this.setLocalizableStringText("completedHtml",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"locCompletedHtml",{get:function(){return this.getLocalizableString("completedHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"completedHtmlOnCondition",{get:function(){return this.getPropertyValue("completedHtmlOnCondition")},set:function(E){this.setPropertyValue("completedHtmlOnCondition",E)},enumerable:!1,configurable:!0}),H.prototype.runExpression=function(E){if(!E)return null;var B=this.getFilteredValues(),U=this.getFilteredProperties();return new f.ExpressionRunner(E).run(B,U)},H.prototype.runCondition=function(E){if(!E)return!1;var B=this.getFilteredValues(),U=this.getFilteredProperties();return new f.ConditionRunner(E).run(B,U)},H.prototype.runTriggers=function(){this.checkTriggers(this.getFilteredValues(),!1)},Object.defineProperty(H.prototype,"renderedCompletedHtml",{get:function(){var E=this.getExpressionItemOnRunCondition(this.completedHtmlOnCondition);return E?E.html:this.completedHtml},enumerable:!1,configurable:!0}),H.prototype.getExpressionItemOnRunCondition=function(E){if(0==E.length)return null;for(var B=this.getFilteredValues(),U=this.getFilteredProperties(),ae=0;ae<E.length;ae++)if(E[ae].runCondition(B,U))return E[ae];return null},Object.defineProperty(H.prototype,"completedBeforeHtml",{get:function(){return this.getLocalizableStringText("completedBeforeHtml")},set:function(E){this.setLocalizableStringText("completedBeforeHtml",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"locCompletedBeforeHtml",{get:function(){return this.getLocalizableString("completedBeforeHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"loadingHtml",{get:function(){return this.getLocalizableStringText("loadingHtml")},set:function(E){this.setLocalizableStringText("loadingHtml",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"locLoadingHtml",{get:function(){return this.getLocalizableString("loadingHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"defaultLoadingHtml",{get:function(){return"<h3>"+this.getLocalizationString("loadingSurvey")+"</h3>"},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"navigationBar",{get:function(){return this.navigationBarValue},enumerable:!1,configurable:!0}),H.prototype.addNavigationItem=function(E){return E.component||(E.component="sv-nav-btn"),E.innerCss||(E.innerCss=this.cssSurveyNavigationButton),this.navigationBar.addAction(E)},Object.defineProperty(H.prototype,"startSurveyText",{get:function(){return this.getLocalizableStringText("startSurveyText")},set:function(E){this.setLocalizableStringText("startSurveyText",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"locStartSurveyText",{get:function(){return this.getLocalizableString("startSurveyText")},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"pagePrevText",{get:function(){return this.getLocalizableStringText("pagePrevText")},set:function(E){this.setLocalizableStringText("pagePrevText",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"locPagePrevText",{get:function(){return this.getLocalizableString("pagePrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"pageNextText",{get:function(){return this.getLocalizableStringText("pageNextText")},set:function(E){this.setLocalizableStringText("pageNextText",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"locPageNextText",{get:function(){return this.getLocalizableString("pageNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"completeText",{get:function(){return this.getLocalizableStringText("completeText")},set:function(E){this.setLocalizableStringText("completeText",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"locCompleteText",{get:function(){return this.getLocalizableString("completeText")},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"previewText",{get:function(){return this.getLocalizableStringText("previewText")},set:function(E){this.setLocalizableStringText("previewText",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"locPreviewText",{get:function(){return this.getLocalizableString("previewText")},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"editText",{get:function(){return this.getLocalizableStringText("editText")},set:function(E){this.setLocalizableStringText("editText",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"locEditText",{get:function(){return this.getLocalizableString("editText")},enumerable:!1,configurable:!0}),H.prototype.getElementTitleTagName=function(E,B){if(this.onGetTitleTagName.isEmpty)return B;var U={element:E,tagName:B};return this.onGetTitleTagName.fire(this,U),U.tagName},Object.defineProperty(H.prototype,"questionTitlePattern",{get:function(){return this.getPropertyValue("questionTitlePattern","numTitleRequire")},set:function(E){"numRequireTitle"!==E&&"requireNumTitle"!==E&&"numTitle"!=E&&(E="numTitleRequire"),this.setPropertyValue("questionTitlePattern",E)},enumerable:!1,configurable:!0}),H.prototype.getQuestionTitlePatternOptions=function(){var E=new Array,B=this.getLocalizationString("questionTitlePatternText"),U=this.questionStartIndex?this.questionStartIndex:"1.";return E.push({value:"numTitleRequire",text:U+" "+B+" "+this.requiredText}),E.push({value:"numRequireTitle",text:U+" "+this.requiredText+" "+B}),E.push({value:"requireNumTitle",text:this.requiredText+" "+U+" "+B}),E.push({value:"numTitle",text:U+" "+B}),E},Object.defineProperty(H.prototype,"questionTitleTemplate",{get:function(){return this.getLocalizableStringText("questionTitleTemplate")},set:function(E){this.setLocalizableStringText("questionTitleTemplate",E),this.questionTitlePattern=this.getNewTitlePattern(E),this.questionStartIndex=this.getNewQuestionTitleElement(E,"no",this.questionStartIndex,"1"),this.requiredText=this.getNewQuestionTitleElement(E,"require",this.requiredText,"*")},enumerable:!1,configurable:!0}),H.prototype.getNewTitlePattern=function(E){if(E){for(var B=[];E.indexOf("{")>-1;){var U=(E=E.substring(E.indexOf("{")+1)).indexOf("}");if(U<0)break;B.push(E.substring(0,U)),E=E.substring(U+1)}if(B.length>1){if("require"==B[0])return"requireNumTitle";if("require"==B[1]&&3==B.length)return"numRequireTitle";if(B.indexOf("require")<0)return"numTitle"}if(1==B.length&&"title"==B[0])return"numTitle"}return"numTitleRequire"},H.prototype.getNewQuestionTitleElement=function(E,B,U,ae){if(B="{"+B+"}",!E||E.indexOf(B)<0)return U;for(var Pe=E.indexOf(B),je="",ft="",gt=Pe-1;gt>=0&&"}"!=E[gt];gt--);for(gt<Pe-1&&(je=E.substring(gt+1,Pe)),gt=Pe+=B.length;gt<E.length&&"{"!=E[gt];gt++);for(gt>Pe&&(ft=E.substring(Pe,gt)),gt=0;gt<je.length&&je.charCodeAt(gt)<33;)gt++;for(je=je.substring(gt),gt=ft.length-1;gt>=0&&ft.charCodeAt(gt)<33;)gt--;return ft=ft.substring(0,gt+1),je||ft?je+(U||ae)+ft:U},Object.defineProperty(H.prototype,"locQuestionTitleTemplate",{get:function(){return this.getLocalizableString("questionTitleTemplate")},enumerable:!1,configurable:!0}),H.prototype.getUpdatedQuestionTitle=function(E,B){if(this.onGetQuestionTitle.isEmpty)return B;var U={question:E,title:B};return this.onGetQuestionTitle.fire(this,U),U.title},H.prototype.getUpdatedQuestionNo=function(E,B){if(this.onGetQuestionNo.isEmpty)return B;var U={question:E,no:B};return this.onGetQuestionNo.fire(this,U),U.no},Object.defineProperty(H.prototype,"showPageNumbers",{get:function(){return this.getPropertyValue("showPageNumbers")},set:function(E){E!==this.showPageNumbers&&(this.setPropertyValue("showPageNumbers",E),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(E){!0===E&&(E="on"),!1===E&&(E="off"),(E="onpage"===(E=E.toLowerCase())?"onPage":E)!==this.showQuestionNumbers&&(this.setPropertyValue("showQuestionNumbers",E),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"progressBar",{get:function(){return this.progressBarValue},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"showProgressBar",{get:function(){return this.getPropertyValue("showProgressBar")},set:function(E){this.setPropertyValue("showProgressBar",E.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"progressBarType",{get:function(){return this.getPropertyValue("progressBarType")},set:function(E){"correctquestion"===E&&(E="correctQuestion"),"requiredquestion"===E&&(E="requiredQuestion"),this.setPropertyValue("progressBarType",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"progressBarComponentName",{get:function(){var E=this.progressBarType;return!d.settings.legacyProgressBarView&&"defaultV2"===F.surveyCss.currentType&&Z(E,"pages")&&(E="buttons"),"progress-"+E},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isShowProgressBarOnTop",{get:function(){return!!this.canShowProresBar()&&-1!==["auto","aboveheader","belowheader","topbottom","top","both"].indexOf(this.showProgressBar)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isShowProgressBarOnBottom",{get:function(){return!!this.canShowProresBar()&&("bottom"===this.showProgressBar||"both"===this.showProgressBar||"topbottom"===this.showProgressBar)},enumerable:!1,configurable:!0}),H.prototype.getProgressTypeComponent=function(){return"sv-progress-"+this.progressBarType.toLowerCase()},H.prototype.getProgressCssClasses=function(E){return void 0===E&&(E=""),(new s.CssClassBuilder).append(this.css.progress).append(this.css.progressTop,this.isShowProgressBarOnTop&&(!E||"header"==E)).append(this.css.progressBottom,this.isShowProgressBarOnBottom&&(!E||"footer"==E)).toString()},H.prototype.canShowProresBar=function(){return!this.isShowingPreview||"showAllQuestions"!=this.showPreviewBeforeComplete},Object.defineProperty(H.prototype,"processedTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(E){this.setPropertyValue("questionTitleLocation",E.toLowerCase()),this.isLoadingFromJson||this.updateElementCss(!0)},enumerable:!1,configurable:!0}),H.prototype.updateElementCss=function(E){this.startedPage&&this.startedPage.updateElementCss(E);for(var B=this.visiblePages,U=0;U<B.length;U++)B[U].updateElementCss(E);this.updateCss()},Object.defineProperty(H.prototype,"questionErrorLocation",{get:function(){return this.getPropertyValue("questionErrorLocation")},set:function(E){this.setPropertyValue("questionErrorLocation",E.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"questionDescriptionLocation",{get:function(){return this.getPropertyValue("questionDescriptionLocation")},set:function(E){this.setPropertyValue("questionDescriptionLocation",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"mode",{get:function(){return this.getPropertyValue("mode")},set:function(E){(E=E.toLowerCase())!=this.mode&&("edit"!=E&&"display"!=E||this.setPropertyValue("mode",E))},enumerable:!1,configurable:!0}),H.prototype.onModeChanged=function(){for(var E=0;E<this.pages.length;E++){var B=this.pages[E];B.setPropertyValue("isReadOnly",B.isReadOnly)}this.updateButtonsVisibility(),this.updateCss()},Object.defineProperty(H.prototype,"data",{get:function(){for(var E={},B=this.getValuesKeys(),U=0;U<B.length;U++){var ae=B[U],Pe=this.getDataValueCore(this.valuesHash,ae);void 0!==Pe&&(E[ae]=Pe)}return this.setCalculatedValuesIntoResult(E),E},set:function(E){this.valuesHash={},this.setDataCore(E,!E)},enumerable:!1,configurable:!0}),H.prototype.mergeData=function(E){if(E){var B=this.data;this.mergeValues(E,B),this.setDataCore(B)}},H.prototype.setDataCore=function(E,B){if(void 0===B&&(B=!1),B&&(this.valuesHash={}),E)for(var U in E)this.setDataValueCore(this.valuesHash,U,E[U]);this.updateAllQuestionsValue(B),this.notifyAllQuestionsOnValueChanged(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.runConditions(),this.updateAllQuestionsValue(B)},H.prototype.getStructuredData=function(E,B){if(void 0===E&&(E=!0),void 0===B&&(B=-1),0===B)return this.data;var U={};return this.pages.forEach(function(ae){if(E){var Pe={};ae.collectValues(Pe,B-1)&&(U[ae.name]=Pe)}else ae.collectValues(U,B)}),U},H.prototype.setStructuredData=function(E,B){if(void 0===B&&(B=!1),E){var U={};for(var ae in E)if(this.getQuestionByValueName(ae))U[ae]=E[ae];else{var je=this.getPageByName(ae);je||(je=this.getPanelByName(ae)),je&&this.collectDataFromPanel(je,U,E[ae])}B?this.mergeData(U):this.data=U}},H.prototype.collectDataFromPanel=function(E,B,U){for(var ae in U){var Pe=E.getElementByName(ae);!Pe||(Pe.isPanel?this.collectDataFromPanel(Pe,B,U[ae]):B[ae]=U[ae])}},Object.defineProperty(H.prototype,"editingObj",{get:function(){return this.editingObjValue},set:function(E){var B=this;if(this.editingObj!=E&&(this.editingObj&&this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=E,!this.isDisposed)){if(!E)for(var U=this.getAllQuestions(),ae=0;ae<U.length;ae++)U[ae].unbindValue();this.editingObj&&(this.setDataCore({}),this.onEditingObjPropertyChanged=function(Pe,je){!se.Serializer.hasOriginalProperty(B.editingObj,je.name)||B.updateOnSetValue(je.name,B.editingObj[je.name],je.oldValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))}},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isEditingSurveyElement",{get:function(){return!!this.editingObj},enumerable:!1,configurable:!0}),H.prototype.setCalculatedValuesIntoResult=function(E){for(var B=0;B<this.calculatedValues.length;B++){var U=this.calculatedValues[B];U.includeIntoResult&&U.name&&void 0!==this.getVariable(U.name)&&(E[U.name]=this.getVariable(U.name))}},H.prototype.getAllValues=function(){return this.data},H.prototype.getPlainData=function(E){E||(E={includeEmpty:!0,includeQuestionTypes:!1,includeValues:!1});var B=[],U=[];if(this.getAllQuestions().forEach(function(gt){var Ze=gt.getPlainData(E);Ze&&(B.push(Ze),U.push(gt.valueName||gt.name))}),E.includeValues)for(var ae=this.getValuesKeys(),Pe=0;Pe<ae.length;Pe++){var je=ae[Pe];if(-1==U.indexOf(je)){var ft=this.getDataValueCore(this.valuesHash,je);ft&&B.push({name:je,title:je,value:ft,displayValue:ft,isNode:!1,getString:function(gt){return"object"==typeof gt?JSON.stringify(gt):gt}})}}return B},H.prototype.getFilteredValues=function(){var E={};for(var B in this.variablesHash)E[B]=this.variablesHash[B];this.addCalculatedValuesIntoFilteredValues(E);for(var U=this.getValuesKeys(),ae=0;ae<U.length;ae++)E[B=U[ae]]=this.getDataValueCore(this.valuesHash,B);return this.getAllQuestions().forEach(function(Pe){Pe.hasFilteredValue&&(E[Pe.getValueName()]=Pe.getFilteredValue())}),E},H.prototype.addCalculatedValuesIntoFilteredValues=function(E){for(var B=this.calculatedValues,U=0;U<B.length;U++)E[B[U].name]=B[U].value},H.prototype.getFilteredProperties=function(){return{survey:this}},H.prototype.getValuesKeys=function(){if(!this.editingObj)return Object.keys(this.valuesHash);for(var E=se.Serializer.getPropertiesByObj(this.editingObj),B=[],U=0;U<E.length;U++)B.push(E[U].name);return B},H.prototype.getDataValueCore=function(E,B){return this.editingObj?se.Serializer.getObjPropertyValue(this.editingObj,B):this.getDataFromValueHash(E,B)},H.prototype.setDataValueCore=function(E,B,U){this.editingObj?se.Serializer.setObjPropertyValue(this.editingObj,B,U):this.setDataToValueHash(E,B,U)},H.prototype.deleteDataValueCore=function(E,B){this.editingObj?this.editingObj[B]=null:this.deleteDataFromValueHash(E,B)},H.prototype.getDataFromValueHash=function(E,B){return this.valueHashGetDataCallback?this.valueHashGetDataCallback(E,B):E[B]},H.prototype.setDataToValueHash=function(E,B,U){this.valueHashSetDataCallback?this.valueHashSetDataCallback(E,B,U):E[B]=U},H.prototype.deleteDataFromValueHash=function(E,B){this.valueHashDeleteDataCallback?this.valueHashDeleteDataCallback(E,B):delete E[B]},Object.defineProperty(H.prototype,"comments",{get:function(){for(var E={},B=this.getValuesKeys(),U=0;U<B.length;U++){var ae=B[U];ae.indexOf(this.commentSuffix)>0&&(E[ae]=this.getDataValueCore(this.valuesHash,ae))}return E},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"visiblePages",{get:function(){if(this.isDesignMode)return this.pages;for(var E=new Array,B=0;B<this.pages.length;B++)this.isPageInVisibleList(this.pages[B])&&E.push(this.pages[B]);return E},enumerable:!1,configurable:!0}),H.prototype.isPageInVisibleList=function(E){return this.isDesignMode||E.isVisible&&!E.isStartPage},Object.defineProperty(H.prototype,"isEmpty",{get:function(){return 0==this.pages.length},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"PageCount",{get:function(){return this.pageCount},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"pageCount",{get:function(){return this.pages.length},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"visiblePageCount",{get:function(){return this.visiblePages.length},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"startedPage",{get:function(){var E=this.firstPageIsStarted&&this.pages.length>1?this.pages[0]:null;return E&&(E.onFirstRendering(),E.setWasShown(!0)),E},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"currentPage",{get:function(){return this.getPropertyValue("currentPage",null)},set:function(E){if(!this.isLoadingFromJson){var B=this.getPageByObject(E);if((!E||B)&&(B||!this.isCurrentPageAvailable)&&!(null!=B&&this.visiblePages.indexOf(B)<0)&&B!=this.currentPage){var ae=this.currentPage;!this.isShowingPreview&&!this.currentPageChanging(B,ae)||(this.setPropertyValue("currentPage",B),B&&(B.onFirstRendering(),B.updateCustomWidgets(),B.setWasShown(!0)),this.locStrsChanged(),this.isShowingPreview||this.currentPageChanged(B,ae))}}},enumerable:!1,configurable:!0}),H.prototype.tryNavigateToPage=function(E){if(this.isDesignMode)return!1;var B=this.visiblePages.indexOf(E);if(B<0||B>=this.visiblePageCount||B===this.currentPageNo)return!1;if(B<this.currentPageNo||this.isValidateOnComplete)return this.currentPageNo=B,!0;for(var U=this.currentPageNo;U<B;U++){var ae=this.visiblePages[U];if(!ae.validate(!0,!0))return!1;ae.passed=!0}return this.currentPage=E,!0},H.prototype.updateCurrentPage=function(){this.isCurrentPageAvailable||(this.currentPage=this.firstVisiblePage)},Object.defineProperty(H.prototype,"isCurrentPageAvailable",{get:function(){var E=this.currentPage;return!!E&&this.isPageInVisibleList(E)&&this.isPageExistsInSurvey(E)},enumerable:!1,configurable:!0}),H.prototype.isPageExistsInSurvey=function(E){return this.pages.indexOf(E)>-1||!!this.onContainsPageCallback&&this.onContainsPageCallback(E)},Object.defineProperty(H.prototype,"activePage",{get:function(){return this.getPropertyValue("activePage")},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isShowStartingPage",{get:function(){return"starting"===this.state},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"matrixDragHandleArea",{get:function(){return this.getPropertyValue("matrixDragHandleArea","entireItem")},set:function(E){this.setPropertyValue("matrixDragHandleArea",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isShowingPage",{get:function(){return"running"==this.state||"preview"==this.state||this.isShowStartingPage},enumerable:!1,configurable:!0}),H.prototype.updateActivePage=function(){this.setPropertyValue("activePage",this.isShowStartingPage?this.startedPage:this.currentPage)},H.prototype.onStateAndCurrentPageChanged=function(){this.updateActivePage(),this.updateButtonsVisibility()},H.prototype.getPageByObject=function(E){if(!E)return null;if(E.getType&&"page"==E.getType())return E;if("string"==typeof E||E instanceof String)return this.getPageByName(String(E));if(!isNaN(E)){var B=Number(E),U=this.visiblePages;return E<0||E>=U.length?null:U[B]}return E},Object.defineProperty(H.prototype,"currentPageNo",{get:function(){return this.visiblePages.indexOf(this.currentPage)},set:function(E){var B=this.visiblePages;E<0||E>=B.length||(this.currentPage=B[E])},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(E){this.setPropertyValue("questionsOrder",E)},enumerable:!1,configurable:!0}),H.prototype.focusFirstQuestion=function(){if(!this.focusingQuestionInfo){var E=this.activePage;E&&(E.scrollToTop(),E.focusFirstQuestion())}},H.prototype.scrollToTopOnPageChange=function(E){void 0===E&&(E=!0);var B=this.activePage;!B||(E&&B.scrollToTop(),this.isCurrentPageRendering&&this.focusFirstQuestionAutomatic&&!this.focusingQuestionInfo&&(B.focusFirstQuestion(),this.isCurrentPageRendering=!1))},Object.defineProperty(H.prototype,"state",{get:function(){return this.getPropertyValue("state","empty")},enumerable:!1,configurable:!0}),H.prototype.updateState=function(){this.setPropertyValue("state",this.calcState())},H.prototype.calcState=function(){return this.isLoading?"loading":this.isCompleted?"completed":this.isCompletedBefore?"completedbefore":!this.isDesignMode&&this.isEditMode&&this.isStartedState&&this.startedPage?"starting":this.isShowingPreview?this.currentPage?"preview":"empty":this.currentPage?"running":"empty"},Object.defineProperty(H.prototype,"isCompleted",{get:function(){return this.getPropertyValue("isCompleted",!1)},set:function(E){this.setPropertyValue("isCompleted",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isShowingPreview",{get:function(){return this.getPropertyValue("isShowingPreview",!1)},set:function(E){this.isShowingPreview!=E&&(this.setPropertyValue("isShowingPreview",E),this.onShowingPreviewChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isStartedState",{get:function(){return this.getPropertyValue("isStartedState",!1)},set:function(E){this.setPropertyValue("isStartedState",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isCompletedBefore",{get:function(){return this.getPropertyValue("isCompletedBefore",!1)},set:function(E){this.setPropertyValue("isCompletedBefore",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isLoading",{get:function(){return this.getPropertyValue("isLoading",!1)},set:function(E){this.setPropertyValue("isLoading",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"completedState",{get:function(){return this.getPropertyValue("completedState","")},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"completedStateText",{get:function(){return this.getPropertyValue("completedStateText","")},enumerable:!1,configurable:!0}),H.prototype.setCompletedState=function(E,B){this.setPropertyValue("completedState",E),B||("saving"==E&&(B=this.getLocalizationString("savingData")),"error"==E&&(B=this.getLocalizationString("savingDataError")),"success"==E&&(B=this.getLocalizationString("savingDataSuccess"))),this.setPropertyValue("completedStateText",B),"completed"===this.state&&this.showCompletedPage&&this.completedState&&this.notify(this.completedStateText,this.completedState,"error"===E)},H.prototype.notify=function(E,B,U){void 0===U&&(U=!1),this.notifier.showActions=U,this.notifier.notify(E,B,U)},H.prototype.clear=function(E,B){void 0===E&&(E=!0),void 0===B&&(B=!0),this.isCompleted=!1,this.isCompletedBefore=!1,this.isLoading=!1,this.completedByTriggers=void 0,E&&this.setDataCore(null,!0),this.timerModel.spent=0;for(var U=0;U<this.pages.length;U++)this.pages[U].timeSpent=0,this.pages[U].setWasShown(!1),this.pages[U].passed=!1;this.onFirstPageIsStartedChanged(),B&&(this.currentPage=this.firstVisiblePage),E&&this.updateValuesWithDefaults()},H.prototype.mergeValues=function(E,B){Object(u.mergeValues)(E,B)},H.prototype.updateValuesWithDefaults=function(){if(!this.isDesignMode&&!this.isLoading)for(var E=0;E<this.pages.length;E++)for(var B=this.pages[E].questions,U=0;U<B.length;U++)B[U].updateValueWithDefaults()},H.prototype.updateCustomWidgets=function(E){!E||E.updateCustomWidgets()},H.prototype.currentPageChanging=function(E,B){var U=this.createPageChangeEventOptions(E,B);U.allow=!0,U.allowChanging=!0,this.onCurrentPageChanging.fire(this,U);var ae=U.allowChanging&&U.allow;return ae&&(this.isCurrentPageRendering=!0),ae},H.prototype.currentPageChanged=function(E,B){this.notifyQuestionsOnHidingContent(B);var U=this.createPageChangeEventOptions(E,B);U.isNextPage&&(B.passed=!0),this.onCurrentPageChanged.fire(this,U)},H.prototype.notifyQuestionsOnHidingContent=function(E){!E||E.questions.forEach(function(B){return B.onHidingContent()})},H.prototype.createPageChangeEventOptions=function(E,B){var U=E&&B?E.visibleIndex-B.visibleIndex:0;return{oldCurrentPage:B,newCurrentPage:E,isNextPage:1===U,isPrevPage:-1===U,isGoingForward:U>0,isGoingBackward:U<0,isAfterPreview:!0===this.changeCurrentPageFromPreview}},H.prototype.getProgress=function(){if(null==this.currentPage)return 0;if("pages"!==this.progressBarType){var E=this.getProgressInfo();return"requiredQuestions"===this.progressBarType?E.requiredQuestionCount>=1?Math.ceil(100*E.requiredAnsweredQuestionCount/E.requiredQuestionCount):100:E.questionCount>=1?Math.ceil(100*E.answeredQuestionCount/E.questionCount):100}var B=this.visiblePages,U=B.indexOf(this.currentPage);return Math.ceil(100*U/B.length)},Object.defineProperty(H.prototype,"progressValue",{get:function(){return this.getPropertyValue("progressValue",0)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isNavigationButtonsShowing",{get:function(){if(this.isDesignMode)return"none";var E=this.currentPage;return E?"show"===E.navigationButtonsVisibility?"none"===this.showNavigationButtons?"bottom":this.showNavigationButtons:"hide"===E.navigationButtonsVisibility?"none":this.showNavigationButtons:"none"},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isNavigationButtonsShowingOnTop",{get:function(){return this.getIsNavigationButtonsShowingOn("top")},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isNavigationButtonsShowingOnBottom",{get:function(){return this.getIsNavigationButtonsShowingOn("bottom")},enumerable:!1,configurable:!0}),H.prototype.getIsNavigationButtonsShowingOn=function(E){var B=this.isNavigationButtonsShowing;return"both"==B||B==E},Object.defineProperty(H.prototype,"isEditMode",{get:function(){return"edit"==this.mode},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isDisplayMode",{get:function(){return"display"==this.mode||"preview"==this.state},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isUpdateValueTextOnTyping",{get:function(){return"onTyping"==this.textUpdateMode},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isDesignMode",{get:function(){return this._isDesignMode},enumerable:!1,configurable:!0}),H.prototype.setDesignMode=function(E){!!this._isDesignMode!=!!E&&(this._isDesignMode=!!E,this.onQuestionsOnPageModeChanged("standard"))},Object.defineProperty(H.prototype,"showInvisibleElements",{get:function(){return this.getPropertyValue("showInvisibleElements",!1)},set:function(E){var B=this.visiblePages;this.setPropertyValue("showInvisibleElements",E),!this.isLoadingFromJson&&(this.runConditions(),this.updateAllElementsVisibility(B))},enumerable:!1,configurable:!0}),H.prototype.updateAllElementsVisibility=function(E){for(var B=0;B<this.pages.length;B++){var U=this.pages[B];U.updateElementVisibility(),E.indexOf(U)>-1!=U.isVisible&&this.onPageVisibleChanged.fire(this,{page:U,visible:U.isVisible})}},Object.defineProperty(H.prototype,"areInvisibleElementsShowing",{get:function(){return this.isDesignMode||this.showInvisibleElements},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"areEmptyElementsHidden",{get:function(){return this.isShowingPreview&&"showAnsweredQuestions"==this.showPreviewBeforeComplete&&this.isAnyQuestionAnswered},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isAnyQuestionAnswered",{get:function(){for(var E=this.getAllQuestions(!0),B=0;B<E.length;B++)if(!E[B].isEmpty())return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"hasCookie",{get:function(){if(!this.cookieName||"undefined"==typeof document)return!1;var E=document.cookie;return E&&E.indexOf(this.cookieName+"=true")>-1},enumerable:!1,configurable:!0}),H.prototype.setCookie=function(){!this.cookieName||"undefined"==typeof document||(document.cookie=this.cookieName+"=true; expires=Fri, 31 Dec 9999 0:0:0 GMT")},H.prototype.deleteCookie=function(){!this.cookieName||(document.cookie=this.cookieName+"=;")},Object.defineProperty(H.prototype,"ignoreValidation",{get:function(){return!this.validationEnabled},set:function(E){this.validationEnabled=!E},enumerable:!1,configurable:!0}),H.prototype.nextPage=function(){return!this.isLastPage&&this.doCurrentPageComplete(!1)},H.prototype.hasErrorsOnNavigate=function(E){var B=this;if(!this.isEditMode||this.ignoreValidation)return!1;var U=E&&this.validationAllowComplete||!E&&this.validationAllowSwitchPages,ae=function(Pe){(!Pe||U)&&B.doCurrentPageCompleteCore(E)};return this.isValidateOnComplete?!!this.isLastPage&&!0!==this.validate(!0,!0,ae)&&!U:!0!==this.validateCurrentPage(ae)&&!U},H.prototype.checkForAsyncQuestionValidation=function(E,B){var U=this;this.clearAsyncValidationQuesitons();for(var ae=function(){if(E[je].isRunningValidators){var ft=E[je];ft.onCompletedAsyncValidators=function(gt){U.onCompletedAsyncQuestionValidators(ft,B,gt)},Pe.asyncValidationQuesitons.push(E[je])}},Pe=this,je=0;je<E.length;je++)ae();return this.asyncValidationQuesitons.length>0},H.prototype.clearAsyncValidationQuesitons=function(){if(this.asyncValidationQuesitons)for(var E=this.asyncValidationQuesitons,B=0;B<E.length;B++)E[B].onCompletedAsyncValidators=null;this.asyncValidationQuesitons=[]},H.prototype.onCompletedAsyncQuestionValidators=function(E,B,U){if(U){if(this.clearAsyncValidationQuesitons(),B(!0),this.focusOnFirstError&&E&&E.page&&E.page===this.currentPage){for(var ae=this.currentPage.questions,Pe=0;Pe<ae.length;Pe++)if(ae[Pe]!==E&&ae[Pe].errors.length>0)return;E.focus(!0)}}else{for(var je=this.asyncValidationQuesitons,ft=0;ft<je.length;ft++)if(je[ft].isRunningValidators)return;B(!1)}},Object.defineProperty(H.prototype,"isCurrentPageHasErrors",{get:function(){return this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isCurrentPageValid",{get:function(){return!this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),H.prototype.hasCurrentPageErrors=function(E){return this.hasPageErrors(void 0,E)},H.prototype.validateCurrentPage=function(E){return this.validatePage(void 0,E)},H.prototype.hasPageErrors=function(E,B){var U=this.validatePage(E,B);return void 0===U?U:!U},H.prototype.validatePage=function(E,B){return E||(E=this.activePage),!E||!this.checkIsPageHasErrors(E)&&(!B||!this.checkForAsyncQuestionValidation(E.questions,function(U){return B(U)})||void 0)},H.prototype.hasErrors=function(E,B,U){void 0===E&&(E=!0),void 0===B&&(B=!1);var ae=this.validate(E,B,U);return void 0===ae?ae:!ae},H.prototype.validate=function(E,B,U){void 0===E&&(E=!0),void 0===B&&(B=!1),U&&(E=!0);for(var ae=this.visiblePages,Pe=null,je=!0,ft={fireCallback:E,focuseOnFirstError:B,firstErrorQuestion:null,result:!1},gt=0;gt<ae.length;gt++)ae[gt].validate(E,B,ft)||(Pe||(Pe=ae[gt]),je=!1);return B&&!!Pe&&!!ft.firstErrorQuestion&&ft.firstErrorQuestion.focus(!0),je&&U?!this.checkForAsyncQuestionValidation(this.getAllQuestions(),function(Ze){return U(Ze)})||void 0:je},H.prototype.ensureUniqueNames=function(E){if(void 0===E&&(E=null),null==E)for(var B=0;B<this.pages.length;B++)this.ensureUniqueName(this.pages[B]);else this.ensureUniqueName(E)},H.prototype.ensureUniqueName=function(E){if(E.isPage&&this.ensureUniquePageName(E),E.isPanel&&this.ensureUniquePanelName(E),E.isPage||E.isPanel)for(var B=E.elements,U=0;U<B.length;U++)this.ensureUniqueNames(B[U]);else this.ensureUniqueQuestionName(E)},H.prototype.ensureUniquePageName=function(E){var B=this;return this.ensureUniqueElementName(E,function(U){return B.getPageByName(U)})},H.prototype.ensureUniquePanelName=function(E){var B=this;return this.ensureUniqueElementName(E,function(U){return B.getPanelByName(U)})},H.prototype.ensureUniqueQuestionName=function(E){var B=this;return this.ensureUniqueElementName(E,function(U){return B.getQuestionByName(U)})},H.prototype.ensureUniqueElementName=function(E,B){var U=B(E.name);if(U&&U!=E){for(var ae=this.getNewName(E.name);B(ae);)ae=this.getNewName(E.name);E.name=ae}},H.prototype.getNewName=function(E){for(var B=E.length;B>0&&E[B-1]>="0"&&E[B-1]<="9";)B--;var U=E.substring(0,B),ae=0;return B<E.length&&(ae=parseInt(E.substring(B))),U+ ++ae},H.prototype.checkIsCurrentPageHasErrors=function(E){return void 0===E&&(E=void 0),this.checkIsPageHasErrors(this.activePage,E)},H.prototype.checkIsPageHasErrors=function(E,B){if(void 0===B&&(B=void 0),void 0===B&&(B=this.focusOnFirstError),!E)return!0;var U=!E.validate(!0,B);return this.fireValidatedErrorsOnPage(E),U},H.prototype.fireValidatedErrorsOnPage=function(E){if(!this.onValidatedErrorsOnCurrentPage.isEmpty&&E){for(var B=E.questions,U=new Array,ae=new Array,Pe=0;Pe<B.length;Pe++){var je=B[Pe];if(je.errors.length>0){U.push(je);for(var ft=0;ft<je.errors.length;ft++)ae.push(je.errors[ft])}}this.onValidatedErrorsOnCurrentPage.fire(this,{questions:U,errors:ae,page:E})}},H.prototype.prevPage=function(){var E=this;if(this.isFirstPage||"starting"===this.state)return!1;this.resetNavigationButton();var B=this.skippedPages.find(function(Pe){return Pe.to==E.currentPage});if(B)this.currentPage=B.from,this.skippedPages.splice(this.skippedPages.indexOf(B),1);else{var U=this.visiblePages,ae=U.indexOf(this.currentPage);this.currentPage=U[ae-1]}return!0},H.prototype.completeLastPage=function(){this.isValidateOnComplete&&this.cancelPreview();var E=this.doCurrentPageComplete(!0);return E&&this.cancelPreview(),E},H.prototype.navigationMouseDown=function(){return this.isNavigationButtonPressed=!0,!0},H.prototype.resetNavigationButton=function(){this.isNavigationButtonPressed=!1},H.prototype.nextPageUIClick=function(){if(!this.mouseDownPage||this.mouseDownPage===this.activePage)return this.mouseDownPage=null,this.nextPage()},H.prototype.nextPageMouseDown=function(){return this.mouseDownPage=this.activePage,this.navigationMouseDown()},H.prototype.showPreview=function(){return this.resetNavigationButton(),!(!this.isValidateOnComplete&&(this.hasErrorsOnNavigate(!0)||this.doServerValidation(!0,!0))||(this.showPreviewCore(),0))},H.prototype.showPreviewCore=function(){var E={allowShowPreview:!0,allow:!0};this.onShowingPreview.fire(this,E),this.isShowingPreview=E.allowShowPreview&&E.allow},H.prototype.cancelPreview=function(E){void 0===E&&(E=null),this.isShowingPreview&&(this.gotoPageFromPreview=E,this.isShowingPreview=!1)},H.prototype.cancelPreviewByPage=function(E){this.cancelPreview(E.originalPage)},H.prototype.doCurrentPageComplete=function(E){return!this.isValidatingOnServer&&(this.resetNavigationButton(),!this.hasErrorsOnNavigate(E))&&this.doCurrentPageCompleteCore(E)},H.prototype.doCurrentPageCompleteCore=function(E){return!this.doServerValidation(E)&&(E?(this.currentPage.passed=!0,this.doComplete(this.canBeCompletedByTrigger,this.completedTrigger)):(this.doNextPage(),!0))},Object.defineProperty(H.prototype,"isSinglePage",{get:function(){return"singlePage"==this.questionsOnPageMode},set:function(E){this.questionsOnPageMode=E?"singlePage":"standard"},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"questionsOnPageMode",{get:function(){return this.getPropertyValue("questionsOnPageMode")},set:function(E){this.setPropertyValue("questionsOnPageMode",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"firstPageIsStarted",{get:function(){return this.getPropertyValue("firstPageIsStarted")},set:function(E){this.setPropertyValue("firstPageIsStarted",E)},enumerable:!1,configurable:!0}),H.prototype.isPageStarted=function(E){return this.firstPageIsStarted&&this.pages.length>1&&this.pages[0]===E},Object.defineProperty(H.prototype,"showPreviewBeforeComplete",{get:function(){return this.getPropertyValue("showPreviewBeforeComplete")},set:function(E){this.setPropertyValue("showPreviewBeforeComplete",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isShowPreviewBeforeComplete",{get:function(){var E=this.showPreviewBeforeComplete;return"showAllQuestions"==E||"showAnsweredQuestions"==E},enumerable:!1,configurable:!0}),H.prototype.onFirstPageIsStartedChanged=function(){this.isStartedState=this.firstPageIsStarted&&this.pages.length>1,this.pageVisibilityChanged(this.pages[0],!this.isStartedState)},H.prototype.onShowingPreviewChanged=function(){if(!this.isDesignMode)if(this.isShowingPreview?(this.runningPages=this.pages.slice(0,this.pages.length),this.setupPagesForPageModes(!0)):(this.runningPages&&this.restoreOriginalPages(this.runningPages),this.runningPages=void 0),this.runConditions(),this.updateAllElementsVisibility(this.pages),this.updateVisibleIndexes(),this.isShowingPreview)this.currentPageNo=0;else{var E=this.gotoPageFromPreview;this.gotoPageFromPreview=null,G.Helpers.isValueEmpty(E)&&this.visiblePageCount>0&&(E=this.visiblePages[this.visiblePageCount-1]),E&&(this.changeCurrentPageFromPreview=!0,this.currentPage=E,this.changeCurrentPageFromPreview=!1)}},H.prototype.onQuestionsOnPageModeChanged=function(E){this.isShowingPreview||("standard"==this.questionsOnPageMode||this.isDesignMode?(this.originalPages&&this.restoreOriginalPages(this.originalPages),this.originalPages=void 0):((!E||"standard"==E)&&(this.originalPages=this.pages.slice(0,this.pages.length)),this.setupPagesForPageModes(this.isSinglePage)),this.runConditions(),this.updateVisibleIndexes())},H.prototype.restoreOriginalPages=function(E){this.questionHashesClear(),this.pages.splice(0,this.pages.length);for(var B=0;B<E.length;B++){var U=E[B];U.setWasShown(!1),this.pages.push(U)}},H.prototype.getPageStartIndex=function(){return this.firstPageIsStarted&&this.pages.length>0?1:0},H.prototype.setupPagesForPageModes=function(E){this.questionHashesClear(),this.isCreatingPagesForPreview=!0;var B=this.getPageStartIndex();re.prototype.startLoadingFromJson.call(this);var U=this.createPagesForQuestionOnPageMode(E,B);this.pages.splice(B,this.pages.length-B);for(var Pe=0;Pe<U.length;Pe++)this.pages.push(U[Pe]);for(re.prototype.endLoadingFromJson.call(this),Pe=0;Pe<U.length;Pe++)U[Pe].setSurveyImpl(this,!0);this.doElementsOnLoad(),this.updateCurrentPage(),this.isCreatingPagesForPreview=!1},H.prototype.createPagesForQuestionOnPageMode=function(E,B){return E?[this.createSinglePage(B)]:this.createPagesForEveryQuestion(B)},H.prototype.createSinglePage=function(E){var B=this.createNewPage("all");B.setSurveyImpl(this);for(var U=E;U<this.pages.length;U++){var ae=this.pages[U],Pe=se.Serializer.createClass("panel");Pe.originalPage=ae,B.addPanel(Pe);var je=(new se.JsonObject).toJsonObject(ae);(new se.JsonObject).toObject(je,Pe),this.showPageTitles||(Pe.title="")}return B},H.prototype.createPagesForEveryQuestion=function(E){for(var B=[],U=E;U<this.pages.length;U++){var ae=this.pages[U];ae.setWasShown(!0);for(var Pe=0;Pe<ae.elements.length;Pe++){var je=ae.elements[Pe],ft=se.Serializer.createClass(je.getType());if(ft){var gt=new se.JsonObject;gt.lightSerializing=!0;var Ze=gt.toJsonObject(ae),xt=se.Serializer.createClass(ae.getType());xt.fromJSON(Ze),xt.name=je.name,xt.setSurveyImpl(this),B.push(xt);var Ke=(new se.JsonObject).toJsonObject(je);xt.addElement(ft),(new se.JsonObject).toObject(Ke,ft);for(var tt=0;tt<xt.questions.length;tt++)this.questionHashesAdded(xt.questions[tt])}}}return B},Object.defineProperty(H.prototype,"isFirstPage",{get:function(){return this.getPropertyValue("isFirstPage")},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isLastPage",{get:function(){return this.getPropertyValue("isLastPage")},enumerable:!1,configurable:!0}),H.prototype.updateButtonsVisibility=function(){this.updateIsFirstLastPageState(),this.setPropertyValue("isShowPrevButton",this.calcIsShowPrevButton()),this.setPropertyValue("isShowNextButton",this.calcIsShowNextButton()),this.setPropertyValue("isCompleteButtonVisible",this.calcIsCompleteButtonVisible()),this.setPropertyValue("isPreviewButtonVisible",this.calcIsPreviewButtonVisible()),this.setPropertyValue("isCancelPreviewButtonVisible",this.calcIsCancelPreviewButtonVisible())},Object.defineProperty(H.prototype,"isShowPrevButton",{get:function(){return this.getPropertyValue("isShowPrevButton")},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isShowNextButton",{get:function(){return this.getPropertyValue("isShowNextButton")},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isCompleteButtonVisible",{get:function(){return this.getPropertyValue("isCompleteButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isPreviewButtonVisible",{get:function(){return this.getPropertyValue("isPreviewButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isCancelPreviewButtonVisible",{get:function(){return this.getPropertyValue("isCancelPreviewButtonVisible")},enumerable:!1,configurable:!0}),H.prototype.updateIsFirstLastPageState=function(){var E=this.currentPage;this.setPropertyValue("isFirstPage",!!E&&E===this.firstVisiblePage),this.setPropertyValue("isLastPage",!!E&&E===this.lastVisiblePage)},H.prototype.calcIsShowPrevButton=function(){return!(this.isFirstPage||!this.showPrevButton||"running"!==this.state)&&this.getPageMaxTimeToFinish(this.visiblePages[this.currentPageNo-1])<=0},H.prototype.calcIsShowNextButton=function(){return"running"===this.state&&!this.isLastPage&&!this.canBeCompletedByTrigger},H.prototype.calcIsCompleteButtonVisible=function(){return this.isEditMode&&("running"===this.state&&(this.isLastPage&&!this.isShowPreviewBeforeComplete||this.canBeCompletedByTrigger)||"preview"===this.state)&&this.showCompleteButton},H.prototype.calcIsPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&"running"==this.state&&this.isLastPage},H.prototype.calcIsCancelPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&"preview"==this.state},Object.defineProperty(H.prototype,"firstVisiblePage",{get:function(){for(var E=this.pages,B=0;B<E.length;B++)if(this.isPageInVisibleList(E[B]))return E[B];return null},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"lastVisiblePage",{get:function(){for(var E=this.pages,B=E.length-1;B>=0;B--)if(this.isPageInVisibleList(E[B]))return E[B];return null},enumerable:!1,configurable:!0}),H.prototype.doComplete=function(E,B){if(void 0===E&&(E=!1),!this.isCompleted)return this.checkOnCompletingEvent(E,B)?(this.checkOnPageTriggers(!0),this.stopTimer(),this.notifyQuestionsOnHidingContent(this.currentPage),this.isCompleted=!0,this.clearUnusedValues(),this.saveDataOnComplete(E,B),this.setCookie(),!0):(this.isCompleted=!1,!1)},H.prototype.saveDataOnComplete=function(E,B){var U=this;void 0===E&&(E=!1);var ae=this.hasCookie,Pe=function(Ke){Ze=!0,U.setCompletedState("saving",Ke)},je=function(Ke){U.setCompletedState("error",Ke)},ft=function(Ke){U.setCompletedState("success",Ke),U.navigateTo()},gt=function(Ke){U.setCompletedState("","")},Ze=!1;this.onComplete.fire(this,{isCompleteOnTrigger:E,completeTrigger:B,showSaveInProgress:Pe,showSaveError:je,showSaveSuccess:ft,clearSaveMessages:gt,showDataSaving:Pe,showDataSavingError:je,showDataSavingSuccess:ft,showDataSavingClear:gt}),!ae&&this.surveyPostId&&this.sendResult(),Ze||this.navigateTo()},H.prototype.checkOnCompletingEvent=function(E,B){var U={allowComplete:!0,allow:!0,isCompleteOnTrigger:E,completeTrigger:B};return this.onCompleting.fire(this,U),U.allowComplete&&U.allow},H.prototype.start=function(){return!(!this.firstPageIsStarted||(this.isCurrentPageRendering=!0,this.checkIsPageHasErrors(this.startedPage,!0))||(this.isStartedState=!1,this.notifyQuestionsOnHidingContent(this.pages[0]),this.startTimerFromUI(),this.onStarted.fire(this,{}),this.updateVisibleIndexes(),this.currentPage&&this.currentPage.locStrsChanged(),0))},Object.defineProperty(H.prototype,"isValidatingOnServer",{get:function(){return this.getPropertyValue("isValidatingOnServer",!1)},enumerable:!1,configurable:!0}),H.prototype.setIsValidatingOnServer=function(E){E!=this.isValidatingOnServer&&(this.setPropertyValue("isValidatingOnServer",E),this.onIsValidatingOnServerChanged())},H.prototype.createServerValidationOptions=function(E,B){var U=this,ae={data:{},errors:{},survey:this,complete:function(){U.completeServerValidation(ae,B)}};if(E&&this.isValidateOnComplete)ae.data=this.data;else for(var Pe=this.activePage.questions,je=0;je<Pe.length;je++){var ft=Pe[je];if(ft.visible){var gt=this.getValue(ft.getValueName());this.isValueEmpty(gt)||(ae.data[ft.getValueName()]=gt)}}return ae},H.prototype.onIsValidatingOnServerChanged=function(){},H.prototype.doServerValidation=function(E,B){var U=this;if(void 0===B&&(B=!1),!this.onServerValidateQuestions||this.onServerValidateQuestions.isEmpty||!E&&this.isValidateOnComplete)return!1;this.setIsValidatingOnServer(!0);var ae="function"==typeof this.onServerValidateQuestions;return this.serverValidationEventCount=ae?1:this.onServerValidateQuestions.length,ae?this.onServerValidateQuestions(this,this.createServerValidationOptions(E,B)):this.onServerValidateQuestions.fireByCreatingOptions(this,function(){return U.createServerValidationOptions(E,B)}),!0},H.prototype.completeServerValidation=function(E,B){if(!(this.serverValidationEventCount>1&&(this.serverValidationEventCount--,E&&E.errors&&0===Object.keys(E.errors).length))&&(this.serverValidationEventCount=0,this.setIsValidatingOnServer(!1),E||E.survey)){var U=E.survey,ae=!1;if(E.errors){var Pe=this.focusOnFirstError;for(var je in E.errors){var ft=U.getQuestionByName(je);ft&&ft.errors&&(ae=!0,ft.addError(new C.CustomError(E.errors[je],this)),Pe&&(Pe=!1,ft.page&&(this.currentPage=ft.page),ft.focus(!0)))}this.fireValidatedErrorsOnPage(this.currentPage)}ae||(B?this.showPreviewCore():U.isLastPage?U.doComplete():U.doNextPage())}},H.prototype.doNextPage=function(){var E=this.currentPage;if(this.checkOnPageTriggers(!1),this.isCompleted)this.doComplete(!0);else if(this.sendResultOnPageNext&&this.sendResult(this.surveyPostId,this.clientId,!0),E===this.currentPage){var B=this.visiblePages,U=B.indexOf(this.currentPage);this.currentPage=B[U+1]}},H.prototype.setCompleted=function(E){this.doComplete(!0,E)},H.prototype.canBeCompleted=function(E,B){var U;if(d.settings.triggers.changeNavigationButtonsOnComplete){var ae=this.canBeCompletedByTrigger;this.completedByTriggers||(this.completedByTriggers={}),B?this.completedByTriggers[E.id]={trigger:E,pageId:null===(U=this.currentPage)||void 0===U?void 0:U.id}:delete this.completedByTriggers[E.id],ae!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility()}},Object.defineProperty(H.prototype,"canBeCompletedByTrigger",{get:function(){var E;if(!this.completedByTriggers)return!1;var B=Object.keys(this.completedByTriggers);if(0===B.length)return!1;var U=null===(E=this.currentPage)||void 0===E?void 0:E.id;if(!U)return!0;for(var ae=0;ae<B.length;ae++)if(U===this.completedByTriggers[B[ae]].pageId)return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"completedTrigger",{get:function(){if(this.canBeCompletedByTrigger){var E=Object.keys(this.completedByTriggers)[0];return this.completedByTriggers[E].trigger}},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"processedCompletedHtml",{get:function(){var E=this.renderedCompletedHtml;return E?this.processHtml(E,"completed"):""},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"processedCompletedBeforeHtml",{get:function(){return this.locCompletedBeforeHtml.textOrHtml},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"processedLoadingHtml",{get:function(){return this.locLoadingHtml.textOrHtml},enumerable:!1,configurable:!0}),H.prototype.getProgressInfo=function(){return w.SurveyElement.getProgressInfoByElements(this.isDesignMode?this.pages:this.visiblePages,!1)},Object.defineProperty(H.prototype,"progressText",{get:function(){var E=this.getPropertyValue("progressText","");return E||(this.updateProgressText(),E=this.getPropertyValue("progressText","")),E},enumerable:!1,configurable:!0}),H.prototype.updateProgressText=function(E){void 0===E&&(E=!1),!this.isCalculatingProgressText&&(E&&"pages"==this.progressBarType&&this.onProgressText.isEmpty||(this.isCalculatingProgressText=!0,this.setPropertyValue("progressText",this.getProgressText()),this.setPropertyValue("progressValue",this.getProgress()),this.isCalculatingProgressText=!1))},H.prototype.getProgressText=function(){if(!this.isDesignMode&&null==this.currentPage)return"";var E={questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0,text:""},B=this.progressBarType.toLowerCase();if("questions"===B||"requiredquestions"===B||"correctquestions"===B||!this.onProgressText.isEmpty){var U=this.getProgressInfo();E.questionCount=U.questionCount,E.answeredQuestionCount=U.answeredQuestionCount,E.requiredQuestionCount=U.requiredQuestionCount,E.requiredAnsweredQuestionCount=U.requiredAnsweredQuestionCount}return E.text=this.getProgressTextCore(E),this.onProgressText.fire(this,E),E.text},H.prototype.getProgressTextCore=function(E){var B=this.progressBarType.toLowerCase();if("questions"===B)return this.getLocalizationFormatString("questionsProgressText",E.answeredQuestionCount,E.questionCount);if("requiredquestions"===B)return this.getLocalizationFormatString("questionsProgressText",E.requiredAnsweredQuestionCount,E.requiredQuestionCount);if("correctquestions"===B){var U=this.getCorrectedAnswerCount();return this.getLocalizationFormatString("questionsProgressText",U,E.questionCount)}var ae=this.isDesignMode?this.pages:this.visiblePages,Pe=ae.indexOf(this.currentPage)+1;return this.getLocalizationFormatString("progressText",Pe,ae.length)},H.prototype.getRootCss=function(){return(new s.CssClassBuilder).append(this.css.root).append(this.css.rootMobile,this.isMobile).append(this.css.rootAnimationDisabled,!d.settings.animationEnabled).append(this.css.rootReadOnly,"display"===this.mode).append(this.css.rootCompact,this.isCompact).append(this.css.rootFitToContainer,this.fitToContainer).toString()},H.prototype.afterRenderSurvey=function(E){var B=this;this.destroyResizeObserver(),Array.isArray(E)&&(E=w.SurveyElement.GetFirstNonTextElement(E));var U=E,ae=this.css.variables;if(ae){var Pe=Number.parseFloat(window.getComputedStyle(U).getPropertyValue(ae.mobileWidth));if(Pe){var je=!1;this.resizeObserver=new ResizeObserver(function(ft){window.requestAnimationFrame(function(){je=!(je||!Object(u.isContainerVisible)(U))&&B.processResponsiveness(U.offsetWidth,Pe)})}),this.resizeObserver.observe(U)}}this.onAfterRenderSurvey.fire(this,{survey:this,htmlElement:E}),this.rootElement=E,this.addScrollEventListener()},H.prototype.processResponsiveness=function(E,B){var U=E<B;return this.layoutElements.forEach(function(ae){return ae.processResponsiveness&&ae.processResponsiveness(E)}),this.isMobile!==U&&(this.setIsMobile(U),!0)},H.prototype.triggerResponsiveness=function(E){this.getAllQuestions().forEach(function(B){B.triggerResponsiveness(E)})},H.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)},H.prototype.updateQuestionCssClasses=function(E,B){this.onUpdateQuestionCssClasses.fire(this,{question:E,cssClasses:B})},H.prototype.updatePanelCssClasses=function(E,B){this.onUpdatePanelCssClasses.fire(this,{panel:E,cssClasses:B})},H.prototype.updatePageCssClasses=function(E,B){this.onUpdatePageCssClasses.fire(this,{page:E,cssClasses:B})},H.prototype.updateChoiceItemCss=function(E,B){B.question=E,this.onUpdateChoiceItemCss.fire(this,B)},H.prototype.afterRenderPage=function(E){var B=this;if(!this.isDesignMode&&!this.focusingQuestionInfo){var U=!this.isFirstPageRendering;setTimeout(function(){return B.scrollToTopOnPageChange(U)},1)}this.focusQuestionInfo(),this.isFirstPageRendering=!1,!this.onAfterRenderPage.isEmpty&&this.onAfterRenderPage.fire(this,{page:this.activePage,htmlElement:E})},H.prototype.afterRenderHeader=function(E){this.onAfterRenderHeader.isEmpty||this.onAfterRenderHeader.fire(this,{htmlElement:E})},H.prototype.afterRenderQuestion=function(E,B){this.onAfterRenderQuestion.fire(this,{question:E,htmlElement:B})},H.prototype.afterRenderQuestionInput=function(E,B){if(!this.onAfterRenderQuestionInput.isEmpty){var U=E.inputId,ae=d.settings.environment.root;if(U&&B.id!==U&&void 0!==ae){var Pe=ae.getElementById(U);Pe&&(B=Pe)}this.onAfterRenderQuestionInput.fire(this,{question:E,htmlElement:B})}},H.prototype.afterRenderPanel=function(E,B){this.onAfterRenderPanel.fire(this,{panel:E,htmlElement:B})},H.prototype.whenQuestionFocusIn=function(E){this.onFocusInQuestion.fire(this,{question:E})},H.prototype.whenPanelFocusIn=function(E){this.onFocusInPanel.fire(this,{panel:E})},H.prototype.rebuildQuestionChoices=function(){this.getAllQuestions().forEach(function(E){return E.surveyChoiceItemVisibilityChange()})},H.prototype.canChangeChoiceItemsVisibility=function(){return!this.onShowingChoiceItem.isEmpty},H.prototype.getChoiceItemVisibility=function(E,B,U){var ae={question:E,item:B,visible:U};return this.onShowingChoiceItem.fire(this,ae),ae.visible},H.prototype.loadQuestionChoices=function(E){this.onChoicesLazyLoad.fire(this,E)},H.prototype.getChoiceDisplayValue=function(E){this.onGetChoiceDisplayValue.isEmpty?E.setItems(null):this.onGetChoiceDisplayValue.fire(this,E)},H.prototype.matrixBeforeRowAdded=function(E){this.onMatrixRowAdding.fire(this,E)},H.prototype.matrixRowAdded=function(E,B){this.onMatrixRowAdded.fire(this,{question:E,row:B})},H.prototype.matrixColumnAdded=function(E,B){this.onMatrixColumnAdded.fire(this,{question:E,column:B})},H.prototype.multipleTextItemAdded=function(E,B){this.onMultipleTextItemAdded.fire(this,{question:E,item:B})},H.prototype.getQuestionByValueNameFromArray=function(E,B,U){var ae=this.getQuestionsByValueName(E);if(ae){for(var Pe=0;Pe<ae.length;Pe++){var je=ae[Pe].getQuestionFromArray(B,U);if(je)return je}return null}},H.prototype.matrixRowRemoved=function(E,B,U){this.onMatrixRowRemoved.fire(this,{question:E,rowIndex:B,row:U})},H.prototype.matrixRowRemoving=function(E,B,U){var ae={question:E,rowIndex:B,row:U,allow:!0};return this.onMatrixRowRemoving.fire(this,ae),ae.allow},H.prototype.matrixAllowRemoveRow=function(E,B,U){var ae={question:E,rowIndex:B,row:U,allow:!0};return this.onMatrixRenderRemoveButton.fire(this,ae),ae.allow},H.prototype.matrixCellCreating=function(E,B){B.question=E,this.onMatrixCellCreating.fire(this,B)},H.prototype.matrixCellCreated=function(E,B){B.question=E,this.onMatrixCellCreated.fire(this,B)},H.prototype.matrixAfterCellRender=function(E,B){B.question=E,this.onAfterRenderMatrixCell.fire(this,B)},H.prototype.matrixCellValueChanged=function(E,B){B.question=E,this.onMatrixCellValueChanged.fire(this,B)},H.prototype.matrixCellValueChanging=function(E,B){B.question=E,this.onMatrixCellValueChanging.fire(this,B)},Object.defineProperty(H.prototype,"isValidateOnValueChanging",{get:function(){return"onValueChanging"===this.checkErrorsMode},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isValidateOnValueChanged",{get:function(){return"onValueChanged"===this.checkErrorsMode},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isValidateOnComplete",{get:function(){return"onComplete"===this.checkErrorsMode||this.validationAllowSwitchPages&&!this.validationAllowComplete},enumerable:!1,configurable:!0}),H.prototype.matrixCellValidate=function(E,B){return B.question=E,this.onMatrixCellValidate.fire(this,B),B.error?new C.CustomError(B.error,this):null},H.prototype.dynamicPanelAdded=function(E,B,U){if(this.isLoadingFromJson||this.updateVisibleIndexes(),!this.onDynamicPanelAdded.isEmpty){var ae=E.panels;void 0===B&&(U=ae[B=ae.length-1]),this.onDynamicPanelAdded.fire(this,{question:E,panel:U,panelIndex:B})}},H.prototype.dynamicPanelRemoved=function(E,B,U){for(var ae=U?U.questions:[],Pe=0;Pe<ae.length;Pe++)ae[Pe].clearOnDeletingContainer();this.updateVisibleIndexes(),this.onDynamicPanelRemoved.fire(this,{question:E,panelIndex:B,panel:U})},H.prototype.dynamicPanelRemoving=function(E,B,U){var ae={question:E,panelIndex:B,panel:U,allow:!0};return this.onDynamicPanelRemoving.fire(this,ae),ae.allow},H.prototype.dynamicPanelItemValueChanged=function(E,B){B.question=E,B.panelIndex=B.itemIndex,B.panelData=B.itemValue,this.onDynamicPanelItemValueChanged.fire(this,B)},H.prototype.dynamicPanelGetTabTitle=function(E,B){B.question=E,this.onGetDynamicPanelTabTitle.fire(this,B)},H.prototype.dynamicPanelCurrentIndexChanged=function(E,B){B.question=E,this.onDynamicPanelCurrentIndexChanged.fire(this,B)},H.prototype.dragAndDropAllow=function(E){return this.onDragDropAllow.fire(this,E),E.allow},H.prototype.elementContentVisibilityChanged=function(E){this.currentPage&&this.currentPage.ensureRowsVisibility(),this.onElementContentVisibilityChanged.fire(this,{element:E})},H.prototype.getUpdatedPanelFooterActions=function(E,B,U){var ae={question:U,panel:E,actions:B};return this.onGetPanelFooterActions.fire(this,ae),ae.actions},H.prototype.getUpdatedElementTitleActions=function(E,B){return E.isPage?this.getUpdatedPageTitleActions(E,B):E.isPanel?this.getUpdatedPanelTitleActions(E,B):this.getUpdatedQuestionTitleActions(E,B)},H.prototype.getUpdatedQuestionTitleActions=function(E,B){var U={question:E,titleActions:B};return this.onGetQuestionTitleActions.fire(this,U),U.titleActions},H.prototype.getUpdatedPanelTitleActions=function(E,B){var U={panel:E,titleActions:B};return this.onGetPanelTitleActions.fire(this,U),U.titleActions},H.prototype.getUpdatedPageTitleActions=function(E,B){var U={page:E,titleActions:B};return this.onGetPageTitleActions.fire(this,U),U.titleActions},H.prototype.getUpdatedMatrixRowActions=function(E,B,U){var ae={question:E,actions:U,row:B};return this.onGetMatrixRowActions.fire(this,ae),ae.actions},H.prototype.scrollElementToTop=function(E,B,U,ae,Pe){var je={element:E,question:B,page:U,elementId:ae,cancel:!1};this.onScrollingElementToTop.fire(this,je),je.cancel||w.SurveyElement.ScrollElementToTop(je.elementId,Pe)},H.prototype.chooseFiles=function(E,B,U){this.onOpenFileChooser.isEmpty?Object(u.chooseFiles)(E,B):this.onOpenFileChooser.fire(this,{input:E,element:U&&U.element||this.survey,item:U&&U.item,callback:B})},H.prototype.uploadFiles=function(E,B,U,ae){var Pe=this;this.onUploadFiles.isEmpty?ae("error",this.getLocString("noUploadFilesHandler")):this.taskManager.runTask("file",function(je){Pe.onUploadFiles.fire(Pe,{question:E,name:B,files:U||[],callback:function(ft,gt){ae(ft,gt),je()}})}),this.surveyPostId&&this.uploadFilesCore(B,U,ae)},H.prototype.downloadFile=function(E,B,U,ae){this.onDownloadFile.isEmpty&&!!ae&&ae("success",U.content||U),this.onDownloadFile.fire(this,{question:E,name:B,content:U.content||U,fileValue:U,callback:ae})},H.prototype.clearFiles=function(E,B,U,ae,Pe){this.onClearFiles.isEmpty&&!!Pe&&Pe("success",U),this.onClearFiles.fire(this,{question:E,name:B,value:U,fileName:ae,callback:Pe})},H.prototype.updateChoicesFromServer=function(E,B,U){var ae={question:E,choices:B,serverResult:U};return this.onLoadChoicesFromServer.fire(this,ae),ae.choices},H.prototype.loadedChoicesFromServer=function(E){this.locStrsChanged()},H.prototype.createSurveyService=function(){return new m.dxSurveyService},H.prototype.uploadFilesCore=function(E,B,U){var ae=this,Pe=[];B.forEach(function(je){U&&U("uploading",je),ae.createSurveyService().sendFile(ae.surveyPostId,je,function(ft,gt){ft?(Pe.push({content:gt,file:je}),Pe.length===B.length&&U&&U("success",Pe)):U&&U("error",{response:gt,file:je})})})},H.prototype.getPage=function(E){return this.pages[E]},H.prototype.addPage=function(E,B){void 0===B&&(B=-1),null!=E&&(B<0||B>=this.pages.length?this.pages.push(E):this.pages.splice(B,0,E))},H.prototype.addNewPage=function(E,B){void 0===E&&(E=null),void 0===B&&(B=-1);var U=this.createNewPage(E);return this.addPage(U,B),U},H.prototype.removePage=function(E){var B=this.pages.indexOf(E);B<0||(this.pages.splice(B,1),this.currentPage==E&&(this.currentPage=this.pages.length>0?this.pages[0]:null))},H.prototype.getQuestionByName=function(E,B){if(void 0===B&&(B=!1),!E)return null;B&&(E=E.toLowerCase());var ae=(B?this.questionHashes.namesInsensitive:this.questionHashes.names)[E];return ae?ae[0]:null},H.prototype.findQuestionByName=function(E){return this.getQuestionByName(E)},H.prototype.getQuestionByValueName=function(E,B){void 0===B&&(B=!1);var U=this.getQuestionsByValueName(E,B);return U?U[0]:null},H.prototype.getQuestionsByValueName=function(E,B){return void 0===B&&(B=!1),(B?this.questionHashes.valueNamesInsensitive:this.questionHashes.valueNames)[E]||null},H.prototype.getCalculatedValueByName=function(E){for(var B=0;B<this.calculatedValues.length;B++)if(E==this.calculatedValues[B].name)return this.calculatedValues[B];return null},H.prototype.getQuestionsByNames=function(E,B){void 0===B&&(B=!1);var U=[];if(!E)return U;for(var ae=0;ae<E.length;ae++)if(E[ae]){var Pe=this.getQuestionByName(E[ae],B);Pe&&U.push(Pe)}return U},H.prototype.getPageByElement=function(E){for(var B=0;B<this.pages.length;B++){var U=this.pages[B];if(U.containsElement(E))return U}return null},H.prototype.getPageByQuestion=function(E){return this.getPageByElement(E)},H.prototype.getPageByName=function(E){for(var B=0;B<this.pages.length;B++)if(this.pages[B].name==E)return this.pages[B];return null},H.prototype.getPagesByNames=function(E){var B=[];if(!E)return B;for(var U=0;U<E.length;U++)if(E[U]){var ae=this.getPageByName(E[U]);ae&&B.push(ae)}return B},H.prototype.getAllQuestions=function(E,B,U){void 0===E&&(E=!1),void 0===B&&(B=!1),void 0===U&&(U=!1),U&&(B=!1);for(var ae=[],Pe=0;Pe<this.pages.length;Pe++)this.pages[Pe].addQuestionsToList(ae,E,B);if(!U)return ae;var je=[];return ae.forEach(function(ft){je.push(ft),ft.getNestedQuestions(E).forEach(function(gt){return je.push(gt)})}),je},H.prototype.getQuizQuestions=function(){for(var E=new Array,U=this.getPageStartIndex();U<this.pages.length;U++)if(this.pages[U].isVisible)for(var ae=this.pages[U].questions,Pe=0;Pe<ae.length;Pe++){var je=ae[Pe];je.quizQuestionCount>0&&E.push(je)}return E},H.prototype.getPanelByName=function(E,B){void 0===B&&(B=!1);var U=this.getAllPanels();B&&(E=E.toLowerCase());for(var ae=0;ae<U.length;ae++){var Pe=U[ae].name;if(B&&(Pe=Pe.toLowerCase()),Pe==E)return U[ae]}return null},H.prototype.getAllPanels=function(E,B){void 0===E&&(E=!1),void 0===B&&(B=!1);for(var U=new Array,ae=0;ae<this.pages.length;ae++)this.pages[ae].addPanelsIntoList(U,E,B);return U},H.prototype.createNewPage=function(E){var B=se.Serializer.createClass("page");return B.name=E,B},H.prototype.questionOnValueChanging=function(E,B){if(this.editingObj){var U=se.Serializer.findProperty(this.editingObj.getType(),E);U&&(B=U.settingValue(this.editingObj,B))}if(this.onValueChanging.isEmpty)return B;var ae={name:E,question:this.getQuestionByValueName(E),value:this.getUnbindValue(B),oldValue:this.getValue(E)};return this.onValueChanging.fire(this,ae),ae.value},H.prototype.updateQuestionValue=function(E,B){if(!this.isLoadingFromJson){var U=this.getQuestionsByValueName(E);if(U)for(var ae=0;ae<U.length;ae++){var Pe=U[ae].value;(Pe===B&&Array.isArray(Pe)&&this.editingObj||!this.isTwoValueEquals(Pe,B))&&U[ae].updateValueFromSurvey(B,!1)}}},H.prototype.checkQuestionErrorOnValueChanged=function(E){!this.isNavigationButtonPressed&&(this.isValidateOnValueChanged||E.getAllErrors().length>0)&&this.checkQuestionErrorOnValueChangedCore(E)},H.prototype.checkQuestionErrorOnValueChangedCore=function(E){var B=E.getAllErrors().length,U=!E.validate(!0,{isOnValueChanged:!this.isValidateOnValueChanging}),ae=this.checkErrorsMode.indexOf("Value")>-1;return!!E.page&&ae&&(B>0||E.getAllErrors().length>0)&&this.fireValidatedErrorsOnPage(E.page),U},H.prototype.checkErrorsOnValueChanging=function(E,B){if(this.isLoadingFromJson)return!1;var U=this.getQuestionsByValueName(E);if(!U)return!1;for(var ae=!1,Pe=0;Pe<U.length;Pe++){var je=U[Pe];this.isTwoValueEquals(je.valueForSurvey,B)||(je.value=B),this.checkQuestionErrorOnValueChangedCore(je)&&(ae=!0),ae=ae||je.errors.length>0}return ae},H.prototype.notifyQuestionOnValueChanged=function(E,B,U){if(!this.isLoadingFromJson){var ae=this.getQuestionsByValueName(E);if(ae)for(var Pe=0;Pe<ae.length;Pe++){var je=ae[Pe];this.checkQuestionErrorOnValueChanged(je),je.onSurveyValueChanged(B),this.onValueChanged.fire(this,{name:E,question:je,value:B})}else this.onValueChanged.fire(this,{name:E,question:null,value:B});this.isDisposed||(this.checkElementsBindings(E,B),this.notifyElementsOnAnyValueOrVariableChanged(E,U))}},H.prototype.checkElementsBindings=function(E,B){this.isRunningElementsBindings=!0;for(var U=0;U<this.pages.length;U++)this.pages[U].checkBindings(E,B);this.isRunningElementsBindings=!1,this.updateVisibleIndexAfterBindings&&(this.updateVisibleIndexes(),this.updateVisibleIndexAfterBindings=!1)},H.prototype.notifyElementsOnAnyValueOrVariableChanged=function(E,B){if("processing"!==this.isEndLoadingFromJson){if(this.isRunningConditions)return void(this.conditionNotifyElementsOnAnyValueOrVariableChanged=!0);for(var U=0;U<this.pages.length;U++)this.pages[U].onAnyValueChanged(E,B);this.isEndLoadingFromJson||this.locStrsChanged()}},H.prototype.updateAllQuestionsValue=function(E){for(var B=this.getAllQuestions(),U=0;U<B.length;U++){var ae=B[U],Pe=ae.getValueName();ae.updateValueFromSurvey(this.getValue(Pe),E),ae.requireUpdateCommentValue&&ae.updateCommentFromSurvey(this.getComment(Pe))}},H.prototype.notifyAllQuestionsOnValueChanged=function(){for(var E=this.getAllQuestions(),B=0;B<E.length;B++)E[B].onSurveyValueChanged(this.getValue(E[B].getValueName()))},H.prototype.checkOnPageTriggers=function(E){for(var B=this.getCurrentPageQuestions(!0),U={},ae=0;ae<B.length;ae++){var je=B[ae].getValueName();U[je]=this.getValue(je)}this.addCalculatedValuesIntoFilteredValues(U),this.checkTriggers(U,!0,E)},H.prototype.getCurrentPageQuestions=function(E){void 0===E&&(E=!1);var B=[],U=this.currentPage;if(!U)return B;for(var ae=0;ae<U.questions.length;ae++){var Pe=U.questions[ae];!E&&!Pe.visible||!Pe.name||B.push(Pe)}return B},H.prototype.checkTriggers=function(E,B,U,ae){if(void 0===U&&(U=!1),!this.isCompleted&&0!=this.triggers.length&&!this.isDisplayMode){if(this.isTriggerIsRunning){for(var Pe in this.triggerValues=this.getFilteredValues(),E)this.triggerKeys[Pe]=E[Pe];return}var je=!1;if(!U&&ae&&this.hasRequiredValidQuestionTrigger){var ft=this.getQuestionByValueName(ae);je=ft&&!ft.validate(!1)}this.isTriggerIsRunning=!0,this.triggerKeys=E,this.triggerValues=this.getFilteredValues();for(var gt=this.getFilteredProperties(),Ze=this.canBeCompletedByTrigger,xt=0;xt<this.triggers.length;xt++){var Ke=this.triggers[xt];je&&Ke.requireValidQuestion||Ke.checkExpression(B,U,this.triggerKeys,this.triggerValues,gt)}Ze!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility(),this.isTriggerIsRunning=!1}},Object.defineProperty(H.prototype,"hasRequiredValidQuestionTrigger",{get:function(){for(var E=0;E<this.triggers.length;E++)if(this.triggers[E].requireValidQuestion)return!0;return!1},enumerable:!1,configurable:!0}),H.prototype.doElementsOnLoad=function(){for(var E=0;E<this.pages.length;E++)this.pages[E].onSurveyLoad()},Object.defineProperty(H.prototype,"isRunningConditions",{get:function(){return!!this.conditionValues},enumerable:!1,configurable:!0}),H.prototype.runExpressions=function(){this.runConditions()},H.prototype.runConditions=function(){if(!this.isCompleted&&"processing"!==this.isEndLoadingFromJson&&!this.isRunningConditions){this.conditionValues=this.getFilteredValues();var E=this.getFilteredProperties(),B=this.pages.indexOf(this.currentPage);this.runConditionsCore(E),this.checkIfNewPagesBecomeVisible(B),this.conditionValues=null,this.isValueChangedOnRunningCondition&&this.conditionRunnerCounter<d.settings.maxConditionRunCountOnValueChanged?(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter++,this.runConditions()):(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter=0,this.conditionUpdateVisibleIndexes&&(this.conditionUpdateVisibleIndexes=!1,this.updateVisibleIndexes()),this.conditionNotifyElementsOnAnyValueOrVariableChanged&&(this.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,this.notifyElementsOnAnyValueOrVariableChanged("")))}},H.prototype.runConditionOnValueChanged=function(E,B){this.isRunningConditions?(this.conditionValues[E]=B,this.isValueChangedOnRunningCondition=!0):(this.runConditions(),this.runQuestionsTriggers(E,B))},H.prototype.runConditionsCore=function(E){for(var B=this.pages,U=0;U<this.calculatedValues.length;U++)this.calculatedValues[U].resetCalculation();for(U=0;U<this.calculatedValues.length;U++)this.calculatedValues[U].doCalculation(this.calculatedValues,this.conditionValues,E);re.prototype.runConditionCore.call(this,this.conditionValues,E);for(var ae=0;ae<B.length;ae++)B[ae].runCondition(this.conditionValues,E)},H.prototype.runQuestionsTriggers=function(E,B){this.isDisplayMode||this.isDesignMode||this.getAllQuestions().forEach(function(ae){return ae.runTriggers(E,B)})},H.prototype.checkIfNewPagesBecomeVisible=function(E){var B=this.pages.indexOf(this.currentPage);if(!(B<=E+1))for(var U=E+1;U<B;U++)if(this.pages[U].isVisible){this.currentPage=this.pages[U];break}},H.prototype.sendResult=function(E,B,U){if(void 0===E&&(E=null),void 0===B&&(B=null),void 0===U&&(U=!1),this.isEditMode&&(U&&this.onPartialSend&&this.onPartialSend.fire(this,null),!E&&this.surveyPostId&&(E=this.surveyPostId),E&&(B&&(this.clientId=B),!U||this.clientId))){var ae=this;this.surveyShowDataSaving&&this.setCompletedState("saving",""),this.createSurveyService().sendResult(E,this.data,function(Pe,je,ft){ae.surveyShowDataSaving&&(Pe?ae.setCompletedState("success",""):ae.setCompletedState("error",je)),ae.onSendResult.fire(ae,{success:Pe,response:je,request:ft})},this.clientId,U)}},H.prototype.getResult=function(E,B){var U=this;this.createSurveyService().getResult(E,B,function(ae,Pe,je,ft){U.onGetResult.fire(U,{success:ae,data:Pe,dataList:je,response:ft})})},H.prototype.loadSurveyFromService=function(E,B){void 0===E&&(E=null),void 0===B&&(B=null),E&&(this.surveyId=E),B&&(this.clientId=B);var U=this;this.isLoading=!0,this.onLoadingSurveyFromService(),B?this.createSurveyService().getSurveyJsonAndIsCompleted(this.surveyId,this.clientId,function(ae,Pe,je,ft){U.isLoading=!1,ae&&(U.isCompletedBefore="completed"==je,U.loadSurveyFromServiceJson(Pe))}):this.createSurveyService().loadSurvey(this.surveyId,function(ae,Pe,je){U.isLoading=!1,ae&&U.loadSurveyFromServiceJson(Pe)})},H.prototype.loadSurveyFromServiceJson=function(E){!E||(this.fromJSON(E),this.notifyAllQuestionsOnValueChanged(),this.onLoadSurveyFromService(),this.onLoadedSurveyFromService.fire(this,{}))},H.prototype.onLoadingSurveyFromService=function(){},H.prototype.onLoadSurveyFromService=function(){},H.prototype.resetVisibleIndexes=function(){for(var E=this.getAllQuestions(!0),B=0;B<E.length;B++)E[B].setVisibleIndex(-1);this.updateVisibleIndexes()},H.prototype.updateVisibleIndexes=function(){if(!this.isLoadingFromJson&&!this.isEndLoadingFromJson){if(this.isRunningConditions&&this.onQuestionVisibleChanged.isEmpty&&this.onPageVisibleChanged.isEmpty)return void(this.conditionUpdateVisibleIndexes=!0);if(this.isRunningElementsBindings)return void(this.updateVisibleIndexAfterBindings=!0);if(this.updatePageVisibleIndexes(this.showPageNumbers),"onPage"==this.showQuestionNumbers)for(var E=this.visiblePages,B=0;B<E.length;B++)E[B].setVisibleIndex(0);else{var U="on"==this.showQuestionNumbers?0:-1;for(B=0;B<this.pages.length;B++)U+=this.pages[B].setVisibleIndex(U)}this.updateProgressText(!0)}},H.prototype.updatePageVisibleIndexes=function(E){this.updateButtonsVisibility();for(var B=0,U=0;U<this.pages.length;U++){var ae=this.pages[U],Pe=ae.isVisible&&(U>0||!ae.isStartPage);ae.visibleIndex=Pe?B++:-1,ae.num=Pe?ae.visibleIndex+1:-1}},H.prototype.fromJSON=function(E,B){if(E){this.questionHashesClear(),this.jsonErrors=null;var U=new se.JsonObject;U.toObject(E,this,B),U.errors.length>0&&(this.jsonErrors=U.errors),this.onStateAndCurrentPageChanged(),this.updateState()}},H.prototype.startLoadingFromJson=function(E){re.prototype.startLoadingFromJson.call(this,E),E&&E.locale&&(this.locale=E.locale)},H.prototype.setJsonObject=function(E){this.fromJSON(E)},H.prototype.endLoadingFromJson=function(){this.isEndLoadingFromJson="processing",this.onFirstPageIsStartedChanged(),this.onQuestionsOnPageModeChanged("standard"),re.prototype.endLoadingFromJson.call(this),this.hasCookie&&(this.isCompletedBefore=!0),this.doElementsOnLoad(),this.isEndLoadingFromJson="conditions",this.runConditions(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.isEndLoadingFromJson=null,this.updateVisibleIndexes(),this.updateHasLogo(),this.updateRenderBackgroundImage(),this.updateCurrentPage(),this.hasDescription=!!this.description,this.setCalculatedWidthModeUpdater()},H.prototype.updateNavigationCss=function(){this.navigationBar&&(this.updateNavigationBarCss(),this.updateNavigationItemCssCallback&&this.updateNavigationItemCssCallback())},H.prototype.updateNavigationBarCss=function(){var E=this.navigationBar;E.cssClasses=this.css.actionBar,E.containerCss=this.css.footer},H.prototype.createNavigationBar=function(){var E=new o.ActionContainer;return E.setItems(this.createNavigationActions()),E},H.prototype.createNavigationActions=function(){var E=this,B="sv-nav-btn",U=new a.Action({id:"sv-nav-start",visible:new $.ComputedUpdater(function(){return E.isShowStartingPage}),visibleIndex:10,locTitle:this.locStartSurveyText,action:function(){return E.start()},component:B}),ae=new a.Action({id:"sv-nav-prev",visible:new $.ComputedUpdater(function(){return E.isShowPrevButton}),visibleIndex:20,data:{mouseDown:function(){return E.navigationMouseDown()}},locTitle:this.locPagePrevText,action:function(){return E.prevPage()},component:B}),Pe=new a.Action({id:"sv-nav-next",visible:new $.ComputedUpdater(function(){return E.isShowNextButton}),visibleIndex:30,data:{mouseDown:function(){return E.nextPageMouseDown()}},locTitle:this.locPageNextText,action:function(){return E.nextPageUIClick()},component:B}),je=new a.Action({id:"sv-nav-preview",visible:new $.ComputedUpdater(function(){return E.isPreviewButtonVisible}),visibleIndex:40,data:{mouseDown:function(){return E.navigationMouseDown()}},locTitle:this.locPreviewText,action:function(){return E.showPreview()},component:B}),ft=new a.Action({id:"sv-nav-complete",visible:new $.ComputedUpdater(function(){return E.isCompleteButtonVisible}),visibleIndex:50,data:{mouseDown:function(){return E.navigationMouseDown()}},locTitle:this.locCompleteText,action:function(){return E.taskManager.waitAndExecute(function(){return E.completeLastPage()})},component:B});return this.updateNavigationItemCssCallback=function(){U.innerCss=E.cssNavigationStart,ae.innerCss=E.cssNavigationPrev,Pe.innerCss=E.cssNavigationNext,je.innerCss=E.cssNavigationPreview,ft.innerCss=E.cssNavigationComplete},[U,ae,Pe,je,ft]},H.prototype.onBeforeCreating=function(){},H.prototype.onCreating=function(){},H.prototype.getProcessedTextValue=function(E){if(this.getProcessedTextValueCore(E),!this.onProcessTextValue.isEmpty){var B=this.isValueEmpty(E.value);this.onProcessTextValue.fire(this,E),E.isExists=E.isExists||B&&!this.isValueEmpty(E.value)}},H.prototype.getBuiltInVariableValue=function(E){if("pageno"===E){var B=this.currentPage;return null!=B?this.visiblePages.indexOf(B)+1:0}return"pagecount"===E?this.visiblePageCount:"correctedanswers"===E||"correctanswers"===E||"correctedanswercount"===E?this.getCorrectedAnswerCount():"incorrectedanswers"===E||"incorrectanswers"===E||"incorrectedanswercount"===E?this.getInCorrectedAnswerCount():"questioncount"===E?this.getQuizQuestionCount():void 0},H.prototype.getProcessedTextValueCore=function(E){var B=E.name.toLocaleLowerCase();if(-1===["no","require","title"].indexOf(B)){var U=this.getBuiltInVariableValue(B);if(void 0!==U)return E.isExists=!0,void(E.value=U);if("locale"===B)return E.isExists=!0,void(E.value=this.locale?this.locale:T.surveyLocalization.defaultLocale);var ae=this.getVariable(B);if(void 0!==ae)return E.isExists=!0,void(E.value=ae);var Pe=this.getFirstName(B);if(Pe){var je=Pe.useDisplayValuesInDynamicTexts;E.isExists=!0;var ft=Pe.getValueName().toLowerCase();B=(B=ft+B.substring(ft.length)).toLocaleLowerCase();var gt={};return gt[ft]=E.returnDisplayValue&&je?Pe.getDisplayValue(!1,void 0):Pe.value,void(E.value=(new L.ProcessValue).getValue(B,gt))}this.getProcessedValuesWithoutQuestion(E)}},H.prototype.getProcessedValuesWithoutQuestion=function(E){var B=this.getValue(E.name);if(void 0!==B)return E.isExists=!0,void(E.value=B);var U=new L.ProcessValue,ae=U.getFirstName(E.name);if(ae!==E.name){var Pe={},je=this.getValue(ae);G.Helpers.isValueEmpty(je)&&(je=this.getVariable(ae)),!G.Helpers.isValueEmpty(je)&&(Pe[ae]=je,E.value=U.getValue(E.name,Pe),E.isExists=U.hasValue(E.name,Pe))}},H.prototype.getFirstName=function(E){var B;E=E.toLowerCase();do{B=this.getQuestionByValueName(E,!0),E=this.reduceFirstName(E)}while(!B&&E);return B},H.prototype.reduceFirstName=function(E){var B=E.lastIndexOf("."),U=E.lastIndexOf("[");if(B<0&&U<0)return"";var ae=Math.max(B,U);return E.substring(0,ae)},H.prototype.clearUnusedValues=function(){this.isClearingUnsedValues=!0;for(var E=this.getAllQuestions(),B=0;B<E.length;B++)E[B].clearUnusedValues();this.clearInvisibleQuestionValues(),this.isClearingUnsedValues=!1},H.prototype.hasVisibleQuestionByValueName=function(E){var B=this.getQuestionsByValueName(E);if(!B)return!1;for(var U=0;U<B.length;U++){var ae=B[U];if(ae.isVisible&&ae.isParentVisible&&!ae.parentQuestion)return!0}return!1},H.prototype.questionsByValueName=function(E){return this.getQuestionsByValueName(E)||[]},H.prototype.clearInvisibleQuestionValues=function(){for(var E="none"===this.clearInvisibleValues?"none":"onComplete",B=this.getAllQuestions(),U=0;U<B.length;U++)B[U].clearValueIfInvisible(E)},H.prototype.getVariable=function(E){if(!E)return null;E=E.toLowerCase();var B=this.variablesHash[E];return this.isValueEmpty(B)&&(E.indexOf(".")>-1||E.indexOf("[")>-1)&&(new L.ProcessValue).hasValue(E,this.variablesHash)?(new L.ProcessValue).getValue(E,this.variablesHash):B},H.prototype.setVariable=function(E,B){!E||(this.valuesHash&&delete this.valuesHash[E],E=E.toLowerCase(),this.variablesHash[E]=B,this.notifyElementsOnAnyValueOrVariableChanged(E),this.runConditionOnValueChanged(E,B),this.onVariableChanged.fire(this,{name:E,value:B}))},H.prototype.getVariableNames=function(){var E=[];for(var B in this.variablesHash)E.push(B);return E},H.prototype.getUnbindValue=function(E){return this.editingObj?E:G.Helpers.getUnbindValue(E)},H.prototype.getValue=function(E){if(!E||0==E.length)return null;var B=this.getDataValueCore(this.valuesHash,E);return this.getUnbindValue(B)},H.prototype.setValue=function(E,B,U,ae,Pe){if(void 0===U&&(U=!1),void 0===ae&&(ae=!0),!this.isCreatingPagesForPreview){var je=B;if(ae&&(je=this.questionOnValueChanging(E,B)),(!this.isValidateOnValueChanging||!this.checkErrorsOnValueChanging(E,je))&&(this.editingObj||!this.isValueEqual(E,je)||!this.isTwoValueEquals(je,B))){var ft=this.getValue(E);this.isValueEmpyOnSetValue(E,je)?this.deleteDataValueCore(this.valuesHash,E):(je=this.getUnbindValue(je),this.setDataValueCore(this.valuesHash,E,je)),this.updateOnSetValue(E,je,ft,U,ae,Pe)}}},H.prototype.isValueEmpyOnSetValue=function(E,B){return!(!this.isValueEmpty(B,!1)||this.editingObj&&null!=B&&this.editingObj.getDefaultPropertyValue(E)!==B)},H.prototype.updateOnSetValue=function(E,B,U,ae,Pe,je){if(void 0===ae&&(ae=!1),void 0===Pe&&(Pe=!0),this.updateQuestionValue(E,B),!0!==ae&&!this.isDisposed&&!this.isRunningElementsBindings){je=je||E;var ft={};ft[E]={newValue:B,oldValue:U},this.runConditionOnValueChanged(E,B),this.checkTriggers(ft,!1,!1,E),Pe&&this.notifyQuestionOnValueChanged(E,B,je),"text"!==ae&&this.tryGoNextPageAutomatic(E)}},H.prototype.isValueEqual=function(E,B){(""===B||void 0===B)&&(B=null);var U=this.getValue(E);return(""===U||void 0===U)&&(U=null),null===B||null===U?B===U:this.isTwoValueEquals(B,U)},H.prototype.doOnPageAdded=function(E){E.setSurveyImpl(this),E.name||(E.name=this.generateNewName(this.pages,"page")),this.questionHashesPanelAdded(E),this.updateVisibleIndexes(),this.runningPages||(this.isLoadingFromJson||(this.updateProgressText(),this.updateCurrentPage()),this.onPageAdded.fire(this,{page:E}))},H.prototype.doOnPageRemoved=function(E){E.setSurveyImpl(null),!this.runningPages&&(E===this.currentPage&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.updateProgressText(),this.updateLazyRenderingRowsOnRemovingElements())},H.prototype.generateNewName=function(E,B){for(var U={},ae=0;ae<E.length;ae++)U[E[ae].name]=!0;for(var Pe=1;U[B+Pe];)Pe++;return B+Pe},H.prototype.tryGoNextPageAutomatic=function(E){var B=this;if(!this.isEndLoadingFromJson&&this.goNextPageAutomatic&&this.currentPage){var U=this.getQuestionByValueName(E);if(U&&(!U||U.visible&&U.supportGoNextPageAutomatic())&&(U.validate(!1)||U.supportGoNextPageError())){var ae=this.getCurrentPageQuestions();if(!(ae.indexOf(U)<0)){for(var Pe=0;Pe<ae.length;Pe++)if(ae[Pe].hasInput&&ae[Pe].isEmpty())return;this.isLastPage&&(!0!==this.goNextPageAutomatic||!this.allowCompleteSurveyAutomatic)||this.checkIsCurrentPageHasErrors(!1)||b.surveyTimerFunctions.safeTimeOut(function(){B.isLastPage?B.isShowPreviewBeforeComplete?B.showPreview():B.completeLastPage():B.nextPage()},d.settings.autoAdvanceDelay)}}}},H.prototype.getComment=function(E){return this.getValue(E+this.commentSuffix)||""},H.prototype.setComment=function(E,B,U){if(void 0===U&&(U=!1),B||(B=""),!this.isTwoValueEquals(B,this.getComment(E))){var ae=E+this.commentSuffix;this.isValueEmpty(B)?this.deleteDataValueCore(this.valuesHash,ae):this.setDataValueCore(this.valuesHash,ae,B);var Pe=this.getQuestionsByValueName(E);if(Pe)for(var je=0;je<Pe.length;je++)Pe[je].updateCommentFromSurvey(B),this.checkQuestionErrorOnValueChanged(Pe[je]);U||this.runConditionOnValueChanged(E,this.getValue(E)),"text"!==U&&this.tryGoNextPageAutomatic(E);var ft=this.getQuestionByName(E);ft&&this.onValueChanged.fire(this,{name:ae,question:ft,value:B})}},H.prototype.clearValue=function(E){this.setValue(E,null),this.setComment(E,null)},Object.defineProperty(H.prototype,"clearValueOnDisableItems",{get:function(){return this.getPropertyValue("clearValueOnDisableItems",!1)},set:function(E){this.setPropertyValue("clearValueOnDisableItems",E)},enumerable:!1,configurable:!0}),H.prototype.getQuestionClearIfInvisible=function(E){return this.isShowingPreview||this.runningPages?"none":"default"!==E?E:this.clearInvisibleValues},H.prototype.questionVisibilityChanged=function(E,B){this.updateVisibleIndexes(),this.onQuestionVisibleChanged.fire(this,{question:E,name:E.name,visible:B})},H.prototype.pageVisibilityChanged=function(E,B){this.isLoadingFromJson||((B&&!this.currentPage||E===this.currentPage)&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.onPageVisibleChanged.fire(this,{page:E,visible:B}))},H.prototype.panelVisibilityChanged=function(E,B){this.updateVisibleIndexes(),this.onPanelVisibleChanged.fire(this,{panel:E,visible:B})},H.prototype.questionCreated=function(E){this.onQuestionCreated.fire(this,{question:E})},H.prototype.questionAdded=function(E,B,U,ae){E.name||(E.name=this.generateNewName(this.getAllQuestions(!1,!0),"question")),E.page&&this.questionHashesAdded(E),this.currentPage||this.updateCurrentPage(),this.updateVisibleIndexes(),this.setCalculatedWidthModeUpdater(),this.canFireAddElement()&&this.onQuestionAdded.fire(this,{question:E,name:E.name,index:B,parent:U,page:ae,parentPanel:U,rootPanel:ae})},H.prototype.canFireAddElement=function(){return!this.isMovingQuestion||this.isDesignMode&&!d.settings.supportCreatorV2},H.prototype.questionRemoved=function(E){this.questionHashesRemoved(E,E.name,E.getValueName()),this.updateVisibleIndexes(),this.onQuestionRemoved.fire(this,{question:E,name:E.name}),this.updateLazyRenderingRowsOnRemovingElements()},H.prototype.questionRenamed=function(E,B,U){this.questionHashesRemoved(E,B,U),this.questionHashesAdded(E)},H.prototype.questionHashesClear=function(){this.questionHashes.names={},this.questionHashes.namesInsensitive={},this.questionHashes.valueNames={},this.questionHashes.valueNamesInsensitive={}},H.prototype.questionHashesPanelAdded=function(E){if(!this.isLoadingFromJson)for(var B=E.questions,U=0;U<B.length;U++)this.questionHashesAdded(B[U])},H.prototype.questionHashesAdded=function(E){this.questionHashAddedCore(this.questionHashes.names,E,E.name),this.questionHashAddedCore(this.questionHashes.namesInsensitive,E,E.name.toLowerCase()),this.questionHashAddedCore(this.questionHashes.valueNames,E,E.getValueName()),this.questionHashAddedCore(this.questionHashes.valueNamesInsensitive,E,E.getValueName().toLowerCase())},H.prototype.questionHashesRemoved=function(E,B,U){B&&(this.questionHashRemovedCore(this.questionHashes.names,E,B),this.questionHashRemovedCore(this.questionHashes.namesInsensitive,E,B.toLowerCase())),U&&(this.questionHashRemovedCore(this.questionHashes.valueNames,E,U),this.questionHashRemovedCore(this.questionHashes.valueNamesInsensitive,E,U.toLowerCase()))},H.prototype.questionHashAddedCore=function(E,B,U){var ae;(ae=E[U])?(ae=E[U]).indexOf(B)<0&&ae.push(B):E[U]=[B]},H.prototype.questionHashRemovedCore=function(E,B,U){var ae=E[U];if(ae){var Pe=ae.indexOf(B);Pe>-1&&ae.splice(Pe,1),0==ae.length&&delete E[U]}},H.prototype.panelAdded=function(E,B,U,ae){E.name||(E.name=this.generateNewName(this.getAllPanels(!1,!0),"panel")),this.questionHashesPanelAdded(E),this.updateVisibleIndexes(),this.canFireAddElement()&&this.onPanelAdded.fire(this,{panel:E,name:E.name,index:B,parent:U,page:ae,parentPanel:U,rootPanel:ae})},H.prototype.panelRemoved=function(E){this.updateVisibleIndexes(),this.onPanelRemoved.fire(this,{panel:E,name:E.name}),this.updateLazyRenderingRowsOnRemovingElements()},H.prototype.validateQuestion=function(E){if(this.onValidateQuestion.isEmpty)return null;var B={name:E.name,question:E,value:E.value,error:null};return this.onValidateQuestion.fire(this,B),B.error?new C.CustomError(B.error,this):null},H.prototype.validatePanel=function(E){if(this.onValidatePanel.isEmpty)return null;var B={name:E.name,panel:E,error:null};return this.onValidatePanel.fire(this,B),B.error?new C.CustomError(B.error,this):null},H.prototype.processHtml=function(E,B){B||(B="");var U={html:E,reason:B};return this.onProcessHtml.fire(this,U),this.processText(U.html,!0)},H.prototype.processText=function(E,B){return this.processTextEx(E,B,!1).text},H.prototype.processTextEx=function(E,B,U){var ae={text:this.processTextCore(E,B,U),hasAllValuesOnLastRun:!0};return ae.hasAllValuesOnLastRun=this.textPreProcessor.hasAllValuesOnLastRun,ae},Object.defineProperty(H.prototype,"textPreProcessor",{get:function(){var E=this;return this.textPreProcessorValue||(this.textPreProcessorValue=new R.TextPreProcessor,this.textPreProcessorValue.onProcess=function(B){E.getProcessedTextValue(B)}),this.textPreProcessorValue},enumerable:!1,configurable:!0}),H.prototype.processTextCore=function(E,B,U){return void 0===U&&(U=!1),this.isDesignMode?E:this.textPreProcessor.process(E,B,U)},H.prototype.getSurveyMarkdownHtml=function(E,B,U){var ae={element:E,text:B,name:U,html:null};return this.onTextMarkdown.fire(this,ae),ae.html},H.prototype.getCorrectedAnswerCount=function(){return this.getCorrectAnswerCount()},H.prototype.getCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!0)},H.prototype.getQuizQuestionCount=function(){for(var E=this.getQuizQuestions(),B=0,U=0;U<E.length;U++)B+=E[U].quizQuestionCount;return B},H.prototype.getInCorrectedAnswerCount=function(){return this.getInCorrectAnswerCount()},H.prototype.getInCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!1)},H.prototype.onCorrectQuestionAnswer=function(E,B){this.onIsAnswerCorrect.isEmpty||(B.question=E,this.onIsAnswerCorrect.fire(this,B))},H.prototype.getCorrectedAnswerCountCore=function(E){for(var B=this.getQuizQuestions(),U=0,ae=0;ae<B.length;ae++){var Pe=B[ae],je=Pe.correctAnswerCount;U+=E?je:Pe.quizQuestionCount-je}return U},H.prototype.getCorrectedAnswers=function(){return this.getCorrectedAnswerCount()},H.prototype.getInCorrectedAnswers=function(){return this.getInCorrectedAnswerCount()},Object.defineProperty(H.prototype,"showTimerPanel",{get:function(){return this.getPropertyValue("showTimerPanel")},set:function(E){this.setPropertyValue("showTimerPanel",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isTimerPanelShowingOnTop",{get:function(){return"top"==this.showTimerPanel},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"isTimerPanelShowingOnBottom",{get:function(){return"bottom"==this.showTimerPanel},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"showTimerPanelMode",{get:function(){return this.getPropertyValue("showTimerPanelMode")},set:function(E){this.setPropertyValue("showTimerPanelMode",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"widthMode",{get:function(){return this.getPropertyValue("widthMode")},set:function(E){this.setPropertyValue("widthMode",E)},enumerable:!1,configurable:!0}),H.prototype.setCalculatedWidthModeUpdater=function(){var E=this;this.calculatedWidthModeUpdater&&this.calculatedWidthModeUpdater.dispose(),this.calculatedWidthModeUpdater=new $.ComputedUpdater(function(){return E.calculateWidthMode()}),this.calculatedWidthMode=this.calculatedWidthModeUpdater},H.prototype.calculateWidthMode=function(){if("auto"==this.widthMode){var E=!1;return this.pages.forEach(function(B){B.needResponsiveWidth()&&(E=!0)}),E?"responsive":"static"}return this.widthMode},Object.defineProperty(H.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(E){this.setPropertyValue("width",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"renderedWidth",{get:function(){var E=this.getPropertyValue("width");return E&&!isNaN(E)&&(E+="px"),"static"==this.getPropertyValue("calculatedWidthMode")&&E||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"timerInfo",{get:function(){return this.getTimerInfo()},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"timerClock",{get:function(){var E,B;if(this.currentPage){var U=this.getTimerInfo(),ae=U.spent,Pe=U.limit,je=U.minorSpent,ft=U.minorLimit;E=this.getDisplayClockTime(Pe>0?Pe-ae:ae),void 0!==je&&(B=this.getDisplayClockTime(ft>0?ft-je:je))}return{majorText:E,minorText:B}},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"timerInfoText",{get:function(){var E={text:this.getTimerInfoText()};this.onTimerPanelInfoText.fire(this,E);var B=new y.LocalizableString(this,!0);return B.text=E.text,B.textOrHtml},enumerable:!1,configurable:!0}),H.prototype.getTimerInfo=function(){var E=this.currentPage;if(!E)return{spent:0,limit:0};var B=E.timeSpent,U=this.timeSpent,ae=this.getPageMaxTimeToFinish(E),Pe=this.maxTimeToFinish;return"page"==this.showTimerPanelMode?{spent:B,limit:ae}:"survey"==this.showTimerPanelMode?{spent:U,limit:Pe}:ae>0&&Pe>0?{spent:B,limit:ae,minorSpent:U,minorLimit:Pe}:ae>0?{spent:B,limit:ae,minorSpent:U}:Pe>0?{spent:U,limit:Pe,minorSpent:B}:{spent:B,minorSpent:U}},H.prototype.getTimerInfoText=function(){var E=this.currentPage;if(!E)return"";var B=this.getDisplayTime(E.timeSpent),U=this.getDisplayTime(this.timeSpent),ae=this.getPageMaxTimeToFinish(E),Pe=this.getDisplayTime(ae),je=this.getDisplayTime(this.maxTimeToFinish);return"page"==this.showTimerPanelMode?this.getTimerInfoPageText(E,B,Pe):"survey"==this.showTimerPanelMode?this.getTimerInfoSurveyText(U,je):"all"==this.showTimerPanelMode?ae<=0&&this.maxTimeToFinish<=0?this.getLocalizationFormatString("timerSpentAll",B,U):ae>0&&this.maxTimeToFinish>0?this.getLocalizationFormatString("timerLimitAll",B,Pe,U,je):this.getTimerInfoPageText(E,B,Pe)+" "+this.getTimerInfoSurveyText(U,je):""},H.prototype.getTimerInfoPageText=function(E,B,U){return this.getPageMaxTimeToFinish(E)>0?this.getLocalizationFormatString("timerLimitPage",B,U):this.getLocalizationFormatString("timerSpentPage",B,U)},H.prototype.getTimerInfoSurveyText=function(E,B){return this.getLocalizationFormatString(this.maxTimeToFinish>0?"timerLimitSurvey":"timerSpentSurvey",E,B)},H.prototype.getDisplayClockTime=function(E){E<0&&(E=0);var B=Math.floor(E/60),U=E%60,ae=U.toString();return U<10&&(ae="0"+ae),B+":"+ae},H.prototype.getDisplayTime=function(E){var B=Math.floor(E/60),U=E%60,ae="";return B>0&&(ae+=B+" "+this.getLocalizationString("timerMin")),ae&&0==U?ae:(ae&&(ae+=" "),ae+U+" "+this.getLocalizationString("timerSec"))},Object.defineProperty(H.prototype,"timerModel",{get:function(){return this.timerModelValue},enumerable:!1,configurable:!0}),H.prototype.startTimer=function(){this.isEditMode&&this.timerModel.start()},H.prototype.startTimerFromUI=function(){"none"!=this.showTimerPanel&&"running"===this.state&&this.startTimer()},H.prototype.stopTimer=function(){this.timerModel.stop()},Object.defineProperty(H.prototype,"timeSpent",{get:function(){return this.timerModel.spent},set:function(E){this.timerModel.spent=E},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"maxTimeToFinish",{get:function(){return this.getPropertyValue("maxTimeToFinish",0)},set:function(E){this.setPropertyValue("maxTimeToFinish",E)},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"maxTimeToFinishPage",{get:function(){return this.getPropertyValue("maxTimeToFinishPage",0)},set:function(E){this.setPropertyValue("maxTimeToFinishPage",E)},enumerable:!1,configurable:!0}),H.prototype.getPageMaxTimeToFinish=function(E){return!E||E.maxTimeToFinish<0?0:E.maxTimeToFinish>0?E.maxTimeToFinish:this.maxTimeToFinishPage},H.prototype.doTimer=function(E){if(this.onTimer.fire(this,{}),this.maxTimeToFinish>0&&this.maxTimeToFinish==this.timeSpent&&this.completeLastPage(),E){var B=this.getPageMaxTimeToFinish(E);B>0&&B==E.timeSpent&&(this.isLastPage?this.completeLastPage():this.nextPage())}},Object.defineProperty(H.prototype,"inSurvey",{get:function(){return!0},enumerable:!1,configurable:!0}),H.prototype.getSurveyData=function(){return this},H.prototype.getSurvey=function(){return this},H.prototype.getTextProcessor=function(){return this},H.prototype.getObjects=function(E,B){var U=[];return Array.prototype.push.apply(U,this.getPagesByNames(E)),Array.prototype.push.apply(U,this.getQuestionsByNames(B)),U},H.prototype.setTriggerValue=function(E,B,U){if(E)if(U)this.setVariable(E,B);else{var ae=this.getQuestionByName(E);if(ae)ae.value=B;else{var Pe=new L.ProcessValue,je=Pe.getFirstName(E);if(je==E)this.setValue(E,B);else{if(!this.getQuestionByName(je))return;var ft=this.getUnbindValue(this.getFilteredValues());Pe.setValue(ft,E,B),this.setValue(je,ft[je])}}}},H.prototype.copyTriggerValue=function(E,B,U){var ae;E&&B&&(ae=U?this.processText("{"+B+"}",!0):(new L.ProcessValue).getValue(B,this.getFilteredValues()),this.setTriggerValue(E,ae,!1))},H.prototype.triggerExecuted=function(E){this.onTriggerExecuted.fire(this,{trigger:E})},H.prototype.startMovingQuestion=function(){this.isMovingQuestion=!0},H.prototype.stopMovingQuestion=function(){this.isMovingQuestion=!1},Object.defineProperty(H.prototype,"isQuestionDragging",{get:function(){return this.isMovingQuestion},enumerable:!1,configurable:!0}),H.prototype.focusQuestion=function(E){return this.focusQuestionByInstance(this.getQuestionByName(E,!0))},H.prototype.focusQuestionByInstance=function(E,B){var U;if(void 0===B&&(B=!1),!E||!E.isVisible||!E.page)return!1;if((null===(U=this.focusingQuestionInfo)||void 0===U?void 0:U.question)===E)return!1;this.focusingQuestionInfo={question:E,onError:B},this.skippedPages.push({from:this.currentPage,to:E.page});var Pe=this.activePage!==E.page&&!E.page.isStartPage;return Pe&&(this.currentPage=E.page),Pe||this.focusQuestionInfo(),!0},H.prototype.focusQuestionInfo=function(){var E,B=null===(E=this.focusingQuestionInfo)||void 0===E?void 0:E.question;!!B&&!B.isDisposed&&B.focus(this.focusingQuestionInfo.onError),this.focusingQuestionInfo=void 0},H.prototype.questionEditFinishCallback=function(E,B){var U=this.enterKeyAction||d.settings.enterKeyAction;if("loseFocus"==U&&B.target.blur(),"moveToNextEditor"==U){var ae=this.currentPage.questions,Pe=ae.indexOf(E);Pe>-1&&Pe<ae.length-1?ae[Pe+1].focus():B.target.blur()}},H.prototype.getElementWrapperComponentName=function(E,B){return"logo-image"===B?"sv-logo-image":H.TemplateRendererComponentName},H.prototype.getQuestionContentWrapperComponentName=function(E){return H.TemplateRendererComponentName},H.prototype.getRowWrapperComponentName=function(E){return H.TemplateRendererComponentName},H.prototype.getElementWrapperComponentData=function(E,B){return E},H.prototype.getRowWrapperComponentData=function(E){return E},H.prototype.getItemValueWrapperComponentName=function(E,B){return H.TemplateRendererComponentName},H.prototype.getItemValueWrapperComponentData=function(E,B){return E},H.prototype.getMatrixCellTemplateData=function(E){return E.question},H.prototype.searchText=function(E){E&&(E=E.toLowerCase());for(var B=[],U=0;U<this.pages.length;U++)this.pages[U].searchText(E,B);return B},H.prototype.getSkeletonComponentName=function(E){return this.skeletonComponentName},H.prototype.addLayoutElement=function(E){var B=this.removeLayoutElement(E.id);return this.layoutElements.push(E),B},H.prototype.findLayoutElement=function(E){return this.layoutElements.filter(function(U){return U.id===E})[0]},H.prototype.removeLayoutElement=function(E){var B=this.findLayoutElement(E);if(B){var U=this.layoutElements.indexOf(B);this.layoutElements.splice(U,1)}return B},H.prototype.getContainerContent=function(E){for(var B=[],U=0,ae=this.layoutElements;U<ae.length;U++){var Pe=ae[U];if("display"!==this.mode&&Z(Pe.id,"timerpanel"))"header"===E&&this.isTimerPanelShowingOnTop&&!this.isShowStartingPage&&B.push(Pe),"footer"===E&&this.isTimerPanelShowingOnBottom&&!this.isShowStartingPage&&B.push(Pe);else if("running"===this.state&&Z(Pe.id,this.progressBarComponentName)){var je=this.findLayoutElement("advanced-header"),ft=je&&je.data,gt=!ft||ft.hasBackground;Z(this.showProgressBar,"aboveHeader")&&(gt=!1),Z(this.showProgressBar,"belowHeader")&&(gt=!0),"header"===E&&!gt&&(Pe.index=-150,this.isShowProgressBarOnTop&&!this.isShowStartingPage&&B.push(Pe)),"center"===E&&gt&&(Pe.index&&delete Pe.index,this.isShowProgressBarOnTop&&!this.isShowStartingPage&&B.push(Pe)),"footer"===E&&this.isShowProgressBarOnBottom&&!this.isShowStartingPage&&B.push(Pe)}else Z(Pe.id,"buttons-navigation")?("contentTop"===E&&-1!==["top","both"].indexOf(this.isNavigationButtonsShowing)&&B.push(Pe),"contentBottom"===E&&-1!==["bottom","both"].indexOf(this.isNavigationButtonsShowing)&&B.push(Pe)):"running"===this.state&&Z(Pe.id,"toc-navigation")&&this.showTOC?("left"===E&&-1!==["left","both"].indexOf(this.tocLocation)&&B.push(Pe),"right"===E&&-1!==["right","both"].indexOf(this.tocLocation)&&B.push(Pe)):Z(Pe.id,"advanced-header")?"running"===this.state&&Pe.container===E&&B.push(Pe):(Array.isArray(Pe.container)&&-1!==Pe.container.indexOf(E)||Pe.container===E)&&B.push(Pe)}return B.sort(function(Ze,xt){return(Ze.index||0)-(xt.index||0)}),B},H.prototype.processPopupVisiblityChanged=function(E,B,U){this.onPopupVisibleChanged.fire(this,{question:E,popup:B,visible:U})},H.prototype.applyTheme=function(E){var B=this;!E||(Object.keys(E).forEach(function(U){if("header"===U){B.removeLayoutElement("advanced-header");var ae=new c.Cover;ae.fromTheme(E),B.insertAdvancedHeader(ae)}"isPanelless"===U?B.isCompact=E[U]:B[U]=E[U]}),this.themeChanged(E))},H.prototype.themeChanged=function(E){this.getAllQuestions().forEach(function(B){return B.themeChanged(E)})},H.prototype.dispose=function(){if(this.removeScrollEventListener(),this.destroyResizeObserver(),this.rootElement=void 0,this.layoutElements){for(var E=0;E<this.layoutElements.length;E++)this.layoutElements[E].data&&this.layoutElements[E].data!==this&&this.layoutElements[E].data.dispose&&this.layoutElements[E].data.dispose();this.layoutElements.splice(0,this.layoutElements.length)}if(re.prototype.dispose.call(this),this.editingObj=null,this.pages){for(this.currentPage=null,E=0;E<this.pages.length;E++)this.pages[E].setSurveyImpl(void 0),this.pages[E].dispose();this.pages.splice(0,this.pages.length),this.disposeCallback&&this.disposeCallback()}},H.prototype.onScroll=function(){this.onScrollCallback&&this.onScrollCallback()},H.prototype.addScrollEventListener=function(){var B,E=this;this.scrollHandler=function(){E.onScroll()},this.rootElement.addEventListener("scroll",this.scrollHandler),this.rootElement.getElementsByTagName("form")[0]&&this.rootElement.getElementsByTagName("form")[0].addEventListener("scroll",this.scrollHandler),this.css.rootWrapper&&(null===(B=this.rootElement.getElementsByClassName(this.css.rootWrapper)[0])||void 0===B||B.addEventListener("scroll",this.scrollHandler))},H.prototype.removeScrollEventListener=function(){var E;this.rootElement&&this.scrollHandler&&(this.rootElement.removeEventListener("scroll",this.scrollHandler),this.rootElement.getElementsByTagName("form")[0]&&this.rootElement.getElementsByTagName("form")[0].removeEventListener("scroll",this.scrollHandler),this.css.rootWrapper&&(null===(E=this.rootElement.getElementsByClassName(this.css.rootWrapper)[0])||void 0===E||E.removeEventListener("scroll",this.scrollHandler)))},H.TemplateRendererComponentName="sv-template-renderer",H.stylesManager=null,H.platform="unknown",A([Object(se.property)()],H.prototype,"completedCss",void 0),A([Object(se.property)()],H.prototype,"completedBeforeCss",void 0),A([Object(se.property)()],H.prototype,"loadingBodyCss",void 0),A([Object(se.property)()],H.prototype,"containerCss",void 0),A([Object(se.property)({onSet:function(E,B){B.updateCss()}})],H.prototype,"fitToContainer",void 0),A([Object(se.property)({onSet:function(E,B){if("advanced"===E){if(!B.findLayoutElement("advanced-header")){var ae=new c.Cover;ae.logoPositionX="right"===B.logoPosition?"right":"left",ae.logoPositionY="middle",ae.titlePositionX="right"===B.logoPosition?"left":"right",ae.titlePositionY="middle",ae.descriptionPositionX="right"===B.logoPosition?"left":"right",ae.descriptionPositionY="middle",B.insertAdvancedHeader(ae)}}else B.removeLayoutElement("advanced-header")}})],H.prototype,"headerView",void 0),A([Object(se.property)()],H.prototype,"showBrandInfo",void 0),A([Object(se.property)()],H.prototype,"enterKeyAction",void 0),A([Object(se.property)()],H.prototype,"lazyRenderingFirstBatchSizeValue",void 0),A([Object(se.property)({defaultValue:{}})],H.prototype,"cssVariables",void 0),A([Object(se.property)()],H.prototype,"_isMobile",void 0),A([Object(se.property)()],H.prototype,"_isCompact",void 0),A([Object(se.property)()],H.prototype,"backgroundImage",void 0),A([Object(se.property)()],H.prototype,"renderBackgroundImage",void 0),A([Object(se.property)()],H.prototype,"backgroundImageFit",void 0),A([Object(se.property)({onSet:function(E,B){B.updateCss()}})],H.prototype,"backgroundImageAttachment",void 0),A([Object(se.property)()],H.prototype,"backgroundImageStyle",void 0),A([Object(se.property)()],H.prototype,"wrapperFormCss",void 0),A([Object(se.property)({getDefaultValue:function(E){return"buttons"===E.progressBarType}})],H.prototype,"progressBarShowPageTitles",void 0),A([Object(se.property)()],H.prototype,"progressBarShowPageNumbers",void 0),A([Object(se.property)()],H.prototype,"rootCss",void 0),A([Object(se.property)()],H.prototype,"calculatedWidthMode",void 0),A([Object(se.propertyArray)()],H.prototype,"layoutElements",void 0),H}(w.SurveyElementCore);function Z(re,H){return!(!re||!H)&&re.toUpperCase()===H.toUpperCase()}se.Serializer.addClass("survey",[{name:"locale",choices:function(){return T.surveyLocalization.getLocales(!0)},onGetValue:function(re){return re.locale==T.surveyLocalization.defaultLocale?null:re.locale}},{name:"title",serializationProperty:"locTitle",dependsOn:"locale"},{name:"description:text",serializationProperty:"locDescription",dependsOn:"locale"},{name:"logo:file",serializationProperty:"locLogo"},{name:"logoWidth",default:"300px",minValue:0},{name:"logoHeight",default:"200px",minValue:0},{name:"logoFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"logoPosition",default:"left",choices:["none","left","right","top","bottom"]},{name:"focusFirstQuestionAutomatic:boolean"},{name:"focusOnFirstError:boolean",default:!0},{name:"completedHtml:html",serializationProperty:"locCompletedHtml"},{name:"completedBeforeHtml:html",serializationProperty:"locCompletedBeforeHtml"},{name:"completedHtmlOnCondition:htmlconditions",className:"htmlconditionitem",isArray:!0},{name:"loadingHtml:html",serializationProperty:"locLoadingHtml"},{name:"pages:surveypages",className:"page",isArray:!0,onSerializeValue:function(re){return re.originalPages||re.pages}},{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1,onGetValue:function(re){return null},onSetValue:function(re,H,E){re.pages.splice(0,re.pages.length);var B=re.addNewPage("");E.toObject({questions:H},B,null==E?void 0:E.options)}},{name:"triggers:triggers",baseClassName:"surveytrigger",classNamePart:"trigger"},{name:"calculatedValues:calculatedvalues",className:"calculatedvalue",isArray:!0},{name:"surveyId",visible:!1},{name:"surveyPostId",visible:!1},{name:"surveyShowDataSaving:boolean",visible:!1},"cookieName","sendResultOnPageNext:boolean",{name:"showNavigationButtons",default:"bottom",choices:["none","top","bottom","both"]},{name:"showPrevButton:boolean",default:!0},{name:"showTitle:boolean",default:!0},{name:"showPageTitles:boolean",default:!0},{name:"showCompletedPage:boolean",default:!0},"navigateToUrl",{name:"navigateToUrlOnCondition:urlconditions",className:"urlconditionitem",isArray:!0},{name:"questionsOrder",default:"initial",choices:["initial","random"]},{name:"matrixDragHandleArea",visible:!1,default:"entireItem",choices:["entireItem","icon"]},"showPageNumbers:boolean",{name:"showQuestionNumbers",default:"on",choices:["on","onPage","off"]},{name:"questionTitleLocation",default:"top",choices:["top","bottom","left"]},{name:"questionDescriptionLocation",default:"underTitle",choices:["underInput","underTitle"]},{name:"questionErrorLocation",default:"top",choices:["top","bottom"]},{name:"showProgressBar",default:"off",choices:["off","auto","aboveHeader","belowHeader","bottom","topBottom"]},{name:"progressBarType",default:"pages",choices:["pages","questions","requiredQuestions","correctQuestions"]},{name:"progressBarShowPageTitles:switch",category:"navigation"},{name:"progressBarShowPageNumbers:switch",default:!1,category:"navigation"},{name:"showTOC:switch",default:!1},{name:"tocLocation",default:"left",choices:["left","right"],dependsOn:["showTOC"],visibleIf:function(re){return!!re&&re.showTOC}},{name:"mode",default:"edit",choices:["edit","display"]},{name:"storeOthersAsComment:boolean",default:!0},{name:"maxTextLength:number",default:0,minValue:0},{name:"maxOthersLength:number",default:0,minValue:0},{name:"goNextPageAutomatic:boolean",onSetValue:function(re,H){"autogonext"!==H&&(H=G.Helpers.isTwoValueEquals(H,!0)),re.setPropertyValue("goNextPageAutomatic",H)}},{name:"clearInvisibleValues",default:"onComplete",choices:["none","onComplete","onHidden","onHiddenContainer"]},{name:"checkErrorsMode",default:"onNextPage",choices:["onNextPage","onValueChanged","onComplete"]},{name:"textUpdateMode",default:"onBlur",choices:["onBlur","onTyping"]},{name:"autoGrowComment:boolean",default:!1},{name:"allowResizeComment:boolean",default:!0},{name:"startSurveyText",serializationProperty:"locStartSurveyText"},{name:"pagePrevText",serializationProperty:"locPagePrevText"},{name:"pageNextText",serializationProperty:"locPageNextText"},{name:"completeText",serializationProperty:"locCompleteText"},{name:"previewText",serializationProperty:"locPreviewText"},{name:"editText",serializationProperty:"locEditText"},{name:"requiredText",default:"*"},{name:"questionStartIndex",dependsOn:["showQuestionNumbers"],visibleIf:function(re){return!re||"off"!==re.showQuestionNumbers}},{name:"questionTitlePattern",default:"numTitleRequire",dependsOn:["questionStartIndex","requiredText"],choices:function(re){return re?re.getQuestionTitlePatternOptions():[]}},{name:"questionTitleTemplate",visible:!1,isSerializable:!1,serializationProperty:"locQuestionTitleTemplate"},{name:"firstPageIsStarted:boolean",default:!1},{name:"isSinglePage:boolean",default:!1,visible:!1,isSerializable:!1},{name:"questionsOnPageMode",default:"standard",choices:["singlePage","standard","questionPerPage"]},{name:"showPreviewBeforeComplete",default:"noPreview",choices:["noPreview","showAllQuestions","showAnsweredQuestions"]},{name:"maxTimeToFinish:number",default:0,minValue:0},{name:"maxTimeToFinishPage:number",default:0,minValue:0},{name:"showTimerPanel",default:"none",choices:["none","top","bottom"]},{name:"showTimerPanelMode",default:"all",choices:["all","page","survey"]},{name:"widthMode",default:"auto",choices:["auto","static","responsive"]},{name:"width",visibleIf:function(re){return"static"===re.widthMode}},{name:"fitToContainer:boolean",default:!1},{name:"headerView",default:"basic",choices:["basic","advanced"],visible:!1},{name:"backgroundImage:file",visible:!1},{name:"backgroundImageFit",default:"cover",choices:["auto","contain","cover"],visible:!1},{name:"backgroundImageAttachment",default:"scroll",choices:["scroll","fixed"],visible:!1},{name:"backgroundOpacity:number",minValue:0,maxValue:1,default:1,visible:!1},{name:"showBrandInfo:boolean",default:!1,visible:!1}])},"./src/surveyProgress.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"SurveyProgressModel",function(){return se});var G=x("./src/utils/cssClassBuilder.ts"),se=function(){function $(){}return $.getProgressTextInBarCss=function(w){return(new G.CssClassBuilder).append(w.progressText).append(w.progressTextInBar).toString()},$.getProgressTextUnderBarCss=function(w){return(new G.CssClassBuilder).append(w.progressText).append(w.progressTextUnderBar).toString()},$}()},"./src/surveyStrings.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"surveyLocalization",function(){return se}),x.d(j,"surveyStrings",function(){return $});var G=x("./src/localization/english.ts"),se={currentLocaleValue:"",defaultLocaleValue:"en",locales:{},localeNames:{},supportedLocales:[],get currentLocale(){return this.currentLocaleValue===this.defaultLocaleValue?"":this.currentLocaleValue},set currentLocale(w){"cz"===w&&(w="cs"),this.currentLocaleValue=w},get defaultLocale(){return this.defaultLocaleValue},set defaultLocale(w){"cz"===w&&(w="cs"),this.defaultLocaleValue=w},getLocaleStrings:function(w){return this.locales[w]},getString:function(w,F){var R=this;void 0===F&&(F=null);var L=new Array,m=function(h){var v=R.locales[h];v&&L.push(v)},T=function(h){if(h){m(h);var v=h.indexOf("-");v<1||(h=h.substring(0,v),m(h))}};T(F),T(this.currentLocale),T(this.defaultLocale),"en"!==this.defaultLocale&&m("en");for(var C=0;C<L.length;C++){var y=L[C][w];if(void 0!==y)return y}return this.onGetExternalString(w,F)},getLocales:function(w){void 0===w&&(w=!1);var F=[];F.push("");var R=this.locales;if(this.supportedLocales&&this.supportedLocales.length>0){R={};for(var L=0;L<this.supportedLocales.length;L++)R[this.supportedLocales[L]]=!0}for(var m in R)w&&m==this.defaultLocale||F.push(m);var T=function(C){if(!C)return"";var y=se.localeNames[C];return y||(y=C),y.toLowerCase()};return F.sort(function(C,y){var h=T(C),v=T(y);return h===v?0:h<v?-1:1}),F},onGetExternalString:function(w,F){}},$=G.englishStrings;se.locales.en=G.englishStrings,se.localeNames.en="english"},"./src/surveyTaskManager.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"SurveyTaskManagerModel",function(){return R});var L,G=x("./src/base.ts"),se=x("./src/jsonobject.ts"),$=(L=function(m,T){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,y){C.__proto__=y}||function(C,y){for(var h in y)Object.prototype.hasOwnProperty.call(y,h)&&(C[h]=y[h])})(m,T)},function(m,T){if("function"!=typeof T&&null!==T)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function C(){this.constructor=m}L(m,T),m.prototype=null===T?Object.create(T):(C.prototype=T.prototype,new C)}),F=function L(m){this.type=m,this.timestamp=new Date},R=function(L){function m(){var T=L.call(this)||this;return T.taskList=[],T.onAllTasksCompleted=T.addEvent(),T}return $(m,L),m.prototype.runTask=function(T,C){var y=this,h=new F(T);return this.taskList.push(h),this.hasActiveTasks=!0,C(function(){return y.taskFinished(h)}),h},m.prototype.waitAndExecute=function(T){this.hasActiveTasks?this.onAllTasksCompleted.add(function(){T()}):T()},m.prototype.taskFinished=function(T){var C=this.taskList.indexOf(T);C>-1&&this.taskList.splice(C,1),this.hasActiveTasks&&0==this.taskList.length&&(this.hasActiveTasks=!1,this.onAllTasksCompleted.fire(this,{}))},function(L,m,T,C){var v,y=arguments.length,h=y<3?m:null===C?C=Object.getOwnPropertyDescriptor(m,T):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(L,m,T,C);else for(var f=L.length-1;f>=0;f--)(v=L[f])&&(h=(y<3?v(h):y>3?v(m,T,h):v(m,T))||h);y>3&&h&&Object.defineProperty(m,T,h)}([Object(se.property)({defaultValue:!1})],m.prototype,"hasActiveTasks",void 0),m}(G.Base)},"./src/surveyTimerModel.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"SurveyTimerModel",function(){return L});var m,G=x("./src/base.ts"),se=x("./src/surveytimer.ts"),$=x("./src/jsonobject.ts"),w=x("./src/utils/cssClassBuilder.ts"),F=(m=function(T,C){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,h){y.__proto__=h}||function(y,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(y[v]=h[v])})(T,C)},function(T,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function y(){this.constructor=T}m(T,C),T.prototype=null===C?Object.create(C):(y.prototype=C.prototype,new y)}),R=function(m,T,C,y){var f,h=arguments.length,v=h<3?T:null===y?y=Object.getOwnPropertyDescriptor(T,C):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(m,T,C,y);else for(var d=m.length-1;d>=0;d--)(f=m[d])&&(v=(h<3?f(v):h>3?f(T,C,v):f(T,C))||v);return h>3&&v&&Object.defineProperty(T,C,v),v},L=function(m){function T(C){var y=m.call(this)||this;return y.timerFunc=null,y.surveyValue=C,y.onCreating(),y}return F(T,m),Object.defineProperty(T.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),T.prototype.onCreating=function(){},T.prototype.start=function(){var C=this;!this.survey||this.isRunning||this.isDesignMode||(this.survey.onCurrentPageChanged.add(function(){C.update()}),this.timerFunc=function(){C.doTimer()},this.setIsRunning(!0),this.update(),se.SurveyTimer.instance.start(this.timerFunc))},T.prototype.stop=function(){!this.isRunning||(this.setIsRunning(!1),se.SurveyTimer.instance.stop(this.timerFunc))},Object.defineProperty(T.prototype,"isRunning",{get:function(){return this.getPropertyValue("isRunning",!1)},enumerable:!1,configurable:!0}),T.prototype.setIsRunning=function(C){this.setPropertyValue("isRunning",C)},T.prototype.update=function(){this.updateText(),this.updateProgress()},T.prototype.doTimer=function(){var C=this.survey.currentPage;C&&(C.timeSpent=C.timeSpent+1),this.spent=this.spent+1,this.update(),this.onTimer&&this.onTimer(C)},T.prototype.updateProgress=function(){var C=this,y=this.survey.timerInfo,h=y.spent,v=y.limit;v?(0==h?(this.progress=0,setTimeout(function(){C.progress=Math.floor((h+1)/v*100)/100},0)):h<=v&&(this.progress=Math.floor((h+1)/v*100)/100),this.progress>1&&(this.progress=void 0)):this.progress=void 0},T.prototype.updateText=function(){var C=this.survey.timerClock;this.clockMajorText=C.majorText,this.clockMinorText=C.minorText,this.text=this.survey.timerInfoText},Object.defineProperty(T.prototype,"showProgress",{get:function(){return void 0!==this.progress},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"showTimerAsClock",{get:function(){return!!this.survey.getCss().clockTimerRoot},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"rootCss",{get:function(){return(new w.CssClassBuilder).append(this.survey.getCss().clockTimerRoot).append(this.survey.getCss().clockTimerRootTop,this.survey.isTimerPanelShowingOnTop).append(this.survey.getCss().clockTimerRootBottom,this.survey.isTimerPanelShowingOnBottom).toString()},enumerable:!1,configurable:!0}),T.prototype.getProgressCss=function(){return(new w.CssClassBuilder).append(this.survey.getCss().clockTimerProgress).append(this.survey.getCss().clockTimerProgressAnimation,this.progress>0).toString()},Object.defineProperty(T.prototype,"textContainerCss",{get:function(){return this.survey.getCss().clockTimerTextContainer},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"minorTextCss",{get:function(){return this.survey.getCss().clockTimerMinorText},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"majorTextCss",{get:function(){return this.survey.getCss().clockTimerMajorText},enumerable:!1,configurable:!0}),R([Object($.property)()],T.prototype,"text",void 0),R([Object($.property)()],T.prototype,"progress",void 0),R([Object($.property)()],T.prototype,"clockMajorText",void 0),R([Object($.property)()],T.prototype,"clockMinorText",void 0),R([Object($.property)({defaultValue:0})],T.prototype,"spent",void 0),T}(G.Base)},"./src/surveyToc.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"tryFocusPage",function(){return R}),x.d(j,"createTOCListModel",function(){return L}),x.d(j,"getTocRootCss",function(){return m}),x.d(j,"TOCModel",function(){return T});var G=x("./src/actions/action.ts"),se=x("./src/base.ts"),$=x("./src/list.ts"),w=x("./src/page.ts"),F=x("./src/popup.ts");function R(C,y){return C.isDesignMode||y.focusFirstQuestion(),!0}function L(C,y){var h,v="singlePage"===C.questionsOnPageMode?null===(h=C.pages[0])||void 0===h?void 0:h.elements:C.pages,f=(v||[]).map(function(u){var a,o;return new G.Action({id:u.name,locTitle:(null===(a=u.locNavigationTitle)||void 0===a?void 0:a.text)?u.locNavigationTitle:(null===(o=u.locTitle)||void 0===o?void 0:o.text)?u.locTitle:void 0,title:u.renderedNavigationTitle,action:function(){return void 0!==typeof document&&!!document.activeElement&&!!document.activeElement.blur&&document.activeElement.blur(),!!y&&y(),u instanceof w.PageModel?C.tryNavigateToPage(u):R(C,u)},visible:new se.ComputedUpdater(function(){return u.isVisible&&!u.isStartPage})})}),d=new $.ListModel(f,function(u){u.action()&&(d.selectedItem=u)},!0,f.filter(function(u){return!!C.currentPage&&u.id===C.currentPage.name})[0]||f.filter(function(u){return u.id===v[0].name})[0]);return d.allowSelection=!1,d.locOwner=C,d.searchEnabled=!1,C.onCurrentPageChanged.add(function(u,a){d.selectedItem=f.filter(function(o){return!!C.currentPage&&o.id===C.currentPage.name})[0]}),d}function m(C,y){return void 0===y&&(y=!1),y?"sv_progress-toc sv_progress-toc--mobile":"sv_progress-toc sv_progress-toc--"+(C.tocLocation||"").toLowerCase()}var T=function(){function C(y){var h=this;this.survey=y,this.icon="icon-navmenu_24x24",this.togglePopup=function(){h.popupModel.toggleVisibility()},this.listModel=L(y,function(){h.popupModel.isVisible=!1}),this.popupModel=new F.PopupModel("sv-list",{model:this.listModel}),this.popupModel.overlayDisplayMode="overlay",this.popupModel.displayMode=new se.ComputedUpdater(function(){return h.isMobile?"overlay":"popup"})}return Object.defineProperty(C.prototype,"isMobile",{get:function(){return this.survey.isMobile},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"containerCss",{get:function(){return m(this.survey,this.isMobile)},enumerable:!1,configurable:!0}),C.prototype.dispose=function(){this.popupModel.dispose(),this.listModel.dispose()},C}()},"./src/surveytimer.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"surveyTimerFunctions",function(){return se}),x.d(j,"SurveyTimer",function(){return $});var G=x("./src/base.ts"),se={setTimeout:function(w){return se.safeTimeOut(w,1e3)},clearTimeout:function(w){"undefined"!=typeof window&&window.clearTimeout(w)},safeTimeOut:function(w,F){return"undefined"==typeof window||F<=0?(w(),0):window.setTimeout(w,F)}},$=function(){function w(){this.listenerCounter=0,this.timerId=-1,this.onTimer=new G.Event}return Object.defineProperty(w,"instance",{get:function(){return w.instanceValue||(w.instanceValue=new w),w.instanceValue},enumerable:!1,configurable:!0}),w.prototype.start=function(F){var R=this;void 0===F&&(F=null),F&&this.onTimer.add(F),this.timerId<0&&(this.timerId=se.setTimeout(function(){R.doTimer()})),this.listenerCounter++},w.prototype.stop=function(F){void 0===F&&(F=null),F&&this.onTimer.remove(F),this.listenerCounter--,0==this.listenerCounter&&this.timerId>-1&&(se.clearTimeout(this.timerId),this.timerId=-1)},w.prototype.doTimer=function(){var F=this;if((this.onTimer.isEmpty||0==this.listenerCounter)&&(this.timerId=-1),!(this.timerId<0)){var R=this.timerId;this.onTimer.fire(this,{}),R===this.timerId&&(this.timerId=se.setTimeout(function(){F.doTimer()}))}},w.instanceValue=null,w}()},"./src/svgbundle.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"SvgIconRegistry",function(){return se}),x.d(j,"SvgRegistry",function(){return $}),x.d(j,"SvgBundleViewModel",function(){});var se=function(){function L(){this.icons={},this.iconPrefix="icon-"}return L.prototype.processId=function(m,T){return 0==m.indexOf(T)&&(m=m.substring(T.length)),m},L.prototype.registerIconFromSymbol=function(m,T){this.icons[m]=T},L.prototype.registerIconFromSvgViaElement=function(m,T,C){void 0===C&&(C=this.iconPrefix),m=this.processId(m,C);var y=document.createElement("div");y.innerHTML=T;var h=document.createElement("symbol"),v=y.querySelector("svg");h.innerHTML=v.innerHTML;for(var f=0;f<v.attributes.length;f++)h.setAttributeNS("http://www.w3.org/2000/svg",v.attributes[f].name,v.attributes[f].value);h.id=C+m,this.registerIconFromSymbol(m,h.outerHTML)},L.prototype.registerIconFromSvg=function(m,T,C){void 0===C&&(C=this.iconPrefix),m=this.processId(m,C);var y="<svg ",h="</svg>",v=(T=T.trim()).toLowerCase();return v.substring(0,y.length)===y&&v.substring(v.length-h.length,v.length)===h&&(this.registerIconFromSymbol(m,'<symbol id="'+C+m+'" '+T.substring(y.length,v.length-h.length)+"</symbol>"),!0)},L.prototype.registerIconsFromFolder=function(m){var T=this;m.keys().forEach(function(C){T.registerIconFromSvg(C.substring(2,C.length-4).toLowerCase(),m(C))})},L.prototype.iconsRenderedHtml=function(){var m=this;return Object.keys(this.icons).map(function(T){return m.icons[T]}).join("")},L}(),$=new se,F=x("./src/images sync \\.svg$"),R=x("./src/images/smiley sync \\.svg$");$.registerIconsFromFolder(F),$.registerIconsFromFolder(R)},"./src/template-renderer.ts":function($e,j,x){"use strict";x.r(j)},"./src/textPreProcessor.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"TextPreProcessorItem",function(){return $}),x.d(j,"TextPreProcessorValue",function(){return w}),x.d(j,"TextPreProcessor",function(){return F}),x.d(j,"QuestionTextProcessor",function(){return R});var G=x("./src/helpers.ts"),se=x("./src/conditionProcessValue.ts"),$=function L(){},w=function L(m,T){this.name=m,this.returnDisplayValue=T,this.isExists=!1,this.canProcess=!0},F=function(){function L(){this._unObservableValues=[void 0]}return Object.defineProperty(L.prototype,"hasAllValuesOnLastRunValue",{get:function(){return this._unObservableValues[0]},set:function(m){this._unObservableValues[0]=m},enumerable:!1,configurable:!0}),L.prototype.process=function(m,T,C){if(void 0===T&&(T=!1),void 0===C&&(C=!1),this.hasAllValuesOnLastRunValue=!0,!m||!this.onProcess)return m;for(var y=this.getItems(m),h=y.length-1;h>=0;h--){var v=y[h],f=this.getName(m.substring(v.start+1,v.end));if(f){var d=new w(f,T);if(this.onProcess(d),!d.isExists){d.canProcess&&(this.hasAllValuesOnLastRunValue=!1);continue}G.Helpers.isValueEmpty(d.value)&&(this.hasAllValuesOnLastRunValue=!1);var u=G.Helpers.isValueEmpty(d.value)?"":d.value;C&&(u=encodeURIComponent(u)),m=m.substring(0,v.start)+u+m.substring(v.end+1)}}return m},L.prototype.processValue=function(m,T){var C=new w(m,T);return this.onProcess&&this.onProcess(C),C},Object.defineProperty(L.prototype,"hasAllValuesOnLastRun",{get:function(){return!!this.hasAllValuesOnLastRunValue},enumerable:!1,configurable:!0}),L.prototype.getItems=function(m){for(var T=[],C=m.length,y=-1,h="",v=0;v<C;v++)if("{"==(h=m[v])&&(y=v),"}"==h){if(y>-1){var f=new $;f.start=y,f.end=v,T.push(f)}y=-1}return T},L.prototype.getName=function(m){if(m)return m.trim()},L}(),R=function(){function L(m){var T=this;this.variableName=m,this.textPreProcessor=new F,this.textPreProcessor.onProcess=function(C){T.getProcessedTextValue(C)}}return L.prototype.processValue=function(m,T){return this.textPreProcessor.processValue(m,T)},Object.defineProperty(L.prototype,"survey",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"panel",{get:function(){return null},enumerable:!1,configurable:!0}),L.prototype.getValues=function(){return this.panel?this.panel.getValue():null},L.prototype.getQuestionByName=function(m){return this.panel?this.panel.getQuestionByValueName(m):null},L.prototype.getParentTextProcessor=function(){return null},L.prototype.onCustomProcessText=function(m){return!1},L.prototype.getQuestionDisplayText=function(m){return m.displayValue},L.prototype.getProcessedTextValue=function(m){if(m&&!this.onCustomProcessText(m)){var T=(new se.ProcessValue).getFirstName(m.name);if(m.isExists=T==this.variableName,m.canProcess=m.isExists,m.canProcess){m.name=m.name.replace(this.variableName+".",""),T=(new se.ProcessValue).getFirstName(m.name);var C=this.getQuestionByName(T),y={};if(C)y[T]=m.returnDisplayValue?this.getQuestionDisplayText(C):C.value;else{var h=this.panel?this.getValues():null;h&&(y[T]=h[T])}m.value=(new se.ProcessValue).getValue(m.name,y)}}},L.prototype.processText=function(m,T){return this.survey&&this.survey.isDesignMode?m:(m=this.textPreProcessor.process(m,T),m=this.processTextCore(this.getParentTextProcessor(),m,T),this.processTextCore(this.survey,m,T))},L.prototype.processTextEx=function(m,T){m=this.processText(m,T);var C=this.textPreProcessor.hasAllValuesOnLastRun,y={hasAllValuesOnLastRun:!0,text:m};return this.survey&&(y=this.survey.processTextEx(m,T,!1)),y.hasAllValuesOnLastRun=y.hasAllValuesOnLastRun&&C,y},L.prototype.processTextCore=function(m,T,C){return m?m.processText(T,C):T},L}()},"./src/themes.ts":function($e,j,x){"use strict";x.r(j)},"./src/trigger.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"Trigger",function(){return T}),x.d(j,"SurveyTrigger",function(){return C}),x.d(j,"SurveyTriggerVisible",function(){return y}),x.d(j,"SurveyTriggerComplete",function(){return h}),x.d(j,"SurveyTriggerSetValue",function(){return v}),x.d(j,"SurveyTriggerSkip",function(){return f}),x.d(j,"SurveyTriggerRunExpression",function(){return d}),x.d(j,"SurveyTriggerCopyValue",function(){return u});var a,G=x("./src/helpers.ts"),se=x("./src/base.ts"),$=x("./src/jsonobject.ts"),w=x("./src/conditions.ts"),F=x("./src/expressions/expressions.ts"),R=x("./src/conditionProcessValue.ts"),L=x("./src/settings.ts"),m=(a=function(o,s){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(l[b]=c[b])})(o,s)},function(o,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=o}a(o,s),o.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}),T=function(a){function o(){var s=a.call(this)||this;return s.idValue=o.idCounter++,s.registerPropertyChangedHandlers(["operator","value","name"],function(){s.oldPropertiesChanged()}),s.registerPropertyChangedHandlers(["expression"],function(){s.onExpressionChanged()}),s}return m(o,a),Object.defineProperty(o,"operators",{get:function(){return null!=o.operatorsValue||(o.operatorsValue={empty:function(s,l){return!s},notempty:function(s,l){return!!s},equal:function(s,l){return s==l},notequal:function(s,l){return s!=l},contains:function(s,l){return s&&s.indexOf&&s.indexOf(l)>-1},notcontains:function(s,l){return!s||!s.indexOf||-1==s.indexOf(l)},greater:function(s,l){return s>l},less:function(s,l){return s<l},greaterorequal:function(s,l){return s>=l},lessorequal:function(s,l){return s<=l}}),o.operatorsValue},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),o.prototype.getType=function(){return"triggerbase"},o.prototype.toString=function(){var s=this.getType().replace("trigger",""),l=this.expression?this.expression:this.buildExpression();return l&&(s+=", "+l),s},Object.defineProperty(o.prototype,"isInternal",{get:function(){return!0===this.isGhost},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"operator",{get:function(){return this.getPropertyValue("operator","equal")},set:function(s){!s||(s=s.toLowerCase(),o.operators[s]&&this.setPropertyValue("operator",s))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"value",{get:function(){return this.getPropertyValue("value",null)},set:function(s){this.setPropertyValue("value",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(s){this.setPropertyValue("name",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(s){this.setPropertyValue("expression",s)},enumerable:!1,configurable:!0}),o.prototype.canBeExecuted=function(s){return!0},o.prototype.canBeExecutedOnComplete=function(){return!1},o.prototype.checkExpression=function(s,l,c,b,M){void 0===M&&(M=null),this.isExecutingOnNextPage=s,this.canBeExecuted(s)&&(l&&!this.canBeExecutedOnComplete()||!this.isCheckRequired(c)||(this.conditionRunner?this.perform(b,M):this.canSuccessOnEmptyExpression()&&this.triggerResult(!0,b,M)))},o.prototype.canSuccessOnEmptyExpression=function(){return!1},o.prototype.check=function(s){o.operators[this.operator](s,this.value)?this.onSuccess({},null):this.onFailure()},Object.defineProperty(o.prototype,"requireValidQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),o.prototype.perform=function(s,l){var c=this;this.conditionRunner.onRunComplete=function(b){c.triggerResult(b,s,l)},this.conditionRunner.run(s,l)},o.prototype.triggerResult=function(s,l,c){s?(this.onSuccess(l,c),this.onSuccessExecuted()):this.onFailure()},o.prototype.onSuccess=function(s,l){},o.prototype.onFailure=function(){},o.prototype.onSuccessExecuted=function(){},o.prototype.endLoadingFromJson=function(){a.prototype.endLoadingFromJson.call(this),this.oldPropertiesChanged()},o.prototype.oldPropertiesChanged=function(){this.onExpressionChanged()},o.prototype.onExpressionChanged=function(){this.conditionRunner=null},o.prototype.buildExpression=function(){return!this.name||this.isValueEmpty(this.value)&&this.isRequireValue?"":"{"+this.name+"} "+this.operator+" "+F.OperandMaker.toOperandString(this.value)},o.prototype.isCheckRequired=function(s){return!!s&&(this.createConditionRunner(),!(!this.conditionRunner||!0!==this.conditionRunner.hasFunction())||(new R.ProcessValue).isAnyKeyChanged(s,this.getUsedVariables()))},o.prototype.getUsedVariables=function(){return this.conditionRunner?this.conditionRunner.getVariables():[]},o.prototype.createConditionRunner=function(){if(!this.conditionRunner){var s=this.expression;s||(s=this.buildExpression()),s&&(this.conditionRunner=new w.ConditionRunner(s))}},Object.defineProperty(o.prototype,"isRequireValue",{get:function(){return"empty"!==this.operator&&"notempty"!=this.operator},enumerable:!1,configurable:!0}),o.idCounter=1,o.operatorsValue=null,o}(se.Base),C=function(a){function o(){var s=a.call(this)||this;return s.ownerValue=null,s}return m(o,a),Object.defineProperty(o.prototype,"owner",{get:function(){return this.ownerValue},enumerable:!1,configurable:!0}),o.prototype.setOwner=function(s){this.ownerValue=s},o.prototype.getSurvey=function(s){return void 0===s&&(s=!1),this.owner&&this.owner.getSurvey?this.owner.getSurvey():null},o.prototype.isRealExecution=function(){return!0},o.prototype.onSuccessExecuted=function(){this.owner&&this.isRealExecution()&&this.owner.triggerExecuted(this)},o}(T),y=function(a){function o(){var s=a.call(this)||this;return s.pages=[],s.questions=[],s}return m(o,a),o.prototype.getType=function(){return"visibletrigger"},o.prototype.onSuccess=function(s,l){this.onTrigger(this.onItemSuccess)},o.prototype.onFailure=function(){this.onTrigger(this.onItemFailure)},o.prototype.onTrigger=function(s){if(this.owner)for(var l=this.owner.getObjects(this.pages,this.questions),c=0;c<l.length;c++)s(l[c])},o.prototype.onItemSuccess=function(s){s.visible=!0},o.prototype.onItemFailure=function(s){s.visible=!1},o}(C),h=function(a){function o(){return a.call(this)||this}return m(o,a),o.prototype.getType=function(){return"completetrigger"},Object.defineProperty(o.prototype,"requireValidQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),o.prototype.isRealExecution=function(){return!L.settings.triggers.executeCompleteOnValueChanged===this.isExecutingOnNextPage},o.prototype.onSuccess=function(s,l){!this.owner||(this.isRealExecution()?this.owner.setCompleted(this):this.owner.canBeCompleted(this,!0))},o.prototype.onFailure=function(){this.owner.canBeCompleted(this,!1)},o}(C),v=function(a){function o(){return a.call(this)||this}return m(o,a),o.prototype.getType=function(){return"setvaluetrigger"},o.prototype.canBeExecuted=function(s){return!s&&!!this.setToName},o.prototype.onPropertyValueChanged=function(s,l,c){if(a.prototype.onPropertyValueChanged.call(this,s,l,c),"setToName"===s){var b=this.getSurvey();b&&!b.isLoadingFromJson&&b.isDesignMode&&(this.setValue=void 0)}},Object.defineProperty(o.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(s){this.setPropertyValue("setToName",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"setValue",{get:function(){return this.getPropertyValue("setValue")},set:function(s){this.setPropertyValue("setValue",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isVariable",{get:function(){return this.getPropertyValue("isVariable")},set:function(s){this.setPropertyValue("isVariable",s)},enumerable:!1,configurable:!0}),o.prototype.onSuccess=function(s,l){!this.setToName||!this.owner||this.owner.setTriggerValue(this.setToName,this.setValue,this.isVariable)},o}(C),f=function(a){function o(){return a.call(this)||this}return m(o,a),o.prototype.getType=function(){return"skiptrigger"},Object.defineProperty(o.prototype,"requireValidQuestion",{get:function(){return this.canBeExecuted(!1)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"gotoName",{get:function(){return this.getPropertyValue("gotoName","")},set:function(s){this.setPropertyValue("gotoName",s)},enumerable:!1,configurable:!0}),o.prototype.canBeExecuted=function(s){return s===!L.settings.triggers.executeSkipOnValueChanged},o.prototype.onSuccess=function(s,l){!this.gotoName||!this.owner||this.owner.focusQuestion(this.gotoName)},o}(C),d=function(a){function o(){return a.call(this)||this}return m(o,a),o.prototype.getType=function(){return"runexpressiontrigger"},Object.defineProperty(o.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(s){this.setPropertyValue("setToName",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"runExpression",{get:function(){return this.getPropertyValue("runExpression","")},set:function(s){this.setPropertyValue("runExpression",s)},enumerable:!1,configurable:!0}),o.prototype.onSuccess=function(s,l){var c=this;if(this.owner&&this.runExpression){var b=new w.ExpressionRunner(this.runExpression);b.canRun&&(b.onRunComplete=function(M){c.onCompleteRunExpression(M)},b.run(s,l))}},o.prototype.onCompleteRunExpression=function(s){this.setToName&&void 0!==s&&this.owner.setTriggerValue(this.setToName,G.Helpers.convertValToQuestionVal(s),!1)},o}(C),u=function(a){function o(){return a.call(this)||this}return m(o,a),o.prototype.canBeExecuted=function(s){return!s&&!!this.setToName&&!!this.fromName},Object.defineProperty(o.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(s){this.setPropertyValue("setToName",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fromName",{get:function(){return this.getPropertyValue("fromName","")},set:function(s){this.setPropertyValue("fromName",s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"copyDisplayValue",{get:function(){return this.getPropertyValue("copyDisplayValue")},set:function(s){this.setPropertyValue("copyDisplayValue",s)},enumerable:!1,configurable:!0}),o.prototype.getType=function(){return"copyvaluetrigger"},o.prototype.onSuccess=function(s,l){!this.setToName||!this.owner||this.owner.copyTriggerValue(this.setToName,this.fromName,this.copyDisplayValue)},o.prototype.canSuccessOnEmptyExpression=function(){return!0},o.prototype.getUsedVariables=function(){var s=a.prototype.getUsedVariables.call(this);return 0===s.length&&!!this.fromName&&s.push(this.fromName),s},o}(C);$.Serializer.addClass("trigger",[{name:"operator",default:"equal",visible:!1},{name:"value",visible:!1},"expression:condition"]),$.Serializer.addClass("surveytrigger",[{name:"name",visible:!1}],null,"trigger"),$.Serializer.addClass("visibletrigger",["pages:pages","questions:questions"],function(){return new y},"surveytrigger"),$.Serializer.addClass("completetrigger",[],function(){return new h},"surveytrigger"),$.Serializer.addClass("setvaluetrigger",[{name:"!setToName:questionvalue"},{name:"setValue:triggervalue",dependsOn:"setToName",visibleIf:function(a){return!!a&&!!a.setToName}},{name:"isVariable:boolean",visible:!1}],function(){return new v},"surveytrigger"),$.Serializer.addClass("copyvaluetrigger",[{name:"!fromName:questionvalue"},{name:"!setToName:questionvalue"},{name:"copyDisplayValue:boolean",visible:!1}],function(){return new u},"surveytrigger"),$.Serializer.addClass("skiptrigger",[{name:"!gotoName:question"}],function(){return new f},"surveytrigger"),$.Serializer.addClass("runexpressiontrigger",[{name:"setToName:questionvalue"},"runExpression:expression"],function(){return new d},"surveytrigger")},"./src/utils/camera.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"Camera",function(){return se});var G=x("./src/entries/core.ts"),se=function(){function $(){this.canFlipValue=void 0}return $.clear=function(){$.cameraList=void 0,$.cameraIndex=-1},$.setCameraList=function(w){var F=function(R){var L=R.label.toLocaleLowerCase();return L.indexOf("user")>-1?"user":L.indexOf("enviroment")>-1?"enviroment":""};$.clear(),Array.isArray(w)&&w.length>0&&($.cameraIndex=-1,w.sort(function(R,L){if(R===L)return 0;if(R.label!==L.label){var m=F(R),T=F(L);if(m!==T){if("user"===m)return-1;if("user"===T)return 1;if("enviroment"===m)return-1;if("enviroment"===T)return 1}}return w.indexOf(R)<w.indexOf(L)?-1:1})),$.cameraList=w},$.prototype.hasCamera=function(w){var F=this;void 0===$.cameraList?$.mediaDevicesCallback?$.mediaDevicesCallback(function(L){F.setVideoInputs(L),F.hasCameraCallback(w)}):"undefined"!=typeof navigator&&navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(function(L){F.setVideoInputs(L),F.hasCameraCallback(w),F.updateCanFlipValue()}).catch(function(L){$.cameraList=null,F.hasCameraCallback(w)}):($.cameraList=null,this.hasCameraCallback(w)):this.hasCameraCallback(w)},$.prototype.getMediaConstraints=function(w){var F=$.cameraList;if(Array.isArray(F)&&!(F.length<1)){$.cameraIndex<0&&($.cameraIndex=0);var R=F[$.cameraIndex],L={};return R&&R.deviceId?L.deviceId={exact:R.deviceId}:L.facingMode=$.cameraFacingMode,w&&((null==w?void 0:w.height)&&(L.height={ideal:w.height}),(null==w?void 0:w.width)&&(L.width={ideal:w.width})),{video:L,audio:!1}}},$.prototype.startVideo=function(w,F,R,L){var T,m=this,C=null===(T=G.settings.environment.root)||void 0===T?void 0:T.getElementById(w);if(C){C.style.width="100%",C.style.height="auto",C.style.height="100%",C.style.objectFit="contain";var y=this.getMediaConstraints({width:R,height:L});navigator.mediaDevices.getUserMedia(y).then(function(h){var v;C.srcObject=h,!(null===(v=$.cameraList[$.cameraIndex])||void 0===v?void 0:v.deviceId)&&!!h.getTracks()[0].getCapabilities().facingMode&&($.canSwitchFacingMode=!0,m.updateCanFlipValue()),C.play(),F(h)}).catch(function(h){F(void 0)})}else F(void 0)},$.prototype.getImageSize=function(w){return{width:w.videoWidth,height:w.videoHeight}},$.prototype.snap=function(w,F){if("undefined"==typeof document)return!1;var R=document,L=R.getElementById(w);if(!L)return!1;var m=R.createElement("canvas"),T=this.getImageSize(L);m.height=T.height,m.width=T.width;var C=m.getContext("2d");return C.clearRect(0,0,m.width,m.height),C.drawImage(L,0,0,m.width,m.height),m.toBlob(F,"image/png"),!0},$.prototype.updateCanFlipValue=function(){var w=$.cameraList;this.canFlipValue=Array.isArray(w)&&w.length>1||$.canSwitchFacingMode,this.onCanFlipChangedCallback&&this.onCanFlipChangedCallback(this.canFlipValue)},$.prototype.canFlip=function(w){return void 0===this.canFlipValue&&this.updateCanFlipValue(),w&&(this.onCanFlipChangedCallback=w),this.canFlipValue},$.prototype.flip=function(){!this.canFlip()||($.canSwitchFacingMode?$.cameraFacingMode="user"===$.cameraFacingMode?"environment":"user":$.cameraIndex>=$.cameraList.length-1?$.cameraIndex=0:$.cameraIndex++)},$.prototype.hasCameraCallback=function(w){w(Array.isArray($.cameraList))},$.prototype.setVideoInputs=function(w){var F=[];w.forEach(function(R){"videoinput"===R.kind&&F.push(R)}),$.setCameraList(F.length>0?F:null)},$.cameraIndex=-1,$.cameraFacingMode="user",$.canSwitchFacingMode=!1,$}()},"./src/utils/cssClassBuilder.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"CssClassBuilder",function(){return G});var G=function(){function se(){this.classes=[]}return se.prototype.isEmpty=function(){return""===this.toString()},se.prototype.append=function($,w){return void 0===w&&(w=!0),!!$&&w&&("string"==typeof $&&($=$.trim()),this.classes.push($)),this},se.prototype.toString=function(){return this.classes.join(" ")},se}()},"./src/utils/devices.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"IsMobile",function(){return w}),x.d(j,"mouseInfo",function(){return F}),x.d(j,"IsTouch",function(){return L}),x.d(j,"_setIsTouch",function(){return m});var T,G=!1,se=null;"undefined"!=typeof navigator&&"undefined"!=typeof window&&navigator&&window&&(se=navigator.userAgent||navigator.vendor||window.opera),!(T=se)||("MacIntel"===navigator.platform&&navigator.maxTouchPoints>0||"iPad"===navigator.platform||/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(T)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(T.substring(0,4)))&&(G=!0);var w=G||!1,F={get isTouch(){return!this.hasMouse&&this.hasTouchEvent},get hasTouchEvent(){return"undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0)},hasMouse:!0},R="undefined"!=typeof matchMedia&&!!matchMedia&&matchMedia("(pointer:fine)")||void 0;F.hasMouse=!!R&&!!R.matches;var L=F.isTouch;function m(T){L=T}},"./src/utils/dragOrClickHelper.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"DragOrClickHelper",function(){return se});var G=x("./src/entries/core.ts"),se=function(){function $(w){var F=this;this.dragHandler=w,this.onPointerUp=function(R){F.clearListeners()},this.tryToStartDrag=function(R){if(F.currentX=R.pageX,F.currentY=R.pageY,!F.isMicroMovement)return F.clearListeners(),F.dragHandler(F.pointerDownEvent,F.currentTarget,F.itemModel),!0}}return $.prototype.onPointerDown=function(w,F){G.IsTouch?this.dragHandler(w,w.currentTarget,F):(this.pointerDownEvent=w,this.currentTarget=w.currentTarget,this.startX=w.pageX,this.startY=w.pageY,document.addEventListener("pointermove",this.tryToStartDrag),this.currentTarget.addEventListener("pointerup",this.onPointerUp),this.itemModel=F)},Object.defineProperty($.prototype,"isMicroMovement",{get:function(){var F=Math.abs(this.currentX-this.startX),R=Math.abs(this.currentY-this.startY);return F<10&&R<10},enumerable:!1,configurable:!0}),$.prototype.clearListeners=function(){!this.pointerDownEvent||(document.removeEventListener("pointermove",this.tryToStartDrag),this.currentTarget.removeEventListener("pointerup",this.onPointerUp))},$}()},"./src/utils/popup.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"PopupUtils",function(){return G});var G=function(){function se(){}return se.calculatePosition=function($,w,F,R,L,m,T){void 0===T&&(T="flex");var C=$.left,y=$.top;return"flex"===T&&(C="center"==L?($.left+$.right-F)/2:"left"==L?$.left-F:$.right),y="middle"==R?($.top+$.bottom-w)/2:"top"==R?$.top-w:$.bottom,m&&"center"!=L&&"middle"!=R&&("top"==R?y+=$.height:y-=$.height),{left:Math.round(C),top:Math.round(y)}},se.getCorrectedVerticalDimensions=function($,w,F,R){var L;return"top"===R&&(L={height:w,top:$}),$<0?L={height:w+$,top:0}:w+$>F&&(L={height:Math.min(w,F-$-se.bottomIndent),top:$}),L},se.updateHorizontalDimensions=function($,w,F,R,L,m){void 0===L&&(L="flex"),void 0===m&&(m={left:0,right:0}),w+=m.left+m.right;var T=void 0,C=$;return"center"===R&&("fixed"===L?($+w>F&&(T=F-$),C-=m.left):$<0?(C=m.left,T=Math.min(w,F)):w+$>F&&(C=F-w,C=Math.max(C,m.left),T=Math.min(w,F))),"left"===R&&$<0&&(C=m.left,T=Math.min(w,F)),"right"===R&&w+$>F&&(T=F-$),{width:T-m.left-m.right,left:C}},se.updateVerticalPosition=function($,w,F,R,L){var m=w-($.top+(R?$.height:0)),T=w+$.bottom-(R?$.height:0)-L;return m>0&&T<=0&&"top"==F?F="bottom":T>0&&m<=0&&"bottom"==F?F="top":T>0&&m>0&&(F=m<T?"top":"bottom"),F},se.calculatePopupDirection=function($,w){var F;return"center"==w&&"middle"!=$?F=$:"center"!=w&&(F=w),F},se.calculatePointerTarget=function($,w,F,R,L,m,T){void 0===m&&(m=0),void 0===T&&(T=0);var C={};return"center"!=L?(C.top=$.top+$.height/2,C.left=$[L]):"middle"!=R&&(C.top=$[R],C.left=$.left+$.width/2),C.left=Math.round(C.left-F),C.top=Math.round(C.top-w),"left"==L&&(C.left-=m+T),"center"===L&&(C.left-=m),C},se.bottomIndent=16,se}()},"./src/utils/responsivity-manager.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"ResponsivityManager",function(){return $}),x.d(j,"VerticalResponsivityManager",function(){return w});var F,G=x("./src/utils/utils.ts"),se=(F=function(R,L){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,T){m.__proto__=T}||function(m,T){for(var C in T)Object.prototype.hasOwnProperty.call(T,C)&&(m[C]=T[C])})(R,L)},function(R,L){if("function"!=typeof L&&null!==L)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function m(){this.constructor=R}F(R,L),R.prototype=null===L?Object.create(L):(m.prototype=L.prototype,new m)}),$=function(){function F(R,L,m,T,C){var y=this;void 0===T&&(T=null),this.container=R,this.model=L,this.itemsSelector=m,this.dotsItemSize=T,this.delayedUpdateFunction=C,this.resizeObserver=void 0,this.isInitialized=!1,this.minDimensionConst=56,this.separatorSize=17,this.separatorAddConst=1,this.paddingSizeConst=8,this.dotsSizeConst=48,this.recalcMinDimensionConst=!0,this.getComputedStyle=window.getComputedStyle.bind(window),this.model.updateCallback=function(h){h&&(y.isInitialized=!1),setTimeout(function(){y.process()},1)},"undefined"!=typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver(function(h){window.requestAnimationFrame(function(){y.process()})}),this.resizeObserver.observe(this.container.parentElement))}return F.prototype.getDimensions=function(R){return{scroll:R.scrollWidth,offset:R.offsetWidth}},F.prototype.getAvailableSpace=function(){var R=this.getComputedStyle(this.container),L=this.container.offsetWidth;return"border-box"===R.boxSizing&&(L-=parseFloat(R.paddingLeft)+parseFloat(R.paddingRight)),L},F.prototype.calcItemSize=function(R){return R.offsetWidth},F.prototype.calcMinDimension=function(R){var L=this.minDimensionConst;return R.iconSize&&this.recalcMinDimensionConst&&(L=2*R.iconSize+this.paddingSizeConst),R.canShrink?L+(R.needSeparator?this.separatorSize:0):R.maxDimension},F.prototype.getRenderedVisibleActionsCount=function(){var R=this,L=0;return this.container.querySelectorAll(this.itemsSelector).forEach(function(m){R.calcItemSize(m)>0&&L++}),L},F.prototype.calcItemsSizes=function(){var R=this,L=this.model.actions;(this.container.querySelectorAll(this.itemsSelector)||[]).forEach(function(T,C){R.calcActionDimensions(L[C],T)})},F.prototype.calcActionDimensions=function(R,L){R.maxDimension=this.calcItemSize(L),R.minDimension=this.calcMinDimension(R)},Object.defineProperty(F.prototype,"isContainerVisible",{get:function(){return Object(G.isContainerVisible)(this.container)},enumerable:!1,configurable:!0}),F.prototype.process=function(){var R=this;if(this.isContainerVisible&&!this.model.isResponsivenessDisabled){this.isInitialized||this.model.setActionsMode("large");var L=function(){var T,C=R.dotsItemSize;if(!R.dotsItemSize){var y=null===(T=R.container)||void 0===T?void 0:T.querySelector(".sv-dots");C=y&&R.calcItemSize(y)||R.dotsSizeConst}R.model.fit(R.getAvailableSpace(),C)};if(this.isInitialized)L();else{var m=function(){R.calcItemsSizes(),R.isInitialized=!0,L()};this.getRenderedVisibleActionsCount()<this.model.visibleActions.length?this.delayedUpdateFunction?this.delayedUpdateFunction(m):queueMicrotask?queueMicrotask(m):m():m()}}},F.prototype.dispose=function(){this.model.updateCallback=void 0,this.resizeObserver&&this.resizeObserver.disconnect()},F}(),w=function(F){function R(L,m,T,C,y,h){void 0===y&&(y=40);var v=F.call(this,L,m,T,C,h)||this;return v.minDimensionConst=y,v.recalcMinDimensionConst=!1,v}return se(R,F),R.prototype.getDimensions=function(){return{scroll:this.container.scrollHeight,offset:this.container.offsetHeight}},R.prototype.getAvailableSpace=function(){var L=this.getComputedStyle(this.container),m=this.container.offsetHeight;return"border-box"===L.boxSizing&&(m-=parseFloat(L.paddingTop)+parseFloat(L.paddingBottom)),m},R.prototype.calcItemSize=function(L){return L.offsetHeight},R.prototype.calcActionDimensions=function(L,m){L.maxDimension=this.calcItemSize(m),L.minDimension=this.calcItemSize(m)},R}($)},"./src/utils/utils.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"unwrap",function(){return l}),x.d(j,"getRenderedSize",function(){return c}),x.d(j,"getRenderedStyleSize",function(){return b}),x.d(j,"doKey2ClickBlur",function(){return D}),x.d(j,"doKey2ClickUp",function(){return g}),x.d(j,"doKey2ClickDown",function(){return P}),x.d(j,"sanitizeEditableContent",function(){return ae}),x.d(j,"Logger",function(){return je}),x.d(j,"showConfirmDialog",function(){return ft}),x.d(j,"mergeValues",function(){return Pe}),x.d(j,"getElementWidth",function(){return H}),x.d(j,"isContainerVisible",function(){return E}),x.d(j,"classesToSelector",function(){return re}),x.d(j,"compareVersions",function(){return w}),x.d(j,"confirmAction",function(){return F}),x.d(j,"confirmActionAsync",function(){return R}),x.d(j,"detectIEOrEdge",function(){return m}),x.d(j,"detectIEBrowser",function(){return L}),x.d(j,"loadFileFromBase64",function(){return T}),x.d(j,"isMobile",function(){return C}),x.d(j,"isShadowDOM",function(){return y}),x.d(j,"getElement",function(){return h}),x.d(j,"isElementVisible",function(){return v}),x.d(j,"findScrollableParent",function(){return f}),x.d(j,"scrollElementByChildId",function(){return d}),x.d(j,"navigateToUrl",function(){return u}),x.d(j,"wrapUrlForBackgroundImage",function(){return a}),x.d(j,"createSvg",function(){return s}),x.d(j,"getIconNameFromProxy",function(){return o}),x.d(j,"increaseHeightByContent",function(){return A}),x.d(j,"getOriginalEvent",function(){return k}),x.d(j,"preventDefaults",function(){return Z}),x.d(j,"findParentByClassNames",function(){return U}),x.d(j,"getFirstVisibleChild",function(){return B}),x.d(j,"chooseFiles",function(){return gt});var G=x("./src/localizablestring.ts"),se=x("./src/settings.ts"),$=x("./src/surveyStrings.ts");function w(Ze,xt){for(var Ke=/(\.0+)+$/,tt=Ze.replace(Ke,"").split("."),Pt=xt.replace(Ke,"").split("."),Tt=Math.min(tt.length,Pt.length),fn=0;fn<Tt;fn++){var nr=parseInt(tt[fn],10)-parseInt(Pt[fn],10);if(nr)return nr}return tt.length-Pt.length}function F(Ze){return se.settings&&se.settings.confirmActionFunc?se.settings.confirmActionFunc(Ze):confirm(Ze)}function R(Ze,xt,Ke,tt,Pt){var Tt=function(fn){fn?xt():Ke&&Ke()};se.settings&&se.settings.confirmActionAsync&&se.settings.confirmActionAsync(Ze,Tt,void 0,tt,Pt)||Tt(F(Ze))}function L(){if("undefined"==typeof window)return!1;var Ze=window.navigator.userAgent,xt=Ze.indexOf("MSIE "),Ke=Ze.indexOf("Trident/");return xt>-1||Ke>-1}function m(){if("undefined"==typeof window)return!1;if(void 0===m.isIEOrEdge){var Ze=window.navigator.userAgent,xt=Ze.indexOf("MSIE "),Ke=Ze.indexOf("Trident/"),tt=Ze.indexOf("Edge/");m.isIEOrEdge=tt>0||Ke>0||xt>0}return m.isIEOrEdge}function T(Ze,xt){try{for(var Ke=atob(Ze.split(",")[1]),tt=Ze.split(",")[0].split(":")[1].split(";")[0],Pt=new ArrayBuffer(Ke.length),Tt=new Uint8Array(Pt),fn=0;fn<Ke.length;fn++)Tt[fn]=Ke.charCodeAt(fn);var nr=new Blob([Pt],{type:tt});"undefined"!=typeof window&&window.navigator&&window.navigator.msSaveBlob&&window.navigator.msSaveOrOpenBlob(nr,xt)}catch(rr){}}function C(){return"undefined"!=typeof window&&void 0!==window.orientation}var y=function(Ze){return!!Ze&&!(!("host"in Ze)||!Ze.host)},h=function(Ze){return"string"==typeof Ze?se.settings.environment.root.getElementById(Ze):Ze};function v(Ze,xt){if(void 0===xt&&(xt=0),void 0===se.settings.environment)return!1;var Ke=se.settings.environment.root,tt=y(Ke)?Ke.host.clientHeight:Ke.documentElement.clientHeight,Pt=Ze.getBoundingClientRect(),nr=Math.max(tt,window.innerHeight)+xt,_r=Pt.bottom;return Math.max(-xt,Pt.top)<=Math.min(nr,_r)}function f(Ze){var xt=se.settings.environment.root;return Ze?Ze.scrollHeight>Ze.clientHeight&&("scroll"===getComputedStyle(Ze).overflowY||"auto"===getComputedStyle(Ze).overflowY)||Ze.scrollWidth>Ze.clientWidth&&("scroll"===getComputedStyle(Ze).overflowX||"auto"===getComputedStyle(Ze).overflowX)?Ze:f(Ze.parentElement):y(xt)?xt.host:xt.documentElement}function d(Ze){var xt=se.settings.environment;if(xt){var tt=xt.root.getElementById(Ze);if(tt){var Pt=f(tt);Pt&&setTimeout(function(){return Pt.dispatchEvent(new CustomEvent("scroll"))},10)}}}function u(Ze){!Ze||"undefined"==typeof window||!window.location||(window.location.href=Ze)}function a(Ze){return Ze?["url(",Ze,")"].join(""):""}function o(Ze){return Ze&&se.settings.customIcons[Ze]||Ze}function s(Ze,xt,Ke,tt,Pt,Tt){if(Pt){"auto"!==Ze&&(Pt.style.width=(Ze||xt||16)+"px",Pt.style.height=(Ze||Ke||16)+"px");var fn=Pt.childNodes[0],nr=o(tt);fn.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+nr);var rr=Pt.getElementsByTagName("title")[0];if(!Tt)return void(rr&&Pt.removeChild(rr));rr||(rr=document.createElementNS("http://www.w3.org/2000/svg","title"),Pt.appendChild(rr)),rr.textContent=Tt}}function l(Ze){return"function"!=typeof Ze?Ze:Ze()}function c(Ze){if("string"==typeof Ze){if(!isNaN(Number(Ze)))return Number(Ze);if(Ze.includes("px"))return parseFloat(Ze)}if("number"==typeof Ze)return Ze}function b(Ze){if(void 0===c(Ze))return Ze}var M="sv-focused--by-key";function D(Ze){var xt=Ze.target;!xt||!xt.classList||xt.classList.remove(M)}function g(Ze,xt){if(!Ze.target||"true"!==Ze.target.contentEditable){var Ke=Ze.target;if(Ke){var tt=Ze.which||Ze.keyCode;if(9===tt)return void(Ke.classList&&!Ke.classList.contains(M)&&Ke.classList.add(M));if(xt){if(!xt.__keyDownReceived)return;xt.__keyDownReceived=!1}13===tt||32===tt?Ke.click&&Ke.click():(!xt||xt.processEsc)&&27===tt&&Ke.blur&&Ke.blur()}}}function P(Ze,xt){if(void 0===xt&&(xt={processEsc:!0}),xt&&(xt.__keyDownReceived=!0),!Ze.target||"true"!==Ze.target.contentEditable){var Ke=Ze.which||Ze.keyCode,tt=[13,32];xt.processEsc&&tt.push(27),-1!==tt.indexOf(Ke)&&Ze.preventDefault()}}function A(Ze,xt){if(Ze){xt||(xt=function(tt){return window.getComputedStyle(tt)});var Ke=xt(Ze);Ze.style.height="auto",Ze.scrollHeight&&(Ze.style.height=Ze.scrollHeight+parseFloat(Ke.borderTopWidth)+parseFloat(Ke.borderBottomWidth)+"px")}}function k(Ze){return Ze.originalEvent||Ze}function Z(Ze){Ze.preventDefault(),Ze.stopPropagation()}function re(Ze){return Ze.replace(/\s*?([\w-]+)\s*?/g,".$1")}function H(Ze){return getComputedStyle?Number.parseFloat(getComputedStyle(Ze).width):Ze.offsetWidth}function E(Ze){return!!(Ze.offsetWidth||Ze.offsetHeight||Ze.getClientRects().length)}function B(Ze){for(var xt,Ke=0;Ke<Ze.children.length;Ke++)!xt&&"none"!==getComputedStyle(Ze.children[Ke]).display&&(xt=Ze.children[Ke]);return xt}function U(Ze,xt){if(Ze)return xt.every(function(Ke){return!Ke||Ze.classList.contains(Ke)})?Ze:U(Ze.parentElement,xt)}function ae(Ze){if(window.getSelection&&document.createRange&&Ze.childNodes.length>0){var xt=document.getSelection();if(0==xt.rangeCount)return;var Ke=xt.getRangeAt(0);Ke.setStart(Ke.endContainer,Ke.endOffset),Ke.setEndAfter(Ze.lastChild),xt.removeAllRanges(),xt.addRange(Ke);var tt=xt.toString().replace(/\n/g,"").length;Ze.innerText=Ze.innerText.replace(/\n/g,""),(Ke=document.createRange()).setStart(Ze.childNodes[0],Ze.innerText.length-tt),Ke.collapse(!0),xt.removeAllRanges(),xt.addRange(Ke)}}function Pe(Ze,xt){if(xt&&Ze&&"object"==typeof xt)for(var Ke in Ze){var tt=Ze[Ke];!Array.isArray(tt)&&tt&&"object"==typeof tt?((!xt[Ke]||"object"!=typeof xt[Ke])&&(xt[Ke]={}),Pe(tt,xt[Ke])):xt[Ke]=tt}}var je=function(){function Ze(){this._result=""}return Ze.prototype.log=function(xt){this._result+="->"+xt},Object.defineProperty(Ze.prototype,"result",{get:function(){return this._result},enumerable:!1,configurable:!0}),Ze}();function ft(Ze,xt,Ke,tt,Pt){var Tt=new G.LocalizableString(void 0),fn=se.settings.showDialog({componentName:"sv-string-viewer",data:{locStr:Tt,locString:Tt,model:Tt},onApply:function(){return xt(!0),!0},onCancel:function(){return xt(!1),!1},title:Ze,displayMode:"popup",isFocusedContent:!1,cssClass:"sv-popup--confirm-delete"},Pt),nr=fn.footerToolbar,rr=nr.getActionById("apply"),_r=nr.getActionById("cancel");return _r.title=$.surveyLocalization.getString("cancel",tt),_r.innerCss="sv-popup__body-footer-item sv-popup__button sd-btn sd-btn--small",rr.title=Ke||$.surveyLocalization.getString("ok",tt),rr.innerCss="sv-popup__body-footer-item sv-popup__button sv-popup__button--danger sd-btn sd-btn--small sd-btn--danger",fn.width="452px",!0}function gt(Ze,xt){!window||!window.FileReader||(Ze.value="",Ze.onchange=function(Ke){if(window.FileReader&&Ze&&Ze.files&&!(Ze.files.length<1)){for(var tt=[],Pt=0;Pt<Ze.files.length;Pt++)tt.push(Ze.files[Pt]);xt(tt)}},Ze.click())}},"./src/validator.ts":function($e,j,x){"use strict";x.r(j),x.d(j,"ValidatorResult",function(){return L}),x.d(j,"SurveyValidator",function(){return m}),x.d(j,"ValidatorRunner",function(){return T}),x.d(j,"NumericValidator",function(){return C}),x.d(j,"TextValidator",function(){return y}),x.d(j,"AnswerCountValidator",function(){return h}),x.d(j,"RegexValidator",function(){return v}),x.d(j,"EmailValidator",function(){return f}),x.d(j,"ExpressionValidator",function(){return d});var u,G=x("./src/base.ts"),se=x("./src/error.ts"),$=x("./src/jsonobject.ts"),w=x("./src/conditions.ts"),F=x("./src/helpers.ts"),R=(u=function(a,o){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])})(a,o)},function(a,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function s(){this.constructor=a}u(a,o),a.prototype=null===o?Object.create(o):(s.prototype=o.prototype,new s)}),L=function u(a,o){void 0===o&&(o=null),this.value=a,this.error=o},m=function(u){function a(){var o=u.call(this)||this;return o.createLocalizableString("text",o,!0),o}return R(a,u),a.prototype.getSurvey=function(o){return void 0===o&&(o=!1),this.errorOwner&&this.errorOwner.getSurvey?this.errorOwner.getSurvey():null},Object.defineProperty(a.prototype,"text",{get:function(){return this.getLocalizableStringText("text")},set:function(o){this.setLocalizableStringText("text",o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isValidateAllValues",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"locText",{get:function(){return this.getLocalizableString("text")},enumerable:!1,configurable:!0}),a.prototype.getErrorText=function(o){return this.text?this.text:this.getDefaultErrorText(o)},a.prototype.getDefaultErrorText=function(o){return""},a.prototype.validate=function(o,s,l,c){return void 0===s&&(s=null),void 0===l&&(l=null),void 0===c&&(c=null),null},Object.defineProperty(a.prototype,"isRunning",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isAsync",{get:function(){return!1},enumerable:!1,configurable:!0}),a.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},a.prototype.getMarkdownHtml=function(o,s){return this.errorOwner?this.errorOwner.getMarkdownHtml(o,s):void 0},a.prototype.getRenderer=function(o){return this.errorOwner?this.errorOwner.getRenderer(o):null},a.prototype.getRendererContext=function(o){return this.errorOwner?this.errorOwner.getRendererContext(o):o},a.prototype.getProcessedText=function(o){return this.errorOwner?this.errorOwner.getProcessedText(o):o},a.prototype.createCustomError=function(o){var s=this,l=new se.CustomError(this.getErrorText(o),this.errorOwner);return l.onUpdateErrorTextCallback=function(c){return c.text=s.getErrorText(o)},l},a.prototype.toString=function(){var o=this.getType().replace("validator","");return this.text&&(o+=", "+this.text),o},a}(G.Base),T=function(){function u(){}return u.prototype.run=function(a){var o=this,s=[],l=null,c=null;this.prepareAsyncValidators();for(var b=[],M=a.getValidators(),D=0;D<M.length;D++){var g=M[D];!l&&g.isValidateAllValues&&(l=a.getDataFilteredValues(),c=a.getDataFilteredProperties()),g.isAsync&&(this.asyncValidators.push(g),g.onAsyncCompleted=function(A){if(!!A&&!!A.error&&b.push(A.error),o.onAsyncCompleted){for(var k=0;k<o.asyncValidators.length;k++)if(o.asyncValidators[k].isRunning)return;o.onAsyncCompleted(b)}})}for(M=a.getValidators(),D=0;D<M.length;D++){var P=(g=M[D]).validate(a.validatedValue,a.getValidatorTitle(),l,c);P&&P.error&&s.push(P.error)}return 0==this.asyncValidators.length&&!!this.onAsyncCompleted&&this.onAsyncCompleted([]),s},u.prototype.prepareAsyncValidators=function(){if(this.asyncValidators)for(var a=0;a<this.asyncValidators.length;a++)this.asyncValidators[a].onAsyncCompleted=null;this.asyncValidators=[]},u}(),C=function(u){function a(o,s){void 0===o&&(o=null),void 0===s&&(s=null);var l=u.call(this)||this;return l.minValue=o,l.maxValue=s,l}return R(a,u),a.prototype.getType=function(){return"numericvalidator"},a.prototype.validate=function(o,s,l,c){if(void 0===s&&(s=null),void 0===l&&(l=null),void 0===c&&(c=null),this.isValueEmpty(o))return null;if(!F.Helpers.isNumber(o))return new L(null,new se.RequreNumericError(this.text,this.errorOwner));var b=new L(F.Helpers.getNumber(o));return null!==this.minValue&&this.minValue>b.value||null!==this.maxValue&&this.maxValue<b.value?(b.error=this.createCustomError(s),b):"number"==typeof o?null:b},a.prototype.getDefaultErrorText=function(o){var s=o||this.getLocalizationString("value");return null!==this.minValue&&null!==this.maxValue?this.getLocalizationFormatString("numericMinMax",s,this.minValue,this.maxValue):null!==this.minValue?this.getLocalizationFormatString("numericMin",s,this.minValue):this.getLocalizationFormatString("numericMax",s,this.maxValue)},Object.defineProperty(a.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(o){this.setPropertyValue("minValue",o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(o){this.setPropertyValue("maxValue",o)},enumerable:!1,configurable:!0}),a}(m),y=function(u){function a(){return u.call(this)||this}return R(a,u),a.prototype.getType=function(){return"textvalidator"},a.prototype.validate=function(o,s,l,c){return void 0===s&&(s=null),void 0===l&&(l=null),void 0===c&&(c=null),this.isValueEmpty(o)?null:this.allowDigits||/^[A-Za-z\s\.]*$/.test(o)?this.minLength>0&&o.length<this.minLength||this.maxLength>0&&o.length>this.maxLength?new L(null,this.createCustomError(s)):null:new L(null,this.createCustomError(s))},a.prototype.getDefaultErrorText=function(o){return this.minLength>0&&this.maxLength>0?this.getLocalizationFormatString("textMinMaxLength",this.minLength,this.maxLength):this.minLength>0?this.getLocalizationFormatString("textMinLength",this.minLength):this.getLocalizationFormatString("textMaxLength",this.maxLength)},Object.defineProperty(a.prototype,"minLength",{get:function(){return this.getPropertyValue("minLength")},set:function(o){this.setPropertyValue("minLength",o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(o){this.setPropertyValue("maxLength",o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"allowDigits",{get:function(){return this.getPropertyValue("allowDigits")},set:function(o){this.setPropertyValue("allowDigits",o)},enumerable:!1,configurable:!0}),a}(m),h=function(u){function a(o,s){void 0===o&&(o=null),void 0===s&&(s=null);var l=u.call(this)||this;return l.minCount=o,l.maxCount=s,l}return R(a,u),a.prototype.getType=function(){return"answercountvalidator"},a.prototype.validate=function(o,s,l,c){if(void 0===s&&(s=null),void 0===l&&(l=null),void 0===c&&(c=null),null==o||o.constructor!=Array)return null;var b=o.length;return 0==b?null:this.minCount&&b<this.minCount?new L(null,this.createCustomError(this.getLocalizationFormatString("minSelectError",this.minCount))):this.maxCount&&b>this.maxCount?new L(null,this.createCustomError(this.getLocalizationFormatString("maxSelectError",this.maxCount))):null},a.prototype.getDefaultErrorText=function(o){return o},Object.defineProperty(a.prototype,"minCount",{get:function(){return this.getPropertyValue("minCount")},set:function(o){this.setPropertyValue("minCount",o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxCount",{get:function(){return this.getPropertyValue("maxCount")},set:function(o){this.setPropertyValue("maxCount",o)},enumerable:!1,configurable:!0}),a}(m),v=function(u){function a(o){void 0===o&&(o=null);var s=u.call(this)||this;return s.regex=o,s}return R(a,u),a.prototype.getType=function(){return"regexvalidator"},a.prototype.validate=function(o,s,l,c){if(void 0===s&&(s=null),void 0===l&&(l=null),void 0===c&&(c=null),!this.regex||this.isValueEmpty(o))return null;var b=this.createRegExp();if(Array.isArray(o))for(var M=0;M<o.length;M++){var D=this.hasError(b,o[M],s);if(D)return D}return this.hasError(b,o,s)},a.prototype.hasError=function(o,s,l){return o.test(s)?null:new L(s,this.createCustomError(l))},Object.defineProperty(a.prototype,"regex",{get:function(){return this.getPropertyValue("regex")},set:function(o){this.setPropertyValue("regex",o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"insensitive",{get:function(){return this.getPropertyValue("insensitive")},set:function(o){this.setPropertyValue("insensitive",o)},enumerable:!1,configurable:!0}),a.prototype.createRegExp=function(){return new RegExp(this.regex,this.insensitive?"i":"")},a}(m),f=function(u){function a(){var o=u.call(this)||this;return o.re=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()=[\]\.,;:\s@\"]+\.)+[^<>()=[\]\.,;:\s@\"]{2,})$/i,o}return R(a,u),a.prototype.getType=function(){return"emailvalidator"},a.prototype.validate=function(o,s,l,c){return void 0===s&&(s=null),void 0===l&&(l=null),void 0===c&&(c=null),!o||this.re.test(o)?null:new L(o,this.createCustomError(s))},a.prototype.getDefaultErrorText=function(o){return this.getLocalizationString("invalidEmail")},a}(m),d=function(u){function a(o){void 0===o&&(o=null);var s=u.call(this)||this;return s.conditionRunner=null,s.isRunningValue=!1,s.expression=o,s}return R(a,u),a.prototype.getType=function(){return"expressionvalidator"},Object.defineProperty(a.prototype,"isValidateAllValues",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isAsync",{get:function(){return!!this.ensureConditionRunner()&&this.conditionRunner.isAsync},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isRunning",{get:function(){return this.isRunningValue},enumerable:!1,configurable:!0}),a.prototype.validate=function(o,s,l,c){var b=this;if(void 0===s&&(s=null),void 0===l&&(l=null),void 0===c&&(c=null),!this.ensureConditionRunner())return null;this.conditionRunner.onRunComplete=function(D){b.isRunningValue=!1,b.onAsyncCompleted&&b.onAsyncCompleted(b.generateError(D,o,s))},this.isRunningValue=!0;var M=this.conditionRunner.run(l,c);return this.conditionRunner.isAsync?null:(this.isRunningValue=!1,this.generateError(M,o,s))},a.prototype.generateError=function(o,s,l){return o?null:new L(s,this.createCustomError(l))},a.prototype.getDefaultErrorText=function(o){return this.getLocalizationFormatString("invalidExpression",this.expression)},a.prototype.ensureConditionRunner=function(){return this.conditionRunner?(this.conditionRunner.expression=this.expression,!0):!!this.expression&&(this.conditionRunner=new w.ConditionRunner(this.expression),!0)},Object.defineProperty(a.prototype,"expression",{get:function(){return this.getPropertyValue("expression")},set:function(o){this.setPropertyValue("expression",o)},enumerable:!1,configurable:!0}),a}(m);$.Serializer.addClass("surveyvalidator",[{name:"text",serializationProperty:"locText"}]),$.Serializer.addClass("numericvalidator",["minValue:number","maxValue:number"],function(){return new C},"surveyvalidator"),$.Serializer.addClass("textvalidator",[{name:"minLength:number",default:0},{name:"maxLength:number",default:0},{name:"allowDigits:boolean",default:!0}],function(){return new y},"surveyvalidator"),$.Serializer.addClass("answercountvalidator",["minCount:number","maxCount:number"],function(){return new h},"surveyvalidator"),$.Serializer.addClass("regexvalidator",["regex",{name:"insensitive:boolean",visible:!1}],function(){return new v},"surveyvalidator"),$.Serializer.addClass("emailvalidator",[],function(){return new f},"surveyvalidator"),$.Serializer.addClass("expressionvalidator",["expression:condition"],function(){return new d},"surveyvalidator")}})},1838:function(hc,$e,j){var x,G;hc.exports=(x=j(8940),G=j(3583),function(se){var $={};function w(F){if($[F])return $[F].exports;var R=$[F]={i:F,l:!1,exports:{}};return se[F].call(R.exports,R,R.exports,w),R.l=!0,R.exports}return w.m=se,w.c=$,w.i=function(F){return F},w.d=function(F,R,L){w.o(F,R)||Object.defineProperty(F,R,{configurable:!1,enumerable:!0,get:L})},w.n=function(F){var R=F&&F.__esModule?function(){return F.default}:function(){return F};return w.d(R,"a",R),R},w.o=function(F,R){return Object.prototype.hasOwnProperty.call(F,R)},w.p="",w(w.s=13)}([function(se,$,w){"use strict";$.a=function R(v,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function d(){this.constructor=v}F(v,f),v.prototype=null===f?Object.create(f):(d.prototype=f.prototype,new d)},w.d($,"e",function(){return L}),$.b=function C(v,f,d,u){return new(d||(d=Promise))(function(o,s){function l(M){try{b(u.next(M))}catch(D){s(D)}}function c(M){try{b(u.throw(M))}catch(D){s(D)}}function b(M){M.done?o(M.value):function a(o){return o instanceof d?o:new d(function(s){s(o)})}(M.value).then(l,c)}b((u=u.apply(v,f||[])).next())})},$.c=function y(v,f){var u,a,o,s,d={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(b){return function(M){return function c(b){if(u)throw new TypeError("Generator is already executing.");for(;d;)try{if(u=1,a&&(o=2&b[0]?a.return:b[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,b[1])).done)return o;switch(a=0,o&&(b=[2&b[0],o.value]),b[0]){case 0:case 1:o=b;break;case 4:return d.label++,{value:b[1],done:!1};case 5:d.label++,a=b[1],b=[0];continue;case 7:b=d.ops.pop(),d.trys.pop();continue;default:if(!(o=(o=d.trys).length>0&&o[o.length-1])&&(6===b[0]||2===b[0])){d=0;continue}if(3===b[0]&&(!o||b[1]>o[0]&&b[1]<o[3])){d.label=b[1];break}if(6===b[0]&&d.label<o[1]){d.label=o[1],o=b;break}if(o&&d.label<o[2]){d.label=o[2],d.ops.push(b);break}o[2]&&d.ops.pop(),d.trys.pop();continue}b=f.call(v,d)}catch(M){b=[6,M],a=0}finally{u=o=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([b,M])}}},$.d=function h(v,f,d){if(d||2===arguments.length)for(var o,u=0,a=f.length;u<a;u++)(o||!(u in f))&&(o||(o=Array.prototype.slice.call(f,0,u)),o[u]=f[u]);return v.concat(o||Array.prototype.slice.call(f))};var F=function(v,f){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(d[a]=u[a])})(v,f)};var L=function(){return L=Object.assign||function(f){for(var d,u=1,a=arguments.length;u<a;u++)for(var o in d=arguments[u])Object.prototype.hasOwnProperty.call(d,o)&&(f[o]=d[o]);return f},L.apply(this,arguments)}},function(se,$,w){"use strict";var F=w(0),R=w(6),m=(w.n(R),w(13)),T=w(8),C=w(2),y=w(4),h=w(12),v=w(34),f=w(60),d=w(25),u=w(30),a=w(28),o=w(29),s=w(27),l=w(15),c=w(5),b=w(35);w.d($,"a",function(){return M});var M=function(){function D(){}return D.parseWidth=function(g,P,A,k){if(void 0===A&&(A=1),0===g.indexOf("calc"))return P/A;var H,Z=parseFloat(g);switch(g.replace(/[^A-Za-z%]/g,"")||k){case"pt":H=1;break;case"mm":H=72/25.4;break;case"cm":H=72/2.54;break;case"in":H=72;break;case"px":H=.75;break;case"pc":case"em":H=12;break;case"ex":H=6;break;default:H=P/100}return Math.min(Z*H,P)},D.pxToPt=function(g){return"string"==typeof g?(isNaN(Number(g))||(g+="px"),D.parseWidth(g,Number.MAX_VALUE)):72*g/96},D.mergeRects=function(){for(var g=[],P=0;P<arguments.length;P++)g[P]=arguments[P];var A={xLeft:g[0].xLeft,xRight:g[0].xRight,yTop:g[0].yTop,yBot:g[0].yBot};return g.forEach(function(k){A.xLeft=Math.min(A.xLeft,k.xLeft),A.xRight=Math.max(A.xRight,k.xRight),A.yTop=Math.min(A.yTop,k.yTop),A.yBot=Math.max(A.yBot,k.yBot)}),A},D.createPoint=function(g,P,A){return void 0===P&&(P=!0),void 0===A&&(A=!1),{xLeft:P?g.xLeft:g.xRight,yTop:A?g.yTop:g.yBot}},D.createRect=function(g,P,A){return{xLeft:g.xLeft,xRight:g.xLeft+P,yTop:g.yTop,yBot:g.yTop+A}},D.createHeaderRect=function(g){return{xLeft:0,xRight:g.paperWidth,yTop:0,yBot:g.margins.top}},D.createFooterRect=function(g){return{xLeft:0,xRight:g.paperWidth,yTop:g.paperHeight-g.margins.bot,yBot:g.paperHeight}},D.chooseHtmlFont=function(g){return g.useCustomFontInHtml?g.fontName:this.STANDARD_FONT},D.generateCssTextRule=function(g,P,A){return'"font-size: '.concat(g,"pt; font-weight: ").concat(P,"; font-family: ").concat(A,"; color: ").concat(this.TEXT_COLOR,';"')},D.createHtmlContainerBlock=function(g,P,A){var k=this.chooseHtmlFont(P);return'<div class="__surveypdf_html" style='.concat(this.generateCssTextRule(P.fontSize,P.fontStyle,k),">")+"<style>.__surveypdf_html p { margin: 0; line-height: ".concat(P.fontSize,"pt } body { margin: 0; }</style>").concat(g,"</div>")},D.splitHtmlRect=function(g,P){var A=[],k=P.height,Z=g.doc.getFontSize();P.yBot=P.yTop+Z;var re=Math.floor(k/Z)-1;A.push(P);for(var H=this.createPoint(P),E=0;E<re;E++)A.push(new s.a(this.createRect(H,P.width,Z))),H.yTop+=Z;var B=k-(re+1)*Z;return B>0&&A.push(new s.a(this.createRect(H,P.width,B))),new(c.a.bind.apply(c.a,w.i(F.d)([void 0],A,!1)))},D.createPlainTextFlat=function(g,P,A,k,Z){var re=this,H=A.doc.splitTextToSize(k,A.paperWidth-A.margins.right-g.xLeft),E=this.clone(g),B=new c.a;return H.forEach(function(U){var ae=A.measureText(U);B.addBrick(new Z(P,A,re.createRect(E,ae.width,ae.height),U)),E.yTop+=ae.height}),B},D.createTextFlat=function(g,P,A,k,Z){return w.i(F.b)(this,void 0,void 0,function(){var re,H;return w.i(F.c)(this,function(E){switch(E.label){case 0:return"string"!=typeof k&&this.hasHtml(k)?[3,1]:[2,this.createPlainTextFlat(g,P,A,"string"==typeof k?k:this.getLocString(k),Z)];case 1:return re=this.splitHtmlRect,H=[A],[4,this.createHTMLFlat(g,P,A,this.createHtmlContainerBlock(this.getLocString(k),A,"standard"))];case 2:return[2,re.apply(this,H.concat([E.sent()]))]}})})},D.hasHtml=function(g){var P=/<\/?[a-z][\s\S]*>/i;return g.hasHtml&&(P.test(g.renderedText)||P.test(g.renderedHtml))},D.getHtmlMargins=function(g,P){var A=g.paperWidth-P.xLeft-g.margins.right;return{top:g.margins.top,bottom:g.margins.bot,width:A>g.unitWidth?A:g.unitWidth}},D.createHTMLRect=function(g,P,A,k){var Z=P.paperHeight-P.margins.bot-P.margins.top,re=(P.helperDoc.getNumberOfPages()-1)*(P.fontSize*Math.floor(Z/P.fontSize))+k-A.top+D.HTML_TAIL_TEXT_SCALE*P.fontSize,H=P.helperDoc.getNumberOfPages();P.helperDoc.addPage();for(var E=0;E<H;E++)P.helperDoc.deletePage(1);return D.createRect(g,A.width,re)},D.createHTMLFlat=function(g,P,A,k){return w.i(F.b)(this,void 0,void 0,function(){var Z;return w.i(F.c)(this,function(re){switch(re.label){case 0:return Z=this.getHtmlMargins(A,g),[4,new Promise(function(H){A.helperDoc.fromHTML(k,g.xLeft,Z.top,{pagesplit:!0,width:Z.width},function(E){var B=D.createHTMLRect(g,A,Z,E.y);H(new a.a(P,A,B,k))},Z)})];case 1:return[2,re.sent()]}})})},D.generateFontFace=function(g,P,A){return"@font-face { font-family: ".concat(g,"; ")+"src: url(data:application/font-woff;charset=utf-8;base64,".concat(P,") format('woff'); ")+"font-weight: ".concat(A,"; }")},D.generateFontFaceWithItalicStyle=function(g,P,A){return"@font-face { font-family: ".concat(g,"; ")+"src: url(data:application/font-woff;charset=utf-8;base64,".concat(P,") format('woff'); ")+"font-weight: ".concat(A,"; font-style: italic}")},D.htmlToXml=function(g){var P=document.implementation.createHTMLDocument("");return P.write(g.replace(/\#/g,"%23")),P.documentElement.setAttribute("xmlns",P.documentElement.namespaceURI),P.body.style.margin="unset",(new XMLSerializer).serializeToString(P.body).replace(/%23/g,"#")},D.createSvgContent=function(g,P,A){var k=this,Z=document.createElement("style");Z.innerHTML=".__surveypdf_html p { margin: unset; line-height: 22px; } body { margin: unset; }",document.body.appendChild(Z);var re=document.createElement("div");re.className="__surveypdf_html",re.style.display="block",re.style.position="fixed",re.style.top="-10000px",re.style.left="-10000px",re.style.width=P/72*96+"px",re.style.boxSizing="initial",re.style.color="initial",re.style.fontFamily="initial",re.style.font="initial",re.style.lineHeight="initial",re.insertAdjacentHTML("beforeend",g),document.body.appendChild(re);var H=re.offsetWidth,E=re.offsetHeight;re.remove(),Z.remove();var B="";return A.useCustomFontInHtml?B="<defs><style>".concat(this.generateFontFace(A.fontName,A.base64Normal,"normal"))+" ".concat(this.generateFontFace(A.fontName,A.base64Bold,"bold"),"</style></defs>"):Object.keys(T.b.customFonts).forEach(function(ae){var Pe=T.b.customFonts[ae];Object.keys(Pe).forEach(function(je){B+="".concat("normal"===je||"bold"===je?k.generateFontFace(ae,Pe[je],je):k.generateFontFaceWithItalicStyle(ae,Pe[je],"italic"===je?"normal":"bold"))}),B="<defs><style>"+B+"</style></defs>"}),{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(H,'px" height="').concat(E,'px">')+B+"<style>.__surveypdf_html p { margin: unset; line-height: 22px; }</style>"+'<foreignObject width="'.concat(H,'px" height="').concat(E,'px">')+this.htmlToXml(g)+"</foreignObject></svg>",divWidth:H,divHeight:E}},D.setCanvas=function(g,P,A,k){g.width=P*D.HTML_TO_IMAGE_QUALITY,g.height=A*D.HTML_TO_IMAGE_QUALITY;var Z=g.getContext("2d");Z.scale(D.HTML_TO_IMAGE_QUALITY,D.HTML_TO_IMAGE_QUALITY),Z.fillStyle=D.BACKGROUND_COLOR,Z.fillRect(0,0,P,A),Z.drawImage(k,0,0)},D.htmlToImage=function(g,P,A){return w.i(F.b)(this,void 0,void 0,function(){var k,re,H,E,B;return w.i(F.c)(this,function(U){return k=D.createSvgContent(g,P,A),re=k.divWidth,H=k.divHeight,E="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(k.svg))),(B=new Image).crossOrigin="anonymous",B.src=E,[2,new Promise(function(ae){B.onload=function(){var Pe=document.createElement("canvas");D.setCanvas(Pe,re,H,B);var je=Pe.toDataURL("image/jpeg",D.HTML_TO_IMAGE_QUALITY);Pe.remove(),ae({url:je,aspect:re/H})},B.onerror=function(){ae({url:"data:,",aspect:P/this.EPSILON})}})]})})},D.createBoldTextFlat=function(g,P,A,k){return w.i(F.b)(this,void 0,void 0,function(){var Z;return w.i(F.c)(this,function(re){switch(re.label){case 0:return A.fontStyle="bold",[4,this.createTextFlat(g,P,A,k,h.a)];case 1:return Z=re.sent(),A.fontStyle="normal",[2,Z]}})})},D.createTitleFlat=function(g,P,A){return w.i(F.b)(this,void 0,void 0,function(){var k,Z,re,H,E,B,U,ae,Pe,je,ft;return w.i(F.c)(this,function(gt){switch(gt.label){case 0:return k=new c.a,Z=this.clone(g),re=A.fontSize,A.fontSize*=this.TITLE_FONT_SCALE,P.no?(H=P.no+" ",E=void 0,this.hasHtml(P.locTitle)?(A.fontStyle="bold",A.pushMargins(),A.margins.right=A.paperWidth-A.margins.left-A.measureText(H,"bold").width,[4,this.createHTMLFlat(Z,P,A,this.createHtmlContainerBlock(H,A,"standard"))]):[3,2]):[3,5];case 1:return E=gt.sent(),A.popMargins(),A.fontStyle="normal",[3,4];case 2:return[4,this.createBoldTextFlat(Z,P,A,H)];case 3:E=gt.sent(),gt.label=4;case 4:k.addBrick(E),Z.xLeft=E.xRight,gt.label=5;case 5:return A.pushMargins(),A.margins.left=Z.xLeft,[4,this.createBoldTextFlat(Z,P,A,P.locTitle)];case 6:return B=gt.sent(),k.addBrick(B),A.popMargins(),P.isRequired?(U=P.requiredText,this.hasHtml(P.locTitle)?(Z=this.createPoint(B.unfold()[0],!1,!1),A.fontStyle="bold",A.pushMargins(),A.margins.right=A.paperWidth-A.margins.left-A.measureText(U,"bold").width,Pe=(ae=k).addBrick,[4,this.createHTMLFlat(Z,P,A,this.createHtmlContainerBlock(U,A,"standard"))]):[3,8]):[3,10];case 7:return Pe.apply(ae,[gt.sent()]),A.popMargins(),A.fontStyle="normal",[3,10];case 8:return Z=this.createPoint(B.unfold().pop(),!1,!0),ft=(je=k).addBrick,[4,this.createBoldTextFlat(Z,P,A,U)];case 9:ft.apply(je,[gt.sent()]),gt.label=10;case 10:return A.fontSize=re,[2,k]}})})},D.createTitleSurveyPanelFlat=function(g,P,A,k){return w.i(F.b)(this,void 0,void 0,function(){var Z,re;return w.i(F.c)(this,function(H){switch(H.label){case 0:return P.fontSize=(Z=P.fontSize)*k,P.fontStyle="bold",[4,this.createTextFlat(g,null,P,A,v.a)];case 1:return re=H.sent(),P.fontStyle="normal",P.fontSize=Z,[2,re]}})})},D.createTitleSurveyFlat=function(g,P,A){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(k){switch(k.label){case 0:return[4,this.createTitleSurveyPanelFlat(g,P,A,this.TITLE_SURVEY_FONT_SIZE_SCALE)];case 1:return[2,k.sent()]}})})},D.createTitlePanelFlat=function(g,P,A,k){return void 0===k&&(k=!1),w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(Z){switch(Z.label){case 0:return[4,this.createTitleSurveyPanelFlat(g,P,A,k?this.TITLE_PAGE_FONT_SIZE_SCALE:this.TITLE_PANEL_FONT_SIZE_SCALE)];case 1:return[2,Z.sent()]}})})},D.createDescFlat=function(g,P,A,k){return w.i(F.b)(this,void 0,void 0,function(){var Z,re;return w.i(F.c)(this,function(H){switch(H.label){case 0:return A.fontSize=(Z=A.fontSize)*this.DESCRIPTION_FONT_SIZE_SCALE,[4,this.createTextFlat(g,P,A,k,f.a)];case 1:return re=H.sent(),A.fontSize=Z,[2,re]}})})},D.getReadonlyRenderAs=function(g,P){return"auto"===g.readonlyRenderAs?P.readonlyRenderAs:g.readonlyRenderAs},D.createCommentFlat=function(g,P,A,k,Z){var re,H,E;return void 0===Z&&(Z={}),w.i(F.b)(this,void 0,void 0,function(){var B,U,ae,Pe,je;return w.i(F.c)(this,function(ft){switch(ft.label){case 0:return B=this.createTextFieldRect(g,A,null!==(re=Z.rows)&&void 0!==re?re:1),(null!==(H=Z.readOnly)&&void 0!==H?H:D.shouldRenderReadOnly(P,A))?(ae=null!==(E=Z.value)&&void 0!==E?E:this.getQuestionOrCommentValue(P,k),[4,this.createReadOnlyTextFieldTextFlat(g,A,P,ae)]):[3,2];case 1:(U=ft.sent()).yBot+(Pe=A.unitHeight*this.VALUE_READONLY_PADDING_SCALE)>B.yBot&&(B.yBot=U.yBot+Pe),ft.label=2;case 2:return je=new d.a(P,A,B,k,Z.index),null!=Z.readOnly&&(je.isReadOnly=Z.readOnly),je.textBrick=U,[2,je]}})})},D.getQuestionOrCommentValue=function(g,P){return void 0===P&&(P=!0),P?null!=g.value?g.value:"":null!=g.comment?g.comment:""},D.getQuestionOrCommentDisplayValue=function(g,P){return void 0===P&&(P=!0),P?g.displayValue:D.getQuestionOrCommentValue(g,P)},D.getImageBase64=function(g){return w.i(F.b)(this,void 0,void 0,function(){var P;return w.i(F.c)(this,function(A){return(P=new Image).crossOrigin="anonymous",[2,new Promise(function(k){P.onload=function(){var Z=document.createElement("canvas"),re=Z.getContext("2d");Z.height=P.naturalHeight,Z.width=P.naturalWidth,re.drawImage(P,0,0);var H=Z.toDataURL();k(H)},P.onerror=function(){k("")},P.src=g})]})})},D.getImageLink=function(g,P,A){return w.i(F.b)(this,void 0,void 0,function(){var k,Z,re,H;return w.i(F.c)(this,function(E){switch(E.label){case 0:return k=96/72,this.shouldConvertImageToPng?[4,D.getImageBase64(P.link)]:[3,2];case 1:return re=E.sent(),[3,3];case 2:re=P.link,E.label=3;case 3:return Z=re,"function"==typeof XMLSerializer&&A?(H="<div style='overflow: hidden; width: ".concat(P.width*k,"px; height: ").concat(P.height*k,"px;'>\n                   <img src='").concat(Z,"' style='object-fit: ").concat(P.objectFit,"; width: 100%; height: 100%;'/>\n               </div>"),[4,D.htmlToImage(H,P.width,g)]):[3,5];case 4:Z=E.sent().url,E.label=5;case 5:return[2,Z]}})})},D.createImageFlat=function(g,P,A,k,Z){return w.i(F.b)(this,void 0,void 0,function(){var re,H,E;return w.i(F.c)(this,function(B){switch(B.label){case 0:return D.inBrowser?(k.objectFit=P&&P.imageFit?P.imageFit:k.objectFit||"contain",(null!=Z?Z:A.applyImageFit)&&k.width>A.paperWidth-A.margins.left-A.margins.right&&(k.height*=(re=A.paperWidth-A.margins.left-A.margins.right)/k.width,k.width=re),E="<img src='".concat,[4,D.getImageLink(A,k,null!=Z?Z:A.applyImageFit)]):[3,2];case 1:return H=E.apply("<img src='",[B.sent(),"' width='"]).concat(k.width,"' height='").concat(k.height,"'/>"),[2,new a.a(P,A,this.createRect(g,k.width,k.height),H,!0)];case 2:return[2,new o.a(P,A,k.link,g,k.width,k.height)]}})})},D.canPreviewImage=function(g,P,A){return g.canPreviewImage(P)},D.getImageSize=function(g){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(P){switch(P.label){case 0:return D.inBrowser?[3,2]:[4,new Promise(function(A){return A({width:void 0,height:void 0})})];case 1:case 3:return[2,P.sent()];case 2:return[4,new Promise(function(A){var k=new Image;k.src=g,k.onload=function(){return A({width:k.width,height:k.height})},k.onerror=function(){return A(null)}})]}})})},D.createRowlineFlat=function(g,P,A,k){var Z=void 0===A?P.paperWidth-P.margins.right:g.xLeft+A;return new l.a(P,{xLeft:g.xLeft,xRight:Z=Z>g.xLeft?Z:g.xLeft+this.EPSILON,yTop:g.yTop+this.EPSILON,yBot:g.yTop+this.EPSILON},void 0===k?null:k)},D.createLinkFlat=function(g,P,A,k,Z){return w.i(F.b)(this,void 0,void 0,function(){var re,H,E=this;return w.i(F.c)(this,function(B){switch(B.label){case 0:return[4,this.createTextFlat(g,P,A,k,y.a)];case 1:return re=B.sent(),H=new c.a,re.unfold().forEach(function(U){H.addBrick(new u.a(U,Z));var ae=E.createPoint(H);H.addBrick(E.createRowlineFlat(ae,A,H.width,u.a.COLOR))}),[2,H]}})})},D.createAcroformRect=function(g){return[g.xLeft,g.yTop,g.xRight-g.xLeft,g.yBot-g.yTop]},D.createTextFieldRect=function(g,P,A){void 0===A&&(A=1);var k=P.paperWidth-g.xLeft-P.margins.right;return k=Math.max(k,P.unitWidth),this.createRect(g,k,P.unitHeight*A)},D.createReadOnlyTextFieldTextFlat=function(g,P,A,k){return w.i(F.b)(this,void 0,void 0,function(){var Z,re;return w.i(F.c)(this,function(H){switch(H.label){case 0:return g.yTop+=Z=P.unitWidth*this.VALUE_READONLY_PADDING_SCALE,g.xLeft+=Z,P.pushMargins(g.xLeft,P.margins.right+Z),[4,this.createTextFlat(g,A,P,k.toString(),y.a)];case 1:return re=H.sent(),P.popMargins(),[2,re]}})})},D.renderFlatBorders=function(g,P){var A,k;if(this.FORM_BORDER_VISIBLE){var Z=Math.min(P.width,P.height),re=g.unitHeight*this.VISIBLE_BORDER_SCALE*this.BORDER_SCALE,H=this.formScale(g,P)+re/Z,E=g.unitHeight*this.UNVISIBLE_BORDER_SCALE*this.BORDER_SCALE,B=1-E/Z,U=this.RADIUS_SCALE*E,ae=g.doc.getDrawColor();g.doc.setDrawColor(P.formBorderColor),g.doc.setLineWidth(re),(A=g.doc).rect.apply(A,this.createAcroformRect(this.scaleRect(P,H))),g.doc.setDrawColor(this.BACKGROUND_COLOR),g.doc.setLineWidth(E),(k=g.doc).roundedRect.apply(k,w.i(F.d)(w.i(F.d)([],this.createAcroformRect(this.scaleRect(P,B)),!1),[U,U],!1)),g.doc.setDrawColor(ae)}},D.getLocString=function(g){return this.hasHtml(g)?g.renderedHtml:g.renderedText||g.renderedHtml},D.getDropdownQuestionValue=function(g){return g.isOtherSelected?g.otherText:g.displayValue?g.displayValue:g.showOptionsCaption?g.optionsCaption:""},D.getContentQuestion=function(g){return g.contentQuestion?g.contentQuestion:g},D.getContentQuestionTypeRenderAs=function(g,P){var A=g.renderAs;if("boolean"===g.getType()&&P.options.useLegacyBooleanRendering&&(A="checkbox"),"default"!==A){var k="".concat(g.getType(),"-").concat(A);if(C.a.getInstance().isTypeRegistered(k))return k}return g.getType()},D.getContentQuestionType=function(g,P){return g.customWidget?g.customWidget.pdfQuestionType:g.contentQuestion?"custom_model":this.getContentQuestionTypeRenderAs(g,P)},D.getRatingMinWidth=function(g){return g.measureText(this.RATING_MIN_WIDTH).width},D.getRatingItemText=function(g,P,A){var k=new R.LocalizableString(A.owner,A.useMarkdown);return k.text=this.getLocString(A),0===P&&g.minRateDescription?k.text=g.locMinRateDescription.text+" "+this.getLocString(A):P===g.visibleRateValues.length-1&&g.maxRateDescription&&(k.text=this.getLocString(A)+" "+g.locMaxRateDescription.text),k},D.getPageAvailableWidth=function(g){return g.paperWidth-g.margins.left-g.margins.right},D.getImagePickerAvailableWidth=function(g){var P=this.getPageAvailableWidth(g)-(this.IMAGEPICKER_COUNT-1)*g.unitHeight;return P>0?P:g.unitHeight},D.getColumnWidth=function(g,P){return(this.getPageAvailableWidth(g)-(P-1)*g.unitWidth*this.GAP_BETWEEN_COLUMNS)/P},D.setColumnMargins=function(g,P,A){var k=this.getColumnWidth(g,P);g.margins.left=g.margins.left+A*(k+g.unitWidth*this.GAP_BETWEEN_COLUMNS),g.margins.right=g.margins.right+(P-A-1)*(k+g.unitWidth*this.GAP_BETWEEN_COLUMNS)},D.moveRect=function(g,P,A){return void 0===P&&(P=g.xLeft),void 0===A&&(A=g.yTop),{xLeft:P,yTop:A,xRight:P+g.xRight-g.xLeft,yBot:A+g.yBot-g.yTop}},D.scaleRect=function(g,P){var A=g.xRight-g.xLeft,k=g.yBot-g.yTop,Z=(A<k?A:k)*(1-P)/2;return{xLeft:g.xLeft+Z,yTop:g.yTop+Z,xRight:g.xRight-Z,yBot:g.yBot-Z}},D.formScale=function(g,P){var A=Math.min(P.width,P.height);return(A-2*g.unitWidth*this.BORDER_SCALE)/A},D.generateQuestionFlats=function(g,P,A,k){return w.i(F.b)(this,void 0,void 0,function(){var Z,H,E;return w.i(F.c)(this,function(B){switch(B.label){case 0:return Z=this.getContentQuestionType(A,g),[4,C.a.getInstance().create(g,A,P,Z).generateFlats(k)];case 1:return H=B.sent(),E=new b.c(k,H,A,P,C.a.getInstance(),m),A.customWidget&&A.customWidget.isFit(A)&&A.customWidget.pdfRender&&g.onRenderQuestion.unshift(A.customWidget.pdfRender),[4,g.onRenderQuestion.fire(g,E)];case 2:return B.sent(),[2,w.i(F.d)([],E.bricks,!0)]}})})},D.isFontExist=function(g,P){return g.doc.internal.getFont(P).fontName===P},D.isCustomFont=function(g,P){return g.doc.internal.getFont(P).encoding===this.CUSTOM_FONT_ENCODING},D.fixFont=function(g){this.isCustomFont(g,g.fontName)&&(g.doc.text("load font",0,0),g.doc.deletePage(1),g.addPage())},D.clone=function(g){var P={};for(var A in g)g.hasOwnProperty(A)&&(P[A]=g[A]);return P},D.shouldRenderReadOnly=function(g,P,A){return(!!g&&g.isReadOnly||A)&&"acroform"!==D.getReadonlyRenderAs(g,P)||(null==P?void 0:P.compress)},D.isSizeEmpty=function(g){return!g||"auto"===g},D.isHeightEmpty=function(g){return this.isSizeEmpty(g)||"100%"==g},D.getCorrectedImageSize=function(g,P){return w.i(F.b)(this,void 0,void 0,function(){var A,k,Z,re,H,E;return w.i(F.c)(this,function(B){switch(B.label){case 0:return k=P.imageLink,Z=P.imageHeight,A="number"==typeof(A=P.imageWidth)?A.toString():A,Z="number"==typeof Z?Z.toString():Z,re=A&&D.parseWidth(A,D.getPageAvailableWidth(g),1,"px"),H=Z&&D.parseWidth(Z,D.getPageAvailableWidth(g),1,"px"),D.isSizeEmpty(A)||D.isHeightEmpty(Z)?[4,D.getImageSize(k)]:[3,2];case 1:E=B.sent(),D.isSizeEmpty(A)?D.isHeightEmpty(Z)?E&&E.height&&E.width&&(H=D.parseWidth(E.height.toString(),D.getPageAvailableWidth(g),1,"px"),re=D.parseWidth(E.width.toString(),D.getPageAvailableWidth(g),1,"px")):E&&E.height&&(re=E.width*H/E.height):E&&E.width&&(H=E.height*re/E.width),B.label=2;case 2:return[2,{width:re||0,height:H||0}]}})})},D.EPSILON=2220446049250313e-30,D.TITLE_SURVEY_FONT_SIZE_SCALE=1.7,D.TITLE_PAGE_FONT_SIZE_SCALE=1.3,D.TITLE_PANEL_FONT_SIZE_SCALE=1.3,D.DESCRIPTION_FONT_SIZE_SCALE=2/3,D.OTHER_ROWS_COUNT=2,D.RATING_MIN_WIDTH=3,D.RATING_MIN_HEIGHT=2,D.RATING_COLUMN_WIDTH=5,D.MATRIX_COLUMN_WIDTH=5,D.IMAGEPICKER_COUNT=4,D.IMAGEPICKER_RATIO=4/3,D.MULTIPLETEXT_TEXT_PERS=Math.E/10,D.HTML_TAIL_TEXT_SCALE=.24,D.SELECT_ITEM_FLAT_SCALE=.95,D.GAP_BETWEEN_ROWS=.25,D.GAP_BETWEEN_COLUMNS=1.5,D.GAP_BETWEEN_ITEM_TEXT=.25,D.FORM_BORDER_VISIBLE=!0,D.BORDER_SCALE=.1,D.VISIBLE_BORDER_SCALE=.8,D.UNVISIBLE_BORDER_SCALE=.2,D.RADIUS_SCALE=3,D.TITLE_FONT_SCALE=1.1,D.VALUE_READONLY_PADDING_SCALE=.3,D.HTML_TO_IMAGE_QUALITY=1,D.FORM_BORDER_COLOR="#9f9f9f",D.TEXT_COLOR="#404040",D.BACKGROUND_COLOR="#FFFFFF",D.TITLE_LOCATION_MATRIX="matrix",D.STANDARD_FONT="helvetica",D.CUSTOM_FONT_ENCODING="Identity-H",D.inBrowser="function"==typeof Image,D.shouldConvertImageToPng=!0,D}()},function(se,$,w){"use strict";var F=w(3),R=w(20);w.d($,"a",function(){return L});var L=function(){function m(){this.questions={}}return m.getInstance=function(){return m.instance},m.prototype.register=function(T,C){this.questions[T]=C},m.prototype.isTypeRegistered=function(T){return!!this.questions[T]},m.prototype.getRenderer=function(T){return this.questions[T]},m.prototype.create=function(T,C,y,h){var v,f=void 0===h?C.getType():h,d=this.getRenderer(f);return d||(d=(null===(v=C.customWidget)||void 0===v?void 0:v.pdfRender)?F.a:R.a),new d(T,C,y)},m.register=function(T,C){this.getInstance().register(T,C)},m.getRenderer=function(T){return this.getInstance().getRenderer(T)},m.instance=new m,m}()},function(se,$,w){"use strict";var F=w(0),R=w(6),m=(w.n(R),w(10)),T=w(4),C=w(5),y=w(1);w.d($,"a",function(){return h});var h=function(){function v(f,d,u){this.survey=f,this.controller=u,this.question=d}return v.prototype.generateFlatTitle=function(f){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(d){switch(d.label){case 0:return[4,y.a.createTitleFlat(f,this.question,this.controller)];case 1:return[2,d.sent()]}})})},v.prototype.generateFlatDescription=function(f){return w.i(F.b)(this,void 0,void 0,function(){var d;return w.i(F.c)(this,function(a){switch(a.label){case 0:return(d=y.a.clone(f)).xLeft+=this.controller.unitWidth*v.CONTENT_INDENT_SCALE,d.yTop+=v.DESC_GAP_SCALE*this.controller.unitHeight,[4,y.a.createDescFlat(d,this.question,this.controller,this.question.locDescription)];case 1:return[2,a.sent()]}})})},v.prototype.generateFlatsComment=function(f){return w.i(F.b)(this,void 0,void 0,function(){var u,a,o,s;return w.i(F.c)(this,function(l){switch(l.label){case 0:return[4,y.a.createTextFlat(f,this.question,this.controller,this.question.locCommentText,T.a)];case 1:return u=l.sent(),(a=y.a.createPoint(u)).yTop+=this.controller.unitHeight*y.a.GAP_BETWEEN_ROWS,o=C.a.bind,s=[void 0,u],[4,y.a.createCommentFlat(a,this.question,this.controller,!1,{rows:y.a.OTHER_ROWS_COUNT})];case 2:return[2,new(o.apply(C.a,s.concat([l.sent()])))]}})})},v.prototype.generateFlatsComposite=function(f){return w.i(F.b)(this,void 0,void 0,function(){var d;return w.i(F.c)(this,function(u){switch(u.label){case 0:return(d=this.question.contentPanel)?[4,m.a.generateFlatsPanel(this.survey,this.controller,d,f)]:[3,2];case 1:case 3:return[2,u.sent()];case 2:return this.question=y.a.getContentQuestion(this.question),[4,this.generateFlatsContent(f)]}})})},v.prototype.generateFlatsContent=function(f){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(d){return[2,null]})})},v.prototype.generateFlats=function(f){return w.i(F.b)(this,void 0,void 0,function(){var d,u,a,o,s,c,b,M,D,g,P,A,k,Z,re,H,E,B;return w.i(F.c)(this,function(U){switch(U.label){case 0:switch(this.controller.pushMargins(),this.controller.margins.left+=this.controller.measureText(this.question.indent).width,d={xLeft:f.xLeft+this.controller.measureText(this.question.indent).width,yTop:f.yTop},u=[],a=d,o=this.question.getTitleLocation(),o=this.question.hasTitle?o:"hidden",s=!!y.a.getLocString(this.question.locDescription),o){case"top":case"default":return[3,1];case"bottom":return[3,7];case"left":return[3,14];case"hidden":case y.a.TITLE_LOCATION_MATRIX:return[3,19]}return[3,19];case 1:return[4,this.generateFlatTitle(d)];case 2:return D=U.sent(),g=new C.a(D),k=y.a.createPoint(g),s?[4,this.generateFlatDescription(y.a.createPoint(D))]:[3,4];case 3:return P=U.sent(),g.addBrick(P),k=y.a.createPoint(P),[3,5];case 4:k.xLeft+=this.controller.unitWidth*v.CONTENT_INDENT_SCALE,U.label=5;case 5:return g.addBrick(y.a.createRowlineFlat(y.a.createPoint(g),this.controller)),k.yTop+=this.controller.unitHeight*v.CONTENT_GAP_VERT_SCALE+y.a.EPSILON,a=k,this.controller.pushMargins(),this.controller.margins.left+=this.controller.unitWidth*v.CONTENT_INDENT_SCALE,[4,this.generateFlatsComposite(k)];case 6:return A=U.sent(),this.controller.popMargins(),null!==A&&0!==A.length&&(a.yTop=y.a.mergeRects.apply(y.a,A).yBot+this.controller.unitHeight*y.a.GAP_BETWEEN_ROWS,g.addBrick(A.shift())),u.push(g),u.push.apply(u,A),[3,21];case 7:return k=y.a.clone(d),this.controller.pushMargins(),k.xLeft+=this.controller.unitWidth*v.CONTENT_INDENT_SCALE,this.controller.margins.left+=this.controller.unitWidth*v.CONTENT_INDENT_SCALE,a=k,[4,this.generateFlatsComposite(k)];case 8:return A=U.sent(),this.controller.popMargins(),u.push.apply(u,A),null!==A&&0!=A.length&&((a=y.a.createPoint(y.a.mergeRects.apply(y.a,A))).yTop+=this.controller.unitHeight*y.a.GAP_BETWEEN_ROWS),this.question.hasComment?(b=(c=u).push,[4,this.generateFlatsComment(a)]):[3,10];case 9:b.apply(c,[U.sent()]),U.label=10;case 10:return M=d,0!==u.length&&(M.yTop=u[u.length-1].yBot),M.yTop+=this.controller.unitHeight*v.CONTENT_GAP_VERT_SCALE,[4,this.generateFlatTitle(M)];case 11:return D=U.sent(),g=new C.a(D),s?[4,this.generateFlatDescription(y.a.createPoint(D))]:[3,13];case 12:P=U.sent(),g.addBrick(P),U.label=13;case 13:return u.push(g),[3,21];case 14:return this.controller.pushMargins(this.controller.margins.left,this.controller.paperWidth-this.controller.margins.left-y.a.getPageAvailableWidth(this.controller)*y.a.MULTIPLETEXT_TEXT_PERS),[4,this.generateFlatTitle(d)];case 15:return D=U.sent(),g=new C.a(D),k=y.a.createPoint(D,!1,!0),s?[4,this.generateFlatDescription(y.a.createPoint(D))]:[3,17];case 16:P=U.sent(),g.addBrick(P),k.xLeft=Math.max(k.xLeft,P.xRight),U.label=17;case 17:return this.controller.popMargins(),k.xLeft+=this.controller.unitWidth*v.CONTENT_GAP_HOR_SCALE,this.controller.margins.left=k.xLeft,a.xLeft=k.xLeft,[4,this.generateFlatsComposite(k)];case 18:return null!==(A=U.sent())&&0!=A.length&&((a=y.a.createPoint(y.a.mergeRects.apply(y.a,A))).yTop+=this.controller.unitHeight*y.a.GAP_BETWEEN_ROWS,g.addBrick(A.shift())),u.push(g),u.push.apply(u,A),[3,21];case 19:return k=y.a.clone(d),this.controller.pushMargins(),o!==y.a.TITLE_LOCATION_MATRIX&&(k.xLeft+=this.controller.unitWidth*v.CONTENT_INDENT_SCALE,this.controller.margins.left+=this.controller.unitWidth*v.CONTENT_INDENT_SCALE),a=k,re=(Z=u.push).apply,H=[u],[4,this.generateFlatsComposite(k)];case 20:return re.apply(Z,H.concat([U.sent()])),this.controller.popMargins(),null!==u&&0!==u.length&&((a=y.a.createPoint(y.a.mergeRects.apply(y.a,u))).yTop+=this.controller.unitHeight*y.a.GAP_BETWEEN_ROWS),[3,21];case 21:return this.question.hasComment&&"bottom"!==this.question.titleLocation?(B=(E=u).push,[4,this.generateFlatsComment(a)]):[3,23];case 22:B.apply(E,[U.sent()]),U.label=23;case 23:return this.controller.popMargins(),[2,u]}})})},Object.defineProperty(v.prototype,"shouldRenderAsComment",{get:function(){return y.a.shouldRenderReadOnly(this.question,this.controller)},enumerable:!1,configurable:!0}),v.CONTENT_GAP_VERT_SCALE=.5,v.CONTENT_GAP_HOR_SCALE=1,v.CONTENT_INDENT_SCALE=1,v.DESC_GAP_SCALE=.0625,v}();R.Serializer.addProperty("question",{name:"readonlyRenderAs",default:"auto",choices:["auto","text","acroform"]})},function(se,$,w){"use strict";var F=w(0),R=w(7);w.d($,"a",function(){return L});var L=function(m){function T(C,y,h,v){var f=m.call(this,C,y,h)||this;return f.text=v,f.align={isInputRtl:!1,isOutputRtl:y.isRTL,align:y.isRTL?"right":"left",baseline:"middle"},f}return w.i(F.a)(T,m),T.prototype.escapeText=function(){for(;this.text.indexOf("\t")>-1;)this.text=this.text.replace("\t",Array(5).join(String.fromCharCode(160)));return this.text},T.prototype.renderInteractive=function(){return w.i(F.b)(this,void 0,void 0,function(){var C,y,h;return w.i(F.c)(this,function(v){return C=this.alignPoint(this),y=this.controller.fontSize,this.controller.fontSize=this.fontSize,h=this.controller.doc.getTextColor(),this.controller.doc.setTextColor(this.textColor),this.controller.doc.text(this.escapeText(),C.xLeft,C.yTop,this.align),this.controller.doc.setTextColor(h),this.controller.fontSize=y,[2]})})},T.prototype.alignPoint=function(C){return{xLeft:this.controller.isRTL?C.xRight:C.xLeft,yTop:C.yTop+(C.yBot-C.yTop)/2}},T}(R.a)},function(se,$,w){"use strict";var F=w(0),R=w(1);w.d($,"a",function(){return L});var L=function(){function m(){for(var T=[],C=0;C<arguments.length;C++)T[C]=arguments[C];this.bricks=[],this.isPageBreak=!1,this._xLeft=0,this._xRight=0,this._yTop=0,this._yBot=0,this.addBrick.apply(this,T)}return Object.defineProperty(m.prototype,"xLeft",{get:function(){return this._xLeft},set:function(T){this.shift(T-this.xLeft,0,0,0),this._xLeft=T},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"xRight",{get:function(){return this._xRight},set:function(T){this.shift(0,T-this.xRight,0,0),this._xRight=T},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"yTop",{get:function(){return this._yTop},set:function(T){this.shift(0,0,T-this.yTop,0),this._yTop=T},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"yBot",{get:function(){return this._yBot},set:function(T){this.shift(0,0,0,T-this.yBot),this._yBot=T},enumerable:!1,configurable:!0}),m.prototype.shift=function(T,C,y,h){this.bricks.forEach(function(v){v.xLeft+=T,v.xRight+=C,v.yTop+=y,v.yBot+=h})},Object.defineProperty(m.prototype,"width",{get:function(){return this.xRight-this.xLeft},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"height",{get:function(){return this.yBot-this.yTop},enumerable:!1,configurable:!0}),m.prototype.render=function(){return w.i(F.b)(this,void 0,void 0,function(){var T;return w.i(F.c)(this,function(C){switch(C.label){case 0:T=0,C.label=1;case 1:return T<this.bricks.length?[4,this.bricks[T].render()]:[3,4];case 2:C.sent(),C.label=3;case 3:return T++,[3,1];case 4:return[2]}})})},Object.defineProperty(m.prototype,"isEmpty",{get:function(){return 0===this.bricks.length},enumerable:!1,configurable:!0}),m.prototype.addBrick=function(){for(var T,C=[],y=0;y<arguments.length;y++)C[y]=arguments[y];if(0!=C.length){(T=this.bricks).push.apply(T,C);var h=R.a.mergeRects.apply(R.a,this.bricks);this._xLeft=h.xLeft,this._xRight=h.xRight,this._yTop=h.yTop,this._yBot=h.yBot}},m.prototype.unfold=function(){var T=[];return this.bricks.forEach(function(C){T.push.apply(T,C.unfold())}),T},m.prototype.translateX=function(T){this.bricks.forEach(function(y){return y.translateX(T)});var C=T(this.xLeft,this.xRight);this._xLeft=C.xLeft,this._xRight=C.xRight},m}()},function(se,$){se.exports=x},function(se,$,w){"use strict";var F=w(0),R=w(8),L=w(1);w.d($,"a",function(){return m});var m=function(){function T(C,y,h){this.question=C,this.controller=y,this.textColor=L.a.TEXT_COLOR,this.formBorderColor=L.a.FORM_BORDER_COLOR,this.isPageBreak=!1,this.xLeft=h.xLeft,this.xRight=h.xRight,this.yTop=h.yTop,this.yBot=h.yBot,this.fontSize=y?y.fontSize:R.b.FONT_SIZE}return Object.defineProperty(T.prototype,"xLeft",{get:function(){return this._xLeft},set:function(C){this.setXLeft(C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"xRight",{get:function(){return this._xRight},set:function(C){this.setXRight(C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"yTop",{get:function(){return this._yTop},set:function(C){this.setYTop(C)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"yBot",{get:function(){return this._yBot},set:function(C){this.setYBottom(C)},enumerable:!1,configurable:!0}),T.prototype.translateX=function(C){var y=C(this.xLeft,this.xRight);this.xLeft=y.xLeft,this.xRight=y.xRight},Object.defineProperty(T.prototype,"width",{get:function(){return this.xRight-this.xLeft},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"height",{get:function(){return this.yBot-this.yTop},enumerable:!1,configurable:!0}),T.prototype.getShouldRenderReadOnly=function(){return L.a.shouldRenderReadOnly(this.question,this.controller)},T.prototype.render=function(){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(C){switch(C.label){case 0:return this.getShouldRenderReadOnly()?[4,this.renderReadOnly()]:[3,2];case 1:return C.sent(),[3,4];case 2:return[4,this.renderInteractive()];case 3:C.sent(),C.label=4;case 4:return[2]}})})},T.prototype.renderInteractive=function(){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(C){return[2]})})},T.prototype.renderReadOnly=function(){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(C){switch(C.label){case 0:return[4,this.renderInteractive()];case 1:return C.sent(),[2]}})})},T.prototype.unfold=function(){return[this]},T.prototype.getCorrectedText=function(C){return this.controller.isRTL?(C||"").split("").reverse().join(""):C},T.prototype.setXLeft=function(C){this._xLeft=C},T.prototype.setXRight=function(C){this._xRight=C},T.prototype.setYTop=function(C){this._yTop=C},T.prototype.setYBottom=function(C){this._yBot=C},T}()},function(se,$,w){"use strict";var F=w(0),R=w(17),m=(w.n(R),w(1)),T=w(58),C=w(62),h=(w.n(C),w(63));w.n(h),w.d($,"a",function(){return f}),w.d($,"b",function(){return d});var f=function(){function u(a){var o=this;this._base64Normal=void 0,this._base64Bold=void 0,this._orientation=void 0===a.orientation?void 0===a.format||a.format[0]<a.format[1]?"p":"l":a.orientation,this._format=a.format||"a4",Array.isArray(this._format)&&(this._format=this._format.map(function(s){return s*u.MM_TO_PT})),this._fontSize=a.fontSize||u.FONT_SIZE,this._fontName=a.fontName?a.fontName:u.SEGOE_BOLD||u.SEGOE_NORMAL?"segoe":m.a.STANDARD_FONT,void 0===a.fontName||void 0===a.base64Normal&&void 0===a.base64Bold?"segoe"===this.fontName&&(this._base64Normal=u.SEGOE_NORMAL,this._base64Bold=u.SEGOE_BOLD):(this._base64Normal=a.base64Normal||a.base64Bold,this._base64Bold=a.base64Bold||a.base64Normal),this._margins=m.a.clone(a.margins),void 0===this._margins&&(this._margins={}),void 0===this._margins.top&&(this._margins.top=10),void 0===this._margins.bot&&(this._margins.bot=10),void 0===this._margins.left&&(this._margins.left=10),void 0===this._margins.right&&(this._margins.right=10),Object.keys(this._margins).forEach(function(s){o._margins[s]=o._margins[s]*u.MM_TO_PT}),this._htmlRenderAs=a.htmlRenderAs||"auto",this._matrixRenderAs=a.matrixRenderAs||"auto",this._readonlyRenderAs=a.readonlyRenderAs||"auto",this._compress=a.compress||!1,this._applyImageFit=a.applyImageFit||!1,this._useLegacyBooleanRendering=a.useLegacyBooleanRendering||!1,this._isRTL=a.isRTL||!1,this._tagboxSelectedChoicesOnly=a.tagboxSelectedChoicesOnly||!1}return Object.defineProperty(u.prototype,"leftTopPoint",{get:function(){return{xLeft:this.margins.left,yTop:this.margins.top}},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontSize",{get:function(){return this._fontSize},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontName",{get:function(){return this._fontName},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"base64Normal",{get:function(){return this._base64Normal},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"base64Bold",{get:function(){return this._base64Bold},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"useCustomFontInHtml",{get:function(){return this._useCustomFontInHtml},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"margins",{get:function(){return this._margins},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"format",{get:function(){return this._format},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"orientation",{get:function(){return this._orientation},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"htmlRenderAs",{get:function(){return this._htmlRenderAs},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"matrixRenderAs",{get:function(){return this._matrixRenderAs},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"readonlyRenderAs",{get:function(){return this._readonlyRenderAs},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"compress",{get:function(){return this._compress},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"applyImageFit",{get:function(){return this._applyImageFit},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"useLegacyBooleanRendering",{get:function(){return this._useLegacyBooleanRendering},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isRTL",{get:function(){return this._isRTL},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"tagboxSelectedChoicesOnly",{get:function(){return this._tagboxSelectedChoicesOnly},enumerable:!1,configurable:!0}),u.MM_TO_PT=72/25.4,u.FONT_SIZE=14,u}(),d=function(u){function a(o){void 0===o&&(o={});var s=u.call(this,o)||this,l={orientation:s.orientation,unit:"pt",format:s.format,compress:s.compress};return s._doc=new R.jsPDF(l),void 0!==s.base64Normal&&!m.a.isFontExist(s,s.fontName)&&(a.addFont(s.fontName,s.base64Normal,"normal"),a.addFont(s.fontName,s.base64Bold,"bold"),s._doc=new R.jsPDF(l)),w.i(T.a)(s._doc),s._useCustomFontInHtml=o.useCustomFontInHtml&&m.a.isFontExist(s,s.fontName),s._helperDoc=new R.jsPDF(l),s._doc.setFont(s.fontName),s._helperDoc.setFont(s.fontName),s._doc.setFontSize(s.fontSize),s._helperDoc.setFontSize(s.fontSize),s._fontStyle="normal",s.marginsStack=[],s}return w.i(F.a)(a,u),a.addFont=function(o,s,l){var c=a.customFonts[o];c||(a.customFonts[o]=c={}),c[l]=s,R.jsPDF.API.events.push(["addFonts",function(){var M=a.customFonts[o];if(M&&M[l]){var D="".concat(o,"-").concat(l,".ttf");this.addFileToVFS(D,M[l]),this.addFont(D,o,l)}}])},Object.defineProperty(a.prototype,"doc",{get:function(){return this._doc},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"helperDoc",{get:function(){return this._helperDoc},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fontName",{get:function(){return this._fontName},set:function(o){this._fontName=o,this._doc.setFont(o),this._helperDoc.setFont(o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fontSize",{get:function(){return this._fontSize},set:function(o){this._fontSize=o,this._doc.setFontSize(o),this._helperDoc.setFontSize(o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(o){this._fontStyle=o,this._doc.setFont(this._fontName,o),this._helperDoc.setFont(this._fontName,o)},enumerable:!1,configurable:!0}),a.prototype.measureText=function(o,s,l){var c=this;void 0===o&&(o=1),void 0===s&&(s=this._fontStyle),void 0===l&&(l=this._fontSize);var b=this._helperDoc.getFontSize();this._helperDoc.setFontSize(l),this._helperDoc.setFont(this._fontName,s);var D,M=this._helperDoc.getLineHeight()/this._helperDoc.internal.scaleFactor;return D="number"==typeof o?M*o:(o="string"==typeof o?o:m.a.getLocString(o)).split("").reduce(function(g,P){return g+c._helperDoc.getTextWidth(P)},0),this._helperDoc.setFontSize(b),this._helperDoc.setFont(this._fontName,"normal"),{width:D,height:M}},Object.defineProperty(a.prototype,"unitWidth",{get:function(){return this.measureText().width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"unitHeight",{get:function(){return this.measureText().height},enumerable:!1,configurable:!0}),a.prototype.pushMargins=function(o,s){this.marginsStack.push({left:this.margins.left,right:this.margins.right}),void 0!==o&&(this.margins.left=o),void 0!==s&&(this.margins.right=s)},a.prototype.popMargins=function(){var o=this.marginsStack.pop();this.margins.left=o.left,this.margins.right=o.right},Object.defineProperty(a.prototype,"paperWidth",{get:function(){return this.doc.internal.pageSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"paperHeight",{get:function(){return this.doc.internal.pageSize.height},enumerable:!1,configurable:!0}),a.prototype.getNumberOfPages=function(){return this.doc.getNumberOfPages()},a.prototype.addPage=function(){this.doc.addPage()},a.prototype.setPage=function(o){this.doc.setPage(o+1)},a.customFonts={},a}(f)},function(se,$,w){"use strict";var F=w(0),R=w(2),L=w(31),m=w(14);w.d($,"a",function(){return T});var T=function(C){function y(h,v,f){var d=C.call(this,h,v,f)||this;return d.survey=h,d.controller=f,d.question=v,d}return w.i(F.a)(y,C),y.prototype.isItemSelected=function(h,v){return void 0===v?h===this.question.otherItem?this.question.isOtherSelected:h.value===this.question.value||void 0!==this.question.isItemSelected&&this.question.isItemSelected(h):v},y.prototype.generateFlatItem=function(h,v,f,d,u,a){void 0===a&&(a={}),0===f?(this.radioGroupWrap=new L.b(this.question.id+(void 0===d?"":d),this.controller,w.i(F.e)({readOnly:this.question.isReadOnly,question:this.question},a)),this.question.pdfRadioGroupWrap=this.radioGroupWrap):void 0===this.radioGroupWrap&&(this.radioGroupWrap=this.question.pdfRadioGroupWrap);var o=this.isItemSelected(v,u);return new L.a(this.controller,h,{question:this.question,index:f,checked:o,item:v},this.radioGroupWrap)},y}(m.a);R.a.getInstance().register("radiogroup",T),R.a.getInstance().register("buttongroup",T)},function(se,$,w){"use strict";var F=w(0),R=w(6),m=(w.n(R),w(5)),T=w(15),C=w(1),y=w(35),h=w(13);w.d($,"a",function(){return v});var v=function(){function f(){}return f.generateFlatsPanel=function(d,u,a,o){return w.i(F.b)(this,void 0,void 0,function(){var s,l,c,b,M,D;return w.i(F.c)(this,function(g){switch(g.label){case 0:return s=[],l=C.a.clone(o),u.pushMargins(),u.margins.left+=u.measureText(a.innerIndent).width,l.xLeft+=u.measureText(a.innerIndent).width,b=(c=s.push).apply,M=[s],[4,this.generateFlatsPagePanel(d,u,a,l)];case 1:return b.apply(c,M.concat([g.sent()])),u.popMargins(),D=new y.a(o,s,a,u,h.FlatRepository.getInstance(),h),[4,d.onRenderPanel.fire(d,D)];case 2:return g.sent(),[2,w.i(F.d)([],D.bricks,!0)]}})})},f.generateFlatsPagePanel=function(d,u,a,o){return w.i(F.b)(this,void 0,void 0,function(){var s,l,c,b,M,D,g,P,A,k,Z,re,H,E,B,U,ae,Pe,je,ft,gt,Ze;return w.i(F.c)(this,function(xt){switch(xt.label){case 0:return a.isVisible?(a.onFirstRendering(),s=[],l=C.a.clone(o),"page"!==a.getType()||d.showPageTitles?(c=new m.a,a.title?a instanceof R.PanelModel&&a.no?[4,C.a.createTitlePanelFlat(l,u,a.no,"page"===a.getType())]:[3,2]:[3,4]):[3,7]):[2];case 1:b=xt.sent(),c.addBrick(b),l.xLeft=b.xRight+u.measureText(" ").width,xt.label=2;case 2:return[4,C.a.createTitlePanelFlat(l,u,a.locTitle,"page"===a.getType())];case 3:M=xt.sent(),c.addBrick(M),l=C.a.createPoint(M),xt.label=4;case 4:return a.description?(a.title&&(l.yTop+=u.unitWidth*f.PANEL_DESC_GAP_SCALE),[4,C.a.createDescFlat(l,null,u,a.locDescription)]):[3,6];case 5:D=xt.sent(),c.addBrick(D),l=C.a.createPoint(D),xt.label=6;case 6:c.isEmpty||(g=C.a.createPoint(c),c.addBrick(C.a.createRowlineFlat(g,u)),s.push(c),l.yTop+=u.unitHeight*f.PANEL_CONT_GAP_SCALE+C.a.EPSILON),xt.label=7;case 7:P=0,A=a.rows,xt.label=8;case 8:if(!(P<A.length))return[3,16];if(!(k=A[P]).visible)return[3,15];u.pushMargins(),Z=C.a.getPageAvailableWidth(u),re=u.margins.left,H=[],E=0,xt.label=9;case 9:return E<k.visibleElements.length?(B=k.visibleElements[E]).isVisible?(U=C.a.parseWidth(B.renderWidth,Z-(k.visibleElements.length-1)*u.unitWidth,k.visibleElements.length),u.margins.left=re+(0!==E?u.unitWidth:0),u.margins.right=u.paperWidth-u.margins.left-U,l.xLeft=u.margins.left,re=u.margins.left+U,B instanceof R.PanelModel?(Pe=(ae=H.push).apply,je=[H],[4,this.generateFlatsPanel(d,u,B,l)]):[3,11]):[3,13]:[3,14];case 10:return Pe.apply(ae,je.concat([xt.sent()])),[3,13];case 11:return gt=(ft=H.push).apply,Ze=[H],[4,C.a.generateQuestionFlats(d,u,B,l)];case 12:gt.apply(ft,Ze.concat([xt.sent()])),xt.label=13;case 13:return E++,[3,9];case 14:u.popMargins(),l.xLeft=u.margins.left,0!==H.length&&(l.yTop=C.a.mergeRects.apply(C.a,H).yBot,l.xLeft=o.xLeft,l.yTop+=u.unitHeight*f.QUES_GAP_VERT_SCALE,s.push.apply(s,H),s.push(C.a.createRowlineFlat(l,u)),l.yTop+=C.a.EPSILON),xt.label=15;case 15:return P++,[3,8];case 16:return[2,s]}})})},f.popRowlines=function(d){for(;d.length>0&&d[d.length-1]instanceof T.a;)d.pop()},f.generateFlatTitle=function(d,u,a){return w.i(F.b)(this,void 0,void 0,function(){var o,s,l,c;return w.i(F.c)(this,function(b){switch(b.label){case 0:return o=new m.a,d.showTitle?d.title?[4,C.a.createTitleSurveyFlat(a,u,d.locTitle)]:[3,2]:[3,4];case 1:s=b.sent(),o.addBrick(s),a=C.a.createPoint(s),b.label=2;case 2:return d.description?(d.title&&(a.yTop+=u.unitWidth*f.PANEL_DESC_GAP_SCALE),c=(l=o).addBrick,[4,C.a.createDescFlat(a,null,u,d.locDescription)]):[3,4];case 3:c.apply(l,[b.sent()]),b.label=4;case 4:return[2,o]}})})},f.generateFlatLogoImage=function(d,u,a){return w.i(F.b)(this,void 0,void 0,function(){var o,s,l,c;return w.i(F.c)(this,function(b){switch(b.label){case 0:return o=C.a.getLocString(d.locLogo),[4,C.a.getCorrectedImageSize(u,{imageLink:o,imageHeight:d.logoHeight,imageWidth:d.logoWidth})];case 1:return s=b.sent(),[4,C.a.createImageFlat(a,null,u,{link:o,width:s.width,height:s.height})];case 2:return l=b.sent(),c=0,"right"===d.logoPosition?c=C.a.getPageAvailableWidth(u)-l.width:"left"!==d.logoPosition&&(c=C.a.getPageAvailableWidth(u)/2-l.width/2),l.xLeft+=c,l.xRight+=c,[2,l]}})})},f.generateFlats=function(d,u){return w.i(F.b)(this,void 0,void 0,function(){var a,o,s,l,c,b,M,D,g,P,A,k,Z;return w.i(F.c)(this,function(re){switch(re.label){case 0:return a=[],d.hasLogo?[3,2]:[4,this.generateFlatTitle(d,u,u.leftTopPoint)];case 1:return(s=re.sent()).isEmpty||a.push([s]),[3,11];case 2:return d.isLogoBefore?[4,this.generateFlatLogoImage(d,u,u.leftTopPoint)]:[3,5];case 3:return c=re.sent(),a.push([c]),o=C.a.createPoint(c,"top"===d.logoPosition,"top"!==d.logoPosition),"top"!==d.logoPosition?(u.pushMargins(),o.xLeft+=u.unitWidth,u.margins.left+=c.width+u.unitWidth):(o.xLeft=u.leftTopPoint.xLeft,o.yTop+=u.unitHeight/2),[4,this.generateFlatTitle(d,u,o)];case 4:return s=re.sent(),"top"!==d.logoPosition&&u.popMargins(),s.isEmpty||a[0].push(s),[3,11];case 5:return"right"!==d.logoPosition?[3,8]:[4,this.generateFlatLogoImage(d,u,u.leftTopPoint)];case 6:return c=re.sent(),a.push([c]),u.pushMargins(),u.margins.right+=c.width+u.unitWidth,[4,this.generateFlatTitle(d,u,u.leftTopPoint)];case 7:return(s=re.sent()).isEmpty||a[0].unshift(s),u.popMargins(),[3,11];case 8:return[4,this.generateFlatTitle(d,u,u.leftTopPoint)];case 9:return s=re.sent(),l=u.leftTopPoint,s.isEmpty||(a.push([s]),(l=C.a.createPoint(s)).yTop+=u.unitHeight/2),[4,this.generateFlatLogoImage(d,u,l)];case 10:c=re.sent(),0!==a.length?a[0].push(c):a.push([c]),re.label=11;case 11:b=u.leftTopPoint,0!==a.length&&(b.yTop=C.a.createPoint(C.a.mergeRects.apply(C.a,a[0])).yTop,a[0].push(C.a.createRowlineFlat(b,u)),b.yTop+=u.unitHeight*f.PANEL_CONT_GAP_SCALE+C.a.EPSILON),M=0,re.label=12;case 12:return M<d.visiblePages.length?(P=(g=(D=[]).push).apply,A=[D],[4,this.generateFlatsPagePanel(d,u,d.visiblePages[M],b)]):[3,16];case 13:return P.apply(g,A.concat([re.sent()])),k=new y.b(b,D,d.visiblePages[M],u,h.FlatRepository.getInstance(),h),[4,d.onRenderPage.fire(d,k)];case 14:re.sent(),D=w.i(F.d)([],k.bricks,!0),0===M&&0!==a.length?(Z=a[0]).push.apply(Z,D):a.push(D),this.popRowlines(a[a.length-1]),b.yTop=u.leftTopPoint.yTop,re.label=15;case 15:return M++,[3,12];case 16:return[2,a]}})})},f.QUES_GAP_VERT_SCALE=1.5,f.PANEL_CONT_GAP_SCALE=1,f.PANEL_DESC_GAP_SCALE=.25,f}()},function(se,$,w){"use strict";var F=w(0),R=w(7),L=w(4),m=w(1);w.d($,"a",function(){return T});var T=function(C){function y(h,v,f,d){var u=C.call(this,d.question,h,v)||this;return u.fieldName=f,u.context=d,u.question=u.context.question,u.textColor=u.formBorderColor,u}return w.i(F.a)(y,C),y.prototype.getShouldRenderReadOnly=function(){return this.context.readOnly&&"acroform"!==m.a.getReadonlyRenderAs(this.question,this.controller)||this.controller.compress},y.prototype.renderInteractive=function(){var h;return w.i(F.b)(this,void 0,void 0,function(){var v,f,d;return w.i(F.c)(this,function(u){return v=new this.controller.doc.AcroFormCheckBox,f=m.a.formScale(this.controller,this),(d={}).maxFontSize=this.height*f*y.FONT_SIZE_SCALE,d.caption=y.CHECKMARK_READONLY_SYMBOL,d.textAlign="center",d.fieldName=this.fieldName,d.readOnly=this.context.readOnly,d.color=this.formBorderColor,d.value=!!this.context.checked&&"On",d.AS=this.context.checked?"/On":"/Off",d.context=this.context,d.Rect=m.a.createAcroformRect(m.a.scaleRect(this,f)),this.controller.doc.addField(v),null===(h=this.question.survey)||void 0===h||h.getUpdatedCheckItemAcroformOptions(d),v.maxFontSize=d.maxFontSize,v.caption=d.caption,v.textAlign=d.textAlign,v.fieldName=d.fieldName,v.readOnly=d.readOnly,v.color=d.color,v.value=d.value,v.AS=d.AS,v.Rect=d.Rect,m.a.renderFlatBorders(this.controller,this),[2]})})},y.prototype.renderReadOnly=function(){return w.i(F.b)(this,void 0,void 0,function(){var h,v,f,d,u;return w.i(F.c)(this,function(a){switch(a.label){case 0:return m.a.renderFlatBorders(this.controller,this),this.context.checked?(h=m.a.createPoint(this,!0,!0),v=this.controller.fontName,this.controller.fontName=y.CHECKMARK_READONLY_FONT,this.controller.fontSize=(f=this.controller.fontSize)*y.CHECKMARK_READONLY_FONT_SIZE_SCALE,d=this.controller.measureText(y.CHECKMARK_READONLY_SYMBOL),h.xLeft+=this.width/2-d.width/2,h.yTop+=this.height/2-d.height/2,[4,m.a.createTextFlat(h,this.question,this.controller,y.CHECKMARK_READONLY_SYMBOL,L.a)]):[3,3];case 1:return(u=a.sent()).unfold()[0].textColor=this.textColor,this.controller.fontSize=f,[4,u.render()];case 2:a.sent(),this.controller.fontName=v,a.label=3;case 3:return[2]}})})},y.FONT_SIZE_SCALE=.7,y.CHECKMARK_READONLY_SYMBOL="3",y.CHECKMARK_READONLY_FONT="zapfdingbats",y.CHECKMARK_READONLY_FONT_SIZE_SCALE=1-Math.E/10,y}(R.a)},function(se,$,w){"use strict";var F=w(0),R=w(4);w.d($,"a",function(){return L});var L=function(m){function T(C,y,h,v){return m.call(this,C,y,h,v)||this}return w.i(F.a)(T,m),T.prototype.renderInteractive=function(){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(C){switch(C.label){case 0:return this.controller.fontStyle="bold",[4,m.prototype.renderInteractive.call(this)];case 1:return C.sent(),this.controller.fontStyle="normal",[2]}})})},T}(R.a)},function(se,$,w){"use strict";Object.defineProperty($,"__esModule",{value:!0});var F=w(55);w.d($,"SurveyPDF",function(){return F.a});var R=w(1);w.d($,"SurveyHelper",function(){return R.a});var L=w(8);w.d($,"DocOptions",function(){return L.a}),w.d($,"DocController",function(){return L.b});var m=w(2);w.d($,"FlatRepository",function(){return m.a});var T=w(3);w.d($,"FlatQuestion",function(){return T.a});var C=w(20);w.d($,"FlatQuestionDefault",function(){return C.a});var y=w(36);w.d($,"FlatBoolean",function(){return y.a});var h=w(37);w.d($,"FlatCheckbox",function(){return h.a});var v=w(39);w.d($,"FlatCustomModel",function(){return v.a});var f=w(38);w.d($,"FlatComment",function(){return f.a});var d=w(40);w.d($,"FlatDropdown",function(){return d.a});var u=w(41);w.d($,"FlatExpression",function(){return u.a});var a=w(42);w.d($,"FlatFile",function(){return a.a});var o=w(43);w.d($,"FlatHTML",function(){return o.a});var s=w(44);w.d($,"FlatImage",function(){return s.a});var l=w(45);w.d($,"FlatImagePicker",function(){return l.a});var c=w(49);w.d($,"FlatPanelDynamic",function(){return c.a});var b=w(9);w.d($,"FlatRadiogroup",function(){return b.a});var M=w(50);w.d($,"FlatRanking",function(){return M.a});var D=w(51);w.d($,"FlatRating",function(){return D.a});var g=w(14);w.d($,"FlatSelectBase",function(){return g.a});var P=w(52);w.d($,"FlatSignaturePad",function(){return P.a});var A=w(53);w.d($,"FlatTextbox",function(){return A.a});var k=w(10);w.d($,"FlatSurvey",function(){return k.a});var Z=w(46);w.d($,"FlatMatrix",function(){return Z.a});var re=w(21);w.d($,"FlatMatrixMultiple",function(){return re.a});var H=w(47);w.d($,"FlatMatrixDynamic",function(){return H.a});var E=w(48);w.d($,"FlatMultipleText",function(){return E.a});var B=w(22);w.d($,"PagePacker",function(){return B.a});var U=w(19);w.d($,"EventHandler",function(){return U.a});var ae=w(18);w.d($,"HorizontalAlign",function(){return ae.a}),w.d($,"VerticalAlign",function(){return ae.b}),w.d($,"DrawCanvas",function(){return ae.c});var Pe=w(7);w.d($,"PdfBrick",function(){return Pe.a});var je=w(23);w.d($,"BooleanItemBrick",function(){return je.a});var ft=w(24);w.d($,"CheckboxItemBrick",function(){return ft.a});var gt=w(11);w.d($,"CheckItemBrick",function(){return gt.a});var Ze=w(25);w.d($,"CommentBrick",function(){return Ze.a});var xt=w(5);w.d($,"CompositeBrick",function(){return xt.a});var Ke=w(54);w.d($,"CustomBrick",function(){return Ke.a});var tt=w(26);w.d($,"DropdownBrick",function(){return tt.a});var Pt=w(27);w.d($,"EmptyBrick",function(){return Pt.a});var Tt=w(28);w.d($,"HTMLBrick",function(){return Tt.a});var fn=w(29);w.d($,"ImageBrick",function(){return fn.a});var nr=w(30);w.d($,"LinkBrick",function(){return nr.a});var rr=w(31);w.d($,"RadioItemBrick",function(){return rr.a});var _r=w(32);w.d($,"RankingItemBrick",function(){return _r.a});var Vi=w(15);w.d($,"RowlineBrick",function(){return Vi.a});var Ci=w(33);w.d($,"TextFieldBrick",function(){return Ci.a});var Hi=w(12);w.d($,"TextBoldBrick",function(){return Hi.a});var Br=w(16);w.d($,"TextBoxBrick",function(){return Br.a});var ss=w(4);w.d($,"TextBrick",function(){return ss.a});var as=w(34);w.d($,"TitlePanelBrick",function(){return as.a});var Li=w(6);w.n(Li),w.i(Li.checkLibraryVersion)("".concat("1.9.129"),"survey-pdf")},function(se,$,w){"use strict";var F=w(0),R=w(3),L=w(4),m=w(5),T=w(1);w.d($,"a",function(){return C});var C=function(y){function h(v,f,d){var u=y.call(this,v,f,d)||this;return u.survey=v,u.controller=d,u.question=f,u}return w.i(F.a)(h,y),h.prototype.generateFlatComposite=function(v,f,d){return w.i(F.b)(this,void 0,void 0,function(){var u,a,o,s,l,c,b,M,D;return w.i(F.c)(this,function(g){switch(g.label){case 0:return u=new m.a,a=T.a.createRect(v,this.controller.unitWidth,this.controller.unitHeight),o=this.generateFlatItem(T.a.moveRect(T.a.scaleRect(a,T.a.SELECT_ITEM_FLAT_SCALE),v.xLeft),f,d),u.addBrick(o),(s=T.a.clone(v)).xLeft=o.xRight+this.controller.unitWidth*T.a.GAP_BETWEEN_ITEM_TEXT,null===f.locText.renderedHtml?[3,2]:(c=(l=u).addBrick,[4,T.a.createTextFlat(s,this.question,this.controller,f.locText,L.a)]);case 1:c.apply(l,[g.sent()]),g.label=2;case 2:return f===this.question.otherItem&&(f.value===this.question.value||void 0!==this.question.isOtherSelected&&this.question.isOtherSelected)?((b=T.a.createPoint(u)).yTop+=this.controller.unitHeight*T.a.GAP_BETWEEN_ROWS,D=(M=u).addBrick,[4,T.a.createCommentFlat(b,this.question,this.controller,!1,{index:d,rows:T.a.OTHER_ROWS_COUNT})]):[3,4];case 3:D.apply(M,[g.sent()]),g.label=4;case 4:return[2,u]}})})},h.prototype.getVisibleChoices=function(){return this.question.visibleChoices},h.prototype.getColCount=function(){return this.question.colCount},h.prototype.generateFlatsContent=function(v){return w.i(F.b)(this,void 0,void 0,function(){var f,d,u,a;return w.i(F.c)(this,function(o){switch(o.label){case 0:return f=this.getColCount(),d=this.getVisibleChoices(),u=f,0==f?(u=Math.floor(T.a.getPageAvailableWidth(this.controller)/this.controller.measureText(T.a.MATRIX_COLUMN_WIDTH).width)||1,d.length<u&&(u=d.length)):f>1&&(u=T.a.getColumnWidth(this.controller,f)<this.controller.measureText(T.a.MATRIX_COLUMN_WIDTH).width?1:f),1!=u?[3,2]:[4,this.generateVerticallyItems(v,d)];case 1:return a=o.sent(),[3,4];case 2:return[4,this.generateHorisontallyItems(v,u)];case 3:a=o.sent(),o.label=4;case 4:return[2,a]}})})},h.prototype.generateVerticallyItems=function(v,f){return w.i(F.b)(this,void 0,void 0,function(){var d,u,a,o;return w.i(F.c)(this,function(s){switch(s.label){case 0:d=T.a.clone(v),u=[],a=0,s.label=1;case 1:return a<f.length?[4,this.generateFlatComposite(d,f[a],a)]:[3,4];case 2:o=s.sent(),d.yTop=o.yBot+T.a.GAP_BETWEEN_ROWS*this.controller.unitHeight,u.push(o),s.label=3;case 3:return a++,[3,1];case 4:return[2,u]}})})},h.prototype.generateHorisontallyItems=function(v,f){return w.i(F.b)(this,void 0,void 0,function(){var d,u,a,o,s,l,c;return w.i(F.c)(this,function(b){switch(b.label){case 0:d=this.getVisibleChoices(),u=T.a.clone(v),a=[],o=new m.a,s=0,b.label=1;case 1:return s<d.length?(this.controller.pushMargins(this.controller.margins.left,this.controller.margins.right),T.a.setColumnMargins(this.controller,f,s%f),u.xLeft=this.controller.margins.left,[4,this.generateFlatComposite(u,d[s],s)]):[3,4];case 2:l=b.sent(),o.addBrick(l),this.controller.popMargins(),(s%f==f-1||s===d.length-1)&&(c=T.a.createRowlineFlat(T.a.createPoint(o),this.controller),u.yTop=c.yBot+T.a.GAP_BETWEEN_ROWS*this.controller.unitHeight,a.push(o,c),o=new m.a),b.label=3;case 3:return s++,[3,1];case 4:return[2,a]}})})},h}(R.a)},function(se,$,w){"use strict";var F=w(0);w.d($,"a",function(){return R});var R=function(){function L(m,T,C){this.controller=m,this.color=C,this.isPageBreak=!1,this.xLeft=T.xLeft,this.xRight=T.xRight,this.yTop=T.yTop,this.yBot=T.yBot}return Object.defineProperty(L.prototype,"width",{get:function(){return this.xRight-this.xLeft},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"height",{get:function(){return this.yBot-this.yTop},enumerable:!1,configurable:!0}),L.prototype.render=function(){return w.i(F.b)(this,void 0,void 0,function(){var m;return w.i(F.c)(this,function(T){return null!==this.color&&(m=this.controller.doc.getDrawColor(),this.controller.doc.setDrawColor(this.color),this.controller.doc.line(this.xLeft,this.yTop,this.xRight,this.yTop),this.controller.doc.setDrawColor(m)),[2]})})},L.prototype.unfold=function(){return[this]},L.prototype.translateX=function(m){},L}()},function(se,$,w){"use strict";var F=w(0),R=w(33),L=w(1);w.d($,"a",function(){return m});var m=function(T){function C(y,h,v,f,d,u){void 0===f&&(f=!0),void 0===d&&(d=!1),void 0===u&&(u=0);var a=T.call(this,y,h,v,f,y.id+(f?"":"_comment"+u),L.a.getQuestionOrCommentValue(y,f),f&&y.locPlaceHolder?L.a.getLocString(y.locPlaceHolder):"",y.isReadOnly,d,y.inputType)||this;return a.isQuestion=f,a.isMultiline=d,a}return w.i(F.a)(C,T),C}(R.a)},function(se,$){se.exports=G},function(se,$,w){"use strict";var F=w(0),R=w(8),L=w(4),m=w(12),T=w(1);w.d($,"a",function(){return C}),w.d($,"b",function(){return y}),w.d($,"c",function(){return h});var C=(()=>{return(v=C||(C={})).NotSet="notset",v.Left="left",v.Center="center",v.Right="right",C;var v})(),y=(()=>{return(v=y||(y={})).NotSet="notset",v.Top="top",v.Middle="middle",v.Bottom="bottom",y;var v})(),h=function(){function v(f,d,u,a,o){this.packs=f,this.controller=d,this._rect=u,this._countPages=a,this._pageNumber=o}return Object.defineProperty(v.prototype,"pageCount",{get:function(){return this._countPages},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"countPages",{get:function(){return this._countPages},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"pageNumber",{get:function(){return this._pageNumber},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"rect",{get:function(){return this._rect},enumerable:!1,configurable:!0}),v.prototype.alignRect=function(f,d){void 0===f.margins?f.margins={left:0,right:0,top:0,bot:0}:(void 0===f.margins.left&&(f.margins.left=0),void 0===f.margins.right&&(f.margins.right=0),void 0===f.margins.top&&(f.margins.top=0),void 0===f.margins.bot&&(f.margins.bot=0)),void 0===f.rect&&((void 0===f.horizontalAlign||f.horizontalAlign===C.NotSet)&&(f.horizontalAlign=C.Center),(void 0===f.verticalAlign||f.verticalAlign===y.NotSet)&&(f.verticalAlign=y.Middle));var u=T.a.clone(this.rect);if(void 0!==f.horizontalAlign)switch(f.horizontalAlign){case C.Left:u.xLeft=this.rect.xLeft+f.margins.left,u.xRight=Math.min(this.rect.xRight-f.margins.right,this.rect.xLeft+f.margins.left+d.width);break;case C.Center:u.xLeft=Math.max(this.rect.xLeft+f.margins.left,(this.rect.xLeft+this.rect.xRight-d.width)/2),u.xRight=Math.min(this.rect.xRight-f.margins.right,(this.rect.xLeft+this.rect.xRight+d.width)/2);break;case C.Right:u.xLeft=Math.max(this.rect.xLeft+f.margins.left,this.rect.xRight-f.margins.right-d.width),u.xRight=this.rect.xRight-f.margins.right}else u.xLeft=f.rect.xLeft||this.rect.xLeft,u.xRight=f.rect.xRight||this.rect.xRight;if(void 0!==f.verticalAlign)switch(f.verticalAlign){case y.Top:u.yTop=this.rect.yTop+f.margins.top,u.yBot=Math.min(this.rect.yBot-f.margins.bot,this.rect.yTop+f.margins.top+d.height);break;case y.Middle:u.yTop=Math.max(this.rect.yTop+f.margins.top,(this.rect.yTop+this.rect.yBot-d.height)/2),u.yBot=Math.min(this.rect.yBot-f.margins.bot,(this.rect.yTop+this.rect.yBot+d.height)/2);break;case y.Bottom:u.yTop=Math.max(this.rect.yTop+f.margins.top,this.rect.yBot-f.margins.bot-d.height),u.yBot=this.rect.yBot-f.margins.bot}else u.yTop=f.rect.yTop||this.rect.yTop,u.yBot=f.rect.yBot||this.rect.yBot;return u},v.prototype.drawText=function(f){void 0===(f=T.a.clone(f)).fontSize&&(f.fontSize=R.a.FONT_SIZE),void 0===f.isBold&&(f.isBold=!1);var d=this.controller.measureText(f.text,f.isBold?"bold":"normal",f.fontSize),u=this.alignRect(f,d);this.packs.push(f.isBold?new m.a(null,this.controller,u,f.text):new L.a(null,this.controller,u,f.text)),this.packs[this.packs.length-1].fontSize=f.fontSize},v.prototype.drawImage=function(f){return w.i(F.b)(this,void 0,void 0,function(){var u,a,o;return w.i(F.c)(this,function(s){switch(s.label){case 0:return void 0===(f=T.a.clone(f)).width&&(f.width=this.rect.xRight-this.rect.xLeft),void 0===f.height&&(f.height=this.rect.yBot-this.rect.yTop),u=this.alignRect(f,{width:f.width,height:f.height}),o=(a=this.packs).push,[4,T.a.createImageFlat(T.a.createPoint(u,!0,!0),null,this.controller,{link:f.base64,width:u.xRight-u.xLeft,height:u.yBot-u.yTop})];case 1:return o.apply(a,[s.sent()]),[2]}})})},v}()},function(se,$,w){"use strict";var F=w(0),R=w(6),m=(w.n(R),w(18)),T=w(1);w.d($,"b",function(){return C}),w.d($,"a",function(){return y});var C=function(h){function v(){return null!==h&&h.apply(this,arguments)||this}return w.i(F.a)(v,h),v.prototype.unshift=function(f){this.hasFunc(f)||(null==this.callbacks&&(this.callbacks=new Array),this.callbacks.unshift(f))},v.prototype.fire=function(f,d){return w.i(F.b)(this,void 0,void 0,function(){var u;return w.i(F.c)(this,function(a){switch(a.label){case 0:if(null==this.callbacks)return[2];u=0,a.label=1;case 1:return u<this.callbacks.length?[4,this.callbacks[u](f,d)]:[3,4];case 2:a.sent(),a.label=3;case 3:return u++,[3,1];case 4:return[2]}})})},v}(R.EventBase),y=function(){function h(){}return h.process_header_events=function(v,f,d){return w.i(F.b)(this,void 0,void 0,function(){var u;return w.i(F.c)(this,function(a){switch(a.label){case 0:v.haveCommercialLicense||v.onRenderHeader.add(function(o,s){s.drawText({text:"SurveyJS PDF | Please purchase a SurveyJS PDF developer license to use it in your app | https://surveyjs.io/Buy",fontSize:10})}),u=0,a.label=1;case 1:return u<d.length?[4,v.onRenderHeader.fire(v,new m.c(d[u],f,T.a.createHeaderRect(f),d.length,u+1))]:[3,5];case 2:return a.sent(),[4,v.onRenderFooter.fire(v,new m.c(d[u],f,T.a.createFooterRect(f),d.length,u+1))];case 3:a.sent(),a.label=4;case 4:return u++,[3,1];case 5:return[2]}})})},h}()},function(se,$,w){"use strict";var F=w(0),R=w(1),L=w(4),m=w(3);w.d($,"a",function(){return T});var T=function(C){function y(){return null!==C&&C.apply(this,arguments)||this}return w.i(F.a)(y,C),y.prototype.generateFlatsContent=function(h){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(f){switch(f.label){case 0:return[4,R.a.createTextFlat(h,this.question,this.controller,"".concat(this.question.displayValue),L.a)];case 1:return[2,[f.sent()]]}})})},y}(m.a)},function(se,$,w){"use strict";var F=w(0),R=w(6),m=(w.n(R),w(3)),T=w(2),C=w(4),y=w(5),h=w(1),v=w(10);w.d($,"a",function(){return f});var f=function(d){function u(a,o,s,l){void 0===l&&(l=!0);var c=d.call(this,a,o,s)||this;return c.survey=a,c.isMultiple=l,c.question=o,c}return w.i(F.a)(u,d),Object.defineProperty(u.prototype,"visibleRows",{get:function(){return this.visibleRowsValue||(this.visibleRowsValue=this.question.renderedTable.rows.filter(function(a){return a.visible})),this.visibleRowsValue},enumerable:!1,configurable:!0}),u.prototype.generateFlatsCell=function(a,o,s){return w.i(F.b)(this,void 0,void 0,function(){var l,c,b,M,D,g,P,A,k,Z;return w.i(F.c)(this,function(re){switch(re.label){case 0:return l=new y.a,o.hasQuestion?o.cell.column.isShowInMultipleColumns?(c=T.a.getInstance().create(this.survey,o.question,this.controller,o.question.getType()),b=h.a.moveRect(h.a.scaleRect(h.a.createRect(a,this.controller.unitHeight,this.controller.unitHeight),h.a.SELECT_ITEM_FLAT_SCALE),a.xLeft),l.addBrick(c.generateFlatItem(b,o.item,o.choiceIndex)),[3,3]):[3,1]:[3,4];case 1:return o.question.titleLocation=h.a.TITLE_LOCATION_MATRIX,D=(M=l.addBrick).apply,g=[l],[4,h.a.generateQuestionFlats(this.survey,this.controller,o.question,a)];case 2:D.apply(M,g.concat([re.sent()])),re.label=3;case 3:return[3,8];case 4:return o.hasTitle?s?(A=(P=l).addBrick,[4,h.a.createBoldTextFlat(a,this.question,this.controller,o.locTitle)]):[3,6]:[3,8];case 5:return A.apply(P,[re.sent()]),[3,8];case 6:return Z=(k=l).addBrick,[4,h.a.createTextFlat(a,this.question,this.controller,o.locTitle,C.a)];case 7:Z.apply(k,[re.sent()]),re.label=8;case 8:return[2,l]}})})},Object.defineProperty(u.prototype,"hasDetailPanel",{get:function(){var a=this;return this.visibleRows.some(function(o){return o.row&&a.question.hasDetailPanel(o.row)})},enumerable:!1,configurable:!0}),u.prototype.ignoreCell=function(a,o){return!(a.hasQuestion||a.hasTitle||this.isMultiple&&(this.hasDetailPanel?1==o:0==o))},u.prototype.generateFlatsRowHorisontal=function(a,o,s,l){return w.i(F.b)(this,void 0,void 0,function(){var c,b,M,D,g,P;return w.i(F.c)(this,function(A){switch(A.label){case 0:c=new y.a,b=h.a.clone(a),M=this.controller.paperWidth-this.controller.margins.left+this.controller.unitWidth*h.a.GAP_BETWEEN_COLUMNS,this.controller.pushMargins(),D=0,g=0,A.label=1;case 1:return g<o.cells.length?this.ignoreCell(o.cells[g],g)?[3,3]:(this.controller.margins.left=this.controller.paperWidth-M+this.controller.unitWidth*h.a.GAP_BETWEEN_COLUMNS,this.controller.margins.right=this.controller.paperWidth-this.controller.margins.left-l[D],M=this.controller.margins.right,b.xLeft=this.controller.margins.left,[4,this.generateFlatsCell(b,o.cells[g],o===this.question.renderedTable.headerRow)]):[3,4];case 2:(P=A.sent()).isEmpty||c.addBrick(P),D++,A.label=3;case 3:return g++,[3,1];case 4:return this.controller.popMargins(),[2,c]}})})},u.prototype.generateFlatsRowVertical=function(a,o,s){return w.i(F.b)(this,void 0,void 0,function(){var l,c,b,M,D,g,P;return w.i(F.c)(this,function(A){switch(A.label){case 0:l=new y.a,c=h.a.clone(a),b=0,A.label=1;case 1:return b<o.cells.length?this.ignoreCell(o.cells[b],b)?[3,5]:this.question.renderedTable.showHeader&&(!this.isMultiple||b>0)?(D=(M=l).addBrick,[4,this.generateFlatsCell(c,this.question.renderedTable.headerRow.cells[b],!1)]):[3,3]:[3,6];case 2:D.apply(M,[A.sent()]),c.yTop=l.yBot+u.GAP_BETWEEN_ROWS*this.controller.unitHeight,A.label=3;case 3:return P=(g=l).addBrick,[4,this.generateFlatsCell(c,o.cells[b],!1)];case 4:P.apply(g,[A.sent()]),c.yTop=l.yBot+u.GAP_BETWEEN_ROWS*this.controller.unitHeight,A.label=5;case 5:return b++,[3,1];case 6:return[2,l]}})})},u.prototype.getAvalableWidth=function(a){return h.a.getPageAvailableWidth(this.controller)-(a-1)*this.controller.unitWidth*h.a.GAP_BETWEEN_COLUMNS},u.prototype.calculateColumnWidth=function(a,o){for(var s=this,l=this.getAvalableWidth(o),c=l,b=o,M=[],D=[],g=a[0].cells.filter(function(Z,re){return!s.ignoreCell(Z,re)}),P=0;P<o;P++){var A=h.a.parseWidth(g[P].width,l,o)||0;c-=A,0!==A?b--:D.push(g[P]),M.push(A)}if(0===b)return M;var k=this.controller.measureText(h.a.MATRIX_COLUMN_WIDTH).width;return D.sort(function(Z,re){var H=h.a.parseWidth(Z.minWidth,l,o)||0;return(h.a.parseWidth(re.minWidth,l,o)||0)>H?1:-1}).forEach(function(Z){var re=c/b,H=h.a.parseWidth(Z.minWidth,l,o)||0;H>re&&H>k&&(c-=H,b--),M[g.indexOf(Z)]=Math.max(k,H,re)}),M},u.prototype.generateOneRow=function(a,o,s,l,c){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(b){switch(b.label){case 0:return l?[4,this.generateFlatsRowHorisontal(a,o,s,c)]:[3,2];case 1:case 3:return[2,b.sent()];case 2:return[4,this.generateFlatsRowVertical(a,o,s)]}})})},u.prototype.generateFlatsRows=function(a,o,s,l){return w.i(F.b)(this,void 0,void 0,function(){var c,b,M,D,g,P,A,k,Z,re;return w.i(F.c)(this,function(H){switch(H.label){case 0:c=h.a.clone(a),b=[],M=0,H.label=1;case 1:return M<o.length?[4,this.generateOneRow(c,o[M],s,l,this.calculateColumnWidth(o,s))]:[3,6];case 2:if((D=H.sent()).isEmpty&&(!o[M].row||!o[M].row.hasPanel))return[3,5];if(D.isEmpty||(M!==o.length-1&&(c.yTop=D.yBot,D.addBrick(h.a.createRowlineFlat(c,this.controller))),b.push(D),c.yTop=D.yBot+u.GAP_BETWEEN_ROWS*this.controller.unitHeight),!o[M].row||!o[M].row.hasPanel)return[3,5];for(o[M].row.showDetailPanel(),g=o[M].row.detailPanel,P=0;P<g.questions.length;P++)g.questions[P].id+="_"+M;return[4,v.a.generateFlatsPanel(this.survey,this.controller,g,c)];case 3:return A=H.sent(),(k=new y.a).addBrick.apply(k,A),c.yTop=k.yBot+u.GAP_BETWEEN_ROWS*this.controller.unitHeight,b.push(k),M!==o.length-1&&this.question.renderedTable.showHeader&&l?[4,this.generateOneRow(c,o[0],s,l,this.calculateColumnWidth(o,s))]:[3,5];case 4:Z=H.sent(),re=k.yBot,Z.isEmpty||(re=Z.yBot,b.push(Z)),c.yTop=re+u.GAP_BETWEEN_ROWS*this.controller.unitHeight,H.label=5;case 5:return M++,[3,1];case 6:return[2,b]}})})},u.prototype.calculateIsWide=function(a,o){var s=[];if(a.showHeader&&s.push(a.headerRow),s.push.apply(s,this.visibleRows),0===s.length)return!0;var l=this.calculateColumnWidth(s,o).reduce(function(c,b){return c+b},0);return"list"!==this.question.renderAs&&"list"!==this.controller.matrixRenderAs&&Math.floor(l)<=Math.floor(this.getAvalableWidth(o))},u.prototype.getRowsToRender=function(a,o,s){var l=[],c=this.visibleRows;return a.showHeader&&s&&l.push(a.headerRow),l.push.apply(l,c),a.hasRemoveRows&&o&&l.pop(),a.showFooter&&l.push(a.footerRow),l},u.prototype.generateFlatsContent=function(a){return w.i(F.b)(this,void 0,void 0,function(){var o,s,l,c,b,M,D=this;return w.i(F.c)(this,function(g){switch(g.label){case 0:return o=this.question.renderedTable,l="vertical"===this.question.columnLayout,0!==(c=(s=this.visibleRows)[0]?s[0].cells.filter(function(P,A){return!D.ignoreCell(P,A)}).length:o.showHeader&&o.headerRow?o.headerRow.cells.length:o.showFooter&&o.footerRow?o.footerRow.cells.length:0)||this.hasDetailPanel?(b=this.calculateIsWide(o,c),M=this.getRowsToRender(o,l,b),[4,this.generateFlatsRows(a,M,c,b)]):[2,[new y.a(h.a.createRowlineFlat(a,this.controller))]];case 1:return[2,g.sent()]}})})},u.GAP_BETWEEN_ROWS=.5,u}(m.a);R.Serializer.removeProperty("matrixdropdown","renderAs"),R.Serializer.addProperty("matrixdropdown",{name:"renderAs",default:"auto",choices:["auto","list"]}),T.a.getInstance().register("matrixdropdown",f)},function(se,$,w){"use strict";var F=w(56),R=w.n(F),L=w(1);w.d($,"a",function(){return m});var m=function(){function T(){}return T.findBotInterval=function(C,y,h,v){var f=C.search(y,h);return f.push({pageIndex:0,xLeft:v.margins.left,xRight:v.margins.left,yBot:v.margins.top,absBot:v.margins.top}),f.reduce(function(d,u){return Math.abs(u.xRight-y)<L.a.EPSILON||Math.abs(u.xLeft-h)<L.a.EPSILON||u.pageIndex<d.pageIndex?d:u.pageIndex>d.pageIndex||u.yBot>d.yBot?u:d},f[f.length-1])},T.addPack=function(C,y,h){for(var v=C.length;v<=y;v++)C.push([]);C[y].push(h)},T.pack=function(C,y){var h=y.paperHeight-y.margins.top-y.margins.bot,v=[];C.forEach(function(a){v.push([]),a.forEach(function(o){var s;o.height>h+L.a.EPSILON?(s=v[v.length-1]).push.apply(s,o.unfold()):v[v.length-1].push(o)})}),v.forEach(function(a){a.sort(function(o,s){return o.yTop<s.yTop?-1:o.yTop>s.yTop||o.xLeft>s.xLeft?1:o.xLeft<s.xLeft?-1:0})});var f=0,d=[],u=y.paperHeight-y.margins.bot;return v.forEach(function(a){var o=new R.a,s=0;a.forEach(function(l){var c=T.findBotInterval(o,l.xLeft,l.xRight,y),b=c.pageIndex,g=l.height;l.yTop=c.yBot+l.yTop-c.absBot,(Math.abs(l.yTop-y.margins.top)>L.a.EPSILON&&l.yTop+g>u+L.a.EPSILON||l.isPageBreak)&&(l.yTop=y.margins.top,b++,s=Math.max(s,b)),o.insert(l.xLeft,l.xRight,{pageIndex:b,xLeft:l.xLeft,xRight:l.xRight,yBot:l.yTop+g,absBot:l.yBot}),l.yBot=l.yTop+g,T.addPack(d,f+b,l)}),f+=s+1}),d},T}()},function(se,$,w){"use strict";var F=w(0),R=w(11);w.d($,"a",function(){return L});var L=function(m){function T(C,y,h){return m.call(this,y,h,C.id,{question:C,readOnly:C.isReadOnly,checked:C.checkedValue})||this}return w.i(F.a)(T,m),T}(R.a)},function(se,$,w){"use strict";var F=w(0),R=w(11);w.d($,"a",function(){return L});var L=function(m){function T(C,y,h,v,f){return m.call(this,y,h,C.id+"index"+f,{question:C,readOnly:C.isReadOnly||!v.isEnabled,item:v,checked:C.isItemSelected(v),index:f})||this}return w.i(F.a)(T,m),T}(R.a)},function(se,$,w){"use strict";var F=w(0),R=w(6),m=(w.n(R),w(16));w.d($,"a",function(){return T});var T=function(C){function y(h,v,f,d,u){void 0===u&&(u=0);var a=C.call(this,h,v,f,d,!0,u)||this;return a.controller=v,a}return w.i(F.a)(y,C),y.prototype.shouldRenderFlatBorders=function(){return this.isQuestion&&"comment"!==this.question.getType()?C.prototype.shouldRenderFlatBorders.call(this):"textarea"===R.settings.readOnlyCommentRenderMode},y}(m.a)},function(se,$,w){"use strict";var F=w(0),R=w(7),L=w(1);w.d($,"a",function(){return m});var m=function(T){function C(y,h,v){var f=T.call(this,y,h,v)||this;return f.controller=h,f.question=y,f}return w.i(F.a)(C,T),C.prototype.renderInteractive=function(){return w.i(F.b)(this,void 0,void 0,function(){var y,h,v=this;return w.i(F.c)(this,function(f){return(y=new this.controller.doc.AcroFormComboBox).fieldName=this.question.id,y.Rect=L.a.createAcroformRect(L.a.scaleRect(this,L.a.formScale(this.controller,this))),y.edit=!1,y.color=this.textColor,h=[],this.question.showOptionsCaption&&h.push(this.getCorrectedText(this.question.optionsCaption)),this.question.visibleChoices.forEach(function(d){h.push(v.getCorrectedText(L.a.getLocString(d.locText)))}),y.setOptions(h),y.fontName=this.controller.fontName,y.fontSize=this.fontSize,y.readOnly=this.question.isReadOnly,y.isUnicode=L.a.isCustomFont(this.controller,y.fontName),y.V=this.getCorrectedText(L.a.getDropdownQuestionValue(this.question)),this.controller.doc.addField(y),L.a.renderFlatBorders(this.controller,this),[2]})})},C}(R.a)},function(se,$,w){"use strict";var F=w(0),R=w(7),L=w(1);w.d($,"a",function(){return m});var m=function(T){function C(y,h,v){void 0===h&&(h=null),void 0===v&&(v=!1);var f=T.call(this,null,h,y)||this;return f.controller=h,f.isBorderVisible=!1,f.isBorderVisible=v,f}return w.i(F.a)(C,T),C.prototype.resizeBorder=function(y){var h=y?1:-1,v=this.controller.doc.getFontSize()*L.a.VALUE_READONLY_PADDING_SCALE;this.xLeft-=h*v,this.xRight+=h*v,this.yBot+=h*v},C.prototype.renderInteractive=function(){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(y){return this.isBorderVisible&&(this.resizeBorder(!0),L.a.renderFlatBorders(this.controller,this),this.resizeBorder(!1)),[2]})})},C}(R.a)},function(se,$,w){"use strict";var F=w(0),R=w(7);w.d($,"a",function(){return L});var L=function(m){function T(C,y,h,v,f){void 0===f&&(f=!1);var d=m.call(this,C,y,h)||this;return d.html=v,d.margins=f?{top:0,bottom:0}:{top:y.margins.top,bottom:y.margins.bot},d}return w.i(F.a)(T,m),T.prototype.renderInteractive=function(){return w.i(F.b)(this,void 0,void 0,function(){var C,y=this;return w.i(F.c)(this,function(h){switch(h.label){case 0:return C=this.controller.fontSize,this.controller.fontSize=this.fontSize,[4,new Promise(function(v){y.controller.doc.fromHTML(y.html,y.xLeft,y.yTop,{width:y.width,pagesplit:!0},function(){[].slice.call(document.querySelectorAll("iframe")).forEach(function(f){0===f.name.lastIndexOf("jsPDFhtmlText",0)&&f.parentNode.removeChild(f)}),v()},y.margins)})];case 1:return h.sent(),this.controller.fontSize=C,[2]}})})},T}(R.a)},function(se,$,w){"use strict";var F=w(0),R=w(7);w.d($,"a",function(){return L});var L=function(m){function T(C,y,h,v,f,d){var u=m.call(this,C,y,{xLeft:v.xLeft,xRight:v.xLeft+(f||0),yTop:v.yTop,yBot:v.yTop+(d||0)})||this;return u.image=h,u.originalWidth=f,u.originalHeight=d,u.isPageBreak=void 0===u.originalHeight,u}return w.i(F.a)(T,m),T.prototype.renderInteractive=function(){return w.i(F.b)(this,void 0,void 0,function(){var C=this;return w.i(F.c)(this,function(y){switch(y.label){case 0:return[4,new Promise(function(h){C.controller.doc.addImage(C.image,C.xLeft,C.yTop,C.originalWidth,C.originalHeight),h()})];case 1:return y.sent(),[2]}})})},T}(R.a)},function(se,$,w){"use strict";var F=w(0),R=w(4),L=w(1);w.d($,"a",function(){return m});var m=function(T){function C(y,h){var v=T.call(this,y.question,y.controller,y,y.text)||this;return v.link=h,v.textColor=C.COLOR,v}return w.i(F.a)(C,T),C.prototype.renderInteractive=function(){return w.i(F.b)(this,void 0,void 0,function(){var y,h;return w.i(F.c)(this,function(f){switch(f.label){case 0:return y=this.controller.doc.getTextColor(),this.controller.doc.setTextColor(L.a.BACKGROUND_COLOR),h=this.controller.unitHeight*(this.controller.doc.getLineHeightFactor()-C.SCALE_FACTOR_MAGIC),this.controller.doc.textWithLink(this.text,this.xLeft,this.yTop+(this.yBot-this.yTop)-h,{url:this.link}),[4,T.prototype.renderInteractive.call(this)];case 1:return f.sent(),this.controller.doc.setTextColor(y),[2]}})})},C.prototype.renderReadOnly=function(){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(y){switch(y.label){case 0:return"text"!==L.a.getReadonlyRenderAs(this.question,this.controller)?[2,this.renderInteractive()]:[4,T.prototype.renderInteractive.call(this)];case 1:return y.sent(),[2]}})})},C.SCALE_FACTOR_MAGIC=.955,C.COLOR="#0000EE",C}(R.a)},function(se,$,w){"use strict";var F=w(0),R=w(7),L=w(4),m=w(1);w.d($,"b",function(){return T}),w.d($,"a",function(){return C});var T=function(){function y(h,v,f){this.name=h,this.controller=v,this.context=f}return y.prototype.addToPdf=function(h){var v;this._radioGroup=new this.controller.doc.AcroFormRadioButton;var f={};f.fieldName=this.name,f.readOnly=this.readOnly,f.color=h,f.context=this.context,null===(v=this.context.question.survey)||void 0===v||v.getUpdatedRadioGroupWrapOptions(f),this._radioGroup.fieldName=f.fieldName,this._radioGroup.readOnly=f.readOnly,this._radioGroup.color=f.color,this._radioGroup.value="",this.controller.doc.addField(this._radioGroup)},Object.defineProperty(y.prototype,"radioGroup",{get:function(){return this._radioGroup},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"readOnly",{get:function(){return this.context.readOnly},enumerable:!1,configurable:!0}),y}(),C=function(y){function h(v,f,d,u){var a=y.call(this,d.question,v,f)||this;return a.context=d,a.radioGroupWrap=u,a.textColor=a.formBorderColor,a}return w.i(F.a)(h,y),h.prototype.getShouldRenderReadOnly=function(){return this.radioGroupWrap.readOnly&&"acroform"!==m.a.getReadonlyRenderAs(this.question,this.controller)||this.controller.compress},h.prototype.renderInteractive=function(){var v;return w.i(F.b)(this,void 0,void 0,function(){var f,d,u;return w.i(F.c)(this,function(a){return 0==this.context.index&&this.radioGroupWrap.addToPdf(this.formBorderColor),(f={}).fieldName=this.radioGroupWrap.name+"index"+this.context.index,d=m.a.formScale(this.controller,this),f.Rect=m.a.createAcroformRect(m.a.scaleRect(this,d)),f.color=this.formBorderColor,f.appearance=this.controller.doc.AcroForm.Appearance.RadioButton.Circle,f.radioGroup=this.radioGroupWrap.radioGroup,f.context=this.context,null===(v=this.context.question.survey)||void 0===v||v.getUpdatedRadioItemAcroformOptions(f),u=this.radioGroupWrap.radioGroup.createOption(f.fieldName),this.context.checked?(f.AS||(u.AS="/"+f.fieldName),this.radioGroupWrap.radioGroup.value||(this.radioGroupWrap.radioGroup.value=f.fieldName)):f.AS||(f.AS="/Off"),u.Rect=f.Rect,u.color=f.color,m.a.renderFlatBorders(this.controller,this),this.radioGroupWrap.radioGroup.setAppearance(f.appearance),[2]})})},h.prototype.renderReadOnly=function(){return w.i(F.b)(this,void 0,void 0,function(){var v,f,d,u;return w.i(F.c)(this,function(a){switch(a.label){case 0:return m.a.renderFlatBorders(this.controller,this),this.context.checked?(v=m.a.createPoint(this,!0,!0),this.controller.fontSize=(f=this.controller.fontSize)*h.RADIOMARKER_READONLY_FONT_SIZE_SCALE,d=this.controller.measureText(h.RADIOMARKER_READONLY_SYMBOL),v.xLeft+=this.width/2-d.width/2,v.yTop+=this.height/2-d.height/1.925,[4,m.a.createTextFlat(v,this.question,this.controller,h.RADIOMARKER_READONLY_SYMBOL,L.a)]):[3,3];case 1:return(u=a.sent()).unfold()[0].textColor=this.textColor,this.controller.fontSize=f,[4,u.render()];case 2:a.sent(),a.label=3;case 3:return[2]}})})},h.RADIOMARKER_READONLY_SYMBOL="\u2022",h.RADIOMARKER_READONLY_FONT_SIZE_SCALE=1.575,h}(R.a)},function(se,$,w){"use strict";var F=w(0),R=w(7),L=w(4),m=w(11),T=w(1);w.d($,"a",function(){return C});var C=function(y){function h(v,f,d,u){var a=y.call(this,v,f,d)||this;return a.mark=u,a.question=v,a.textColor=a.formBorderColor,a}return w.i(F.a)(h,y),h.prototype.renderInteractive=function(){return w.i(F.b)(this,void 0,void 0,function(){var v,f,d,u;return w.i(F.c)(this,function(a){switch(a.label){case 0:return T.a.renderFlatBorders(this.controller,this),v=T.a.createPoint(this,!0,!0),this.controller.fontSize=(f=this.controller.fontSize)*m.a.CHECKMARK_READONLY_FONT_SIZE_SCALE,d=this.controller.measureText(this.mark),v.xLeft+=this.width/2-d.width/2,v.yTop+=this.height/2-d.height/2,[4,T.a.createTextFlat(v,this.question,this.controller,this.mark,L.a)];case 1:return(u=a.sent()).unfold()[0].textColor=this.textColor,this.controller.fontSize=f,[4,u.render()];case 2:return a.sent(),[2]}})})},h}(R.a)},function(se,$,w){"use strict";var F=w(0),R=w(6),m=(w.n(R),w(7)),T=w(1);w.d($,"a",function(){return C});var C=function(y){function h(v,f,d,u,a,o,s,l,c,b){var M=y.call(this,v,f,d)||this;return M.isQuestion=u,M.fieldName=a,M.value=o,M.placeholder=s,M.isReadOnly=l,M.isMultiline=c,M.inputType=b,M.question=v,M}return w.i(F.a)(h,y),h.prototype.renderColorQuestion=function(){var v=this.controller.doc.getFillColor();this.controller.doc.setFillColor(this.question.value||"black"),this.controller.doc.rect(this.xLeft,this.yTop,this.width,this.height,"F"),this.controller.doc.setFillColor(v)},h.prototype.renderInteractive=function(){return w.i(F.b)(this,void 0,void 0,function(){var v,f;return w.i(F.c)(this,function(d){return"color"===this.inputType?(this.renderColorQuestion(),[2]):((v="password"===this.inputType?new this.controller.doc.AcroFormPasswordField:new this.controller.doc.AcroFormTextField).fieldName=this.fieldName,v.fontName=this.controller.fontName,v.fontSize=this.fontSize,v.isUnicode=T.a.isCustomFont(this.controller,v.fontName),"password"!==this.inputType?(v.V=" "+this.getCorrectedText(this.value),v.DV=" "+this.getCorrectedText(this.placeholder)):v.value="",v.multiline=this.isMultiline,v.readOnly=this.isReadOnly,v.color=this.textColor,f=T.a.formScale(this.controller,this),v.maxFontSize=this.controller.fontSize*f,v.Rect=T.a.createAcroformRect(T.a.scaleRect(this,f)),this.controller.doc.addField(v),T.a.renderFlatBorders(this.controller,this),[2])})})},h.prototype.shouldRenderFlatBorders=function(){return"input"===R.settings.readOnlyTextRenderMode},h.prototype.getShouldRenderReadOnly=function(){return T.a.shouldRenderReadOnly(this.question,this.controller,this.isReadOnly)},h.prototype.renderReadOnly=function(){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(v){switch(v.label){case 0:return this.controller.pushMargins(this.xLeft,this.controller.paperWidth-this.xRight),"color"!==this.inputType?[3,1]:(this.renderColorQuestion(),[3,3]);case 1:return[4,this.textBrick.render()];case 2:v.sent(),this.shouldRenderFlatBorders()&&T.a.renderFlatBorders(this.controller,this),v.label=3;case 3:return this.controller.popMargins(),[2]}})})},h.prototype.translateX=function(v){var f=v(this.xLeft,this.xRight);this._xLeft=f.xLeft,this._xRight=f.xRight,this.textBrick&&this.textBrick.translateX(v)},h.prototype.setXLeft=function(v){var f=v-this._xLeft;y.prototype.setXLeft.call(this,v),this.textBrick&&(this.textBrick.xLeft=this.textBrick.xLeft+f)},h.prototype.setXRight=function(v){var f=v-this._xRight;y.prototype.setXRight.call(this,v),this.textBrick&&(this.textBrick.xRight=this.textBrick.xRight+f)},h.prototype.setYTop=function(v){var f=v-this._yTop;y.prototype.setYTop.call(this,v),this.textBrick&&(this.textBrick.yTop=this.textBrick.yTop+f)},h.prototype.setYBottom=function(v){var f=v-this._yBot;y.prototype.setYBottom.call(this,v),this.textBrick&&(this.textBrick.yBot=this.textBrick.yBot+f)},h}(m.a)},function(se,$,w){"use strict";var F=w(0),R=w(12),L=w(1);w.d($,"a",function(){return m});var m=function(T){function C(y,h,v,f){return T.call(this,y,h,v,f)||this}return w.i(F.a)(C,T),C.prototype.renderInteractive=function(){return w.i(F.b)(this,void 0,void 0,function(){var y;return w.i(F.c)(this,function(h){switch(h.label){case 0:return this.controller.fontSize=(y=this.controller.fontSize)*L.a.TITLE_PANEL_FONT_SIZE_SCALE,[4,T.prototype.renderInteractive.call(this)];case 1:return h.sent(),this.controller.fontSize=y,[2]}})})},C}(R.a)},function(se,$,w){"use strict";var F=w(0);w.d($,"c",function(){return L}),w.d($,"a",function(){return m}),w.d($,"b",function(){return T});var R=function C(y,h,v,f,d){this.point=y,this.bricks=h,this.controller=v,this.repository=f,this.module=d},L=function(C){function y(h,v,f,d,u,a){var o=C.call(this,h,v,d,u,a)||this;return o.question=f,o}return w.i(F.a)(y,C),y}(R),m=function(C){function y(h,v,f,d,u,a){var o=C.call(this,h,v,d,u,a)||this;return o.panel=f,o}return w.i(F.a)(y,C),y}(R),T=function(C){function y(h,v,f,d,u,a){var o=C.call(this,h,v,d,u,a)||this;return o.page=f,o}return w.i(F.a)(y,C),y}(R)},function(se,$,w){"use strict";var F=w(0),R=w(6),m=(w.n(R),w(3)),T=w(2),C=w(4),y=w(23),h=w(5),v=w(1),f=w(9);w.d($,"a",function(){return d});var d=function(a){function o(s,l,c){var b=a.call(this,s,l,c)||this;return b.survey=s,b.controller=c,b.question=l,b}return w.i(F.a)(o,a),o.prototype.generateFlatsContent=function(s){return w.i(F.b)(this,void 0,void 0,function(){var l,c,b,M,D,g,P;return w.i(F.c)(this,function(A){switch(A.label){case 0:return l=new h.a,b=new y.a(this.question,this.controller,v.a.moveRect(v.a.scaleRect(v.a.createRect(s,c=this.controller.unitHeight,c),v.a.SELECT_ITEM_FLAT_SCALE),s.xLeft)),l.addBrick(b),(M=v.a.clone(s)).xLeft=b.xRight+this.controller.unitWidth*v.a.GAP_BETWEEN_ITEM_TEXT,null!==(D=this.question.isIndeterminate?null:this.question.checkedValue?this.question.locLabelTrue:this.question.locLabelFalse)&&null!==D.renderedHtml?(P=(g=l).addBrick,[4,v.a.createTextFlat(M,this.question,this.controller,D,C.a)]):[3,2];case 1:P.apply(g,[A.sent()]),A.label=2;case 2:return[2,[l]]}})})},o}(m.a),u=function(a){function o(s,l,c){var b=a.call(this,s,l,c)||this;return b.survey=s,b.controller=c,b.buildItems(),b}return w.i(F.a)(o,a),o.prototype.buildItems=function(){var s=this.question,l=new R.ItemValue(void 0!==s.valueFalse&&s.valueFalse),c=new R.ItemValue(void 0===s.valueTrue||s.valueTrue);l.locOwner=s,l.setLocText(s.locLabelFalse),c.locOwner=s,c.setLocText(s.locLabelTrue),this.items=[l,c]},o.prototype.getVisibleChoices=function(){return this.items},o.prototype.getColCount=function(){return 0},o}(f.a);T.a.getInstance().register("boolean",u),T.a.getInstance().register("boolean-checkbox",d)},function(se,$,w){"use strict";var F=w(0),R=w(14),L=w(2),m=w(24);w.d($,"a",function(){return T});var T=function(y){function h(v,f,d){var u=y.call(this,v,f,d)||this;return u.survey=v,u.controller=d,u.question=f,u}return w.i(F.a)(h,y),h.prototype.generateFlatItem=function(v,f,d){return new m.a(this.question,this.controller,v,f,d)},h}(R.a),C=function(y){function h(v,f,d){var u=y.call(this,v,f,d)||this;return u.survey=v,u.controller=d,u.question=f,u}return w.i(F.a)(h,y),h.prototype.getVisibleChoices=function(){return this.controller.tagboxSelectedChoicesOnly?this.question.selectedChoices:y.prototype.getVisibleChoices.call(this)},h}(T);L.a.getInstance().register("tagbox",C),L.a.getInstance().register("checkbox",T)},function(se,$,w){"use strict";var F=w(0),R=w(3),L=w(2),m=w(1);w.d($,"a",function(){return T});var T=function(C){function y(h,v,f){var d=C.call(this,h,v,f)||this;return d.survey=h,d.controller=f,d.question=v,d}return w.i(F.a)(y,C),y.prototype.generateFlatsContent=function(h){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(v){switch(v.label){case 0:return[4,m.a.createCommentFlat(h,this.question,this.controller,!0,{rows:this.question.rows})];case 1:return[2,[v.sent()]]}})})},y}(R.a);L.a.getInstance().register("comment",T)},function(se,$,w){"use strict";var F=w(0),R=w(3),L=w(2);w.d($,"a",function(){return m});var m=function(T){function C(y,h,v){var f=T.call(this,y,h,v)||this;return f.survey=y,f.controller=v,f}return w.i(F.a)(C,T),C.prototype.generateFlatsContent=function(y){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(v){return[2,L.a.getInstance().create(this.survey,this.question,this.controller,this.question.getType()).generateFlatsContent(y)]})})},C}(R.a);L.a.getInstance().register("custom_model",m)},function(se,$,w){"use strict";var F=w(0),R=w(3),L=w(2),m=w(26),T=w(5),C=w(1);w.d($,"a",function(){return y});var y=function(h){function v(f,d,u){var a=h.call(this,f,d,u)||this;return a.survey=f,a.controller=u,a.question=d,a}return w.i(F.a)(v,h),v.prototype.generateFlatsContent=function(f){return w.i(F.b)(this,void 0,void 0,function(){var u,a,o,s,l;return w.i(F.c)(this,function(c){switch(c.label){case 0:return this.shouldRenderAsComment?[3,1]:(u=new m.a(this.question,this.controller,C.a.createTextFieldRect(f,this.controller)),[3,3]);case 1:return[4,C.a.createCommentFlat(f,this.question,this.controller,!0,{value:C.a.getDropdownQuestionValue(this.question)})];case 2:u=c.sent(),c.label=3;case 3:return a=new T.a(u),this.question.isOtherSelected?((o=C.a.createPoint(a)).yTop+=this.controller.unitHeight*C.a.GAP_BETWEEN_ROWS,l=(s=a).addBrick,[4,C.a.createCommentFlat(o,this.question,this.controller,!1,{rows:C.a.OTHER_ROWS_COUNT})]):[3,5];case 4:l.apply(s,[c.sent()]),c.label=5;case 5:return[2,[a]]}})})},v}(R.a);L.a.getInstance().register("dropdown",y)},function(se,$,w){"use strict";var F=w(0),R=w(3),L=w(2),m=w(1);w.d($,"a",function(){return T});var T=function(C){function y(h,v,f){var d=C.call(this,h,v,f)||this;return d.survey=h,d.question=v,d}return w.i(F.a)(y,C),y.prototype.generateFlatsContent=function(h){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(v){switch(v.label){case 0:return[4,m.a.createCommentFlat(h,this.question,this.controller,!0,{value:this.question.displayValue,readOnly:!0})];case 1:return[2,[v.sent()]]}})})},y}(R.a);L.a.getInstance().register("expression",T)},function(se,$,w){"use strict";var F=w(0),R=w(3),L=w(2),m=w(4),T=w(5),C=w(1);w.d($,"a",function(){return y});var y=function(h){function v(f,d,u){var a=h.call(this,f,d,u)||this;return a.survey=f,a.question=d,a}return w.i(F.a)(v,h),v.prototype.generateFlatItem=function(f,d){return w.i(F.b)(this,void 0,void 0,function(){var u,a,o,s,l;return w.i(F.c)(this,function(c){switch(c.label){case 0:return a=T.a.bind,[4,C.a.createLinkFlat(f,this.question,this.controller,void 0===d.name?"image":d.name,d.content)];case 1:return u=new(a.apply(T.a,[void 0,c.sent()])),C.a.canPreviewImage(this.question,d,d.content)?((o=C.a.createPoint(u)).yTop+=this.controller.unitHeight*v.IMAGE_GAP_SCALE,l=(s=u).addBrick,[4,C.a.createImageFlat(o,this.question,this.controller,{link:d.content,width:d.imageSize.width,height:d.imageSize.height,objectFit:v.DEFAULT_IMAGE_FIT})]):[3,3];case 2:l.apply(s,[c.sent()]),c.label=3;case 3:return[2,u]}})})},v.prototype.addLine=function(f,d,u){u!==this.question.previewValue.length-1&&(f[f.length-1].addBrick(C.a.createRowlineFlat(d,this.controller)),d.yTop+=C.a.EPSILON,f.push(new T.a))},v.prototype.getImagePreviewContentWidth=function(f){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(d){return[2,Math.max(f.imageSize.width,v.TEXT_MIN_SCALE*this.controller.unitWidth)]})})},v.prototype.generateFlatsContent=function(f){return w.i(F.b)(this,void 0,void 0,function(){var d,u,a,s,l,c,b,M,D,g;return w.i(F.c)(this,function(P){switch(P.label){case 0:return 0!==this.question.previewValue.length?[3,2]:[4,C.a.createTextFlat(f,this.question,this.controller,this.question.noFileChosenCaption,m.a)];case 1:return[2,[P.sent()]];case 2:d=[new T.a],u=C.a.clone(f),a=u.yTop,s=0,P.label=3;case 3:return s<this.question.previewValue.length?(l=w.i(F.e)({},this.question.previewValue[s]),(c=C.a.canPreviewImage(this.question,l,l.content))?(b=l,[4,C.a.getCorrectedImageSize(this.controller,{imageWidth:this.question.imageWidth,imageHeight:this.question.imageHeight,imageLink:this.question.previewValue[s].content})]):[3,5]):[3,12];case 4:b.imageSize=P.sent(),P.label=5;case 5:return M=this.controller.paperWidth-this.controller.margins.right-u.xLeft,c?[4,this.getImagePreviewContentWidth(l)]:[3,8];case 6:return D=P.sent(),M<D&&(u.xLeft=f.xLeft,u.yTop=a,this.addLine(d,u,s)),this.controller.pushMargins(u.xLeft,this.controller.paperWidth-u.xLeft-D),[4,this.generateFlatItem(u,l)];case 7:return g=P.sent(),d[d.length-1].addBrick(g),u.xLeft+=g.width,a=Math.max(a,g.yBot),this.controller.popMargins(),[3,10];case 8:return M<this.controller.unitWidth&&(u.xLeft=f.xLeft,u.yTop=a,this.addLine(d,u,s)),[4,this.generateFlatItem(u,l)];case 9:g=P.sent(),d[d.length-1].addBrick(g),u.xLeft+=g.xRight-g.xLeft,a=Math.max(a,g.yBot),P.label=10;case 10:u.xLeft+=this.controller.unitWidth,P.label=11;case 11:return s++,[3,3];case 12:return[2,d]}})})},v.IMAGE_GAP_SCALE=.195,v.TEXT_MIN_SCALE=5,v.DEFAULT_IMAGE_FIT="contain",v}(R.a);L.a.getInstance().register("file",y)},function(se,$,w){"use strict";var F=w(0),R=w(6),m=(w.n(R),w(3)),T=w(2),C=w(1);w.d($,"a",function(){return y});var y=function(h){function v(f,d,u){var a=h.call(this,f,d,u)||this;return a.survey=f,a}return w.i(F.a)(v,h),v.prototype.chooseRender=function(f){return/<[^>]*style[^<]*>/.test(f)||/<[^>]*table[^<]*>/.test(f)||/&\w+;/.test(f)?"image":"standard"},v.prototype.generateFlatsContent=function(f){return w.i(F.b)(this,void 0,void 0,function(){var d,u,a,o,b,M,D;return w.i(F.c)(this,function(g){switch(g.label){case 0:return"auto"===(d=this.question.renderAs)&&(d=this.controller.htmlRenderAs),"auto"===d&&(d=this.chooseRender(C.a.getLocString(this.question.locHtml))),u=C.a.createHtmlContainerBlock(C.a.getLocString(this.question.locHtml),this.controller,d),"image"!==d?[3,3]:(a=C.a.getPageAvailableWidth(this.controller),[4,C.a.htmlToImage(u,a,this.controller)]);case 1:return o=g.sent(),[4,C.a.createImageFlat(f,this.question,this.controller,{link:o.url,width:a,height:a/o.aspect})];case 2:return[2,[g.sent()]];case 3:return M=(b=C.a).splitHtmlRect,D=[this.controller],[4,C.a.createHTMLFlat(f,this.question,this.controller,u)];case 4:return[2,[M.apply(b,D.concat([g.sent()]))]]}})})},v}(m.a);R.Serializer.removeProperty("html","renderAs"),R.Serializer.addProperty("html",{name:"renderAs",default:"auto",choices:["auto","standard","image"]}),T.a.getInstance().register("html",y)},function(se,$,w){"use strict";var F=w(0),R=w(3),L=w(2),m=w(1);w.d($,"a",function(){return T});var T=function(C){function y(h,v,f){var d=C.call(this,h,v,f)||this;return d.survey=h,d.question=v,d}return w.i(F.a)(y,C),y.prototype.getCorrectImageSize=function(){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(h){switch(h.label){case 0:return[4,m.a.getCorrectedImageSize(this.controller,{imageWidth:this.question.imageWidth,imageHeight:this.question.imageHeight,imageLink:this.question.imageLink})];case 1:return[2,h.sent()]}})})},y.prototype.generateFlatsContent=function(h){return w.i(F.b)(this,void 0,void 0,function(){var v;return w.i(F.c)(this,function(f){switch(f.label){case 0:return[4,this.getCorrectImageSize()];case 1:return v=f.sent(),[4,m.a.createImageFlat(h,this.question,this.controller,{link:this.question.imageLink,width:v.width,height:v.height})];case 2:return[2,[f.sent()]]}})})},y}(R.a);L.a.getInstance().register("image",T)},function(se,$,w){"use strict";var F=w(0),R=w(3),L=w(2),m=w(4),T=w(9),C=w(11),y=w(5),h=w(1);w.d($,"a",function(){return v});var v=function(f){function d(u,a,o){var s=f.call(this,u,a,o)||this;return s.survey=u,s.question=a,s}return w.i(F.a)(d,f),d.prototype.generateFlatItem=function(u,a,o){return w.i(F.b)(this,void 0,void 0,function(){var s,l,c,b,M,g;return w.i(F.c)(this,function(P){switch(P.label){case 0:return s=h.a.getPageAvailableWidth(this.controller),[4,h.a.createImageFlat(u,this.question,this.controller,{link:a.imageLink,width:s,height:s/h.a.IMAGEPICKER_RATIO})];case 1:return l=P.sent(),c=new y.a(l),b=h.a.createPoint(c),this.question.showLabel?[4,h.a.createTextFlat(b,this.question,this.controller,a.text||a.value,m.a)]:[3,3];case 2:M=P.sent(),c.addBrick(M),b=h.a.createPoint(M),P.label=3;case 3:return g=h.a.createRect(b,s,this.controller.unitHeight),c.addBrick(this.question.multiSelect?new C.a(this.controller,g,this.question.id+"index"+o,{readOnly:this.question.isReadOnly||!a.isEnabled,question:this.question,item:a,checked:-1!==this.question.value.indexOf(a.value),index:o}):this.radio.generateFlatItem(g,a,o)),[2,c]}})})},d.prototype.generateFlatsContent=function(u){return w.i(F.b)(this,void 0,void 0,function(){var a,o,s,l,c,b,M,D,g,P,A,k;return w.i(F.c)(this,function(Z){switch(Z.label){case 0:this.radio=this.question.multiSelect?null:new T.a(this.survey,this.question,this.controller),a=[new y.a],o=h.a.getImagePickerAvailableWidth(this.controller)/h.a.IMAGEPICKER_COUNT,s=(s=~~(h.a.getPageAvailableWidth(this.controller)/o)||1)<=(l=this.question.visibleChoices.length)?s:l,c=~~Math.ceil(l/s),b=h.a.clone(u),M=0,Z.label=1;case 1:if(!(M<c))return[3,7];D=b.yTop,this.controller.pushMargins(),g=this.controller.margins.left,P=0,Z.label=2;case 2:return P<s?(A=M*s+P)==l?[3,5]:(this.controller.margins.left=g,this.controller.margins.right=this.controller.paperWidth-g-o,g=this.controller.paperWidth-this.controller.margins.right+this.controller.unitWidth,b.xLeft=this.controller.margins.left,[4,this.generateFlatItem(b,this.question.visibleChoices[A],A)]):[3,5];case 3:k=Z.sent(),a[a.length-1].addBrick(k),D=Math.max(D,k.yBot),Z.label=4;case 4:return P++,[3,2];case 5:this.controller.popMargins(),b.xLeft=u.xLeft,b.yTop=D,M!==c-1&&(a[a.length-1].addBrick(h.a.createRowlineFlat(b,this.controller)),b.yTop+=h.a.EPSILON,a.push(new y.a)),Z.label=6;case 6:return M++,[3,1];case 7:return[2,a]}})})},d}(R.a);L.a.getInstance().register("imagepicker",v)},function(se,$,w){"use strict";var F=w(0),R=w(6),m=(w.n(R),w(3)),T=w(9),C=w(2),y=w(4),h=w(5),v=w(1);w.d($,"a",function(){return f});var f=function(u){function a(o,s,l){var c=u.call(this,o,s,l)||this;return c.survey=o,c.controller=l,c.question=s,c}return w.i(F.a)(a,u),a.prototype.generateFlatsHeader=function(o){return w.i(F.b)(this,void 0,void 0,function(){var s,l,c,b,M,D;return w.i(F.c)(this,function(g){switch(g.label){case 0:s=[],l=v.a.clone(o),this.question.hasRows&&(l.xLeft+=this.rowTitleWidth+this.controller.unitWidth*v.a.GAP_BETWEEN_COLUMNS),c=0,g.label=1;case 1:return c<this.question.visibleColumns.length?(this.controller.pushMargins(),this.controller.margins.left=l.xLeft,this.controller.margins.right+=v.a.getPageAvailableWidth(this.controller)-this.columnWidth,M=(b=s).push,[4,v.a.createBoldTextFlat(l,this.question,this.controller,this.question.visibleColumns[c].locText)]):[3,4];case 2:M.apply(b,[g.sent()]),l.xLeft+=this.columnWidth+this.controller.unitWidth*v.a.GAP_BETWEEN_COLUMNS,this.controller.popMargins(),g.label=3;case 3:return c++,[3,1];case 4:return[2,[D=new(h.a.bind.apply(h.a,w.i(F.d)([void 0],s,!1))),v.a.createRowlineFlat(v.a.createPoint(D),this.controller)]]}})})},a.prototype.generateFlatsRows=function(o,s){return w.i(F.b)(this,void 0,void 0,function(){var l,c,b,D;return w.i(F.c)(this,function(g){switch(g.label){case 0:l=[],c=v.a.clone(o),b=0,g.label=1;case 1:return b<this.question.visibleRows.length?[4,new d(this.survey,this.question,this.controller,this.question.visibleRows[b],b,"row"+b,0==b,s,this.rowTitleWidth,this.columnWidth).generateFlatsContent(c)]:[3,4];case 2:D=g.sent(),(c=v.a.createPoint(v.a.mergeRects.apply(v.a,D))).yTop+=this.controller.unitHeight*a.GAP_BETWEEN_ROWS,l.push.apply(l,D),g.label=3;case 3:return b++,[3,1];case 4:return[2,l]}})})},a.prototype.calculateColumnsWidthes=function(){var o=v.a.getPageAvailableWidth(this.controller);this.question.hasRows&&this.question.rowTitleWidth?(this.controller.pushMargins(),this.rowTitleWidth=v.a.parseWidth(this.question.rowTitleWidth,o),this.controller.margins.left+=this.rowTitleWidth+this.controller.unitWidth*v.a.GAP_BETWEEN_COLUMNS,this.columnWidth=v.a.getColumnWidth(this.controller,this.question.visibleColumns.length),this.controller.popMargins()):this.columnWidth=this.rowTitleWidth=v.a.getColumnWidth(this.controller,this.question.visibleColumns.length+(this.question.hasRows?1:0))},a.prototype.generateFlatsContent=function(o){return w.i(F.b)(this,void 0,void 0,function(){var s,l,c,b,M,D,g;return w.i(F.c)(this,function(P){switch(P.label){case 0:return this.calculateColumnsWidthes(),s="list"===this.question.renderAs||"list"===this.controller.matrixRenderAs||this.columnWidth<this.controller.measureText(v.a.MATRIX_COLUMN_WIDTH).width,l=v.a.clone(o),c=[],!s&&this.question.showHeader&&0!=this.question.visibleColumns.length?[4,this.generateFlatsHeader(l)]:[3,2];case 1:b=P.sent(),(l=v.a.createPoint(v.a.mergeRects.apply(v.a,b))).yTop+=a.GAP_BETWEEN_ROWS*this.controller.unitHeight,c.push.apply(c,b),P.label=2;case 2:return D=(M=c.push).apply,g=[c],[4,this.generateFlatsRows(l,s)];case 3:return D.apply(M,g.concat([P.sent()])),[2,c]}})})},a.GAP_BETWEEN_ROWS=.5,a}(m.a),d=function(u){function a(o,s,l,c,b,M,D,g,P,A){void 0===D&&(D=!1),void 0===g&&(g=!1);var k=u.call(this,o,s,l)||this;return k.survey=o,k.controller=l,k.row=c,k.rowIndex=b,k.key=M,k.isFirst=D,k.isVertical=g,k.rowTitleWidth=P,k.columnWidth=A,k.questionMatrix=s,k}return w.i(F.a)(a,u),a.prototype.generateFlatsContent=function(o){return w.i(F.b)(this,void 0,void 0,function(){var s;return w.i(F.c)(this,function(l){switch(l.label){case 0:return this.isVertical?[4,this.generateFlatsVerticallyCells(o)]:[3,2];case 1:return s=l.sent(),[3,4];case 2:return[4,this.generateFlatsHorizontallyCells(o)];case 3:s=l.sent(),l.label=4;case 4:return[2,s]}})})},a.prototype.generateTextComposite=function(o,s,l){return w.i(F.b)(this,void 0,void 0,function(){var c,b,M,D,g;return w.i(F.c)(this,function(P){switch(P.label){case 0:return c=v.a.clone(o),b=this.row.value==s.value,M=v.a.createRect(c,v.a.getPageAvailableWidth(this.controller),this.controller.unitHeight),D=this.generateFlatItem(M,s,l,this.key,b,{row:this.row,rowIndex:this.rowIndex}),c.yTop=D.yBot+this.controller.unitHeight*v.a.GAP_BETWEEN_ITEM_TEXT,[4,v.a.createTextFlat(c,this.questionMatrix,this.controller,this.questionMatrix.getCellDisplayLocText(this.row.name,s),y.a)];case 1:return g=P.sent(),[2,new h.a(D,g)]}})})},a.prototype.generateItemCompoiste=function(o,s,l){return w.i(F.b)(this,void 0,void 0,function(){var c,b,M,D,g;return w.i(F.c)(this,function(P){switch(P.label){case 0:return c=v.a.clone(o),b=this.row.value==s.value,M=v.a.createRect(c,this.controller.unitHeight,this.controller.unitHeight),D=this.generateFlatItem(v.a.moveRect(v.a.scaleRect(M,v.a.SELECT_ITEM_FLAT_SCALE),M.xLeft),s,l,this.key,b,{row:this.row,rowIndex:this.rowIndex}),c.xLeft=D.xRight+this.controller.unitWidth*v.a.GAP_BETWEEN_ITEM_TEXT,[4,v.a.createTextFlat(c,this.questionMatrix,this.controller,s.locText,y.a)];case 1:return g=P.sent(),[2,new h.a(D,g)]}})})},a.prototype.generateFlatsHorizontallyCells=function(o){return w.i(F.b)(this,void 0,void 0,function(){var s,l,c,b,M,D,g,P,A,k,Z;return w.i(F.c)(this,function(re){switch(re.label){case 0:return s=[],l=v.a.clone(o),this.questionMatrix.hasRows?(this.controller.pushMargins(),l.xLeft=this.controller.margins.left,this.controller.margins.right+=v.a.getPageAvailableWidth(this.controller)-this.rowTitleWidth,b=(c=s).push,[4,v.a.createTextFlat(l,this.questionMatrix,this.controller,this.row.locText,y.a)]):[3,2];case 1:b.apply(c,[re.sent()]),l.xLeft+=this.rowTitleWidth+this.controller.unitWidth*v.a.GAP_BETWEEN_COLUMNS,this.controller.popMargins(),re.label=2;case 2:M=0,re.label=3;case 3:return M<this.questionMatrix.visibleColumns.length?(g=this.row.value==(D=this.questionMatrix.visibleColumns[M]).value,this.controller.pushMargins(),this.controller.margins.left=l.xLeft,this.controller.margins.right+=v.a.getPageAvailableWidth(this.controller)-this.columnWidth,this.questionMatrix.hasCellText?(A=(P=s).push,[4,this.generateTextComposite(l,D,M)]):[3,5]):[3,8];case 4:return A.apply(P,[re.sent()]),[3,6];case 5:k=v.a.createRect(l,this.controller.unitHeight,this.controller.unitHeight),s.push(this.generateFlatItem(v.a.moveRect(v.a.scaleRect(k,v.a.SELECT_ITEM_FLAT_SCALE),l.xLeft),D,M,this.key,g,{row:this.row,rowIndex:this.rowIndex})),re.label=6;case 6:l.xLeft+=this.columnWidth+this.controller.unitWidth*v.a.GAP_BETWEEN_COLUMNS,this.controller.popMargins(),re.label=7;case 7:return M++,[3,3];case 8:return[2,[Z=new(h.a.bind.apply(h.a,w.i(F.d)([void 0],s,!1))),v.a.createRowlineFlat(v.a.createPoint(Z),this.controller)]]}})})},a.prototype.generateFlatsVerticallyCells=function(o){return w.i(F.b)(this,void 0,void 0,function(){var s,l,c,b,M,D,g;return w.i(F.c)(this,function(P){switch(P.label){case 0:return s=[],l=v.a.clone(o),this.questionMatrix.hasRows?[4,v.a.createTextFlat(l,this.questionMatrix,this.controller,this.row.locText,y.a)]:[3,2];case 1:c=P.sent(),l.yTop=c.yBot+m.a.CONTENT_GAP_VERT_SCALE*this.controller.unitHeight,s.push(c),P.label=2;case 2:return this.generateFlatComposite=this.questionMatrix.hasCellText?this.generateTextComposite:this.generateItemCompoiste,M=(b=s.push).apply,D=[s],[4,this.generateVerticallyItems(l,this.questionMatrix.visibleColumns)];case 3:return M.apply(b,D.concat([P.sent()])),[2,[g=new(h.a.bind.apply(h.a,w.i(F.d)([void 0],s,!1))),v.a.createRowlineFlat(v.a.createPoint(g),this.controller)]]}})})},a}(T.a);R.Serializer.removeProperty("matrix","renderAs"),R.Serializer.addProperty("matrix",{name:"renderAs",default:"auto",choices:["auto","list"]}),C.a.getInstance().register("matrix",f)},function(se,$,w){"use strict";var F=w(0),R=w(6),m=(w.n(R),w(2)),T=w(21);w.d($,"a",function(){return C});var C=function(y){function h(v,f,d){var u=y.call(this,v,f,d,!1)||this;return u.survey=v,u}return w.i(F.a)(h,y),h}(T.a);R.Serializer.removeProperty("matrixdynamic","renderAs"),R.Serializer.addProperty("matrixdynamic",{name:"renderAs",default:"auto",choices:["auto","list"]}),m.a.getInstance().register("matrixdynamic",C)},function(se,$,w){"use strict";var F=w(0),R=w(3),L=w(2),m=w(5),T=w(1);w.d($,"a",function(){return C});var C=function(y){function h(v,f,d){var u=y.call(this,v,f,d)||this;return u.survey=v,u.controller=d,u.question=f,u}return w.i(F.a)(h,y),h.prototype.getVisibleRows=function(){return this.question.getRows().filter(function(v){return v.isVisible})},h.prototype.generateFlatItem=function(v,f,d,u){return w.i(F.b)(this,void 0,void 0,function(){var a,o,s,l,c,b,M,D;return w.i(F.c)(this,function(g){switch(g.label){case 0:return a=T.a.getPageAvailableWidth(this.controller),this.controller.pushMargins(),this.controller.margins.right=this.controller.paperWidth-this.controller.margins.left-a*T.a.MULTIPLETEXT_TEXT_PERS,s=m.a.bind,[4,T.a.createBoldTextFlat(v,this.question,this.controller,u.locTitle)];case 1:return o=new(s.apply(m.a,[void 0,g.sent()])),this.controller.popMargins(),l=L.a.getInstance().create(this.survey,u.editor,this.controller,"text"),c=T.a.createTextFieldRect({xLeft:v.xLeft+a*T.a.MULTIPLETEXT_TEXT_PERS,yTop:v.yTop},this.controller),M=(b=o.addBrick).apply,D=[o],[4,l.generateFlatsContent(c)];case 2:return M.apply(b,D.concat([g.sent()])),[2,o]}})})},h.prototype.generateFlatsContent=function(v){return w.i(F.b)(this,void 0,void 0,function(){var f,d,u,a,o,s,l;return w.i(F.c)(this,function(c){switch(c.label){case 0:f=[],d=T.a.clone(v),u=this.getVisibleRows(),a=0,c.label=1;case 1:if(!(a<u.length))return[3,7];f.push(new m.a),o=d.yTop,this.controller.pushMargins(),s=0,c.label=2;case 2:return s<u[a].cells.length?(this.controller.pushMargins(),T.a.setColumnMargins(this.controller,this.question.colCount,s),d.xLeft=this.controller.margins.left,[4,this.generateFlatItem(d,a,s,u[a].cells[s].item)]):[3,5];case 3:l=c.sent(),f[f.length-1].addBrick(l),o=Math.max(o,l.yBot),this.controller.popMargins(),c.label=4;case 4:return s++,[3,2];case 5:this.controller.popMargins(),d.xLeft=v.xLeft,d.yTop=o,f[f.length-1].addBrick(T.a.createRowlineFlat(d,this.controller)),d.yTop+=T.a.EPSILON,d.yTop+=this.controller.unitHeight*h.ROWS_GAP_SCALE,c.label=6;case 6:return a++,[3,1];case 7:return[2,f]}})})},h.ROWS_GAP_SCALE=.195,h}(R.a);L.a.getInstance().register("multipletext",C)},function(se,$,w){"use strict";var F=w(0),R=w(10),L=w(3),m=w(2),T=w(1);w.d($,"a",function(){return C});var C=function(y){function h(v,f,d){var u=y.call(this,v,f,d)||this;return u.survey=v,u.controller=d,u.question=f,u}return w.i(F.a)(h,y),h.prototype.generateFlatsContent=function(v){return w.i(F.b)(this,void 0,void 0,function(){var f,d,u,a,s;return w.i(F.c)(this,function(l){switch(l.label){case 0:f=[],d=T.a.clone(v),u=0,a=this.question.panels,l.label=1;case 1:return u<a.length?[4,R.a.generateFlatsPanel(this.survey,this.controller,a[u],d)]:[3,4];case 2:0!==(s=l.sent()).length&&(d.yTop=T.a.mergeRects.apply(T.a,s).yBot,d.yTop+=this.controller.unitHeight*h.GAP_BETWEEN_PANELS,f.push.apply(f,s)),l.label=3;case 3:return u++,[3,1];case 4:return[2,f]}})})},h.GAP_BETWEEN_PANELS=.75,h}(L.a);m.a.getInstance().register("paneldynamic",C)},function(se,$,w){"use strict";var F=w(0),R=w(3),L=w(2),m=w(4),T=w(32),C=w(5),y=w(1),h=w(59);w.d($,"a",function(){return v});var v=function(f){function d(u,a,o){var s=f.call(this,u,a,o)||this;return s.survey=u,s.controller=o,s.question=a,s}return w.i(F.a)(d,f),d.prototype.generateFlatComposite=function(u,a,o,s){return void 0===s&&(s=!1),w.i(F.b)(this,void 0,void 0,function(){var l,c,b,M,D;return w.i(F.c)(this,function(g){switch(g.label){case 0:return l=y.a.createRect(u,this.controller.unitWidth,this.controller.unitHeight),c=y.a.moveRect(y.a.scaleRect(l,y.a.SELECT_ITEM_FLAT_SCALE),u.xLeft),b=new T.a(this.question,this.controller,c,s?"-":this.question.getNumberByIndex(o)),(M=y.a.clone(u)).xLeft=b.xRight+this.controller.unitWidth*y.a.GAP_BETWEEN_ITEM_TEXT,[4,y.a.createTextFlat(M,this.question,this.controller,a.locText,m.a)];case 1:return D=g.sent(),[2,new C.a(b,D)]}})})},d.prototype.generateChoicesColumn=function(u,a,o){return void 0===o&&(o=!1),w.i(F.b)(this,void 0,void 0,function(){var s,l,c,b;return w.i(F.c)(this,function(M){switch(M.label){case 0:s=y.a.clone(u),l=[],c=0,M.label=1;case 1:return c<a.length?[4,this.generateFlatComposite(s,a[c],c,o)]:[3,4];case 2:b=M.sent(),s.yTop=b.yBot+y.a.GAP_BETWEEN_ROWS*this.controller.unitHeight,l.push(b),M.label=3;case 3:return c++,[3,1];case 4:return[2,l]}})})},d.prototype.generateSelectToRankItemsVertically=function(u){return w.i(F.b)(this,void 0,void 0,function(){var a,o,s,l,c,b,M,D,g;return w.i(F.c)(this,function(P){switch(P.label){case 0:return a=y.a.clone(u),o=[],0===this.question.rankingChoices.length?[3,2]:(l=(s=o.push).apply,c=[o],[4,this.generateChoicesColumn(a,this.question.rankingChoices)]);case 1:l.apply(s,c.concat([P.sent()])),a.yTop=o[o.length-1].yBot+y.a.GAP_BETWEEN_ROWS*this.controller.unitHeight*2,P.label=2;case 2:return b=y.a.createRect({xLeft:a.xLeft,yTop:a.yTop-y.a.GAP_BETWEEN_ROWS*this.controller.unitHeight-.5},this.controller.paperWidth-this.controller.margins.right-a.xLeft,1),o.push(new h.a(this.controller,b,y.a.FORM_BORDER_COLOR)),D=(M=o.push).apply,g=[o],[4,this.generateChoicesColumn(a,this.question.unRankingChoices,!0)];case 3:return D.apply(M,g.concat([P.sent()])),[2,o]}})})},d.prototype.generateSelectToRankItemsHorizontally=function(u){return w.i(F.b)(this,void 0,void 0,function(){var a,o,s,l,c,b,M,D,g,P,A,k,Z;return w.i(F.c)(this,function(re){switch(re.label){case 0:a=2,o=y.a.clone(u),s=[],l=Math.max(this.question.unRankingChoices.length,this.question.rankingChoices.length),c=new C.a,b=0,re.label=1;case 1:if(!(b<l))return[3,8];M=0,D=0,g=[this.question.unRankingChoices[b],this.question.rankingChoices[b]],re.label=2;case 2:return D<g.length?(P=g[D])?(this.controller.pushMargins(this.controller.margins.left,this.controller.margins.right),y.a.setColumnMargins(this.controller,a,M),o.xLeft=this.controller.margins.left,[4,this.generateFlatComposite(o,P,b,0==M)]):[3,4]:[3,6];case 3:A=re.sent(),c.addBrick(A),this.controller.popMargins(),re.label=4;case 4:M++,re.label=5;case 5:return D++,[3,2];case 6:k=y.a.createRowlineFlat(y.a.createPoint(c),this.controller),s.push(c,k),Z=y.a.createRect({xLeft:this.controller.margins.left+y.a.getPageAvailableWidth(this.controller)/2-.5,yTop:o.yTop},0,0),c.addBrick(new h.a(this.controller,Z,y.a.FORM_BORDER_COLOR,1,k.yBot-o.yTop+(b!==l-1?y.a.GAP_BETWEEN_ROWS*this.controller.unitHeight:0))),o.yTop=k.yBot+y.a.GAP_BETWEEN_ROWS*this.controller.unitHeight,c=new C.a,re.label=7;case 7:return b++,[3,1];case 8:return[2,s]}})})},d.prototype.generateFlatsContent=function(u){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(a){return this.question.selectToRankEnabled?"vertical"==this.question.selectToRankAreasLayout?[2,this.generateSelectToRankItemsVertically(u)]:[2,this.generateSelectToRankItemsHorizontally(u)]:[2,this.generateChoicesColumn(u,this.question.rankingChoices)]})})},d}(R.a);L.a.getInstance().register("ranking",v)},function(se,$,w){"use strict";var F=w(0),R=w(9),L=w(2),m=w(4),T=w(5),C=w(1);w.d($,"a",function(){return y});var y=function(h){function v(f,d,u){var a=h.call(this,f,d,u)||this;return a.survey=f,a.controller=u,a.questionRating=d,a}return w.i(F.a)(v,h),v.prototype.generateFlatHorisontalComposite=function(f,d,u){return w.i(F.b)(this,void 0,void 0,function(){var a,o,s,l,c,b,M;return w.i(F.c)(this,function(D){switch(D.label){case 0:return a=C.a.getRatingItemText(this.questionRating,u,d.locText),this.controller.pushMargins(),this.controller.margins.left+=o=this.controller.unitWidth/2,this.controller.margins.right+=o,(s=C.a.clone(f)).xLeft+=o,c=T.a.bind,[4,C.a.createBoldTextFlat(s,this.questionRating,this.controller,a)];case 1:return l=new(c.apply(T.a,[void 0,D.sent()])),this.controller.popMargins(),(b=l.width)<C.a.getRatingMinWidth(this.controller)?(l.xLeft+=(C.a.getRatingMinWidth(this.controller)-b)/2-o,b=C.a.getRatingMinWidth(this.controller)):b+=this.controller.unitWidth,(M=C.a.createPoint(l)).xLeft=f.xLeft,l.addBrick(this.generateFlatItem(C.a.createRect(M,b,this.controller.unitHeight),d,u,void 0,this.question.value==d.value)),[2,l]}})})},v.prototype.generateFlatComposite=function(f,d,u){return w.i(F.b)(this,void 0,void 0,function(){var a,o,s,l,c,M,D;return w.i(F.c)(this,function(g){switch(g.label){case 0:return a=new T.a,o=C.a.createRect(f,this.controller.unitHeight,this.controller.unitHeight),s=this.generateFlatItem(C.a.moveRect(C.a.scaleRect(o,C.a.SELECT_ITEM_FLAT_SCALE),f.xLeft),d,u,void 0,this.question.value==d.value),a.addBrick(s),(l=C.a.clone(f)).xLeft=s.xRight+this.controller.unitWidth*C.a.GAP_BETWEEN_ITEM_TEXT,null==(c=C.a.getRatingItemText(this.questionRating,u,d.locText))?[3,2]:(D=(M=a).addBrick,[4,C.a.createTextFlat(l,this.question,this.controller,c,m.a)]);case 1:D.apply(M,[g.sent()]),g.label=2;case 2:return[2,a]}})})},v.prototype.generateHorisontallyItems=function(f){return w.i(F.b)(this,void 0,void 0,function(){var d,u,a,o,s;return w.i(F.c)(this,function(l){switch(l.label){case 0:d=[new T.a],u=C.a.clone(f),a=0,l.label=1;case 1:return a<this.questionRating.visibleRateValues.length?[4,this.generateFlatHorisontalComposite(u,this.questionRating.visibleRateValues[a],a)]:[3,4];case 2:o=l.sent(),d[d.length-1].addBrick(o),s=this.controller.paperWidth-this.controller.margins.right-o.xRight,C.a.getRatingMinWidth(this.controller)<=s+C.a.EPSILON?u.xLeft=o.xRight:(u.xLeft=f.xLeft,u.yTop=o.yBot,a!==this.questionRating.visibleRateValues.length-1&&(d[d.length-1].addBrick(C.a.createRowlineFlat(u,this.controller)),u.yTop+=C.a.EPSILON,d.push(new T.a))),l.label=3;case 3:return a++,[3,1];case 4:return[2,d]}})})},v.prototype.generateFlatsContent=function(f){return w.i(F.b)(this,void 0,void 0,function(){var d,u,a;return w.i(F.c)(this,function(o){for(d=!1,u=0;u<this.questionRating.visibleRateValues.length;u++)a=C.a.getRatingItemText(this.questionRating,u,this.questionRating.visibleRateValues[u].locText),this.controller.measureText(a).width>this.controller.measureText(C.a.RATING_COLUMN_WIDTH).width&&(d=!0);return[2,d?this.generateVerticallyItems(f,this.questionRating.visibleRateValues):this.generateHorisontallyItems(f)]})})},v}(R.a);L.a.getInstance().register("rating",y)},function(se,$,w){"use strict";var F=w(0),R=w(3),L=w(2),m=w(1),T=w(5);w.d($,"a",function(){return C});var C=function(y){function h(v,f,d){var u=y.call(this,v,f,d)||this;return u.survey=v,u.question=f,u}return w.i(F.a)(h,y),h.prototype.generateBackgroundImage=function(v){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(f){switch(f.label){case 0:return[4,m.a.createImageFlat(v,this.question,this.controller,{link:this.question.backgroundImage,width:m.a.pxToPt(this.question.signatureWidth),height:m.a.pxToPt(this.question.signatureHeight),objectFit:"cover"},!0)];case 1:return[2,f.sent()]}})})},h.prototype.generateSign=function(v){return w.i(F.b)(this,void 0,void 0,function(){return w.i(F.c)(this,function(f){switch(f.label){case 0:return[4,m.a.createImageFlat(v,this.question,this.controller,{link:this.question.value,width:m.a.pxToPt(this.question.signatureWidth),height:m.a.pxToPt(this.question.signatureHeight)},!1)];case 1:return[2,f.sent()]}})})},h.prototype.generateFlatsContent=function(v){return w.i(F.b)(this,void 0,void 0,function(){var f,d,u,a,o;return w.i(F.c)(this,function(s){switch(s.label){case 0:return f=new T.a,this.question.backgroundImage?(u=(d=f).addBrick,[4,this.generateBackgroundImage(v)]):[3,2];case 1:u.apply(d,[s.sent()]),s.label=2;case 2:return o=(a=f).addBrick,[4,this.generateSign(v)];case 3:return o.apply(a,[s.sent()]),[2,[f]]}})})},h}(R.a);L.a.getInstance().register("signaturepad",C)},function(se,$,w){"use strict";var F=w(0),R=w(3),L=w(2),m=w(16),T=w(1);w.d($,"a",function(){return C});var C=function(y){function h(v,f,d){var u=y.call(this,v,f,d)||this;return u.survey=v,u.question=f,u}return w.i(F.a)(h,y),h.prototype.generateFlatsContent=function(v){return w.i(F.b)(this,void 0,void 0,function(){var f;return w.i(F.c)(this,function(d){switch(d.label){case 0:return this.shouldRenderAsComment?[4,T.a.createCommentFlat(v,this.question,this.controller,!0,{rows:h.MULTILINE_TEXT_ROWS_COUNT})]:(f=T.a.createTextFieldRect(v,this.controller),[2,[new m.a(this.question,this.controller,f)]]);case 1:return[2,[d.sent()]]}})})},h.MULTILINE_TEXT_ROWS_COUNT=1,h}(R.a);L.a.getInstance().register("text",C)},function(se,$,w){"use strict";var F=w(0),R=w(7);w.d($,"a",function(){return L});var L=function(m){function T(C,y,h){var v=m.call(this,C,y,h(y.helperDoc,C,0,0))||this;return v.renderFunc=h,v}return w.i(F.a)(T,m),T.prototype.renderInteractive=function(){return w.i(F.b)(this,void 0,void 0,function(){var C=this;return w.i(F.c)(this,function(y){switch(y.label){case 0:return[4,new Promise(function(h){C.renderFunc(C.controller.doc,C.question,C.xLeft,C.yTop),h()})];case 1:return y.sent(),[2]}})})},T}(R.a)},function(se,$,w){"use strict";var F=w(0),R=w(6),m=(w.n(R),w(8)),T=w(10),C=w(22),y=w(19),h=w(1);w.d($,"a",function(){return v});var v=function(f){function d(u,a){var o=f.call(this,u)||this;return o.onRenderHeader=new y.b,o.onRenderFooter=new y.b,o.onRenderQuestion=new y.b,o.onRenderPanel=new y.b,o.onRenderPage=new y.b,o.onDocControllerCreated=new R.EventBase,o.onRenderCheckItemAcroform=new y.b,o.onRenderRadioGroupWrapAcroform=new y.b,o.onRenderRadioItemAcroform=new y.b,void 0===a&&(a={}),o.options=h.a.clone(a),o._haveCommercialLicense=a.commercial||a.haveCommercialLicense,o}return w.i(F.a)(d,f),Object.defineProperty(d.prototype,"haveCommercialLicense",{get:function(){var u=R.hasLicense;return!(!u||!u(2))||this._haveCommercialLicense},set:function(u){this._haveCommercialLicense=u},enumerable:!1,configurable:!0}),d.prototype.waitForQuestionIsReady=function(u){return new Promise(function(a){if(u.isReady)a();else{var o=function(s,l){l.isReady&&(u.onReadyChanged.remove(o),a())};u.onReadyChanged.add(o)}})},d.prototype.waitForCoreIsReady=function(){return w.i(F.b)(this,void 0,void 0,function(){var u,a,o,s,l,c;return w.i(F.c)(this,function(M){switch(M.label){case 0:u=0,a=this.getAllQuestions(),M.label=1;case 1:if(!(u<a.length))return[3,9];if(!(o=a[u]).contentPanel)return[3,6];o.contentPanel.addQuestionsToList(s=[]),l=0,c=s,M.label=2;case 2:return l<c.length?[4,this.waitForQuestionIsReady(c[l])]:[3,5];case 3:M.sent(),M.label=4;case 4:return l++,[3,2];case 5:return[3,8];case 6:return[4,this.waitForQuestionIsReady(h.a.getContentQuestion(o))];case 7:M.sent(),M.label=8;case 8:return u++,[3,1];case 9:return[2]}})})},d.prototype.getUpdatedCheckItemAcroformOptions=function(u){this.onRenderCheckItemAcroform.fire(this,u)},d.prototype.getUpdatedRadioGroupWrapOptions=function(u){this.onRenderRadioGroupWrapAcroform.fire(this,u)},d.prototype.getUpdatedRadioItemAcroformOptions=function(u){this.onRenderRadioItemAcroform.fire(this,u)},d.prototype.correctBricksPosition=function(u,a){u.isRTL&&a.forEach(function(o){o.forEach(function(s){s.translateX(function(l,c){var b=u.paperWidth-l-c;return{xLeft:l+b,xRight:c+b}})})})},d.prototype.renderSurvey=function(u){return w.i(F.b)(this,void 0,void 0,function(){var a,o,s,l;return w.i(F.c)(this,function(c){switch(c.label){case 0:return[4,this.waitForCoreIsReady()];case 1:return c.sent(),[4,T.a.generateFlats(this,u)];case 2:return a=c.sent(),this.correctBricksPosition(u,a),o=C.a.pack(a,u),[4,y.a.process_header_events(this,u,o)];case 3:c.sent(),s=0,c.label=4;case 4:if(!(s<o.length))return[3,9];l=0,c.label=5;case 5:return l<o[s].length?(u.getNumberOfPages()===s&&u.addPage(),u.setPage(s),[4,o[s][l].render()]):[3,8];case 6:c.sent(),c.label=7;case 7:return l++,[3,5];case 8:return s++,[3,4];case 9:return[2]}})})},d.prototype.save=function(u){return void 0===u&&(u="survey_result.pdf"),w.i(F.b)(this,void 0,void 0,function(){var a,o,s=this;return w.i(F.c)(this,function(l){switch(l.label){case 0:return d.currentlySaving?[3,2]:(a=new m.b(this.options),this.onDocControllerCreated.fire(this,{controller:a}),d.currentlySaving=!0,h.a.fixFont(a),[4,this.renderSurvey(a)]);case 1:return l.sent(),(o=a.doc.save(u,{returnPromise:!0})).then(function(){d.currentlySaving=!1;var c=d.saveQueue.shift();c&&c()}),[2,o];case 2:d.saveQueue.push(function(){s.save(u)}),l.label=3;case 3:return[2]}})})},d.prototype.raw=function(u){return w.i(F.b)(this,void 0,void 0,function(){var a;return w.i(F.c)(this,function(o){switch(o.label){case 0:return a=new m.b(this.options),this.onDocControllerCreated.fire(this,{controller:a}),h.a.fixFont(a),[4,this.renderSurvey(a)];case 1:return o.sent(),[2,a.doc.output(u)]}})})},d.currentlySaving=!1,d.saveQueue=[],d}(R.SurveyModel)},function(se,$,w){"use strict";Object.defineProperty($,"__esModule",{value:!0});var F=w(57);function R(h){return void 0===h?-1:h.height}var L=function(){function h(v,f){this.intervalTree=v,this.records=[],this.height=0,this.key=f.low,this.max=f.high,this.records.push(f)}return h.prototype.getNodeHigh=function(){for(var v=this.records[0].high,f=1;f<this.records.length;f++)this.records[f].high>v&&(v=this.records[f].high);return v},h.prototype.updateHeight=function(){this.height=Math.max(R(this.left),R(this.right))+1},h.prototype.updateMaxOfParents=function(){if(void 0!==this){var v=this.getNodeHigh();this.max=void 0!==this.left&&void 0!==this.right?Math.max(Math.max(this.left.max,this.right.max),v):void 0!==this.left&&void 0===this.right?Math.max(this.left.max,v):void 0===this.left&&void 0!==this.right?Math.max(this.right.max,v):v,this.parent&&this.parent.updateMaxOfParents()}},h.prototype._updateMaxAfterRightRotate=function(){var v=this.parent,f=v.left,d=f.getNodeHigh();f.max=void 0===f.left&&void 0!==f.right?Math.max(d,f.right.max):void 0!==f.left&&void 0===f.right?Math.max(d,f.left.max):void 0===f.left&&void 0===f.right?d:Math.max(Math.max(f.left.max,f.right.max),d);var u=this.getNodeHigh();this.max=void 0===this.left&&void 0!==this.right?Math.max(u,this.right.max):void 0!==this.left&&void 0===this.right?Math.max(u,this.left.max):void 0===this.left&&void 0===this.right?u:Math.max(Math.max(this.left.max,this.right.max),u),v.max=Math.max(Math.max(v.left.max,v.right.max),v.getNodeHigh())},h.prototype._updateMaxAfterLeftRotate=function(){var v=this.parent,f=v.right,d=f.getNodeHigh();f.max=void 0===f.left&&void 0!==f.right?Math.max(d,f.right.max):void 0!==f.left&&void 0===f.right?Math.max(d,f.left.max):void 0===f.left&&void 0===f.right?d:Math.max(Math.max(f.left.max,f.right.max),d);var u=this.getNodeHigh();this.max=void 0===this.left&&void 0!==this.right?Math.max(u,this.right.max):void 0!==this.left&&void 0===this.right?Math.max(u,this.left.max):void 0===this.left&&void 0===this.right?u:Math.max(Math.max(this.left.max,this.right.max),u),v.max=Math.max(Math.max(v.left.max,f.max),v.getNodeHigh())},h.prototype._leftRotate=function(){var v=this.right;v.parent=this.parent,void 0===v.parent?this.intervalTree.root=v:v.parent.left===this?v.parent.left=v:v.parent.right===this&&(v.parent.right=v),this.right=v.left,void 0!==this.right&&(this.right.parent=this),v.left=this,this.parent=v,this.updateHeight(),v.updateHeight()},h.prototype._rightRotate=function(){var v=this.left;v.parent=this.parent,void 0===v.parent?this.intervalTree.root=v:v.parent.left===this?v.parent.left=v:v.parent.right===this&&(v.parent.right=v),this.left=v.right,void 0!==this.left&&(this.left.parent=this),v.right=this,this.parent=v,this.updateHeight(),v.updateHeight()},h.prototype._rebalance=function(){if(R(this.left)>=2+R(this.right)){var v=this.left;R(v.left)>=R(v.right)?(this._rightRotate(),this._updateMaxAfterRightRotate()):(v._leftRotate(),this._rightRotate(),this._updateMaxAfterRightRotate())}else if(R(this.right)>=2+R(this.left)){var f=this.right;R(f.right)>=R(f.left)?(this._leftRotate(),this._updateMaxAfterLeftRotate()):(f._rightRotate(),this._leftRotate(),this._updateMaxAfterLeftRotate())}},h.prototype.insert=function(v){v.low<this.key?void 0===this.left?(this.left=new h(this.intervalTree,v),this.left.parent=this):this.left.insert(v):void 0===this.right?(this.right=new h(this.intervalTree,v),this.right.parent=this):this.right.insert(v),this.max<v.high&&(this.max=v.high),this.updateHeight(),this._rebalance()},h.prototype._getOverlappingRecords=function(v,f,d){if(v.key<=d&&f<=v.getNodeHigh()){for(var u=[],a=0;a<v.records.length;a++)v.records[a].high>=f&&u.push(v.records[a]);return u}return[]},h.prototype.search=function(v,f){if(void 0===this)return[];var d=[],u=[],a=[];return v>this.max?[]:(void 0!==this.left&&this.left.max>=v&&(d=this.left.search(v,f)),u=this._getOverlappingRecords(this,v,f),f<this.key?d.concat(u):(void 0!==this.right&&(a=this.right.search(v,f)),d.concat(u,a)))},h.prototype.searchExisting=function(v){if(void 0!==this){if(this.key===v)return this;if(v<this.key){if(void 0!==this.left)return this.left.searchExisting(v)}else if(void 0!==this.right)return this.right.searchExisting(v)}},h.prototype._minValue=function(){return void 0===this.left?this:this.left._minValue()},h.prototype.remove=function(v){var f=this.parent;if(v.key<this.key)return void 0!==this.left?this.left.remove(v):void 0;if(v.key>this.key)return void 0!==this.right?this.right.remove(v):void 0;if(void 0!==this.left&&void 0!==this.right){var d=this.right._minValue();return this.key=d.key,this.records=d.records,this.right.remove(this)}return f.left===this?(void 0!==this.right?(f.left=this.right,this.right.parent=f):(f.left=this.left,void 0!==this.left&&(this.left.parent=f)),f.updateMaxOfParents(),f.updateHeight(),f._rebalance(),this):f.right===this?(void 0!==this.right?(f.right=this.right,this.right.parent=f):(f.right=this.left,void 0!==this.left&&(this.left.parent=f)),f.updateMaxOfParents(),f.updateHeight(),f._rebalance(),this):void 0},h}();$.Node=L;var m=function(){function h(){this.count=0}return h.prototype.insert=function(v){if(v.low>v.high)throw new Error("`low` value must be lower or equal to `high` value");if(void 0===this.root)return this.root=new L(this,v),this.count++,!0;var f=this.root.searchExisting(v.low);if(void 0!==f){for(var d=0;d<f.records.length;d++)if(F(f.records[d],v))return!1;return f.records.push(v),v.high>f.max&&(f.max=v.high,f.parent&&f.parent.updateMaxOfParents()),this.count++,!0}return this.root.insert(v),this.count++,!0},h.prototype.search=function(v,f){return void 0===this.root?[]:this.root.search(v,f)},h.prototype.remove=function(v){if(void 0===this.root)return!1;var f=this.root.searchExisting(v.low);if(void 0===f)return!1;if(f.records.length>1){for(var d=void 0,u=0;u<f.records.length;u++)if(F(f.records[u],v)){d=f.records[u],f.records.splice(u,1);break}if(d){if(d=void 0,v.high===f.max){var a=f.getNodeHigh();f.max=void 0!==f.left&&void 0!==f.right?Math.max(Math.max(f.left.max,f.right.max),a):void 0!==f.left&&void 0===f.right?Math.max(f.left.max,a):void 0===f.left&&void 0!==f.right?Math.max(f.right.max,a):a,f.parent&&f.parent.updateMaxOfParents()}return this.count--,!0}return!1}if(1===f.records.length){if(F(f.records[0],v)){if(this.root.key===f.key){var o=new L(this,{low:v.low,high:v.low});o.left=this.root,this.root.parent=o;var s=this.root.remove(f);return this.root=o.left,void 0!==this.root&&(this.root.parent=void 0),!!s&&(s=void 0,this.count--,!0)}return!!(s=this.root.remove(f))&&(s=void 0,this.count--,!0)}return!1}return!1},h.prototype.inOrder=function(){return new C(this.root)},h.prototype.preOrder=function(){return new y(this.root)},h}();$.IntervalTree=m;var T=function(){function h(){this.tree=new m}return h.prototype.insert=function(v,f,d){return this.tree.insert({low:v,high:f,data:d})},h.prototype.remove=function(v,f,d){return this.tree.remove({low:v,high:f,data:d})},h.prototype.search=function(v,f){return this.tree.search(v,f).map(function(d){return d.data})},h.prototype.inOrder=function(){return this.tree.inOrder()},h.prototype.preOrder=function(){return this.tree.preOrder()},Object.defineProperty(h.prototype,"count",{get:function(){return this.tree.count},enumerable:!0,configurable:!0}),h}();$.default=T;var C=function(){function h(v){this.stack=[],void 0!==v&&this.push(v)}return h.prototype.next=function(){return void 0===this.currentNode?{done:!0,value:void 0}:this.i<this.currentNode.records.length?{done:!1,value:this.currentNode.records[this.i++]}:(void 0!==this.currentNode.right?this.push(this.currentNode.right):this.pop(),this.next())},h.prototype.push=function(v){for(this.currentNode=v,this.i=0;void 0!==this.currentNode.left;)this.stack.push(this.currentNode),this.currentNode=this.currentNode.left},h.prototype.pop=function(){this.currentNode=this.stack.pop(),this.i=0},h}();$.InOrder=C,"function"==typeof Symbol&&(C.prototype[Symbol.iterator]=function(){return this});var y=function(){function h(v){this.stack=[],this.i=0,this.currentNode=v}return h.prototype.next=function(){return void 0===this.currentNode?{done:!0,value:void 0}:this.i<this.currentNode.records.length?{done:!1,value:this.currentNode.records[this.i++]}:(void 0!==this.currentNode.right&&this.push(this.currentNode.right),void 0!==this.currentNode.left&&this.push(this.currentNode.left),this.pop(),this.next())},h.prototype.push=function(v){this.stack.push(v)},h.prototype.pop=function(){this.currentNode=this.stack.pop(),this.i=0},h}();$.PreOrder=y,"function"==typeof Symbol&&(y.prototype[Symbol.iterator]=function(){return this})},function(se,$){se.exports=function(F,R,L,m){var T=L?L.call(m,F,R):void 0;if(void 0!==T)return!!T;if(F===R)return!0;if("object"!=typeof F||!F||"object"!=typeof R||!R)return!1;var C=Object.keys(F),y=Object.keys(R);if(C.length!==y.length)return!1;for(var h=Object.prototype.hasOwnProperty.bind(R),v=0;v<C.length;v++){var f=C[v];if(!h(f))return!1;var d=F[f],u=R[f];if(!1===(T=L?L.call(m,d,u,f):void 0)||void 0===T&&d!==u)return!1}return!0}},function(se,$,w){"use strict";$.a=function F(R){var L=R.AcroFormAppearance.RadioButton.Circle.YesNormal;R.AcroFormAppearance.RadioButton.Circle.YesNormal=function(m){var T=L(m),C=T.stream.split("\n"),y=R.__private__.encodeColorString(m.color);return C[0]=C[0]+"\n"+y+"\n"+y.toUpperCase(),T.stream=C.join("\n"),T}}},function(se,$,w){"use strict";var F=w(0),R=w(7);w.d($,"a",function(){return L});var L=function(m){function T(C,y,h,v,f){var d=m.call(this,void 0,C,y)||this;return d.color=h,d.renderWidth=v,d.renderHeight=f,d}return w.i(F.a)(T,m),T.prototype.renderInteractive=function(){var C,y;return w.i(F.b)(this,void 0,void 0,function(){var h;return w.i(F.c)(this,function(v){return h=this.controller.doc.getFillColor(),this.controller.doc.setFillColor(this.color||"black"),this.controller.doc.rect(this.xLeft,this.yTop,null!==(C=this.renderWidth)&&void 0!==C?C:this.width,null!==(y=this.renderHeight)&&void 0!==y?y:this.height,"F"),this.controller.doc.setFillColor(h),[2]})})},T}(R.a)},function(se,$,w){"use strict";var F=w(0),R=w(4);w.d($,"a",function(){return L});var L=function(m){function T(C,y,h,v){return m.call(this,C,y,h,v)||this}return w.i(F.a)(T,m),T}(R.a)},function(se,$){var w;w=function(){return this}();try{w=w||Function("return this")()||(0,eval)("this")}catch(F){"object"==typeof window&&(w=window)}se.exports=w},function(se,$,w){(function(F){!function(L,m){"use strict";var C,T=L.API,y=1;function h(Le){for(var Xe="",ke=0;ke<Le.length;ke++){for(var it=Le.charCodeAt(ke).toString(16).toUpperCase();it.length<4;)it="0"+it;Xe+=it}return"<FEFF"+Xe+">"}var v=function(Le){return Le.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},f=function(Le){return Le.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")};var u=function(Le){return Le.toFixed(2)},a=function(Le){return Le.toFixed(5)};T.__acroform__={};var o=function(Le,Xe){Le.prototype=Object.create(Xe.prototype),Le.prototype.constructor=Le},s=function(Le){return Le*y},l=function(Le){return Le/y},c=function(Le){var Xe=new fn,ke=gn.internal.getHeight(Le)||0,it=gn.internal.getWidth(Le)||0;return Xe.BBox=[0,0,Number(u(it)),Number(u(ke))],Xe},b=T.__acroform__.setBit=function(Le,Xe){if(Le=Le||0,Xe=Xe||0,isNaN(Le)||isNaN(Xe))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return Le|1<<Xe},M=T.__acroform__.clearBit=function(Le,Xe){if(Le=Le||0,Xe=Xe||0,isNaN(Le)||isNaN(Xe))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return Le&~(1<<Xe)},D=T.__acroform__.getBit=function(Le,Xe){if(isNaN(Le)||isNaN(Xe))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(Le&1<<Xe)?0:1},g=T.__acroform__.getBitForPdf=function(Le,Xe){if(isNaN(Le)||isNaN(Xe))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return D(Le,Xe-1)},P=T.__acroform__.setBitForPdf=function(Le,Xe){if(isNaN(Le)||isNaN(Xe))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return b(Le,Xe-1)},A=T.__acroform__.clearBitForPdf=function(Le,Xe){if(isNaN(Le)||isNaN(Xe))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return M(Le,Xe-1)},k=T.__acroform__.calculateCoordinates=function(Le){var Xe=this.internal.getHorizontalCoordinate,ke=this.internal.getVerticalCoordinate,it=Le[0],_t=Le[1],Mn=Le[2],Tr=Le[3],Pr={};return Pr.lowerLeft_X=Xe(it)||0,Pr.lowerLeft_Y=ke(_t+Tr)||0,Pr.upperRight_X=Xe(it+Mn)||0,Pr.upperRight_Y=ke(_t)||0,[Number(u(Pr.lowerLeft_X)),Number(u(Pr.lowerLeft_Y)),Number(u(Pr.upperRight_X)),Number(u(Pr.upperRight_Y))]},Z=function(Le){if(Le.appearanceStreamContent)return Le.appearanceStreamContent;if(Le.V||Le.DV){var Xe=[],it=re(Le,Le.V||Le.DV),_t=C.internal.getFont(Le.fontName,Le.fontStyle).id;Xe.push("/Tx BMC"),Xe.push("q"),Xe.push("BT"),Xe.push(C.__private__.encodeColorString(Le.color)),Xe.push("/"+_t+" "+u(it.fontSize)+" Tf"),Xe.push("1 0 0 1 0 0 Tm"),Xe.push(it.text),Xe.push("ET"),Xe.push("Q"),Xe.push("EMC");var Mn=new c(Le);return Mn.stream=Xe.join("\n"),Mn}},re=function(Le,Xe){Le.isUnicode&&(Xe=Le.trueValue);var ke=0===Le.fontSize?Le.maxFontSize:Le.fontSize,it={text:"",fontSize:""},_t=(Xe=")"==(Xe="("==Xe.substr(0,1)?Xe.substr(1):Xe).substr(Xe.length-1)?Xe.substr(0,Xe.length-1):Xe).split(" ");_t=_t.map(function(js){return js.split("\n")}),Le.multiline||(_t=_t.map(function(js){return[js.join(" ")]}));var Mn=ke,si=gn.internal.getHeight(Le)||0;si=si<0?-si:si;var gi=gn.internal.getWidth(Le)||0;gi=gi<0?-gi:gi;var js,na,Xl;Mn++;e:for(;Mn>0;){Xe="",Mn--;var ko,ta,qi=H("3",Le,Mn).height,$i=Le.multiline?si-Mn:(si-qi)/2,Fi=$i+=2,ls=0,Xt=0,Ko=0;if(Mn<=0){Xe="(...) Tj\n",Xe+="% Width of Text: "+H(Xe,Le,Mn=12).width+", FieldWidth:"+gi+"\n";break}var qo="",xa=0;t:for(var Mo=0;Mo<_t.length;Mo++)if(_t.hasOwnProperty(Mo)){var bi=!1;if(1!==_t[Mo].length&&Ko!==_t[Mo].length-1){if((qi+2)*(xa+2)+2>si)continue e;qo+=_t[Mo][Ko],bi=!0,Xt=Mo,Mo--}else{qo=" "==(qo+=_t[Mo][Ko]+" ").substr(qo.length-1)?qo.substr(0,qo.length-1):qo;var Zl=parseInt(Mo),wi=(na=qo,Xl=Mn,(js=Zl)+1<_t.length&&H(na+" "+_t[js+1][0],Le,Xl).width<=gi-4),Ns=Mo>=_t.length-1;if(wi&&!Ns){qo+=" ",Ko=0;continue}if(wi||Ns){if(Ns)Xt=Zl;else if(Le.multiline&&(qi+2)*(xa+2)+2>si)continue e}else{if(!Le.multiline)continue e;if((qi+2)*(xa+2)+2>si)continue e;Xt=Zl}}for(var mi="",yl=ls;yl<=Xt;yl++){var Bs=_t[yl];if(Le.multiline){if(yl===Xt){mi+=Bs[Ko]+" ",Ko=(Ko+1)%Bs.length;continue}if(yl===ls){mi+=Bs[Bs.length-1]+" ";continue}}mi+=Bs[0]+" "}switch(mi=" "==mi.substr(mi.length-1)?mi.substr(0,mi.length-1):mi,ta=H(mi,Le,Mn).width,Le.textAlign){case"right":ko=gi-ta-2;break;case"center":ko=(gi-ta)/2;break;default:ko=2}if(Xe+=u(ko)+" "+u(Fi)+" Td\n",Le.isUnicode){var vl={};vl[C.internal.getFont().id]=C.internal.getFont();var Ps={text:mi,x:null,y:null,options:{lang:null},mutex:{pdfEscape:v,activeFontKey:C.internal.getFont().id,fonts:vl,activeFontSize:Le.fontSize}};C.internal.events.publish("postProcessText",Ps),Xe+="<"+Ps.text+"> Tj\n"}else Xe+="("+v(mi)+") Tj\n";Xe+=-u(ko)+" 0 Td\n",Fi=-(Mn+2),ta=0,ls=bi?Xt:Xt+1,xa++,qo="";continue t}break}return it.text=Xe,it.fontSize=Mn,it},H=function(Le,Xe,ke){var it=C.internal.getFont(Xe.fontName,Xe.fontStyle),_t=C.getStringUnitWidth(Le,{font:it,fontSize:parseFloat(ke),charSpace:0})*parseFloat(ke);return{height:C.getStringUnitWidth("3",{font:it,fontSize:parseFloat(ke),charSpace:0})*parseFloat(ke)*1.5,width:_t}},E={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},B=function(){C.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var Le=C.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Xe in Le)if(Le.hasOwnProperty(Xe)){var ke=Le[Xe];ke.objId=void 0,ke.hasAnnotation&&ae.call(C,ke)}},U=function(Le){C.internal.acroformPlugin.printedOut&&(C.internal.acroformPlugin.printedOut=!1,C.internal.acroformPlugin.acroFormDictionaryRoot=null),C.internal.acroformPlugin.acroFormDictionaryRoot||Ze.call(C),C.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(Le)},ae=function(Le){var Xe={type:"reference",object:Le};void 0===C.internal.getPageInfo(Le.page).pageContext.annotations.find(function(it){return it.type===Xe.type&&it.object===Xe.object})&&C.internal.getPageInfo(Le.page).pageContext.annotations.push(Xe)},Pe=function(){if(void 0===C.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");C.internal.write("/AcroForm "+C.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")},je=function(){C.internal.events.unsubscribe(C.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete C.internal.acroformPlugin.acroFormDictionaryRoot._eventID,C.internal.acroformPlugin.printedOut=!0},ft=function(Le){var Xe=!Le;for(var ke in Le||(C.internal.newObjectDeferredBegin(C.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),C.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),Le=Le||C.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(Le.hasOwnProperty(ke)){var it=Le[ke],_t=[],Mn=it.Rect;if(it.Rect&&(it.Rect=k.call(this,it.Rect)),C.internal.newObjectDeferredBegin(it.objId,!0),it.DA=gn.createDefaultAppearanceStream(it),"object"==typeof it&&"function"==typeof it.getKeyValueListForStream&&(_t=it.getKeyValueListForStream()),it.Rect=Mn,it.hasAppearanceStream&&!it.appearanceStreamContent){var Tr=Z.call(this,it);_t.push({key:"AP",value:"<</N "+Tr+">>"}),C.internal.acroformPlugin.xForms.push(Tr)}if(it.appearanceStreamContent){var Pr="";for(var si in it.appearanceStreamContent)if(it.appearanceStreamContent.hasOwnProperty(si)){var gi=it.appearanceStreamContent[si];if(Pr+="/"+si+" ",Pr+="<<",Object.keys(gi).length>=1||Array.isArray(gi)){for(var ke in gi)if(gi.hasOwnProperty(ke)){var Oi=gi[ke];"function"==typeof Oi&&(Oi=Oi.call(this,it)),Pr+="/"+ke+" "+Oi+" ",C.internal.acroformPlugin.xForms.indexOf(Oi)>=0||C.internal.acroformPlugin.xForms.push(Oi)}}else"function"==typeof(Oi=gi)&&(Oi=Oi.call(this,it)),Pr+="/"+ke+" "+Oi,C.internal.acroformPlugin.xForms.indexOf(Oi)>=0||C.internal.acroformPlugin.xForms.push(Oi);Pr+=">>"}_t.push({key:"AP",value:"<<\n"+Pr+">>"})}C.internal.putStream({additionalKeyValues:_t}),C.internal.out("endobj")}Xe&&gt.call(this,C.internal.acroformPlugin.xForms)},gt=function(Le){for(var Xe in Le)if(Le.hasOwnProperty(Xe)){var ke=Xe,it=Le[Xe];C.internal.newObjectDeferredBegin(it&&it.objId,!0),"object"==typeof it&&"function"==typeof it.putStream&&it.putStream(),delete Le[ke]}},Ze=function(){if(void 0!==this.internal&&(void 0===this.internal.acroformPlugin||!1===this.internal.acroformPlugin.isInitialized)){if(C=this,rr.FieldNum=0,this.internal.acroformPlugin=JSON.parse(JSON.stringify(E)),this.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");y=C.internal.scaleFactor,C.internal.acroformPlugin.acroFormDictionaryRoot=new nr,C.internal.acroformPlugin.acroFormDictionaryRoot._eventID=C.internal.events.subscribe("postPutResources",je),C.internal.events.subscribe("buildDocument",B),C.internal.events.subscribe("putCatalog",Pe),C.internal.events.subscribe("postPutPages",ft),C.internal.acroformPlugin.isInitialized=!0}},xt=T.__acroform__.arrayToPdfArray=function(Le){if(Array.isArray(Le)){for(var Xe="[",ke=0;ke<Le.length;ke++)switch(0!==ke&&(Xe+=" "),typeof Le[ke]){case"boolean":case"number":case"object":Xe+=Le[ke].toString();break;case"string":"/"!==Le[ke].substr(0,1)?Xe+="("+v(Le[ke].toString())+")":Xe+=Le[ke].toString()}return Xe+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")};var Pt=function(Le){return(Le=Le||"").toString(),"("+v(Le)+")"},Tt=function(){var Le;Object.defineProperty(this,"objId",{configurable:!0,get:function(){return Le||(Le=C.internal.newObjectDeferred()),Le},set:function(Xe){Le=Xe}})};Tt.prototype.toString=function(){return this.objId+" 0 R"},Tt.prototype.putStream=function(){var Le=this.getKeyValueListForStream();C.internal.putStream({data:this.stream,additionalKeyValues:Le}),C.internal.out("endobj")},Tt.prototype.getKeyValueListForStream=function(){return function(Xe){var ke=[],it=Object.getOwnPropertyNames(Xe).filter(function(si){return"content"!=si&&"appearanceStreamContent"!=si&&"_"!=si.substring(0,1)});for(var _t in it){var Mn=Object.getOwnPropertyDescriptor(Xe,it[_t]);if(Mn&&!1===Mn.configurable){var Tr=it[_t],Pr=Xe[Tr];Pr&&(Array.isArray(Pr)?ke.push({key:Tr,value:xt(Pr)}):Pr instanceof Tt?ke.push({key:Tr,value:Pr.objId+" 0 R"}):"function"!=typeof Pr&&ke.push({key:Tr,value:Pr}))}}return ke}(this)};var fn=function(){Tt.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writeable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writeable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writeable:!0});var Xe,Le=[];Object.defineProperty(this,"BBox",{configurable:!1,writeable:!0,get:function(){return Le},set:function(ke){Le=ke}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writeable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(ke){Xe=ke.trim()},get:function(){return Xe||null}})};o(fn,Tt);var nr=function(){Tt.call(this);var Xe,Le=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){if(Le.length>0)return Le}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return Le}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(Xe)return"("+Xe+")"},set:function(ke){Xe=ke}})};o(nr,Tt);var rr=function(){Tt.call(this);var Le=4;this.isUnicode=!1,this.trueValue="",Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return Le},set:function(Xt){if(isNaN(Xt))throw new Error('Invalid value "'+Xt+'" for attribute F supplied.');Le=Xt}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(Le,3))},set:function(Xt){this.F=!0===Boolean(Xt)?P(Le,3):A(Le,3)}});var Xe=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return Xe},set:function(Xt){if(isNaN(Xt))throw new Error('Invalid value "'+Xt+'" for attribute Ff supplied.');Xe=Xt}});var ke=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==ke.length)return ke},set:function(Xt){ke=void 0!==Xt?Xt:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!ke||isNaN(ke[0])?0:l(ke[0])},set:function(Xt){ke[0]=s(Xt)}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!ke||isNaN(ke[1])?0:l(ke[1])},set:function(Xt){ke[1]=s(Xt)}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!ke||isNaN(ke[2])?0:l(ke[2])},set:function(Xt){ke[2]=s(Xt)}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!ke||isNaN(ke[3])?0:l(ke[3])},set:function(Xt){ke[3]=s(Xt)}});var it="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return it},set:function(Xt){switch(Xt){case"/Btn":case"/Tx":case"/Ch":case"/Sig":it=Xt;break;default:throw new Error('Invalid value "'+Xt+'" for attribute FT supplied.')}}});var _t=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!_t||_t.length<1){if(this instanceof Li)return;_t="FieldObject"+rr.FieldNum++}return"("+v(_t)+")"},set:function(Xt){_t=Xt.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return _t},set:function(Xt){_t=Xt}});var Mn="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Mn},set:function(Xt){Mn=Xt}});var Tr="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return Tr},set:function(Xt){Tr=Xt}});var Pr=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l(Pr)},set:function(Xt){Pr=s(Xt)}});var si=50;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l(si)},set:function(Xt){si=s(Xt)}});var gi="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return gi},set:function(Xt){gi=Xt}});var Oi="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Oi||this instanceof Li||this instanceof ni))return Pt(Oi)},set:function(Xt){Xt=Xt.toString(),Oi=Xt}});var qi=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(qi)return this instanceof Br?qi:Pt(qi)},set:function(Xt){Xt=Xt.toString(),qi=this instanceof Br?Xt:"("===Xt.substr(0,1)?f(Xt.substr(1,Xt.length-2)):f(Xt)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Br?f(qi.substr(1,qi.length-1)):qi},set:function(Xt){Xt=Xt.toString(),qi=this instanceof Br?"/"+Xt:Xt}});var $i=null;Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){return this.isUnicode?$i:$i?this instanceof Br?$i:Pt($i):void 0},set:function(Xt){Xt=Xt.toString(),this.isUnicode?($i=h(Xt),this.trueValue=Xt):$i=this instanceof Br?Xt:"("===Xt.substr(0,1)?f(Xt.substr(1,Xt.length-2)):f(Xt)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Br?f($i.substr(1,$i.length-1)):$i},set:function(Xt){Xt=Xt.toString(),$i=this instanceof Br?"/"+Xt:Xt}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Fi,ko=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,writeable:!0,get:function(){return ko},set:function(Xt){Xt=Boolean(Xt),ko=Xt}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writeable:!0,get:function(){if(Fi)return Fi},set:function(Xt){Fi=Xt}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,1))},set:function(Xt){this.Ff=!0===Boolean(Xt)?P(this.Ff,1):A(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,2))},set:function(Xt){this.Ff=!0===Boolean(Xt)?P(this.Ff,2):A(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,3))},set:function(Xt){this.Ff=!0===Boolean(Xt)?P(this.Ff,3):A(this.Ff,3)}});var ls=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==ls)return ls},set:function(Xt){if(-1===[0,1,2].indexOf(Xt))throw new Error('Invalid value "'+Xt+'" for attribute Q supplied.');ls=Xt}}),Object.defineProperty(this,"textAlign",{get:function(){var Xt;switch(ls){case 0:default:Xt="left";break;case 1:Xt="center";break;case 2:Xt="right"}return Xt},configurable:!0,enumerable:!0,set:function(Xt){switch(Xt){case"right":case 2:ls=2;break;case"center":case 1:ls=1;break;default:ls=0}}})};o(rr,Tt);var _r=function(){rr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var Le=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return Le},set:function(it){Le=it}});var Xe="<< /BG [ 0.975 0.975 0.975 ]  >>";Object.defineProperty(this,"MK",{enumerable:!0,configurable:!1,get:function(){return Xe},set:function(it){Xe=it}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return Le},set:function(it){Le=it}});var ke=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return this.isUnicode?function d(Le){for(var Xe="[ ",ke=0;ke<Le.length;ke++)Xe+=h(Le[ke]);return Xe+" ]"}(ke):xt(ke)},set:function(it){ke=function(Le){var Xe=[];return"string"==typeof Le&&(Xe=function Ke(Le,Xe,ke){ke||(ke=1);for(var _t,it=[];_t=Xe.exec(Le);)it.push(_t[ke]);return it}(Le,/\((.*?)\)/g)),Xe}(it)}}),this.getOptions=function(){return ke},this.setOptions=function(it){ke=it,this.sort&&ke.sort()},this.addOption=function(it){it=(it=it||"").toString(),ke.push(it),this.sort&&ke.sort()},this.removeOption=function(it,_t){for(_t=_t||!1,it=(it=it||"").toString();-1!==ke.indexOf(it)&&(ke.splice(ke.indexOf(it),1),!1!==_t););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,18))},set:function(it){this.Ff=!0===Boolean(it)?P(this.Ff,18):A(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,19))},set:function(it){!0===this.combo&&(this.Ff=!0===Boolean(it)?P(this.Ff,19):A(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,20))},set:function(it){!0===Boolean(it)?(this.Ff=P(this.Ff,20),ke.sort()):this.Ff=A(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,22))},set:function(it){this.Ff=!0===Boolean(it)?P(this.Ff,22):A(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,23))},set:function(it){this.Ff=!0===Boolean(it)?P(this.Ff,23):A(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,27))},set:function(it){this.Ff=!0===Boolean(it)?P(this.Ff,27):A(this.Ff,27)}}),this.hasAppearanceStream=!1};o(_r,rr);var Vi=function(){_r.call(this),this.fontName="helvetica",this.combo=!1};o(Vi,_r);var Ci=function(){Vi.call(this),this.combo=!0};o(Ci,Vi);var Hi=function(){Ci.call(this),this.edit=!0};o(Hi,Ci);var Br=function(){rr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,15))},set:function(ke){this.Ff=!0===Boolean(ke)?P(this.Ff,15):A(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,16))},set:function(ke){this.Ff=!0===Boolean(ke)?P(this.Ff,16):A(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,17))},set:function(ke){this.Ff=!0===Boolean(ke)?P(this.Ff,17):A(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,26))},set:function(ke){this.Ff=!0===Boolean(ke)?P(this.Ff,26):A(this.Ff,26)}});var Xe,Le={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){if(0!==Object.keys(Le).length){var it,ke=[];for(it in ke.push("<<"),Le)ke.push("/"+it+" ("+Le[it]+")");return ke.push(">>"),ke.join("\n")}},set:function(ke){"object"==typeof ke&&(Le=ke)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Le.CA||""},set:function(ke){"string"==typeof ke&&(Le.CA=ke)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Xe},set:function(ke){Xe=ke}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Xe.substr(1,Xe.length-1)},set:function(ke){Xe="/"+ke}})};o(Br,rr);var ss=function(){Br.call(this),this.pushButton=!0};o(ss,Br);var as=function(){Br.call(this),this.radio=!0,this.pushButton=!1;var Le=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return Le},set:function(Xe){Le=void 0!==Xe?Xe:[]}})};o(as,Br);var Li=function(){var Le,Xe;rr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return Le},set:function(_t){Le=_t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return Xe},set:function(_t){Xe=_t}});var it,ke={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Mn,_t=[];for(Mn in _t.push("<<"),ke)_t.push("/"+Mn+" ("+ke[Mn]+")");return _t.push(">>"),_t.join("\n")},set:function(_t){"object"==typeof _t&&(ke=_t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return ke.CA||""},set:function(_t){"string"==typeof _t&&(ke.CA=_t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return it},set:function(_t){it=_t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return it.substr(1,it.length-1)},set:function(_t){it="/"+_t}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};o(Li,rr),as.prototype.setAppearance=function(Le){if(!("createAppearanceStream"in Le)||!("getCA"in Le))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var Xe in this.Kids)if(this.Kids.hasOwnProperty(Xe)){var ke=this.Kids[Xe];ke.appearanceStreamContent=Le.createAppearanceStream(ke.optionName),ke.caption=Le.getCA()}},as.prototype.createOption=function(Le){var Xe=new Li;return Xe.Parent=this,Xe.optionName=Le,this.Kids.push(Xe),Fs.call(this,Xe),Xe};var bs=function(){Br.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gn.CheckBox.createAppearanceStream()};o(bs,Br);var ni=function(){rr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,13))},set:function(Xe){this.Ff=!0===Boolean(Xe)?P(this.Ff,13):A(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,21))},set:function(Xe){this.Ff=!0===Boolean(Xe)?P(this.Ff,21):A(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,23))},set:function(Xe){this.Ff=!0===Boolean(Xe)?P(this.Ff,23):A(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,24))},set:function(Xe){this.Ff=!0===Boolean(Xe)?P(this.Ff,24):A(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,25))},set:function(Xe){this.Ff=!0===Boolean(Xe)?P(this.Ff,25):A(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,26))},set:function(Xe){this.Ff=!0===Boolean(Xe)?P(this.Ff,26):A(this.Ff,26)}});var Le=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return Le},set:function(Xe){Le=Xe}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return Le},set:function(Xe){Number.isInteger(Xe)&&(Le=Xe)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};o(ni,rr);var bo=function(){ni.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,14))},set:function(Le){this.Ff=!0===Boolean(Le)?P(this.Ff,14):A(this.Ff,14)}}),this.password=!0};o(bo,ni);var gn={CheckBox:{createAppearanceStream:function(){return{N:{On:gn.CheckBox.YesNormal},D:{On:gn.CheckBox.YesPushDown,Off:gn.CheckBox.OffPushDown}}},YesPushDown:function(Le){var Xe=new c(Le),ke=[],it=C.internal.getFont(Le.fontName,Le.fontStyle).id,_t=C.__private__.encodeColorString(Le.color),Mn=re(Le,Le.caption);return ke.push("0.749023 g"),ke.push("0 0 "+u(gn.internal.getWidth(Le))+" "+u(gn.internal.getHeight(Le))+" re"),ke.push("f"),ke.push("BMC"),ke.push("q"),ke.push("0 0 1 rg"),ke.push("/"+it+" "+u(Mn.fontSize)+" Tf "+_t),ke.push("BT"),ke.push(Mn.text),ke.push("ET"),ke.push("Q"),ke.push("EMC"),Xe.stream=ke.join("\n"),Xe},YesNormal:function(Le){var Xe=new c(Le),ke=C.internal.getFont(Le.fontName,Le.fontStyle).id,it=C.__private__.encodeColorString(Le.color),_t=[],Mn=gn.internal.getHeight(Le),Tr=gn.internal.getWidth(Le),Pr=re(Le,Le.caption);return _t.push("1 g"),_t.push("0 0 "+u(Tr)+" "+u(Mn)+" re"),_t.push("f"),_t.push("q"),_t.push("0 0 1 rg"),_t.push("0 0 "+u(Tr-1)+" "+u(Mn-1)+" re"),_t.push("W"),_t.push("n"),_t.push("0 g"),_t.push("BT"),_t.push("/"+ke+" "+u(Pr.fontSize)+" Tf "+it),_t.push(Pr.text),_t.push("ET"),_t.push("Q"),Xe.stream=_t.join("\n"),Xe},OffPushDown:function(Le){var Xe=new c(Le),ke=[];return ke.push("0.749023 g"),ke.push("0 0 "+u(gn.internal.getWidth(Le))+" "+u(gn.internal.getHeight(Le))+" re"),ke.push("f"),Xe.stream=ke.join("\n"),Xe}},RadioButton:{Circle:{createAppearanceStream:function(Le){var Xe={D:{Off:gn.RadioButton.Circle.OffPushDown},N:{}};return Xe.N[Le]=gn.RadioButton.Circle.YesNormal,Xe.D[Le]=gn.RadioButton.Circle.YesPushDown,Xe},getCA:function(){return"l"},YesNormal:function(Le){var Xe=new c(Le),ke=[],it=gn.internal.getWidth(Le)<=gn.internal.getHeight(Le)?gn.internal.getWidth(Le)/4:gn.internal.getHeight(Le)/4;it=Number((.9*it).toFixed(5));var Mn=Number((it*gn.internal.Bezier_C).toFixed(5));return ke.push("q"),ke.push("1 0 0 1 "+a(gn.internal.getWidth(Le)/2)+" "+a(gn.internal.getHeight(Le)/2)+" cm"),ke.push(it+" 0 m"),ke.push(it+" "+Mn+" "+Mn+" "+it+" 0 "+it+" c"),ke.push("-"+Mn+" "+it+" -"+it+" "+Mn+" -"+it+" 0 c"),ke.push("-"+it+" -"+Mn+" -"+Mn+" -"+it+" 0 -"+it+" c"),ke.push(Mn+" -"+it+" "+it+" -"+Mn+" "+it+" 0 c"),ke.push("f"),ke.push("Q"),Xe.stream=ke.join("\n"),Xe},YesPushDown:function(Le){var Xe=new c(Le),ke=[],it=gn.internal.getWidth(Le)<=gn.internal.getHeight(Le)?gn.internal.getWidth(Le)/4:gn.internal.getHeight(Le)/4,_t=(it=Number((.9*it).toFixed(5)),Number((2*it).toFixed(5))),Mn=Number((_t*gn.internal.Bezier_C).toFixed(5)),Tr=Number((it*gn.internal.Bezier_C).toFixed(5));return ke.push("0.749023 g"),ke.push("q"),ke.push("1 0 0 1 "+a(gn.internal.getWidth(Le)/2)+" "+a(gn.internal.getHeight(Le)/2)+" cm"),ke.push(_t+" 0 m"),ke.push(_t+" "+Mn+" "+Mn+" "+_t+" 0 "+_t+" c"),ke.push("-"+Mn+" "+_t+" -"+_t+" "+Mn+" -"+_t+" 0 c"),ke.push("-"+_t+" -"+Mn+" -"+Mn+" -"+_t+" 0 -"+_t+" c"),ke.push(Mn+" -"+_t+" "+_t+" -"+Mn+" "+_t+" 0 c"),ke.push("f"),ke.push("Q"),ke.push("0 g"),ke.push("q"),ke.push("1 0 0 1 "+a(gn.internal.getWidth(Le)/2)+" "+a(gn.internal.getHeight(Le)/2)+" cm"),ke.push(it+" 0 m"),ke.push(it+" "+Tr+" "+Tr+" "+it+" 0 "+it+" c"),ke.push("-"+Tr+" "+it+" -"+it+" "+Tr+" -"+it+" 0 c"),ke.push("-"+it+" -"+Tr+" -"+Tr+" -"+it+" 0 -"+it+" c"),ke.push(Tr+" -"+it+" "+it+" -"+Tr+" "+it+" 0 c"),ke.push("f"),ke.push("Q"),Xe.stream=ke.join("\n"),Xe},OffPushDown:function(Le){var Xe=new c(Le),ke=[],it=gn.internal.getWidth(Le)<=gn.internal.getHeight(Le)?gn.internal.getWidth(Le)/4:gn.internal.getHeight(Le)/4;it=Number((.9*it).toFixed(5));var _t=Number((2*it).toFixed(5)),Mn=Number((_t*gn.internal.Bezier_C).toFixed(5));return ke.push("0.749023 g"),ke.push("q"),ke.push("1 0 0 1 "+a(gn.internal.getWidth(Le)/2)+" "+a(gn.internal.getHeight(Le)/2)+" cm"),ke.push(_t+" 0 m"),ke.push(_t+" "+Mn+" "+Mn+" "+_t+" 0 "+_t+" c"),ke.push("-"+Mn+" "+_t+" -"+_t+" "+Mn+" -"+_t+" 0 c"),ke.push("-"+_t+" -"+Mn+" -"+Mn+" -"+_t+" 0 -"+_t+" c"),ke.push(Mn+" -"+_t+" "+_t+" -"+Mn+" "+_t+" 0 c"),ke.push("f"),ke.push("Q"),Xe.stream=ke.join("\n"),Xe}},Cross:{createAppearanceStream:function(Le){var Xe={D:{Off:gn.RadioButton.Cross.OffPushDown},N:{}};return Xe.N[Le]=gn.RadioButton.Cross.YesNormal,Xe.D[Le]=gn.RadioButton.Cross.YesPushDown,Xe},getCA:function(){return"8"},YesNormal:function(Le){var Xe=new c(Le),ke=[],it=gn.internal.calculateCross(Le);return ke.push("q"),ke.push("1 1 "+u(gn.internal.getWidth(Le)-2)+" "+u(gn.internal.getHeight(Le)-2)+" re"),ke.push("W"),ke.push("n"),ke.push(u(it.x1.x)+" "+u(it.x1.y)+" m"),ke.push(u(it.x2.x)+" "+u(it.x2.y)+" l"),ke.push(u(it.x4.x)+" "+u(it.x4.y)+" m"),ke.push(u(it.x3.x)+" "+u(it.x3.y)+" l"),ke.push("s"),ke.push("Q"),Xe.stream=ke.join("\n"),Xe},YesPushDown:function(Le){var Xe=new c(Le),ke=gn.internal.calculateCross(Le),it=[];return it.push("0.749023 g"),it.push("0 0 "+u(gn.internal.getWidth(Le))+" "+u(gn.internal.getHeight(Le))+" re"),it.push("f"),it.push("q"),it.push("1 1 "+u(gn.internal.getWidth(Le)-2)+" "+u(gn.internal.getHeight(Le)-2)+" re"),it.push("W"),it.push("n"),it.push(u(ke.x1.x)+" "+u(ke.x1.y)+" m"),it.push(u(ke.x2.x)+" "+u(ke.x2.y)+" l"),it.push(u(ke.x4.x)+" "+u(ke.x4.y)+" m"),it.push(u(ke.x3.x)+" "+u(ke.x3.y)+" l"),it.push("s"),it.push("Q"),Xe.stream=it.join("\n"),Xe},OffPushDown:function(Le){var Xe=new c(Le),ke=[];return ke.push("0.749023 g"),ke.push("0 0 "+u(gn.internal.getWidth(Le))+" "+u(gn.internal.getHeight(Le))+" re"),ke.push("f"),Xe.stream=ke.join("\n"),Xe}}},createDefaultAppearanceStream:function(Le){var Xe=C.internal.getFont(Le.fontName,Le.fontStyle).id,ke=C.__private__.encodeColorString(Le.color);return"/"+Xe+" "+Le.fontSize+" Tf "+ke}};gn.internal={Bezier_C:.551915024494,calculateCross:function(Le){var Xe=gn.internal.getWidth(Le),ke=gn.internal.getHeight(Le),it=Math.min(Xe,ke);return{x1:{x:(Xe-it)/2,y:(ke-it)/2+it},x2:{x:(Xe-it)/2+it,y:(ke-it)/2},x3:{x:(Xe-it)/2,y:(ke-it)/2},x4:{x:(Xe-it)/2+it,y:(ke-it)/2+it}}}},gn.internal.getWidth=function(Le){var Xe=0;return"object"==typeof Le&&(Xe=s(Le.Rect[2])),Xe},gn.internal.getHeight=function(Le){var Xe=0;return"object"==typeof Le&&(Xe=s(Le.Rect[3])),Xe};var Fs=T.addField=function(Le){if(Ze.call(this),!(Le instanceof rr))throw new Error("Invalid argument passed to jsPDF.addField.");return U.call(this,Le),Le.page=C.internal.getCurrentPageInfo().pageNumber,this};T.addButton=function(Le){if(!(Le instanceof Br))throw new Error("Invalid argument passed to jsPDF.addButton.");return Fs.call(this,Le)},T.addTextField=function(Le){if(!(Le instanceof ni))throw new Error("Invalid argument passed to jsPDF.addTextField.");return Fs.call(this,Le)},T.addChoiceField=function(Le){if(!(Le instanceof _r))throw new Error("Invalid argument passed to jsPDF.addChoiceField.");return Fs.call(this,Le)},"object"==typeof m&&void 0===m.ChoiceField&&void 0===m.ListBox&&void 0===m.ComboBox&&void 0===m.EditBox&&void 0===m.Button&&void 0===m.PushButton&&void 0===m.RadioButton&&void 0===m.CheckBox&&void 0===m.TextField&&void 0===m.PasswordField&&(m.ChoiceField=_r,m.ListBox=Vi,m.ComboBox=Ci,m.EditBox=Hi,m.Button=Br,m.PushButton=ss,m.RadioButton=as,m.CheckBox=bs,m.TextField=ni,m.PasswordField=bo,m.AcroForm={Appearance:gn}),T.AcroFormChoiceField=_r,T.AcroFormListBox=Vi,T.AcroFormComboBox=Ci,T.AcroFormEditBox=Hi,T.AcroFormButton=Br,T.AcroFormPushButton=ss,T.AcroFormRadioButton=as,T.AcroFormCheckBox=bs,T.AcroFormTextField=ni,T.AcroFormPasswordField=bo,T.AcroFormAppearance=gn,T.AcroForm={ChoiceField:_r,ListBox:Vi,ComboBox:Ci,EditBox:Hi,Button:Br,PushButton:ss,RadioButton:as,CheckBox:bs,TextField:ni,PasswordField:bo,Appearance:gn},L.AcroForm={ChoiceField:_r,ListBox:Vi,ComboBox:Ci,EditBox:Hi,Button:Br,PushButton:ss,RadioButton:as,CheckBox:bs,TextField:ni,PasswordField:bo,Appearance:gn}}(w(17).jsPDF,"undefined"!=typeof window&&window||void 0!==F&&F)}).call($,w(61))},function(se,$,w){!function(R){var L,m,T,C,y,h,v,f,d,u,a,o,s,l,c,b,M,D,g,P;L=function(){return function(re){return Z.prototype=re,new Z};function Z(){}}(),u=function(re){var H,E,B,U,ae,Pe,je;for(E=0,B=re.length,H=void 0,U=!1,Pe=!1;!U&&E!==B;)(H=re[E]=re[E].trimLeft())&&(U=!0),E++;for(E=B-1;B&&!Pe&&-1!==E;)(H=re[E]=re[E].trimRight())&&(Pe=!0),E--;for(ae=/\s+$/g,je=!0,E=0;E!==B;)"\u2028"!=re[E]&&(H=re[E].replace(/\s+/g," "),je&&(H=H.trimLeft()),H&&(je=ae.test(H)),re[E]=H),E++;return re},o=function(re){var H,E,B;for(H=void 0,E=(B=re.split(",")).shift();!H&&E;)H=T[E.trim().toLowerCase()],E=B.shift();return H},s=function(re){var B;return(re="auto"===re?"0px":re).indexOf("em")>-1&&!isNaN(Number(re.replace("em","")))&&(re=18.719*Number(re.replace("em",""))+"px"),re.indexOf("pt")>-1&&!isNaN(Number(re.replace("pt","")))&&(re=1.333*Number(re.replace("pt",""))+"px"),16,(B=l[re])||(void 0!==(B={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[re])||(B=parseFloat(re))?l[re]=B/16:(B=re.match(/([\d\.]+)(px)/),l[re]=Array.isArray(B)&&3===B.length?parseFloat(B[1])/16:1))},d=function(re){var H,E,B,ae,Pe;return Pe=re,ae=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(Pe,null):Pe.currentStyle?Pe.currentStyle:Pe.style,B=function(Pe){return Pe=Pe.replace(/-\D/g,function(je){return je.charAt(1).toUpperCase()}),ae[Pe]},E=void 0,(H={})["font-family"]=o(B("font-family"))||"times",H["font-style"]=C[B("font-style")]||"normal",H["text-align"]=y[B("text-align")]||"left","bold"===(E=h[B("font-weight")]||"normal")&&(H["font-style"]="normal"===H["font-style"]?E:E+H["font-style"]),H["font-size"]=s(B("font-size"))||1,H["line-height"]=s(B("line-height"))||1,H.display="inline"===B("display")?"inline":"block",H["margin-top"]=(E="block"===H.display)&&s(B("margin-top"))||0,H["margin-bottom"]=E&&s(B("margin-bottom"))||0,H["padding-top"]=E&&s(B("padding-top"))||0,H["padding-bottom"]=E&&s(B("padding-bottom"))||0,H["margin-left"]=E&&s(B("margin-left"))||0,H["margin-right"]=E&&s(B("margin-right"))||0,H["padding-left"]=E&&s(B("padding-left"))||0,H["padding-right"]=E&&s(B("padding-right"))||0,H["page-break-before"]=B("page-break-before")||"auto",H.float=v[B("cssFloat")]||"none",H.clear=f[B("clear")]||"none",H.color=B("color"),H},c=function(re,H,E){var B,U,ae,Pe,je;if(ae=!1,U=void 0,Pe=void 0,B=E["#"+re.id])if("function"==typeof B)ae=B(re,H);else for(U=0,Pe=B.length;!ae&&U!==Pe;)ae=B[U](re,H),U++;if(B=E[re.nodeName],!ae&&B)if("function"==typeof B)ae=B(re,H);else for(U=0,Pe=B.length;!ae&&U!==Pe;)ae=B[U](re,H),U++;for(je="string"==typeof re.className?re.className.split(" "):[],U=0;U<je.length;U++)if(B=E["."+je[U]],!ae&&B)if("function"==typeof B)ae=B(re,H);else for(U=0,Pe=B.length;!ae&&U!==Pe;)ae=B[U](re,H),U++;return ae},P=function(re,H){var E,B,U,Pe,je,gt,Ze,xt;E=[],B=[],U=0,xt=0;for(var ae=0;ae<re.rows[0].cells.length;ae++)xt+=re.rows[0].cells[ae].colSpan;for(gt=re.clientWidth;U<xt;){for(Ze=re.rows[0].cells[U],ae=0;ae<Ze.colSpan;ae++)B[U+ae]={name:Ze.textContent.toLowerCase().replace(/\s+/g,"")+"_"+ae,prompt:Ze.textContent.replace(/\r?\n/g,""),width:Ze.clientWidth/gt*H.settings.width/Ze.colSpan};U+=ae}for(U=1;U<re.rows.length;){for(je=re.rows[U],Pe={},ae=0;ae<je.cells.length;)Pe[B[ae].name]=je.cells[ae].textContent.replace(/\r?\n/g,""),ae++;E.push(Pe),U++}return{rows:E,headers:B}};var A={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},k=1;m=function(re,H,E){var B,U,ae,Pe,je,ft,gt,Ze;for(U=re.childNodes,B=void 0,(je="block"===(ae=d(re)).display)&&(H.setBlockBoundary(),H.setBlockStyle(ae)),Pe=0,ft=U.length;Pe<ft;){if("object"==typeof(B=U[Pe])){if(H.executeWatchFunctions(B),1===B.nodeType&&"HEADER"===B.nodeName){var xt=B,Ke=H.pdf.margins_doc.top;H.pdf.internal.events.subscribe("addPage",function(ni){H.y=Ke,m(xt,H,E),H.pdf.margins_doc.top=H.y+10,H.y+=10},!1)}if(8===B.nodeType&&"#comment"===B.nodeName)~B.textContent.indexOf("ADD_PAGE")&&(H.pdf.addPage(),H.y=H.pdf.margins_doc.top);else if(1!==B.nodeType||A[B.nodeName])if(3===B.nodeType){var Br=B.nodeValue;if(B.nodeValue&&"LI"===B.parentNode.nodeName)if("OL"===B.parentNode.parentNode.nodeName)Br=k+++". "+Br;else{var ss=ae["font-size"],as=(3-.75*ss)*H.pdf.internal.scaleFactor,Li=.75*ss*H.pdf.internal.scaleFactor,bs=1.74*ss/H.pdf.internal.scaleFactor;Ze=function(bo,gn){this.pdf.circle(bo+as,gn+Li,bs,"FD")}}16&B.ownerDocument.body.compareDocumentPosition(B)&&H.addText(Br,ae)}else"string"==typeof B&&H.addText(B,ae);else{var tt;if("IMG"===B.nodeName){var Pt=B.getAttribute("src");tt=b[H.pdf.sHashCode&&H.pdf.sHashCode(Pt)||Pt]}if(tt){H.pdf.internal.pageSize.getHeight()-H.pdf.margins_doc.bottom<H.y+B.height&&H.y>H.pdf.margins_doc.top&&(H.pdf.addPage(),H.y=H.pdf.margins_doc.top,H.executeWatchFunctions(B));var Tt=d(B),fn=H.x,nr=12/H.pdf.internal.scaleFactor,rr=(Tt["margin-left"]+Tt["padding-left"])*nr,_r=(Tt["margin-right"]+Tt["padding-right"])*nr,Vi=(Tt["margin-top"]+Tt["padding-top"])*nr,Ci=(Tt["margin-bottom"]+Tt["padding-bottom"])*nr;H.pdf.addImage(tt,fn+=void 0!==Tt.float&&"right"===Tt.float?H.settings.width-B.width-_r:rr,H.y+Vi,B.width,B.height),tt=void 0,"right"===Tt.float||"left"===Tt.float?(H.watchFunctions.push(function(ni,bo,gn,Fs){return H.y>=bo?(H.x+=ni,H.settings.width+=gn,!0):!!(Fs&&1===Fs.nodeType&&!A[Fs.nodeName]&&H.x+Fs.width>H.pdf.margins_doc.left+H.pdf.margins_doc.width)&&(H.x+=ni,H.y=bo,H.settings.width+=gn,!0)}.bind(this,"left"===Tt.float?-B.width-rr-_r:0,H.y+B.height+Vi+Ci,B.width)),H.watchFunctions.push(function(ni,bo,gn){return!(H.y<ni&&bo===H.pdf.internal.getNumberOfPages())||1===gn.nodeType&&"both"===d(gn).clear&&(H.y=ni,!0)}.bind(this,H.y+B.height,H.pdf.internal.getNumberOfPages())),H.settings.width-=B.width+rr+_r,"left"===Tt.float&&(H.x+=B.width+rr+_r)):H.y+=B.height+Vi+Ci}else if("TABLE"===B.nodeName)H.pdf.autoTable?(H.y+=10,H.pdf.autoTable({theme:"grid",html:B,startY:H.y,styles:{font:H.pdf.getFont().fontName,fontSize:H.pdf.getFontSize(),textColor:H.pdf.getTextColor()},margin:{top:H.pdf.margins_doc.top,left:H.x,right:H.pdf.internal.pageSize.getWidth()-(H.x+H.settings.width),bottom:H.pdf.margins_doc.bottom}}),H.y=H.pdf.lastAutoTable.finalY):(gt=P(B,H),H.y+=10,H.pdf.table(H.x,H.y,gt.rows,gt.headers,{autoSize:!1,printHeaders:E.printHeaders,margins:H.pdf.margins_doc,css:d(B)}),H.y=H.pdf.internal.__cell__.lastCell.y+H.pdf.internal.__cell__.lastCell.height);else if("OL"===B.nodeName||"UL"===B.nodeName)k=1,c(B,H,E)||m(B,H,E),H.y+=10;else if("LI"===B.nodeName){var Hi=H.x;H.x+=20/H.pdf.internal.scaleFactor,H.y+=3,c(B,H,E)||m(B,H,E),H.x=Hi}else"BR"===B.nodeName?(H.y+=ae["font-size"]*H.pdf.internal.scaleFactor,H.addText("\u2028",L(ae))):c(B,H,E)||m(B,H,E)}}Pe++}if(E.outY=H.y,je)return H.setBlockBoundary(Ze)},b={},M=function(re,H,E,B){var Pe,U=re.getElementsByTagName("img"),ae=U.length,je=0;function ft(){H.pdf.internal.events.publish("imagesLoaded"),B(Pe)}function gt(Ze,xt,Ke){if(Ze){var tt=new Image;Pe=++je,tt.crossOrigin="",tt.onerror=tt.onload=function(){if(tt.complete&&(0===tt.src.indexOf("data:image/")&&(tt.width=xt||tt.width||0,tt.height=Ke||tt.height||0),tt.width+tt.height)){var Pt=H.pdf.sHashCode&&H.pdf.sHashCode(Ze)||Ze;b[Pt]=b[Pt]||tt}--je||ft()},tt.src=Ze}}for(;ae--;)gt(U[ae].getAttribute("src"),U[ae].width,U[ae].height);return je||ft()},D=function(re,H,E){var B=re.getElementsByTagName("footer");if(B.length>0){B=B[0];var U=H.pdf.internal.write,ae=H.y;H.pdf.internal.write=function(){},m(B,H,E);var Pe=Math.ceil(H.y-ae)+5;H.y=ae,H.pdf.internal.write=U,H.pdf.margins_doc.bottom+=Pe;for(var je=function(xt){var Ke=void 0!==xt?xt.pageNumber:1,tt=H.y;H.y=H.pdf.internal.pageSize.getHeight()-H.pdf.margins_doc.bottom,H.pdf.margins_doc.bottom-=Pe;for(var Pt=B.getElementsByTagName("span"),Tt=0;Tt<Pt.length;++Tt)(" "+Pt[Tt].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")>-1&&(Pt[Tt].innerHTML=Ke),(" "+Pt[Tt].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&(Pt[Tt].innerHTML="###jsPDFVarTotalPages###");m(B,H,E),H.pdf.margins_doc.bottom+=Pe,H.y=tt},ft=B.getElementsByTagName("span"),gt=0;gt<ft.length;++gt)(" "+ft[gt].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&H.pdf.internal.events.subscribe("htmlRenderingFinished",H.pdf.putTotalPages.bind(H.pdf,"###jsPDFVarTotalPages###"),!0);H.pdf.internal.events.subscribe("addPage",je,!1),je(),A.FOOTER=1}},g=function(re,H,E,B,U,ae){if(!H)return!1;var Ke,tt,Pt,Tt;"string"!=typeof H&&!H.parentNode&&(H=""+H.innerHTML),"string"==typeof H&&(Ke=H.replace(/<\/?script[^>]*?>/gi,""),Tt="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),"position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",(Pt=document.createElement("div")).style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",Pt.innerHTML='<iframe style="height:1px;width:1px" name="'+Tt+'" />',document.body.appendChild(Pt),(tt=window.frames[Tt]).document.open(),tt.document.writeln(Ke),tt.document.close(),H=tt.document.body);for(var Pe=Object.keys(re.getFontList()),je=0;je<Pe.length;++je){var ft=Pe[je],gt=ft.toLowerCase();T[gt]||(T[gt]=ft)}var xt,Ze=new a(re,E,B,U);return M.call(this,H,Ze,U.elementHandlers,function(Ke){D(H,Ze,U.elementHandlers),m(H,Ze,U.elementHandlers),Ze.pdf.internal.events.publish("htmlRenderingFinished"),xt=Ze.dispose(),"function"==typeof ae?ae(xt):Ke&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")}),xt||{x:Ze.x,y:Ze.y}},(a=function(re,H,E,B){return this.pdf=re,this.x=H,this.y=E,this.settings=B,this.watchFunctions=[],this.init(),this}).prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},a.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},a.prototype.executeWatchFunctions=function(Z){var re=!1,H=[];if(this.watchFunctions.length>0){for(var E=0;E<this.watchFunctions.length;++E)!0===this.watchFunctions[E](Z)?re=!0:H.push(this.watchFunctions[E]);this.watchFunctions=H}return re},a.prototype.splitFragmentsIntoLines=function(Z,re){var H,B,U,ae,Pe,je,ft,gt,Ze,xt,Ke,tt,Pt,Tt;for(12,xt=this.pdf.internal.scaleFactor,ae={},B=void 0,Ze=void 0,U=void 0,Pe=void 0,Tt=void 0,gt=void 0,ft=void 0,je=void 0,tt=[Ke=[]],H=0,Pt=this.settings.width;Z.length;)if(Pe=Z.shift(),Tt=re.shift(),Pe)if((U=ae[(B=Tt["font-family"])+(Ze=Tt["font-style"])])||(U=this.pdf.internal.getFont(B,Ze).metadata.Unicode,ae[B+Ze]=U),ft=this.pdf.getStringUnitWidth(Pe,gt={widths:U.widths,kerning:U.kerning,fontSize:12*Tt["font-size"],textIndent:H})*gt.fontSize/xt,"\u2028"==Pe)tt.push(Ke=[]);else if(H+ft>Pt){for(je=this.pdf.splitTextToSize(Pe,Pt,gt),Ke.push([je.shift(),Tt]);je.length;)Ke=[[je.shift(),Tt]],tt.push(Ke);H=this.pdf.getStringUnitWidth(Ke[0][0],gt)*gt.fontSize/xt}else Ke.push([Pe,Tt]),H+=ft;if(void 0!==Tt["text-align"]&&("center"===Tt["text-align"]||"right"===Tt["text-align"]||"justify"===Tt["text-align"]))for(var fn=0;fn<tt.length;++fn){var nr=this.pdf.getStringUnitWidth(tt[fn][0][0],gt)*gt.fontSize/xt;fn>0&&(tt[fn][0][1]=L(tt[fn][0][1]));var rr=Pt-nr;if("right"===Tt["text-align"])tt[fn][0][1]["margin-left"]=rr;else if("center"===Tt["text-align"])tt[fn][0][1]["margin-left"]=rr/2;else if("justify"===Tt["text-align"]){var _r=tt[fn][0][0].split(" ").length-1;tt[fn][0][1]["word-spacing"]=rr/_r,fn===tt.length-1&&(tt[fn][0][1]["word-spacing"]=0)}}return tt},a.prototype.RenderTextFragment=function(Z,re){var E,B;if(B=0,12,this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()){this.pdf.internal.write("ET","Q","Q");const ft=this.pdf.getCurrentPageInfo().pageNumber;this.pdf.getNumberOfPages()===ft?this.pdf.addPage():this.pdf.setPage(ft+1),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","q","BT",this.getPdfColor(re.color),this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),B=Math.max(B,re["line-height"],re["font-size"]),this.pdf.internal.write(0,(-12*B).toFixed(2),"Td")}E=this.pdf.internal.getFont(re["font-family"],re["font-style"]);var U=this.getPdfColor(re.color);U!==this.lastTextColor&&(this.pdf.internal.write(U),this.lastTextColor=U),void 0!==re["word-spacing"]&&re["word-spacing"]>0&&this.pdf.internal.write(re["word-spacing"].toFixed(2),"Tw");var je;je="Identity-H"!==E.encoding?"("+this.pdf.internal.pdfEscape(Z)+")":"<"+function(Ze,gt){Ze=Ze||"";var tt,xt="",Ke=0,Pt="",Tt=gt.encoding;if("Identity-H"!==gt.encoding)return Ze;for(Pt=Ze,Ke=0;Ke<Pt.length;Ke+=1)gt.metadata.hasOwnProperty("cmap")&&(tt=gt.metadata.cmap.unicode.codeMap[Pt[Ke].charCodeAt(0)]),tt||Pt[Ke].charCodeAt(0)<256&&gt.metadata.hasOwnProperty("Unicode")?xt+=Pt[Ke]:xt+="";var fn="";return parseInt(gt.id.slice(1))<14||"WinAnsiEncoding"===Tt?fn=this.pdf.internal.pdfEscape(xt,key).split("").map(function(nr){return nr.charCodeAt(0).toString(16)}).join(""):"Identity-H"===Tt&&(fn=function(ft,gt){for(var Tt,Ze=gt.metadata.Unicode.widths,xt=["","0","00","000","0000"],Ke=[""],tt=0,Pt=ft.length;tt<Pt;++tt){if(Tt=gt.metadata.characterToGlyph(ft.charCodeAt(tt)),gt.metadata.glyIdsUsed.push(Tt),gt.metadata.toUnicode[Tt]=ft.charCodeAt(tt),-1==Ze.indexOf(Tt)&&(Ze.push(Tt),Ze.push([parseInt(gt.metadata.widthOfGlyph(Tt),10)])),"0"==Tt)return Ke.join("");Tt=Tt.toString(16),Ke.push(xt[4-Tt.length],Tt)}return Ke.join("")}(xt,gt)),fn}(Z,E)+">",this.pdf.internal.write("/"+E.id,(12*re["font-size"]).toFixed(2),"Tf",je+" Tj"),void 0!==re["word-spacing"]&&this.pdf.internal.write(0,"Tw")},a.prototype.getPdfColor=function(Z){var H,E,B,ae=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(Z);if(null!=ae)H=parseInt(ae[1]),E=parseInt(ae[2]),B=parseInt(ae[3]);else{if("string"==typeof Z&&"#"!=Z.charAt(0)){var Pe=new RGBColor(Z);Z=Pe.ok?Pe.toHex():"#000000"}H=Z.substring(1,3),H=parseInt(H,16),E=Z.substring(3,5),E=parseInt(E,16),B=Z.substring(5,7),B=parseInt(B,16)}if("string"==typeof H&&/^#[0-9A-Fa-f]{6}$/.test(H)){var je=parseInt(H.substr(1),16);H=je>>16&255,E=je>>8&255,B=255&je}var ft=this.f3;return 0===H&&0===E&&0===B||void 0===E?ft(H/255)+" g":[ft(H/255),ft(E/255),ft(B/255),"rg"].join(" ")},a.prototype.f3=function(Z){return Z.toFixed(3)},a.prototype.renderParagraph=function(Z){var re,E,B,U,ae,Pe,je,ft,gt,Ze,xt,tt,Pt;if(B=u(this.paragraph.text),tt=this.paragraph.style,this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:re=this.paragraph.blockstyle},B.join("").trim()){je=this.splitFragmentsIntoLines(B,tt),Pe=void 0,ft=void 0,E=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,xt=(Math.max((re["margin-top"]||0)-this.priorMarginBottom,0)+(re["padding-top"]||0))*E,Ze=((re["margin-bottom"]||0)+(re["padding-bottom"]||0))*E,this.priorMarginBottom=re["margin-bottom"]||0,"always"===re["page-break-before"]&&(this.pdf.addPage(),this.y=0,xt=((re["margin-top"]||0)+(re["padding-top"]||0))*E),gt=this.pdf.internal.write,U=void 0,ae=void 0,this.y+=xt,gt("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var Tt=0;je.length;){for(ft=0,U=0,ae=(Pe=je.shift()).length;U!==ae;)Pe[U][0].trim()&&(ft=Math.max(ft,Pe[U][1]["line-height"],Pe[U][1]["font-size"]),Pt=7*Pe[U][1]["font-size"]),U++;var fn=0,nr=0;for(void 0!==Pe[0][1]["margin-left"]&&Pe[0][1]["margin-left"]>0&&(fn=(nr=this.pdf.internal.getCoordinateString(Pe[0][1]["margin-left"]))-Tt,Tt=nr),gt(fn+Math.max(re["margin-left"]||0,0)*E,(-12*ft).toFixed(2),"Td"),U=0,ae=Pe.length;U!==ae;)Pe[U][0]&&this.RenderTextFragment(Pe[U][0],Pe[U][1]),U++;if(this.y+=ft*E,this.executeWatchFunctions(Pe[0][1])&&je.length>0){var _r=[],Vi=[];je.forEach(function(Ci){for(var Hi=0,Br=Ci.length;Hi!==Br;)Ci[Hi][0]&&(_r.push(Ci[Hi][0]+" "),Vi.push(Ci[Hi][1])),++Hi}),je=this.splitFragmentsIntoLines(u(_r),Vi),gt("ET","Q"),gt("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return Z&&"function"==typeof Z&&Z.call(this,this.x-9,this.y-Pt/2),gt("ET","Q"),this.y+=Ze}},a.prototype.setBlockBoundary=function(Z){return this.renderParagraph(Z)},a.prototype.setBlockStyle=function(Z){return this.paragraph.blockstyle=Z},a.prototype.addText=function(Z,re){return this.paragraph.text.push(Z),this.paragraph.style.push(re)},T={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},h={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},C={normal:"normal",italic:"italic",oblique:"italic"},y={left:"left",right:"right",center:"center",justify:"justify"},v={none:"none",right:"right",left:"left"},f={none:"none",both:"both"},l={normal:1},R.fromHTML=function(Z,re,H,E,B,U){return this.margins_doc=U||{top:0,bottom:0},E||(E={}),E.elementHandlers||(E.elementHandlers={}),g(this,Z,isNaN(re)?4:re,isNaN(H)?4:H,E,B)}}(w(17).jsPDF.API)}]))}},hc=>{hc(hc.s=5957)}]);